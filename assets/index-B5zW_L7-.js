var _S=Object.defineProperty;var yS=(t,e,n)=>e in t?_S(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var L=(t,e,n)=>yS(t,typeof e!="symbol"?e+"":e,n);function Xy(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function qy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jy={exports:{}},Vc={},Zy={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ga=Symbol.for("react.element"),vS=Symbol.for("react.portal"),xS=Symbol.for("react.fragment"),wS=Symbol.for("react.strict_mode"),bS=Symbol.for("react.profiler"),SS=Symbol.for("react.provider"),CS=Symbol.for("react.context"),ES=Symbol.for("react.forward_ref"),kS=Symbol.for("react.suspense"),TS=Symbol.for("react.memo"),PS=Symbol.for("react.lazy"),lg=Symbol.iterator;function MS(t){return t===null||typeof t!="object"?null:(t=lg&&t[lg]||t["@@iterator"],typeof t=="function"?t:null)}var ev={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tv=Object.assign,nv={};function Cs(t,e,n){this.props=t,this.context=e,this.refs=nv,this.updater=n||ev}Cs.prototype.isReactComponent={};Cs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iv(){}iv.prototype=Cs.prototype;function Zd(t,e,n){this.props=t,this.context=e,this.refs=nv,this.updater=n||ev}var ef=Zd.prototype=new iv;ef.constructor=Zd;tv(ef,Cs.prototype);ef.isPureReactComponent=!0;var cg=Array.isArray,rv=Object.prototype.hasOwnProperty,tf={current:null},sv={key:!0,ref:!0,__self:!0,__source:!0};function ov(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rv.call(e,i)&&!sv.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:ga,type:t,key:s,ref:o,props:r,_owner:tf.current}}function RS(t,e){return{$$typeof:ga,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ga}function IS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ug=/\/+/g;function Su(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IS(""+t.key):e.toString(36)}function xl(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ga:case vS:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Su(o,0):i,cg(r)?(n="",t!=null&&(n=t.replace(ug,"$&/")+"/"),xl(r,e,n,"",function(c){return c})):r!=null&&(nf(r)&&(r=RS(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(ug,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",cg(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Su(s,a);o+=xl(s,e,n,l,r)}else if(l=MS(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Su(s,a++),o+=xl(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ja(t,e,n){if(t==null)return t;var i=[],r=0;return xl(t,i,"","",function(s){return e.call(n,s,r++)}),i}function DS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Et={current:null},wl={transition:null},NS={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:wl,ReactCurrentOwner:tf};function av(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:ja,forEach:function(t,e,n){ja(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ja(t,function(){e++}),e},toArray:function(t){return ja(t,function(e){return e})||[]},only:function(t){if(!nf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=Cs;ie.Fragment=xS;ie.Profiler=bS;ie.PureComponent=Zd;ie.StrictMode=wS;ie.Suspense=kS;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NS;ie.act=av;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=tv({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=tf.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)rv.call(e,l)&&!sv.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:ga,type:t.type,key:r,ref:s,props:i,_owner:o}};ie.createContext=function(t){return t={$$typeof:CS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:SS,_context:t},t.Consumer=t};ie.createElement=ov;ie.createFactory=function(t){var e=ov.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:ES,render:t}};ie.isValidElement=nf;ie.lazy=function(t){return{$$typeof:PS,_payload:{_status:-1,_result:t},_init:DS}};ie.memo=function(t,e){return{$$typeof:TS,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=wl.transition;wl.transition={};try{t()}finally{wl.transition=e}};ie.unstable_act=av;ie.useCallback=function(t,e){return Et.current.useCallback(t,e)};ie.useContext=function(t){return Et.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return Et.current.useDeferredValue(t)};ie.useEffect=function(t,e){return Et.current.useEffect(t,e)};ie.useId=function(){return Et.current.useId()};ie.useImperativeHandle=function(t,e,n){return Et.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return Et.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return Et.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return Et.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return Et.current.useReducer(t,e,n)};ie.useRef=function(t){return Et.current.useRef(t)};ie.useState=function(t){return Et.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return Et.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return Et.current.useTransition()};ie.version="18.3.1";Zy.exports=ie;var R=Zy.exports;const OS=qy(R),LS=Xy({__proto__:null,default:OS},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AS=R,FS=Symbol.for("react.element"),zS=Symbol.for("react.fragment"),BS=Object.prototype.hasOwnProperty,jS=AS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WS={key:!0,ref:!0,__self:!0,__source:!0};function lv(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)BS.call(e,i)&&!WS.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:FS,type:t,key:s,ref:o,props:r,_owner:jS.current}}Vc.Fragment=zS;Vc.jsx=lv;Vc.jsxs=lv;Jy.exports=Vc;var U=Jy.exports,cv={exports:{}},$t={},uv={exports:{}},hv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,j){var K=O.length;O.push(j);e:for(;0<K;){var re=K-1>>>1,fe=O[re];if(0<r(fe,j))O[re]=j,O[K]=fe,K=re;else break e}}function n(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var j=O[0],K=O.pop();if(K!==j){O[0]=K;e:for(var re=0,fe=O.length,dt=fe>>>1;re<dt;){var ke=2*(re+1)-1,ot=O[ke],Ae=ke+1,En=O[Ae];if(0>r(ot,K))Ae<fe&&0>r(En,ot)?(O[re]=En,O[Ae]=K,re=Ae):(O[re]=ot,O[ke]=K,re=ke);else if(Ae<fe&&0>r(En,K))O[re]=En,O[Ae]=K,re=Ae;else break e}}return j}function r(O,j){var K=O.sortIndex-j.sortIndex;return K!==0?K:O.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var j=n(c);j!==null;){if(j.callback===null)i(c);else if(j.startTime<=O)i(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function w(O){if(m=!1,y(O),!p)if(n(l)!==null)p=!0,ce(S);else{var j=n(c);j!==null&&X(w,j.startTime-O)}}function S(O,j){p=!1,m&&(m=!1,_(C),C=-1),f=!0;var K=d;try{for(y(j),h=n(l);h!==null&&(!(h.expirationTime>j)||O&&!A());){var re=h.callback;if(typeof re=="function"){h.callback=null,d=h.priorityLevel;var fe=re(h.expirationTime<=j);j=t.unstable_now(),typeof fe=="function"?h.callback=fe:h===n(l)&&i(l),y(j)}else i(l);h=n(l)}if(h!==null)var dt=!0;else{var ke=n(c);ke!==null&&X(w,ke.startTime-j),dt=!1}return dt}finally{h=null,d=K,f=!1}}var x=!1,k=null,C=-1,P=5,M=-1;function A(){return!(t.unstable_now()-M<P)}function H(){if(k!==null){var O=t.unstable_now();M=O;var j=!0;try{j=k(!0,O)}finally{j?J():(x=!1,k=null)}}else x=!1}var J;if(typeof g=="function")J=function(){g(H)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,te=le.port2;le.port1.onmessage=H,J=function(){te.postMessage(null)}}else J=function(){v(H,0)};function ce(O){k=O,x||(x=!0,J())}function X(O,j){C=v(function(){O(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,ce(S))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var K=d;d=j;try{return O()}finally{d=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,j){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var K=d;d=O;try{return j()}finally{d=K}},t.unstable_scheduleCallback=function(O,j,K){var re=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?re+K:re):K=re,O){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=K+fe,O={id:u++,callback:j,priorityLevel:O,startTime:K,expirationTime:fe,sortIndex:-1},K>re?(O.sortIndex=K,e(c,O),n(l)===null&&O===n(c)&&(m?(_(C),C=-1):m=!0,X(w,K-re))):(O.sortIndex=fe,e(l,O),p||f||(p=!0,ce(S))),O},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(O){var j=d;return function(){var K=d;d=j;try{return O.apply(this,arguments)}finally{d=K}}}})(hv);uv.exports=hv;var VS=uv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HS=R,Ut=VS;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dv=new Set,Do={};function Er(t,e){ls(t,e),ls(t+"Capture",e)}function ls(t,e){for(Do[t]=e,t=0;t<e.length;t++)dv.add(e[t])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sh=Object.prototype.hasOwnProperty,US=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hg={},dg={};function $S(t){return Sh.call(dg,t)?!0:Sh.call(hg,t)?!1:US.test(t)?dg[t]=!0:(hg[t]=!0,!1)}function YS(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KS(t,e,n,i){if(e===null||typeof e>"u"||YS(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var rf=/[\-:]([a-z])/g;function sf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rf,sf);ht[e]=new kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rf,sf);ht[e]=new kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rf,sf);ht[e]=new kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new kt(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function of(t,e,n,i){var r=ht.hasOwnProperty(e)?ht[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KS(e,n,r,i)&&(n=null),i||r===null?$S(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var qn=HS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wa=Symbol.for("react.element"),zr=Symbol.for("react.portal"),Br=Symbol.for("react.fragment"),af=Symbol.for("react.strict_mode"),Ch=Symbol.for("react.profiler"),fv=Symbol.for("react.provider"),pv=Symbol.for("react.context"),lf=Symbol.for("react.forward_ref"),Eh=Symbol.for("react.suspense"),kh=Symbol.for("react.suspense_list"),cf=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),gv=Symbol.for("react.offscreen"),fg=Symbol.iterator;function Ls(t){return t===null||typeof t!="object"?null:(t=fg&&t[fg]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,Cu;function to(t){if(Cu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cu=e&&e[1]||""}return`
`+Cu+t}var Eu=!1;function ku(t,e){if(!t||Eu)return"";Eu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Eu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?to(t):""}function GS(t){switch(t.tag){case 5:return to(t.type);case 16:return to("Lazy");case 13:return to("Suspense");case 19:return to("SuspenseList");case 0:case 2:case 15:return t=ku(t.type,!1),t;case 11:return t=ku(t.type.render,!1),t;case 1:return t=ku(t.type,!0),t;default:return""}}function Th(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Br:return"Fragment";case zr:return"Portal";case Ch:return"Profiler";case af:return"StrictMode";case Eh:return"Suspense";case kh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pv:return(t.displayName||"Context")+".Consumer";case fv:return(t._context.displayName||"Context")+".Provider";case lf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cf:return e=t.displayName||null,e!==null?e:Th(t.type)||"Memo";case ri:e=t._payload,t=t._init;try{return Th(t(e))}catch{}}return null}function QS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Th(e);case 8:return e===af?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Pi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XS(t){var e=mv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Va(t){t._valueTracker||(t._valueTracker=XS(t))}function _v(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=mv(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Hl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ph(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function pg(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Pi(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yv(t,e){e=e.checked,e!=null&&of(t,"checked",e,!1)}function Mh(t,e){yv(t,e);var n=Pi(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rh(t,e.type,Pi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rh(t,e,n){(e!=="number"||Hl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var no=Array.isArray;function Jr(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Pi(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Ih(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(no(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pi(n)}}function vv(t,e){var n=Pi(e.value),i=Pi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function _g(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ha,wv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ha=Ha||document.createElement("div"),Ha.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ha.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function No(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qS=["Webkit","ms","Moz","O"];Object.keys(fo).forEach(function(t){qS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fo[e]=fo[t]})});function bv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fo.hasOwnProperty(t)&&fo[t]?(""+e).trim():e+"px"}function Sv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=bv(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var JS=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nh(t,e){if(e){if(JS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function Oh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lh=null;function uf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ah=null,Zr=null,es=null;function yg(t){if(t=ya(t)){if(typeof Ah!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Kc(e),Ah(t.stateNode,t.type,e))}}function Cv(t){Zr?es?es.push(t):es=[t]:Zr=t}function Ev(){if(Zr){var t=Zr,e=es;if(es=Zr=null,yg(t),e)for(t=0;t<e.length;t++)yg(e[t])}}function kv(t,e){return t(e)}function Tv(){}var Tu=!1;function Pv(t,e,n){if(Tu)return t(e,n);Tu=!0;try{return kv(t,e,n)}finally{Tu=!1,(Zr!==null||es!==null)&&(Tv(),Ev())}}function Oo(t,e){var n=t.stateNode;if(n===null)return null;var i=Kc(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var Fh=!1;if(Un)try{var As={};Object.defineProperty(As,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Fh=!1}function ZS(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var po=!1,Ul=null,$l=!1,zh=null,e1={onError:function(t){po=!0,Ul=t}};function t1(t,e,n,i,r,s,o,a,l){po=!1,Ul=null,ZS.apply(e1,arguments)}function n1(t,e,n,i,r,s,o,a,l){if(t1.apply(this,arguments),po){if(po){var c=Ul;po=!1,Ul=null}else throw Error(D(198));$l||($l=!0,zh=c)}}function kr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Mv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vg(t){if(kr(t)!==t)throw Error(D(188))}function i1(t){var e=t.alternate;if(!e){if(e=kr(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return vg(r),t;if(s===i)return vg(r),e;s=s.sibling}throw Error(D(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==i)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function Rv(t){return t=i1(t),t!==null?Iv(t):null}function Iv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Iv(t);if(e!==null)return e;t=t.sibling}return null}var Dv=Ut.unstable_scheduleCallback,xg=Ut.unstable_cancelCallback,r1=Ut.unstable_shouldYield,s1=Ut.unstable_requestPaint,$e=Ut.unstable_now,o1=Ut.unstable_getCurrentPriorityLevel,hf=Ut.unstable_ImmediatePriority,Nv=Ut.unstable_UserBlockingPriority,Yl=Ut.unstable_NormalPriority,a1=Ut.unstable_LowPriority,Ov=Ut.unstable_IdlePriority,Hc=null,bn=null;function l1(t){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Hc,t,void 0,(t.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:h1,c1=Math.log,u1=Math.LN2;function h1(t){return t>>>=0,t===0?32:31-(c1(t)/u1|0)|0}var Ua=64,$a=4194304;function io(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kl(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=io(a):(s&=o,s!==0&&(i=io(s)))}else o=n&~r,o!==0?i=io(o):s!==0&&(i=io(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-un(e),r=1<<n,i|=t[n],e&=~r;return i}function d1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f1(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-un(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=d1(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Bh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lv(){var t=Ua;return Ua<<=1,!(Ua&4194240)&&(Ua=64),t}function Pu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ma(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-un(e),t[e]=n}function p1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-un(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function df(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-un(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var ye=0;function Av(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Fv,ff,zv,Bv,jv,jh=!1,Ya=[],gi=null,mi=null,_i=null,Lo=new Map,Ao=new Map,oi=[],g1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wg(t,e){switch(t){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":Lo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(e.pointerId)}}function Fs(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=ya(e),e!==null&&ff(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function m1(t,e,n,i,r){switch(e){case"focusin":return gi=Fs(gi,t,e,n,i,r),!0;case"dragenter":return mi=Fs(mi,t,e,n,i,r),!0;case"mouseover":return _i=Fs(_i,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Lo.set(s,Fs(Lo.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ao.set(s,Fs(Ao.get(s)||null,t,e,n,i,r)),!0}return!1}function Wv(t){var e=rr(t.target);if(e!==null){var n=kr(e);if(n!==null){if(e=n.tag,e===13){if(e=Mv(n),e!==null){t.blockedOn=e,jv(t.priority,function(){zv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Wh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Lh=i,n.target.dispatchEvent(i),Lh=null}else return e=ya(n),e!==null&&ff(e),t.blockedOn=n,!1;e.shift()}return!0}function bg(t,e,n){bl(t)&&n.delete(e)}function _1(){jh=!1,gi!==null&&bl(gi)&&(gi=null),mi!==null&&bl(mi)&&(mi=null),_i!==null&&bl(_i)&&(_i=null),Lo.forEach(bg),Ao.forEach(bg)}function zs(t,e){t.blockedOn===e&&(t.blockedOn=null,jh||(jh=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,_1)))}function Fo(t){function e(r){return zs(r,t)}if(0<Ya.length){zs(Ya[0],t);for(var n=1;n<Ya.length;n++){var i=Ya[n];i.blockedOn===t&&(i.blockedOn=null)}}for(gi!==null&&zs(gi,t),mi!==null&&zs(mi,t),_i!==null&&zs(_i,t),Lo.forEach(e),Ao.forEach(e),n=0;n<oi.length;n++)i=oi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<oi.length&&(n=oi[0],n.blockedOn===null);)Wv(n),n.blockedOn===null&&oi.shift()}var ts=qn.ReactCurrentBatchConfig,Gl=!0;function y1(t,e,n,i){var r=ye,s=ts.transition;ts.transition=null;try{ye=1,pf(t,e,n,i)}finally{ye=r,ts.transition=s}}function v1(t,e,n,i){var r=ye,s=ts.transition;ts.transition=null;try{ye=4,pf(t,e,n,i)}finally{ye=r,ts.transition=s}}function pf(t,e,n,i){if(Gl){var r=Wh(t,e,n,i);if(r===null)zu(t,e,i,Ql,n),wg(t,i);else if(m1(r,t,e,n,i))i.stopPropagation();else if(wg(t,i),e&4&&-1<g1.indexOf(t)){for(;r!==null;){var s=ya(r);if(s!==null&&Fv(s),s=Wh(t,e,n,i),s===null&&zu(t,e,i,Ql,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else zu(t,e,i,null,n)}}var Ql=null;function Wh(t,e,n,i){if(Ql=null,t=uf(i),t=rr(t),t!==null)if(e=kr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Mv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ql=t,null}function Vv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o1()){case hf:return 1;case Nv:return 4;case Yl:case a1:return 16;case Ov:return 536870912;default:return 16}default:return 16}}var li=null,gf=null,Sl=null;function Hv(){if(Sl)return Sl;var t,e=gf,n=e.length,i,r="value"in li?li.value:li.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Sl=r.slice(t,1<i?1-i:void 0)}function Cl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ka(){return!0}function Sg(){return!1}function Yt(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ka:Sg,this.isPropagationStopped=Sg,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ka)},persist:function(){},isPersistent:Ka}),e}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mf=Yt(Es),_a=Be({},Es,{view:0,detail:0}),x1=Yt(_a),Mu,Ru,Bs,Uc=Be({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_f,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bs&&(Bs&&t.type==="mousemove"?(Mu=t.screenX-Bs.screenX,Ru=t.screenY-Bs.screenY):Ru=Mu=0,Bs=t),Mu)},movementY:function(t){return"movementY"in t?t.movementY:Ru}}),Cg=Yt(Uc),w1=Be({},Uc,{dataTransfer:0}),b1=Yt(w1),S1=Be({},_a,{relatedTarget:0}),Iu=Yt(S1),C1=Be({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),E1=Yt(C1),k1=Be({},Es,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),T1=Yt(k1),P1=Be({},Es,{data:0}),Eg=Yt(P1),M1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=I1[t])?!!e[t]:!1}function _f(){return D1}var N1=Be({},_a,{key:function(t){if(t.key){var e=M1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?R1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_f,charCode:function(t){return t.type==="keypress"?Cl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),O1=Yt(N1),L1=Be({},Uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kg=Yt(L1),A1=Be({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_f}),F1=Yt(A1),z1=Be({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),B1=Yt(z1),j1=Be({},Uc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W1=Yt(j1),V1=[9,13,27,32],yf=Un&&"CompositionEvent"in window,go=null;Un&&"documentMode"in document&&(go=document.documentMode);var H1=Un&&"TextEvent"in window&&!go,Uv=Un&&(!yf||go&&8<go&&11>=go),Tg=" ",Pg=!1;function $v(t,e){switch(t){case"keyup":return V1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jr=!1;function U1(t,e){switch(t){case"compositionend":return Yv(e);case"keypress":return e.which!==32?null:(Pg=!0,Tg);case"textInput":return t=e.data,t===Tg&&Pg?null:t;default:return null}}function $1(t,e){if(jr)return t==="compositionend"||!yf&&$v(t,e)?(t=Hv(),Sl=gf=li=null,jr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Uv&&e.locale!=="ko"?null:e.data;default:return null}}var Y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y1[t.type]:e==="textarea"}function Kv(t,e,n,i){Cv(i),e=Xl(e,"onChange"),0<e.length&&(n=new mf("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var mo=null,zo=null;function K1(t){r0(t,0)}function $c(t){var e=Hr(t);if(_v(e))return t}function G1(t,e){if(t==="change")return e}var Gv=!1;if(Un){var Du;if(Un){var Nu="oninput"in document;if(!Nu){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Nu=typeof Rg.oninput=="function"}Du=Nu}else Du=!1;Gv=Du&&(!document.documentMode||9<document.documentMode)}function Ig(){mo&&(mo.detachEvent("onpropertychange",Qv),zo=mo=null)}function Qv(t){if(t.propertyName==="value"&&$c(zo)){var e=[];Kv(e,zo,t,uf(t)),Pv(K1,e)}}function Q1(t,e,n){t==="focusin"?(Ig(),mo=e,zo=n,mo.attachEvent("onpropertychange",Qv)):t==="focusout"&&Ig()}function X1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $c(zo)}function q1(t,e){if(t==="click")return $c(e)}function J1(t,e){if(t==="input"||t==="change")return $c(e)}function Z1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pn=typeof Object.is=="function"?Object.is:Z1;function Bo(t,e){if(pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Sh.call(e,r)||!pn(t[r],e[r]))return!1}return!0}function Dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ng(t,e){var n=Dg(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dg(n)}}function Xv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qv(){for(var t=window,e=Hl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hl(t.document)}return e}function vf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eC(t){var e=qv(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Xv(n.ownerDocument.documentElement,n)){if(i!==null&&vf(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=Ng(n,s);var o=Ng(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tC=Un&&"documentMode"in document&&11>=document.documentMode,Wr=null,Vh=null,_o=null,Hh=!1;function Og(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hh||Wr==null||Wr!==Hl(i)||(i=Wr,"selectionStart"in i&&vf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),_o&&Bo(_o,i)||(_o=i,i=Xl(Vh,"onSelect"),0<i.length&&(e=new mf("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Wr)))}function Ga(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vr={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},Ou={},Jv={};Un&&(Jv=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function Yc(t){if(Ou[t])return Ou[t];if(!Vr[t])return t;var e=Vr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Jv)return Ou[t]=e[n];return t}var Zv=Yc("animationend"),e0=Yc("animationiteration"),t0=Yc("animationstart"),n0=Yc("transitionend"),i0=new Map,Lg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(t,e){i0.set(t,e),Er(e,[t])}for(var Lu=0;Lu<Lg.length;Lu++){var Au=Lg[Lu],nC=Au.toLowerCase(),iC=Au[0].toUpperCase()+Au.slice(1);Li(nC,"on"+iC)}Li(Zv,"onAnimationEnd");Li(e0,"onAnimationIteration");Li(t0,"onAnimationStart");Li("dblclick","onDoubleClick");Li("focusin","onFocus");Li("focusout","onBlur");Li(n0,"onTransitionEnd");ls("onMouseEnter",["mouseout","mouseover"]);ls("onMouseLeave",["mouseout","mouseover"]);ls("onPointerEnter",["pointerout","pointerover"]);ls("onPointerLeave",["pointerout","pointerover"]);Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Er("onBeforeInput",["compositionend","keypress","textInput","paste"]);Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ro));function Ag(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,n1(i,e,void 0,t),t.currentTarget=null}function r0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;Ag(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;Ag(r,a,c),s=l}}}if($l)throw t=zh,$l=!1,zh=null,t}function Te(t,e){var n=e[Gh];n===void 0&&(n=e[Gh]=new Set);var i=t+"__bubble";n.has(i)||(s0(e,t,2,!1),n.add(i))}function Fu(t,e,n){var i=0;e&&(i|=4),s0(n,t,i,e)}var Qa="_reactListening"+Math.random().toString(36).slice(2);function jo(t){if(!t[Qa]){t[Qa]=!0,dv.forEach(function(n){n!=="selectionchange"&&(rC.has(n)||Fu(n,!1,t),Fu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qa]||(e[Qa]=!0,Fu("selectionchange",!1,e))}}function s0(t,e,n,i){switch(Vv(e)){case 1:var r=y1;break;case 4:r=v1;break;default:r=pf}n=r.bind(null,e,n,t),r=void 0,!Fh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function zu(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=rr(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}Pv(function(){var c=s,u=uf(n),h=[];e:{var d=i0.get(t);if(d!==void 0){var f=mf,p=t;switch(t){case"keypress":if(Cl(n)===0)break e;case"keydown":case"keyup":f=O1;break;case"focusin":p="focus",f=Iu;break;case"focusout":p="blur",f=Iu;break;case"beforeblur":case"afterblur":f=Iu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Cg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=b1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=F1;break;case Zv:case e0:case t0:f=E1;break;case n0:f=B1;break;case"scroll":f=x1;break;case"wheel":f=W1;break;case"copy":case"cut":case"paste":f=T1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=kg}var m=(e&4)!==0,v=!m&&t==="scroll",_=m?d!==null?d+"Capture":null:d;m=[];for(var g=c,y;g!==null;){y=g;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,_!==null&&(w=Oo(g,_),w!=null&&m.push(Wo(g,w,y)))),v)break;g=g.return}0<m.length&&(d=new f(d,p,null,n,u),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Lh&&(p=n.relatedTarget||n.fromElement)&&(rr(p)||p[$n]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?rr(p):null,p!==null&&(v=kr(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=Cg,w="onMouseLeave",_="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=kg,w="onPointerLeave",_="onPointerEnter",g="pointer"),v=f==null?d:Hr(f),y=p==null?d:Hr(p),d=new m(w,g+"leave",f,n,u),d.target=v,d.relatedTarget=y,w=null,rr(u)===c&&(m=new m(_,g+"enter",p,n,u),m.target=y,m.relatedTarget=v,w=m),v=w,f&&p)t:{for(m=f,_=p,g=0,y=m;y;y=Nr(y))g++;for(y=0,w=_;w;w=Nr(w))y++;for(;0<g-y;)m=Nr(m),g--;for(;0<y-g;)_=Nr(_),y--;for(;g--;){if(m===_||_!==null&&m===_.alternate)break t;m=Nr(m),_=Nr(_)}m=null}else m=null;f!==null&&Fg(h,d,f,m,!1),p!==null&&v!==null&&Fg(h,v,p,m,!0)}}e:{if(d=c?Hr(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var S=G1;else if(Mg(d))if(Gv)S=J1;else{S=X1;var x=Q1}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=q1);if(S&&(S=S(t,c))){Kv(h,S,n,u);break e}x&&x(t,d,c),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&Rh(d,"number",d.value)}switch(x=c?Hr(c):window,t){case"focusin":(Mg(x)||x.contentEditable==="true")&&(Wr=x,Vh=c,_o=null);break;case"focusout":_o=Vh=Wr=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Og(h,n,u);break;case"selectionchange":if(tC)break;case"keydown":case"keyup":Og(h,n,u)}var k;if(yf)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else jr?$v(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Uv&&n.locale!=="ko"&&(jr||C!=="onCompositionStart"?C==="onCompositionEnd"&&jr&&(k=Hv()):(li=u,gf="value"in li?li.value:li.textContent,jr=!0)),x=Xl(c,C),0<x.length&&(C=new Eg(C,t,null,n,u),h.push({event:C,listeners:x}),k?C.data=k:(k=Yv(n),k!==null&&(C.data=k)))),(k=H1?U1(t,n):$1(t,n))&&(c=Xl(c,"onBeforeInput"),0<c.length&&(u=new Eg("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=k))}r0(h,e)})}function Wo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xl(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Oo(t,n),s!=null&&i.unshift(Wo(t,s,r)),s=Oo(t,e),s!=null&&i.push(Wo(t,s,r))),t=t.return}return i}function Nr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fg(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Oo(n,s),l!=null&&o.unshift(Wo(n,l,a))):r||(l=Oo(n,s),l!=null&&o.push(Wo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var sC=/\r\n?/g,oC=/\u0000|\uFFFD/g;function zg(t){return(typeof t=="string"?t:""+t).replace(sC,`
`).replace(oC,"")}function Xa(t,e,n){if(e=zg(e),zg(t)!==e&&n)throw Error(D(425))}function ql(){}var Uh=null,$h=null;function Yh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kh=typeof setTimeout=="function"?setTimeout:void 0,aC=typeof clearTimeout=="function"?clearTimeout:void 0,Bg=typeof Promise=="function"?Promise:void 0,lC=typeof queueMicrotask=="function"?queueMicrotask:typeof Bg<"u"?function(t){return Bg.resolve(null).then(t).catch(cC)}:Kh;function cC(t){setTimeout(function(){throw t})}function Bu(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Fo(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Fo(e)}function yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ks=Math.random().toString(36).slice(2),wn="__reactFiber$"+ks,Vo="__reactProps$"+ks,$n="__reactContainer$"+ks,Gh="__reactEvents$"+ks,uC="__reactListeners$"+ks,hC="__reactHandles$"+ks;function rr(t){var e=t[wn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$n]||n[wn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jg(t);t!==null;){if(n=t[wn])return n;t=jg(t)}return e}t=n,n=t.parentNode}return null}function ya(t){return t=t[wn]||t[$n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Kc(t){return t[Vo]||null}var Qh=[],Ur=-1;function Ai(t){return{current:t}}function Me(t){0>Ur||(t.current=Qh[Ur],Qh[Ur]=null,Ur--)}function Ee(t,e){Ur++,Qh[Ur]=t.current,t.current=e}var Mi={},vt=Ai(Mi),Nt=Ai(!1),pr=Mi;function cs(t,e){var n=t.type.contextTypes;if(!n)return Mi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ot(t){return t=t.childContextTypes,t!=null}function Jl(){Me(Nt),Me(vt)}function Wg(t,e,n){if(vt.current!==Mi)throw Error(D(168));Ee(vt,e),Ee(Nt,n)}function o0(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(D(108,QS(t)||"Unknown",r));return Be({},n,i)}function Zl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mi,pr=vt.current,Ee(vt,t),Ee(Nt,Nt.current),!0}function Vg(t,e,n){var i=t.stateNode;if(!i)throw Error(D(169));n?(t=o0(t,e,pr),i.__reactInternalMemoizedMergedChildContext=t,Me(Nt),Me(vt),Ee(vt,t)):Me(Nt),Ee(Nt,n)}var Dn=null,Gc=!1,ju=!1;function a0(t){Dn===null?Dn=[t]:Dn.push(t)}function dC(t){Gc=!0,a0(t)}function Fi(){if(!ju&&Dn!==null){ju=!0;var t=0,e=ye;try{var n=Dn;for(ye=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Dn=null,Gc=!1}catch(r){throw Dn!==null&&(Dn=Dn.slice(t+1)),Dv(hf,Fi),r}finally{ye=e,ju=!1}}return null}var $r=[],Yr=0,ec=null,tc=0,Gt=[],Qt=0,gr=null,Ln=1,An="";function Xi(t,e){$r[Yr++]=tc,$r[Yr++]=ec,ec=t,tc=e}function l0(t,e,n){Gt[Qt++]=Ln,Gt[Qt++]=An,Gt[Qt++]=gr,gr=t;var i=Ln;t=An;var r=32-un(i)-1;i&=~(1<<r),n+=1;var s=32-un(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Ln=1<<32-un(e)+r|n<<r|i,An=s+t}else Ln=1<<s|n<<r|i,An=t}function xf(t){t.return!==null&&(Xi(t,1),l0(t,1,0))}function wf(t){for(;t===ec;)ec=$r[--Yr],$r[Yr]=null,tc=$r[--Yr],$r[Yr]=null;for(;t===gr;)gr=Gt[--Qt],Gt[Qt]=null,An=Gt[--Qt],Gt[Qt]=null,Ln=Gt[--Qt],Gt[Qt]=null}var Vt=null,Wt=null,Ne=!1,sn=null;function c0(t,e){var n=Xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,Wt=yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,Wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gr!==null?{id:Ln,overflow:An}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,Wt=null,!0):!1;default:return!1}}function Xh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qh(t){if(Ne){var e=Wt;if(e){var n=e;if(!Hg(t,e)){if(Xh(t))throw Error(D(418));e=yi(n.nextSibling);var i=Vt;e&&Hg(t,e)?c0(i,n):(t.flags=t.flags&-4097|2,Ne=!1,Vt=t)}}else{if(Xh(t))throw Error(D(418));t.flags=t.flags&-4097|2,Ne=!1,Vt=t}}}function Ug(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function qa(t){if(t!==Vt)return!1;if(!Ne)return Ug(t),Ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yh(t.type,t.memoizedProps)),e&&(e=Wt)){if(Xh(t))throw u0(),Error(D(418));for(;e;)c0(t,e),e=yi(e.nextSibling)}if(Ug(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wt=yi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wt=null}}else Wt=Vt?yi(t.stateNode.nextSibling):null;return!0}function u0(){for(var t=Wt;t;)t=yi(t.nextSibling)}function us(){Wt=Vt=null,Ne=!1}function bf(t){sn===null?sn=[t]:sn.push(t)}var fC=qn.ReactCurrentBatchConfig;function js(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var i=n.stateNode}if(!i)throw Error(D(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function Ja(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $g(t){var e=t._init;return e(t._payload)}function h0(t){function e(_,g){if(t){var y=_.deletions;y===null?(_.deletions=[g],_.flags|=16):y.push(g)}}function n(_,g){if(!t)return null;for(;g!==null;)e(_,g),g=g.sibling;return null}function i(_,g){for(_=new Map;g!==null;)g.key!==null?_.set(g.key,g):_.set(g.index,g),g=g.sibling;return _}function r(_,g){return _=bi(_,g),_.index=0,_.sibling=null,_}function s(_,g,y){return _.index=y,t?(y=_.alternate,y!==null?(y=y.index,y<g?(_.flags|=2,g):y):(_.flags|=2,g)):(_.flags|=1048576,g)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,g,y,w){return g===null||g.tag!==6?(g=Ku(y,_.mode,w),g.return=_,g):(g=r(g,y),g.return=_,g)}function l(_,g,y,w){var S=y.type;return S===Br?u(_,g,y.props.children,w,y.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ri&&$g(S)===g.type)?(w=r(g,y.props),w.ref=js(_,g,y),w.return=_,w):(w=Il(y.type,y.key,y.props,null,_.mode,w),w.ref=js(_,g,y),w.return=_,w)}function c(_,g,y,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Gu(y,_.mode,w),g.return=_,g):(g=r(g,y.children||[]),g.return=_,g)}function u(_,g,y,w,S){return g===null||g.tag!==7?(g=hr(y,_.mode,w,S),g.return=_,g):(g=r(g,y),g.return=_,g)}function h(_,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ku(""+g,_.mode,y),g.return=_,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Wa:return y=Il(g.type,g.key,g.props,null,_.mode,y),y.ref=js(_,null,g),y.return=_,y;case zr:return g=Gu(g,_.mode,y),g.return=_,g;case ri:var w=g._init;return h(_,w(g._payload),y)}if(no(g)||Ls(g))return g=hr(g,_.mode,y,null),g.return=_,g;Ja(_,g)}return null}function d(_,g,y,w){var S=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(_,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wa:return y.key===S?l(_,g,y,w):null;case zr:return y.key===S?c(_,g,y,w):null;case ri:return S=y._init,d(_,g,S(y._payload),w)}if(no(y)||Ls(y))return S!==null?null:u(_,g,y,w,null);Ja(_,y)}return null}function f(_,g,y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return _=_.get(y)||null,a(g,_,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wa:return _=_.get(w.key===null?y:w.key)||null,l(g,_,w,S);case zr:return _=_.get(w.key===null?y:w.key)||null,c(g,_,w,S);case ri:var x=w._init;return f(_,g,y,x(w._payload),S)}if(no(w)||Ls(w))return _=_.get(y)||null,u(g,_,w,S,null);Ja(g,w)}return null}function p(_,g,y,w){for(var S=null,x=null,k=g,C=g=0,P=null;k!==null&&C<y.length;C++){k.index>C?(P=k,k=null):P=k.sibling;var M=d(_,k,y[C],w);if(M===null){k===null&&(k=P);break}t&&k&&M.alternate===null&&e(_,k),g=s(M,g,C),x===null?S=M:x.sibling=M,x=M,k=P}if(C===y.length)return n(_,k),Ne&&Xi(_,C),S;if(k===null){for(;C<y.length;C++)k=h(_,y[C],w),k!==null&&(g=s(k,g,C),x===null?S=k:x.sibling=k,x=k);return Ne&&Xi(_,C),S}for(k=i(_,k);C<y.length;C++)P=f(k,_,C,y[C],w),P!==null&&(t&&P.alternate!==null&&k.delete(P.key===null?C:P.key),g=s(P,g,C),x===null?S=P:x.sibling=P,x=P);return t&&k.forEach(function(A){return e(_,A)}),Ne&&Xi(_,C),S}function m(_,g,y,w){var S=Ls(y);if(typeof S!="function")throw Error(D(150));if(y=S.call(y),y==null)throw Error(D(151));for(var x=S=null,k=g,C=g=0,P=null,M=y.next();k!==null&&!M.done;C++,M=y.next()){k.index>C?(P=k,k=null):P=k.sibling;var A=d(_,k,M.value,w);if(A===null){k===null&&(k=P);break}t&&k&&A.alternate===null&&e(_,k),g=s(A,g,C),x===null?S=A:x.sibling=A,x=A,k=P}if(M.done)return n(_,k),Ne&&Xi(_,C),S;if(k===null){for(;!M.done;C++,M=y.next())M=h(_,M.value,w),M!==null&&(g=s(M,g,C),x===null?S=M:x.sibling=M,x=M);return Ne&&Xi(_,C),S}for(k=i(_,k);!M.done;C++,M=y.next())M=f(k,_,C,M.value,w),M!==null&&(t&&M.alternate!==null&&k.delete(M.key===null?C:M.key),g=s(M,g,C),x===null?S=M:x.sibling=M,x=M);return t&&k.forEach(function(H){return e(_,H)}),Ne&&Xi(_,C),S}function v(_,g,y,w){if(typeof y=="object"&&y!==null&&y.type===Br&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Wa:e:{for(var S=y.key,x=g;x!==null;){if(x.key===S){if(S=y.type,S===Br){if(x.tag===7){n(_,x.sibling),g=r(x,y.props.children),g.return=_,_=g;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ri&&$g(S)===x.type){n(_,x.sibling),g=r(x,y.props),g.ref=js(_,x,y),g.return=_,_=g;break e}n(_,x);break}else e(_,x);x=x.sibling}y.type===Br?(g=hr(y.props.children,_.mode,w,y.key),g.return=_,_=g):(w=Il(y.type,y.key,y.props,null,_.mode,w),w.ref=js(_,g,y),w.return=_,_=w)}return o(_);case zr:e:{for(x=y.key;g!==null;){if(g.key===x)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(_,g.sibling),g=r(g,y.children||[]),g.return=_,_=g;break e}else{n(_,g);break}else e(_,g);g=g.sibling}g=Gu(y,_.mode,w),g.return=_,_=g}return o(_);case ri:return x=y._init,v(_,g,x(y._payload),w)}if(no(y))return p(_,g,y,w);if(Ls(y))return m(_,g,y,w);Ja(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(_,g.sibling),g=r(g,y),g.return=_,_=g):(n(_,g),g=Ku(y,_.mode,w),g.return=_,_=g),o(_)):n(_,g)}return v}var hs=h0(!0),d0=h0(!1),nc=Ai(null),ic=null,Kr=null,Sf=null;function Cf(){Sf=Kr=ic=null}function Ef(t){var e=nc.current;Me(nc),t._currentValue=e}function Jh(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ns(t,e){ic=t,Sf=Kr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(It=!0),t.firstContext=null)}function Jt(t){var e=t._currentValue;if(Sf!==t)if(t={context:t,memoizedValue:e,next:null},Kr===null){if(ic===null)throw Error(D(308));Kr=t,ic.dependencies={lanes:0,firstContext:t}}else Kr=Kr.next=t;return e}var sr=null;function kf(t){sr===null?sr=[t]:sr.push(t)}function f0(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,kf(e)):(n.next=r.next,r.next=n),e.interleaved=n,Yn(t,i)}function Yn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var si=!1;function Tf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,he&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Yn(t,n)}return r=i.interleaved,r===null?(e.next=e,kf(i)):(e.next=r.next,r.next=e),i.interleaved=e,Yn(t,n)}function El(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,df(t,n)}}function Yg(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rc(t,e,n,i){var r=t.updateQueue;si=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((i&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(d=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=Be({},h,d);break e;case 2:si=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(u===null&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);_r|=o,t.lanes=o,t.memoizedState=h}}function Kg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(D(191,r));r.call(i)}}}var va={},Sn=Ai(va),Ho=Ai(va),Uo=Ai(va);function or(t){if(t===va)throw Error(D(174));return t}function Pf(t,e){switch(Ee(Uo,e),Ee(Ho,t),Ee(Sn,va),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dh(e,t)}Me(Sn),Ee(Sn,e)}function ds(){Me(Sn),Me(Ho),Me(Uo)}function g0(t){or(Uo.current);var e=or(Sn.current),n=Dh(e,t.type);e!==n&&(Ee(Ho,t),Ee(Sn,n))}function Mf(t){Ho.current===t&&(Me(Sn),Me(Ho))}var Fe=Ai(0);function sc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wu=[];function Rf(){for(var t=0;t<Wu.length;t++)Wu[t]._workInProgressVersionPrimary=null;Wu.length=0}var kl=qn.ReactCurrentDispatcher,Vu=qn.ReactCurrentBatchConfig,mr=0,ze=null,Xe=null,nt=null,oc=!1,yo=!1,$o=0,pC=0;function ft(){throw Error(D(321))}function If(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pn(t[n],e[n]))return!1;return!0}function Df(t,e,n,i,r,s){if(mr=s,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kl.current=t===null||t.memoizedState===null?yC:vC,t=n(i,r),yo){s=0;do{if(yo=!1,$o=0,25<=s)throw Error(D(301));s+=1,nt=Xe=null,e.updateQueue=null,kl.current=xC,t=n(i,r)}while(yo)}if(kl.current=ac,e=Xe!==null&&Xe.next!==null,mr=0,nt=Xe=ze=null,oc=!1,e)throw Error(D(300));return t}function Nf(){var t=$o!==0;return $o=0,t}function vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?ze.memoizedState=nt=t:nt=nt.next=t,nt}function Zt(){if(Xe===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var e=nt===null?ze.memoizedState:nt.next;if(e!==null)nt=e,Xe=t;else{if(t===null)throw Error(D(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},nt===null?ze.memoizedState=nt=t:nt=nt.next=t}return nt}function Yo(t,e){return typeof e=="function"?e(t):e}function Hu(t){var e=Zt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var i=Xe,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((mr&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,ze.lanes|=u,_r|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,pn(i,e.memoizedState)||(It=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,ze.lanes|=s,_r|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Uu(t){var e=Zt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);pn(s,e.memoizedState)||(It=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function m0(){}function _0(t,e){var n=ze,i=Zt(),r=e(),s=!pn(i.memoizedState,r);if(s&&(i.memoizedState=r,It=!0),i=i.queue,Of(x0.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,Ko(9,v0.bind(null,n,i,r,e),void 0,null),st===null)throw Error(D(349));mr&30||y0(n,e,r)}return r}function y0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function v0(t,e,n,i){e.value=n,e.getSnapshot=i,w0(e)&&b0(t)}function x0(t,e,n){return n(function(){w0(e)&&b0(t)})}function w0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pn(t,n)}catch{return!0}}function b0(t){var e=Yn(t,1);e!==null&&hn(e,t,1,-1)}function Gg(t){var e=vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:t},e.queue=t,t=t.dispatch=_C.bind(null,ze,t),[e.memoizedState,t]}function Ko(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function S0(){return Zt().memoizedState}function Tl(t,e,n,i){var r=vn();ze.flags|=t,r.memoizedState=Ko(1|e,n,void 0,i===void 0?null:i)}function Qc(t,e,n,i){var r=Zt();i=i===void 0?null:i;var s=void 0;if(Xe!==null){var o=Xe.memoizedState;if(s=o.destroy,i!==null&&If(i,o.deps)){r.memoizedState=Ko(e,n,s,i);return}}ze.flags|=t,r.memoizedState=Ko(1|e,n,s,i)}function Qg(t,e){return Tl(8390656,8,t,e)}function Of(t,e){return Qc(2048,8,t,e)}function C0(t,e){return Qc(4,2,t,e)}function E0(t,e){return Qc(4,4,t,e)}function k0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function T0(t,e,n){return n=n!=null?n.concat([t]):null,Qc(4,4,k0.bind(null,e,t),n)}function Lf(){}function P0(t,e){var n=Zt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&If(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function M0(t,e){var n=Zt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&If(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function R0(t,e,n){return mr&21?(pn(n,e)||(n=Lv(),ze.lanes|=n,_r|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,It=!0),t.memoizedState=n)}function gC(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var i=Vu.transition;Vu.transition={};try{t(!1),e()}finally{ye=n,Vu.transition=i}}function I0(){return Zt().memoizedState}function mC(t,e,n){var i=wi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},D0(t))N0(e,n);else if(n=f0(t,e,n,i),n!==null){var r=Ct();hn(n,t,i,r),O0(n,e,i)}}function _C(t,e,n){var i=wi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(D0(t))N0(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,pn(a,o)){var l=e.interleaved;l===null?(r.next=r,kf(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=f0(t,e,r,i),n!==null&&(r=Ct(),hn(n,t,i,r),O0(n,e,i))}}function D0(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function N0(t,e){yo=oc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function O0(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,df(t,n)}}var ac={readContext:Jt,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},yC={readContext:Jt,useCallback:function(t,e){return vn().memoizedState=[t,e===void 0?null:e],t},useContext:Jt,useEffect:Qg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tl(4194308,4,k0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tl(4,2,t,e)},useMemo:function(t,e){var n=vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=vn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=mC.bind(null,ze,t),[i.memoizedState,t]},useRef:function(t){var e=vn();return t={current:t},e.memoizedState=t},useState:Gg,useDebugValue:Lf,useDeferredValue:function(t){return vn().memoizedState=t},useTransition:function(){var t=Gg(!1),e=t[0];return t=gC.bind(null,t[1]),vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ze,r=vn();if(Ne){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),st===null)throw Error(D(349));mr&30||y0(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Qg(x0.bind(null,i,s,t),[t]),i.flags|=2048,Ko(9,v0.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=vn(),e=st.identifierPrefix;if(Ne){var n=An,i=Ln;n=(i&~(1<<32-un(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=$o++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=pC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vC={readContext:Jt,useCallback:P0,useContext:Jt,useEffect:Of,useImperativeHandle:T0,useInsertionEffect:C0,useLayoutEffect:E0,useMemo:M0,useReducer:Hu,useRef:S0,useState:function(){return Hu(Yo)},useDebugValue:Lf,useDeferredValue:function(t){var e=Zt();return R0(e,Xe.memoizedState,t)},useTransition:function(){var t=Hu(Yo)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:m0,useSyncExternalStore:_0,useId:I0,unstable_isNewReconciler:!1},xC={readContext:Jt,useCallback:P0,useContext:Jt,useEffect:Of,useImperativeHandle:T0,useInsertionEffect:C0,useLayoutEffect:E0,useMemo:M0,useReducer:Uu,useRef:S0,useState:function(){return Uu(Yo)},useDebugValue:Lf,useDeferredValue:function(t){var e=Zt();return Xe===null?e.memoizedState=t:R0(e,Xe.memoizedState,t)},useTransition:function(){var t=Uu(Yo)[0],e=Zt().memoizedState;return[t,e]},useMutableSource:m0,useSyncExternalStore:_0,useId:I0,unstable_isNewReconciler:!1};function tn(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zh(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xc={isMounted:function(t){return(t=t._reactInternals)?kr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ct(),r=wi(t),s=Wn(i,r);s.payload=e,n!=null&&(s.callback=n),e=vi(t,s,r),e!==null&&(hn(e,t,r,i),El(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ct(),r=wi(t),s=Wn(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=vi(t,s,r),e!==null&&(hn(e,t,r,i),El(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ct(),i=wi(t),r=Wn(n,i);r.tag=2,e!=null&&(r.callback=e),e=vi(t,r,i),e!==null&&(hn(e,t,i,n),El(e,t,i))}};function Xg(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bo(n,i)||!Bo(r,s):!0}function L0(t,e,n){var i=!1,r=Mi,s=e.contextType;return typeof s=="object"&&s!==null?s=Jt(s):(r=Ot(e)?pr:vt.current,i=e.contextTypes,s=(i=i!=null)?cs(t,r):Mi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xc,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function qg(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Xc.enqueueReplaceState(e,e.state,null)}function ed(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Tf(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Jt(s):(s=Ot(e)?pr:vt.current,r.context=cs(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Zh(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Xc.enqueueReplaceState(r,r.state,null),rc(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function fs(t,e){try{var n="",i=e;do n+=GS(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function $u(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function td(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var wC=typeof WeakMap=="function"?WeakMap:Map;function A0(t,e,n){n=Wn(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){cc||(cc=!0,hd=i),td(t,e)},n}function F0(t,e,n){n=Wn(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){td(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){td(t,e),typeof i!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Jg(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new wC;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=LC.bind(null,t,e,n),e.then(t,t))}function Zg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function em(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wn(-1,1),e.tag=2,vi(n,e,1))),n.lanes|=1),t)}var bC=qn.ReactCurrentOwner,It=!1;function bt(t,e,n,i){e.child=t===null?d0(e,null,n,i):hs(e,t.child,n,i)}function tm(t,e,n,i,r){n=n.render;var s=e.ref;return ns(e,r),i=Df(t,e,n,i,s,r),n=Nf(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Kn(t,e,r)):(Ne&&n&&xf(e),e.flags|=1,bt(t,e,i,r),e.child)}function nm(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Hf(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,z0(t,e,s,i,r)):(t=Il(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bo,n(o,i)&&t.ref===e.ref)return Kn(t,e,r)}return e.flags|=1,t=bi(s,i),t.ref=e.ref,t.return=e,e.child=t}function z0(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Bo(s,i)&&t.ref===e.ref)if(It=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(It=!0);else return e.lanes=t.lanes,Kn(t,e,r)}return nd(t,e,n,i,r)}function B0(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Qr,zt),zt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Qr,zt),zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,Ee(Qr,zt),zt|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,Ee(Qr,zt),zt|=i;return bt(t,e,r,n),e.child}function j0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nd(t,e,n,i,r){var s=Ot(n)?pr:vt.current;return s=cs(e,s),ns(e,r),n=Df(t,e,n,i,s,r),i=Nf(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Kn(t,e,r)):(Ne&&i&&xf(e),e.flags|=1,bt(t,e,n,r),e.child)}function im(t,e,n,i,r){if(Ot(n)){var s=!0;Zl(e)}else s=!1;if(ns(e,r),e.stateNode===null)Pl(t,e),L0(e,n,i),ed(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Jt(c):(c=Ot(n)?pr:vt.current,c=cs(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&qg(e,o,i,c),si=!1;var d=e.memoizedState;o.state=d,rc(e,i,o,r),l=e.memoizedState,a!==i||d!==l||Nt.current||si?(typeof u=="function"&&(Zh(e,n,u,i),l=e.memoizedState),(a=si||Xg(e,n,a,i,d,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,p0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:tn(e.type,a),o.props=c,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Jt(l):(l=Ot(n)?pr:vt.current,l=cs(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&qg(e,o,i,l),si=!1,d=e.memoizedState,o.state=d,rc(e,i,o,r);var p=e.memoizedState;a!==h||d!==p||Nt.current||si?(typeof f=="function"&&(Zh(e,n,f,i),p=e.memoizedState),(c=si||Xg(e,n,c,i,d,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return id(t,e,n,i,s,r)}function id(t,e,n,i,r,s){j0(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Vg(e,n,!1),Kn(t,e,s);i=e.stateNode,bC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=hs(e,t.child,null,s),e.child=hs(e,null,a,s)):bt(t,e,a,s),e.memoizedState=i.state,r&&Vg(e,n,!0),e.child}function W0(t){var e=t.stateNode;e.pendingContext?Wg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wg(t,e.context,!1),Pf(t,e.containerInfo)}function rm(t,e,n,i,r){return us(),bf(r),e.flags|=256,bt(t,e,n,i),e.child}var rd={dehydrated:null,treeContext:null,retryLane:0};function sd(t){return{baseLanes:t,cachePool:null,transitions:null}}function V0(t,e,n){var i=e.pendingProps,r=Fe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Ee(Fe,r&1),t===null)return qh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Zc(o,i,0,null),t=hr(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=sd(n),e.memoizedState=rd,t):Af(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return SC(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=bi(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=bi(a,s):(s=hr(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?sd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=rd,i}return s=t.child,t=s.sibling,i=bi(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Af(t,e){return e=Zc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Za(t,e,n,i){return i!==null&&bf(i),hs(e,t.child,null,n),t=Af(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SC(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=$u(Error(D(422))),Za(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Zc({mode:"visible",children:i.children},r,0,null),s=hr(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&hs(e,t.child,null,o),e.child.memoizedState=sd(o),e.memoizedState=rd,s);if(!(e.mode&1))return Za(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(D(419)),i=$u(s,i,void 0),Za(t,e,o,i)}if(a=(o&t.childLanes)!==0,It||a){if(i=st,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Yn(t,r),hn(i,t,r,-1))}return Vf(),i=$u(Error(D(421))),Za(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=AC.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Wt=yi(r.nextSibling),Vt=e,Ne=!0,sn=null,t!==null&&(Gt[Qt++]=Ln,Gt[Qt++]=An,Gt[Qt++]=gr,Ln=t.id,An=t.overflow,gr=e),e=Af(e,i.children),e.flags|=4096,e)}function sm(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Jh(t.return,e,n)}function Yu(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function H0(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(bt(t,e,i.children,n),i=Fe.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sm(t,n,e);else if(t.tag===19)sm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ee(Fe,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&sc(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Yu(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&sc(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Yu(e,!0,n,null,s);break;case"together":Yu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Pl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_r|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function CC(t,e,n){switch(e.tag){case 3:W0(e),us();break;case 5:g0(e);break;case 1:Ot(e.type)&&Zl(e);break;case 4:Pf(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ee(nc,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ee(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?V0(t,e,n):(Ee(Fe,Fe.current&1),t=Kn(t,e,n),t!==null?t.sibling:null);Ee(Fe,Fe.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return H0(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ee(Fe,Fe.current),i)break;return null;case 22:case 23:return e.lanes=0,B0(t,e,n)}return Kn(t,e,n)}var U0,od,$0,Y0;U0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};od=function(){};$0=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,or(Sn.current);var s=null;switch(n){case"input":r=Ph(t,r),i=Ph(t,i),s=[];break;case"select":r=Be({},r,{value:void 0}),i=Be({},i,{value:void 0}),s=[];break;case"textarea":r=Ih(t,r),i=Ih(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=ql)}Nh(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Do.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Do.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Te("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Y0=function(t,e,n,i){n!==i&&(e.flags|=4)};function Ws(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function EC(t,e,n){var i=e.pendingProps;switch(wf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(e),null;case 1:return Ot(e.type)&&Jl(),pt(e),null;case 3:return i=e.stateNode,ds(),Me(Nt),Me(vt),Rf(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(qa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sn!==null&&(pd(sn),sn=null))),od(t,e),pt(e),null;case 5:Mf(e);var r=or(Uo.current);if(n=e.type,t!==null&&e.stateNode!=null)$0(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(D(166));return pt(e),null}if(t=or(Sn.current),qa(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[wn]=e,i[Vo]=s,t=(e.mode&1)!==0,n){case"dialog":Te("cancel",i),Te("close",i);break;case"iframe":case"object":case"embed":Te("load",i);break;case"video":case"audio":for(r=0;r<ro.length;r++)Te(ro[r],i);break;case"source":Te("error",i);break;case"img":case"image":case"link":Te("error",i),Te("load",i);break;case"details":Te("toggle",i);break;case"input":pg(i,s),Te("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Te("invalid",i);break;case"textarea":mg(i,s),Te("invalid",i)}Nh(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Xa(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Xa(i.textContent,a,t),r=["children",""+a]):Do.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Te("scroll",i)}switch(n){case"input":Va(i),gg(i,s,!0);break;case"textarea":Va(i),_g(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=ql)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[wn]=e,t[Vo]=i,U0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Oh(n,i),n){case"dialog":Te("cancel",t),Te("close",t),r=i;break;case"iframe":case"object":case"embed":Te("load",t),r=i;break;case"video":case"audio":for(r=0;r<ro.length;r++)Te(ro[r],t);r=i;break;case"source":Te("error",t),r=i;break;case"img":case"image":case"link":Te("error",t),Te("load",t),r=i;break;case"details":Te("toggle",t),r=i;break;case"input":pg(t,i),r=Ph(t,i),Te("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Be({},i,{value:void 0}),Te("invalid",t);break;case"textarea":mg(t,i),r=Ih(t,i),Te("invalid",t);break;default:r=i}Nh(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Sv(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wv(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&No(t,l):typeof l=="number"&&No(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Do.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Te("scroll",t):l!=null&&of(t,s,l,o))}switch(n){case"input":Va(t),gg(t,i,!1);break;case"textarea":Va(t),_g(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Pi(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Jr(t,!!i.multiple,s,!1):i.defaultValue!=null&&Jr(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=ql)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pt(e),null;case 6:if(t&&e.stateNode!=null)Y0(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(D(166));if(n=or(Uo.current),or(Sn.current),qa(e)){if(i=e.stateNode,n=e.memoizedProps,i[wn]=e,(s=i.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:Xa(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xa(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[wn]=e,e.stateNode=i}return pt(e),null;case 13:if(Me(Fe),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ne&&Wt!==null&&e.mode&1&&!(e.flags&128))u0(),us(),e.flags|=98560,s=!1;else if(s=qa(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(D(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(D(317));s[wn]=e}else us(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pt(e),s=!1}else sn!==null&&(pd(sn),sn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?Ze===0&&(Ze=3):Vf())),e.updateQueue!==null&&(e.flags|=4),pt(e),null);case 4:return ds(),od(t,e),t===null&&jo(e.stateNode.containerInfo),pt(e),null;case 10:return Ef(e.type._context),pt(e),null;case 17:return Ot(e.type)&&Jl(),pt(e),null;case 19:if(Me(Fe),s=e.memoizedState,s===null)return pt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Ws(s,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sc(t),o!==null){for(e.flags|=128,Ws(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(Fe,Fe.current&1|2),e.child}t=t.sibling}s.tail!==null&&$e()>ps&&(e.flags|=128,i=!0,Ws(s,!1),e.lanes=4194304)}else{if(!i)if(t=sc(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ws(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ne)return pt(e),null}else 2*$e()-s.renderingStartTime>ps&&n!==1073741824&&(e.flags|=128,i=!0,Ws(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=$e(),e.sibling=null,n=Fe.current,Ee(Fe,i?n&1|2:n&1),e):(pt(e),null);case 22:case 23:return Wf(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?zt&1073741824&&(pt(e),e.subtreeFlags&6&&(e.flags|=8192)):pt(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function kC(t,e){switch(wf(e),e.tag){case 1:return Ot(e.type)&&Jl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ds(),Me(Nt),Me(vt),Rf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mf(e),null;case 13:if(Me(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));us()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Fe),null;case 4:return ds(),null;case 10:return Ef(e.type._context),null;case 22:case 23:return Wf(),null;case 24:return null;default:return null}}var el=!1,mt=!1,TC=typeof WeakSet=="function"?WeakSet:Set,F=null;function Gr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ve(t,e,i)}else n.current=null}function ad(t,e,n){try{n()}catch(i){Ve(t,e,i)}}var om=!1;function PC(t,e){if(Uh=Gl,t=qv(),vf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var f;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++c===r&&(a=o),d===s&&++u===i&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($h={focusedElem:t,selectionRange:n},Gl=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,_=e.stateNode,g=_.getSnapshotBeforeUpdate(e.elementType===e.type?m:tn(e.type,m),v);_.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(w){Ve(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return p=om,om=!1,p}function vo(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&ad(e,n,s)}r=r.next}while(r!==i)}}function qc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function ld(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function K0(t){var e=t.alternate;e!==null&&(t.alternate=null,K0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wn],delete e[Vo],delete e[Gh],delete e[uC],delete e[hC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function G0(t){return t.tag===5||t.tag===3||t.tag===4}function am(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||G0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ql));else if(i!==4&&(t=t.child,t!==null))for(cd(t,e,n),t=t.sibling;t!==null;)cd(t,e,n),t=t.sibling}function ud(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(ud(t,e,n),t=t.sibling;t!==null;)ud(t,e,n),t=t.sibling}var lt=null,nn=!1;function ni(t,e,n){for(n=n.child;n!==null;)Q0(t,e,n),n=n.sibling}function Q0(t,e,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Hc,n)}catch{}switch(n.tag){case 5:mt||Gr(n,e);case 6:var i=lt,r=nn;lt=null,ni(t,e,n),lt=i,nn=r,lt!==null&&(nn?(t=lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(nn?(t=lt,n=n.stateNode,t.nodeType===8?Bu(t.parentNode,n):t.nodeType===1&&Bu(t,n),Fo(t)):Bu(lt,n.stateNode));break;case 4:i=lt,r=nn,lt=n.stateNode.containerInfo,nn=!0,ni(t,e,n),lt=i,nn=r;break;case 0:case 11:case 14:case 15:if(!mt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ad(n,e,o),r=r.next}while(r!==i)}ni(t,e,n);break;case 1:if(!mt&&(Gr(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ve(n,e,a)}ni(t,e,n);break;case 21:ni(t,e,n);break;case 22:n.mode&1?(mt=(i=mt)||n.memoizedState!==null,ni(t,e,n),mt=i):ni(t,e,n);break;default:ni(t,e,n)}}function lm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TC),e.forEach(function(i){var r=FC.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function en(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:lt=a.stateNode,nn=!1;break e;case 3:lt=a.stateNode.containerInfo,nn=!0;break e;case 4:lt=a.stateNode.containerInfo,nn=!0;break e}a=a.return}if(lt===null)throw Error(D(160));Q0(s,o,r),lt=null,nn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Ve(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)X0(e,t),e=e.sibling}function X0(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(en(e,t),_n(t),i&4){try{vo(3,t,t.return),qc(3,t)}catch(m){Ve(t,t.return,m)}try{vo(5,t,t.return)}catch(m){Ve(t,t.return,m)}}break;case 1:en(e,t),_n(t),i&512&&n!==null&&Gr(n,n.return);break;case 5:if(en(e,t),_n(t),i&512&&n!==null&&Gr(n,n.return),t.flags&32){var r=t.stateNode;try{No(r,"")}catch(m){Ve(t,t.return,m)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&yv(r,s),Oh(a,o);var c=Oh(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Sv(r,h):u==="dangerouslySetInnerHTML"?wv(r,h):u==="children"?No(r,h):of(r,u,h,c)}switch(a){case"input":Mh(r,s);break;case"textarea":vv(r,s);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Jr(r,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Jr(r,!!s.multiple,s.defaultValue,!0):Jr(r,!!s.multiple,s.multiple?[]:"",!1))}r[Vo]=s}catch(m){Ve(t,t.return,m)}}break;case 6:if(en(e,t),_n(t),i&4){if(t.stateNode===null)throw Error(D(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(m){Ve(t,t.return,m)}}break;case 3:if(en(e,t),_n(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Fo(e.containerInfo)}catch(m){Ve(t,t.return,m)}break;case 4:en(e,t),_n(t);break;case 13:en(e,t),_n(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Bf=$e())),i&4&&lm(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(mt=(c=mt)||u,en(e,t),mt=c):en(e,t),_n(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(F=t,u=t.child;u!==null;){for(h=F=u;F!==null;){switch(d=F,f=d.child,d.tag){case 0:case 11:case 14:case 15:vo(4,d,d.return);break;case 1:Gr(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Ve(i,n,m)}}break;case 5:Gr(d,d.return);break;case 22:if(d.memoizedState!==null){um(h);continue}}f!==null?(f.return=d,F=f):um(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{r=h.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=bv("display",o))}catch(m){Ve(t,t.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){Ve(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:en(e,t),_n(t),i&4&&lm(t);break;case 21:break;default:en(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(G0(n)){var i=n;break e}n=n.return}throw Error(D(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(No(r,""),i.flags&=-33);var s=am(t);ud(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=am(t);cd(t,a,o);break;default:throw Error(D(161))}}catch(l){Ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MC(t,e,n){F=t,q0(t)}function q0(t,e,n){for(var i=(t.mode&1)!==0;F!==null;){var r=F,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||el;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||mt;a=el;var c=mt;if(el=o,(mt=l)&&!c)for(F=r;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?hm(r):l!==null?(l.return=o,F=l):hm(r);for(;s!==null;)F=s,q0(s),s=s.sibling;F=r,el=a,mt=c}cm(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,F=s):cm(t)}}function cm(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mt||qc(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!mt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:tn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Kg(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Kg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Fo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}mt||e.flags&512&&ld(e)}catch(d){Ve(e,e.return,d)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function um(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function hm(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qc(4,e)}catch(l){Ve(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Ve(e,r,l)}}var s=e.return;try{ld(e)}catch(l){Ve(e,s,l)}break;case 5:var o=e.return;try{ld(e)}catch(l){Ve(e,o,l)}}}catch(l){Ve(e,e.return,l)}if(e===t){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var RC=Math.ceil,lc=qn.ReactCurrentDispatcher,Ff=qn.ReactCurrentOwner,qt=qn.ReactCurrentBatchConfig,he=0,st=null,Qe=null,ut=0,zt=0,Qr=Ai(0),Ze=0,Go=null,_r=0,Jc=0,zf=0,xo=null,Mt=null,Bf=0,ps=1/0,In=null,cc=!1,hd=null,xi=null,tl=!1,ci=null,uc=0,wo=0,dd=null,Ml=-1,Rl=0;function Ct(){return he&6?$e():Ml!==-1?Ml:Ml=$e()}function wi(t){return t.mode&1?he&2&&ut!==0?ut&-ut:fC.transition!==null?(Rl===0&&(Rl=Lv()),Rl):(t=ye,t!==0||(t=window.event,t=t===void 0?16:Vv(t.type)),t):1}function hn(t,e,n,i){if(50<wo)throw wo=0,dd=null,Error(D(185));ma(t,n,i),(!(he&2)||t!==st)&&(t===st&&(!(he&2)&&(Jc|=n),Ze===4&&ai(t,ut)),Lt(t,i),n===1&&he===0&&!(e.mode&1)&&(ps=$e()+500,Gc&&Fi()))}function Lt(t,e){var n=t.callbackNode;f1(t,e);var i=Kl(t,t===st?ut:0);if(i===0)n!==null&&xg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&xg(n),e===1)t.tag===0?dC(dm.bind(null,t)):a0(dm.bind(null,t)),lC(function(){!(he&6)&&Fi()}),n=null;else{switch(Av(i)){case 1:n=hf;break;case 4:n=Nv;break;case 16:n=Yl;break;case 536870912:n=Ov;break;default:n=Yl}n=sx(n,J0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function J0(t,e){if(Ml=-1,Rl=0,he&6)throw Error(D(327));var n=t.callbackNode;if(is()&&t.callbackNode!==n)return null;var i=Kl(t,t===st?ut:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=hc(t,i);else{e=i;var r=he;he|=2;var s=ex();(st!==t||ut!==e)&&(In=null,ps=$e()+500,ur(t,e));do try{NC();break}catch(a){Z0(t,a)}while(!0);Cf(),lc.current=s,he=r,Qe!==null?e=0:(st=null,ut=0,e=Ze)}if(e!==0){if(e===2&&(r=Bh(t),r!==0&&(i=r,e=fd(t,r))),e===1)throw n=Go,ur(t,0),ai(t,i),Lt(t,$e()),n;if(e===6)ai(t,i);else{if(r=t.current.alternate,!(i&30)&&!IC(r)&&(e=hc(t,i),e===2&&(s=Bh(t),s!==0&&(i=s,e=fd(t,s))),e===1))throw n=Go,ur(t,0),ai(t,i),Lt(t,$e()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(D(345));case 2:qi(t,Mt,In);break;case 3:if(ai(t,i),(i&130023424)===i&&(e=Bf+500-$e(),10<e)){if(Kl(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Ct(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Kh(qi.bind(null,t,Mt,In),e);break}qi(t,Mt,In);break;case 4:if(ai(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-un(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=$e()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*RC(i/1960))-i,10<i){t.timeoutHandle=Kh(qi.bind(null,t,Mt,In),i);break}qi(t,Mt,In);break;case 5:qi(t,Mt,In);break;default:throw Error(D(329))}}}return Lt(t,$e()),t.callbackNode===n?J0.bind(null,t):null}function fd(t,e){var n=xo;return t.current.memoizedState.isDehydrated&&(ur(t,e).flags|=256),t=hc(t,e),t!==2&&(e=Mt,Mt=n,e!==null&&pd(e)),t}function pd(t){Mt===null?Mt=t:Mt.push.apply(Mt,t)}function IC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!pn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ai(t,e){for(e&=~zf,e&=~Jc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-un(e),i=1<<n;t[n]=-1,e&=~i}}function dm(t){if(he&6)throw Error(D(327));is();var e=Kl(t,0);if(!(e&1))return Lt(t,$e()),null;var n=hc(t,e);if(t.tag!==0&&n===2){var i=Bh(t);i!==0&&(e=i,n=fd(t,i))}if(n===1)throw n=Go,ur(t,0),ai(t,e),Lt(t,$e()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qi(t,Mt,In),Lt(t,$e()),null}function jf(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(ps=$e()+500,Gc&&Fi())}}function yr(t){ci!==null&&ci.tag===0&&!(he&6)&&is();var e=he;he|=1;var n=qt.transition,i=ye;try{if(qt.transition=null,ye=1,t)return t()}finally{ye=i,qt.transition=n,he=e,!(he&6)&&Fi()}}function Wf(){zt=Qr.current,Me(Qr)}function ur(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aC(n)),Qe!==null)for(n=Qe.return;n!==null;){var i=n;switch(wf(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Jl();break;case 3:ds(),Me(Nt),Me(vt),Rf();break;case 5:Mf(i);break;case 4:ds();break;case 13:Me(Fe);break;case 19:Me(Fe);break;case 10:Ef(i.type._context);break;case 22:case 23:Wf()}n=n.return}if(st=t,Qe=t=bi(t.current,null),ut=zt=e,Ze=0,Go=null,zf=Jc=_r=0,Mt=xo=null,sr!==null){for(e=0;e<sr.length;e++)if(n=sr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}sr=null}return t}function Z0(t,e){do{var n=Qe;try{if(Cf(),kl.current=ac,oc){for(var i=ze.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}oc=!1}if(mr=0,nt=Xe=ze=null,yo=!1,$o=0,Ff.current=null,n===null||n.return===null){Ze=1,Go=e,Qe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ut,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Zg(o);if(f!==null){f.flags&=-257,em(f,o,a,s,e),f.mode&1&&Jg(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){Jg(s,c,e),Vf();break e}l=Error(D(426))}}else if(Ne&&a.mode&1){var v=Zg(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),em(v,o,a,s,e),bf(fs(l,a));break e}}s=l=fs(l,a),Ze!==4&&(Ze=2),xo===null?xo=[s]:xo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=A0(s,l,e);Yg(s,_);break e;case 1:a=l;var g=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xi===null||!xi.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=F0(s,a,e);Yg(s,w);break e}}s=s.return}while(s!==null)}nx(n)}catch(S){e=S,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(!0)}function ex(){var t=lc.current;return lc.current=ac,t===null?ac:t}function Vf(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),st===null||!(_r&268435455)&&!(Jc&268435455)||ai(st,ut)}function hc(t,e){var n=he;he|=2;var i=ex();(st!==t||ut!==e)&&(In=null,ur(t,e));do try{DC();break}catch(r){Z0(t,r)}while(!0);if(Cf(),he=n,lc.current=i,Qe!==null)throw Error(D(261));return st=null,ut=0,Ze}function DC(){for(;Qe!==null;)tx(Qe)}function NC(){for(;Qe!==null&&!r1();)tx(Qe)}function tx(t){var e=rx(t.alternate,t,zt);t.memoizedProps=t.pendingProps,e===null?nx(t):Qe=e,Ff.current=null}function nx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=kC(n,e),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Qe=null;return}}else if(n=EC(n,e,zt),n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);Ze===0&&(Ze=5)}function qi(t,e,n){var i=ye,r=qt.transition;try{qt.transition=null,ye=1,OC(t,e,n,i)}finally{qt.transition=r,ye=i}return null}function OC(t,e,n,i){do is();while(ci!==null);if(he&6)throw Error(D(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(p1(t,s),t===st&&(Qe=st=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tl||(tl=!0,sx(Yl,function(){return is(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qt.transition,qt.transition=null;var o=ye;ye=1;var a=he;he|=4,Ff.current=null,PC(t,n),X0(n,t),eC($h),Gl=!!Uh,$h=Uh=null,t.current=n,MC(n),s1(),he=a,ye=o,qt.transition=s}else t.current=n;if(tl&&(tl=!1,ci=t,uc=r),s=t.pendingLanes,s===0&&(xi=null),l1(n.stateNode),Lt(t,$e()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(cc)throw cc=!1,t=hd,hd=null,t;return uc&1&&t.tag!==0&&is(),s=t.pendingLanes,s&1?t===dd?wo++:(wo=0,dd=t):wo=0,Fi(),null}function is(){if(ci!==null){var t=Av(uc),e=qt.transition,n=ye;try{if(qt.transition=null,ye=16>t?16:t,ci===null)var i=!1;else{if(t=ci,ci=null,uc=0,he&6)throw Error(D(331));var r=he;for(he|=4,F=t.current;F!==null;){var s=F,o=s.child;if(F.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(F=c;F!==null;){var u=F;switch(u.tag){case 0:case 11:case 15:vo(8,u,s)}var h=u.child;if(h!==null)h.return=u,F=h;else for(;F!==null;){u=F;var d=u.sibling,f=u.return;if(K0(u),u===c){F=null;break}if(d!==null){d.return=f,F=d;break}F=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}F=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vo(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,F=_;break e}F=s.return}}var g=t.current;for(F=g;F!==null;){o=F;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,F=y;else e:for(o=g;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qc(9,a)}}catch(S){Ve(a,a.return,S)}if(a===o){F=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,F=w;break e}F=a.return}}if(he=r,Fi(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Hc,t)}catch{}i=!0}return i}finally{ye=n,qt.transition=e}}return!1}function fm(t,e,n){e=fs(n,e),e=A0(t,e,1),t=vi(t,e,1),e=Ct(),t!==null&&(ma(t,1,e),Lt(t,e))}function Ve(t,e,n){if(t.tag===3)fm(t,t,n);else for(;e!==null;){if(e.tag===3){fm(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(xi===null||!xi.has(i))){t=fs(n,t),t=F0(e,t,1),e=vi(e,t,1),t=Ct(),e!==null&&(ma(e,1,t),Lt(e,t));break}}e=e.return}}function LC(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Ct(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(ut&n)===n&&(Ze===4||Ze===3&&(ut&130023424)===ut&&500>$e()-Bf?ur(t,0):zf|=n),Lt(t,e)}function ix(t,e){e===0&&(t.mode&1?(e=$a,$a<<=1,!($a&130023424)&&($a=4194304)):e=1);var n=Ct();t=Yn(t,e),t!==null&&(ma(t,e,n),Lt(t,n))}function AC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ix(t,n)}function FC(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(D(314))}i!==null&&i.delete(e),ix(t,n)}var rx;rx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nt.current)It=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return It=!1,CC(t,e,n);It=!!(t.flags&131072)}else It=!1,Ne&&e.flags&1048576&&l0(e,tc,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Pl(t,e),t=e.pendingProps;var r=cs(e,vt.current);ns(e,n),r=Df(null,e,i,t,r,n);var s=Nf();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ot(i)?(s=!0,Zl(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Tf(e),r.updater=Xc,e.stateNode=r,r._reactInternals=e,ed(e,i,t,n),e=id(null,e,i,!0,s,n)):(e.tag=0,Ne&&s&&xf(e),bt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Pl(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=BC(i),t=tn(i,t),r){case 0:e=nd(null,e,i,t,n);break e;case 1:e=im(null,e,i,t,n);break e;case 11:e=tm(null,e,i,t,n);break e;case 14:e=nm(null,e,i,tn(i.type,t),n);break e}throw Error(D(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:tn(i,r),nd(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:tn(i,r),im(t,e,i,r,n);case 3:e:{if(W0(e),t===null)throw Error(D(387));i=e.pendingProps,s=e.memoizedState,r=s.element,p0(t,e),rc(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=fs(Error(D(423)),e),e=rm(t,e,i,n,r);break e}else if(i!==r){r=fs(Error(D(424)),e),e=rm(t,e,i,n,r);break e}else for(Wt=yi(e.stateNode.containerInfo.firstChild),Vt=e,Ne=!0,sn=null,n=d0(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(us(),i===r){e=Kn(t,e,n);break e}bt(t,e,i,n)}e=e.child}return e;case 5:return g0(e),t===null&&qh(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Yh(i,r)?o=null:s!==null&&Yh(i,s)&&(e.flags|=32),j0(t,e),bt(t,e,o,n),e.child;case 6:return t===null&&qh(e),null;case 13:return V0(t,e,n);case 4:return Pf(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=hs(e,null,i,n):bt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:tn(i,r),tm(t,e,i,r,n);case 7:return bt(t,e,e.pendingProps,n),e.child;case 8:return bt(t,e,e.pendingProps.children,n),e.child;case 12:return bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Ee(nc,i._currentValue),i._currentValue=o,s!==null)if(pn(s.value,o)){if(s.children===r.children&&!Nt.current){e=Kn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Wn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Jh(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}bt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,ns(e,n),r=Jt(r),i=i(r),e.flags|=1,bt(t,e,i,n),e.child;case 14:return i=e.type,r=tn(i,e.pendingProps),r=tn(i.type,r),nm(t,e,i,r,n);case 15:return z0(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:tn(i,r),Pl(t,e),e.tag=1,Ot(i)?(t=!0,Zl(e)):t=!1,ns(e,n),L0(e,i,r),ed(e,i,r,n),id(null,e,i,!0,t,n);case 19:return H0(t,e,n);case 22:return B0(t,e,n)}throw Error(D(156,e.tag))};function sx(t,e){return Dv(t,e)}function zC(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(t,e,n,i){return new zC(t,e,n,i)}function Hf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BC(t){if(typeof t=="function")return Hf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lf)return 11;if(t===cf)return 14}return 2}function bi(t,e){var n=t.alternate;return n===null?(n=Xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Il(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Hf(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Br:return hr(n.children,r,s,e);case af:o=8,r|=8;break;case Ch:return t=Xt(12,n,e,r|2),t.elementType=Ch,t.lanes=s,t;case Eh:return t=Xt(13,n,e,r),t.elementType=Eh,t.lanes=s,t;case kh:return t=Xt(19,n,e,r),t.elementType=kh,t.lanes=s,t;case gv:return Zc(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fv:o=10;break e;case pv:o=9;break e;case lf:o=11;break e;case cf:o=14;break e;case ri:o=16,i=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=Xt(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function hr(t,e,n,i){return t=Xt(7,t,i,e),t.lanes=n,t}function Zc(t,e,n,i){return t=Xt(22,t,i,e),t.elementType=gv,t.lanes=n,t.stateNode={isHidden:!1},t}function Ku(t,e,n){return t=Xt(6,t,null,e),t.lanes=n,t}function Gu(t,e,n){return e=Xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jC(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pu(0),this.expirationTimes=Pu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pu(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uf(t,e,n,i,r,s,o,a,l){return t=new jC(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Xt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tf(s),t}function WC(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zr,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function ox(t){if(!t)return Mi;t=t._reactInternals;e:{if(kr(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(Ot(n))return o0(t,n,e)}return e}function ax(t,e,n,i,r,s,o,a,l){return t=Uf(n,i,!0,t,r,s,o,a,l),t.context=ox(null),n=t.current,i=Ct(),r=wi(n),s=Wn(i,r),s.callback=e??null,vi(n,s,r),t.current.lanes=r,ma(t,r,i),Lt(t,i),t}function eu(t,e,n,i){var r=e.current,s=Ct(),o=wi(r);return n=ox(n),e.context===null?e.context=n:e.pendingContext=n,e=Wn(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=vi(r,e,o),t!==null&&(hn(t,r,o,s),El(t,r,o)),o}function dc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $f(t,e){pm(t,e),(t=t.alternate)&&pm(t,e)}function VC(){return null}var lx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yf(t){this._internalRoot=t}tu.prototype.render=Yf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));eu(t,e,null,null)};tu.prototype.unmount=Yf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yr(function(){eu(null,t,null,null)}),e[$n]=null}};function tu(t){this._internalRoot=t}tu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Bv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<oi.length&&e!==0&&e<oi[n].priority;n++);oi.splice(n,0,t),n===0&&Wv(t)}};function Kf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gm(){}function HC(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=dc(o);s.call(c)}}var o=ax(e,i,t,0,null,!1,!1,"",gm);return t._reactRootContainer=o,t[$n]=o.current,jo(t.nodeType===8?t.parentNode:t),yr(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=dc(l);a.call(c)}}var l=Uf(t,0,!1,null,null,!1,!1,"",gm);return t._reactRootContainer=l,t[$n]=l.current,jo(t.nodeType===8?t.parentNode:t),yr(function(){eu(e,l,n,i)}),l}function iu(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=dc(o);a.call(l)}}eu(e,o,t,r)}else o=HC(n,e,t,r,i);return dc(o)}Fv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=io(e.pendingLanes);n!==0&&(df(e,n|1),Lt(e,$e()),!(he&6)&&(ps=$e()+500,Fi()))}break;case 13:yr(function(){var i=Yn(t,1);if(i!==null){var r=Ct();hn(i,t,1,r)}}),$f(t,1)}};ff=function(t){if(t.tag===13){var e=Yn(t,134217728);if(e!==null){var n=Ct();hn(e,t,134217728,n)}$f(t,134217728)}};zv=function(t){if(t.tag===13){var e=wi(t),n=Yn(t,e);if(n!==null){var i=Ct();hn(n,t,e,i)}$f(t,e)}};Bv=function(){return ye};jv=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};Ah=function(t,e,n){switch(e){case"input":if(Mh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Kc(i);if(!r)throw Error(D(90));_v(i),Mh(i,r)}}}break;case"textarea":vv(t,n);break;case"select":e=n.value,e!=null&&Jr(t,!!n.multiple,e,!1)}};kv=jf;Tv=yr;var UC={usingClientEntryPoint:!1,Events:[ya,Hr,Kc,Cv,Ev,jf]},Vs={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$C={bundleType:Vs.bundleType,version:Vs.version,rendererPackageName:Vs.rendererPackageName,rendererConfig:Vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rv(t),t===null?null:t.stateNode},findFiberByHostInstance:Vs.findFiberByHostInstance||VC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{Hc=nl.inject($C),bn=nl}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UC;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kf(e))throw Error(D(200));return WC(t,e,null,n)};$t.createRoot=function(t,e){if(!Kf(t))throw Error(D(299));var n=!1,i="",r=lx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Uf(t,1,!1,null,null,n,!1,i,r),t[$n]=e.current,jo(t.nodeType===8?t.parentNode:t),new Yf(e)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=Rv(e),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return yr(t)};$t.hydrate=function(t,e,n){if(!nu(e))throw Error(D(200));return iu(null,t,e,!0,n)};$t.hydrateRoot=function(t,e,n){if(!Kf(t))throw Error(D(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=lx;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ax(e,null,t,1,n??null,r,!1,s,o),t[$n]=e.current,jo(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new tu(e)};$t.render=function(t,e,n){if(!nu(e))throw Error(D(200));return iu(null,t,e,!1,n)};$t.unmountComponentAtNode=function(t){if(!nu(t))throw Error(D(40));return t._reactRootContainer?(yr(function(){iu(null,null,t,!1,function(){t._reactRootContainer=null,t[$n]=null})}),!0):!1};$t.unstable_batchedUpdates=jf;$t.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!nu(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return iu(t,e,n,!1,i)};$t.version="18.3.1-next-f1338f8080-20240426";function cx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cx)}catch(t){console.error(t)}}cx(),cv.exports=$t;var Gf=cv.exports;const YC=qy(Gf),KC=Xy({__proto__:null,default:YC},[Gf]);var ux,mm=Gf;ux=mm.createRoot,mm.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function De(){return De=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},De.apply(this,arguments)}var Ge;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ge||(Ge={}));const _m="popstate";function GC(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Qo("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:vr(r)}return XC(e,n,null,t)}function Z(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function gs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QC(){return Math.random().toString(36).substr(2,8)}function ym(t,e){return{usr:t.state,key:t.key,idx:e}}function Qo(t,e,n,i){return n===void 0&&(n=null),De({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zi(e):e,{state:n,key:e&&e.key||i||QC()})}function vr(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function zi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function XC(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Ge.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(De({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Ge.Pop;let v=u(),_=v==null?null:v-c;c=v,l&&l({action:a,location:m.location,delta:_})}function d(v,_){a=Ge.Push;let g=Qo(m.location,v,_);c=u()+1;let y=ym(g,c),w=m.createHref(g);try{o.pushState(y,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(w)}s&&l&&l({action:a,location:m.location,delta:1})}function f(v,_){a=Ge.Replace;let g=Qo(m.location,v,_);c=u();let y=ym(g,c),w=m.createHref(g);o.replaceState(y,"",w),s&&l&&l({action:a,location:m.location,delta:0})}function p(v){let _=r.location.origin!=="null"?r.location.origin:r.location.href,g=typeof v=="string"?v:vr(v);return g=g.replace(/ $/,"%20"),Z(_,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,_)}let m={get action(){return a},get location(){return t(r,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(_m,h),l=v,()=>{r.removeEventListener(_m,h),l=null}},createHref(v){return e(r,v)},createURL:p,encodeLocation(v){let _=p(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:d,replace:f,go(v){return o.go(v)}};return m}var ve;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ve||(ve={}));const qC=new Set(["lazy","caseSensitive","path","id","index","children"]);function JC(t){return t.index===!0}function fc(t,e,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),t.map((r,s)=>{let o=[...n,String(s)],a=typeof r.id=="string"?r.id:o.join("-");if(Z(r.index!==!0||!r.children,"Cannot specify children on an index route"),Z(!i[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),JC(r)){let l=De({},r,e(r),{id:a});return i[a]=l,l}else{let l=De({},r,e(r),{id:a,children:void 0});return i[a]=l,r.children&&(l.children=fc(r.children,e,o,i)),l}})}function nr(t,e,n){return n===void 0&&(n="/"),Dl(t,e,n,!1)}function Dl(t,e,n,i){let r=typeof e=="string"?zi(e):e,s=Gn(r.pathname||"/",n);if(s==null)return null;let o=hx(t);eE(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=hE(s);a=cE(o[l],c,i)}return a}function ZC(t,e){let{route:n,pathname:i,params:r}=t;return{id:n.id,pathname:i,params:r,data:e[n.id],handle:n.handle}}function hx(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Z(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Vn([i,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Z(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),hx(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:aE(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of dx(s.path))r(s,o,l)}),e}function dx(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=dx(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function eE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:lE(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const tE=/^:[\w-]+$/,nE=3,iE=2,rE=1,sE=10,oE=-2,vm=t=>t==="*";function aE(t,e){let n=t.split("/"),i=n.length;return n.some(vm)&&(i+=oE),e&&(i+=iE),n.filter(r=>!vm(r)).reduce((r,s)=>r+(tE.test(s)?nE:s===""?rE:sE),i)}function lE(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function cE(t,e,n){n===void 0&&(n=!1);let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,u=s==="/"?e:e.slice(s.length)||"/",h=pc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),d=l.route;if(!h&&c&&n&&!i[i.length-1].route.index&&(h=pc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:Vn([s,h.pathname]),pathnameBase:pE(Vn([s,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(s=Vn([s,h.pathnameBase]))}return o}function pc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=uE(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,h)=>{let{paramName:d,isOptional:f}=u;if(d==="*"){let m=a[h]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?c[d]=void 0:c[d]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function uE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),gs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function hE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gs(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function dE(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?zi(t):t;return{pathname:n?n.startsWith("/")?n:fE(n,e):e,search:gE(i),hash:mE(r)}}function fE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Qu(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Qf(t,e){let n=fx(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Xf(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=zi(t):(r=De({},t),Z(!r.pathname||!r.pathname.includes("?"),Qu("?","pathname","search",r)),Z(!r.pathname||!r.pathname.includes("#"),Qu("#","pathname","hash",r)),Z(!r.search||!r.search.includes("#"),Qu("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!i&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),h-=1;r.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=dE(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Vn=t=>t.join("/").replace(/\/\/+/g,"/"),pE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class gc{constructor(e,n,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=n||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function ru(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const px=["post","put","patch","delete"],_E=new Set(px),yE=["get",...px],vE=new Set(yE),xE=new Set([301,302,303,307,308]),wE=new Set([307,308]),Xu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Hs={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SE=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),gx="remix-router-transitions";function CE(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!n;Z(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(t.mapRouteProperties)r=t.mapRouteProperties;else if(t.detectErrorBoundary){let b=t.detectErrorBoundary;r=E=>({hasErrorBoundary:b(E)})}else r=SE;let s={},o=fc(t.routes,r,void 0,s),a,l=t.basename||"/",c=t.dataStrategy||PE,u=t.patchRoutesOnNavigation,h=De({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),d=null,f=new Set,p=null,m=null,v=null,_=t.hydrationData!=null,g=nr(o,t.history.location,l),y=null;if(g==null&&!u){let b=Pt(404,{pathname:t.history.location.pathname}),{matches:E,route:T}=Rm(o);g=E,y={[T.id]:b}}g&&!t.hydrationData&&Aa(g,o,t.history.location.pathname).active&&(g=null);let w;if(g)if(g.some(b=>b.route.lazy))w=!1;else if(!g.some(b=>b.route.loader))w=!0;else if(h.v7_partialHydration){let b=t.hydrationData?t.hydrationData.loaderData:null,E=t.hydrationData?t.hydrationData.errors:null;if(E){let T=g.findIndex(I=>E[I.route.id]!==void 0);w=g.slice(0,T+1).every(I=>!md(I.route,b,E))}else w=g.every(T=>!md(T.route,b,E))}else w=t.hydrationData!=null;else if(w=!1,g=[],h.v7_partialHydration){let b=Aa(null,o,t.history.location.pathname);b.active&&b.matches&&(g=b.matches)}let S,x={historyAction:t.history.action,location:t.history.location,matches:g,initialized:w,navigation:Xu,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},k=Ge.Pop,C=!1,P,M=!1,A=new Map,H=null,J=!1,le=!1,te=[],ce=new Set,X=new Map,O=0,j=-1,K=new Map,re=new Set,fe=new Map,dt=new Map,ke=new Set,ot=new Map,Ae=new Map,En;function eS(){if(d=t.history.listen(b=>{let{action:E,location:T,delta:I}=b;if(En){En(),En=void 0;return}gs(Ae.size===0||I!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let z=rg({currentLocation:x.location,nextLocation:T,historyAction:E});if(z&&I!=null){let $=new Promise(Q=>{En=Q});t.history.go(I*-1),La(z,{state:"blocked",location:T,proceed(){La(z,{state:"proceeding",proceed:void 0,reset:void 0,location:T}),$.then(()=>t.history.go(I))},reset(){let Q=new Map(x.blockers);Q.set(z,Hs),wt({blockers:Q})}});return}return Hi(E,T)}),n){VE(e,A);let b=()=>HE(e,A);e.addEventListener("pagehide",b),H=()=>e.removeEventListener("pagehide",b)}return x.initialized||Hi(Ge.Pop,x.location,{initialHydration:!0}),S}function tS(){d&&d(),H&&H(),f.clear(),P&&P.abort(),x.fetchers.forEach((b,E)=>Oa(E)),x.blockers.forEach((b,E)=>ig(E))}function nS(b){return f.add(b),()=>f.delete(b)}function wt(b,E){E===void 0&&(E={}),x=De({},x,b);let T=[],I=[];h.v7_fetcherPersist&&x.fetchers.forEach((z,$)=>{z.state==="idle"&&(ke.has($)?I.push($):T.push($))}),[...f].forEach(z=>z(x,{deletedFetchers:I,viewTransitionOpts:E.viewTransitionOpts,flushSync:E.flushSync===!0})),h.v7_fetcherPersist&&(T.forEach(z=>x.fetchers.delete(z)),I.forEach(z=>Oa(z)))}function Mr(b,E,T){var I,z;let{flushSync:$}=T===void 0?{}:T,Q=x.actionData!=null&&x.navigation.formMethod!=null&&rn(x.navigation.formMethod)&&x.navigation.state==="loading"&&((I=b.state)==null?void 0:I._isRedirect)!==!0,W;E.actionData?Object.keys(E.actionData).length>0?W=E.actionData:W=null:Q?W=x.actionData:W=null;let V=E.loaderData?Pm(x.loaderData,E.loaderData,E.matches||[],E.errors):x.loaderData,B=x.blockers;B.size>0&&(B=new Map(B),B.forEach((ue,at)=>B.set(at,Hs)));let Y=C===!0||x.navigation.formMethod!=null&&rn(x.navigation.formMethod)&&((z=b.state)==null?void 0:z._isRedirect)!==!0;a&&(o=a,a=void 0),J||k===Ge.Pop||(k===Ge.Push?t.history.push(b,b.state):k===Ge.Replace&&t.history.replace(b,b.state));let se;if(k===Ge.Pop){let ue=A.get(x.location.pathname);ue&&ue.has(b.pathname)?se={currentLocation:x.location,nextLocation:b}:A.has(b.pathname)&&(se={currentLocation:b,nextLocation:x.location})}else if(M){let ue=A.get(x.location.pathname);ue?ue.add(b.pathname):(ue=new Set([b.pathname]),A.set(x.location.pathname,ue)),se={currentLocation:x.location,nextLocation:b}}wt(De({},E,{actionData:W,loaderData:V,historyAction:k,location:b,initialized:!0,navigation:Xu,revalidation:"idle",restoreScrollPosition:og(b,E.matches||x.matches),preventScrollReset:Y,blockers:B}),{viewTransitionOpts:se,flushSync:$===!0}),k=Ge.Pop,C=!1,M=!1,J=!1,le=!1,te=[]}async function Xp(b,E){if(typeof b=="number"){t.history.go(b);return}let T=gd(x.location,x.matches,l,h.v7_prependBasename,b,h.v7_relativeSplatPath,E==null?void 0:E.fromRouteId,E==null?void 0:E.relative),{path:I,submission:z,error:$}=xm(h.v7_normalizeFormMethod,!1,T,E),Q=x.location,W=Qo(x.location,I,E&&E.state);W=De({},W,t.history.encodeLocation(W));let V=E&&E.replace!=null?E.replace:void 0,B=Ge.Push;V===!0?B=Ge.Replace:V===!1||z!=null&&rn(z.formMethod)&&z.formAction===x.location.pathname+x.location.search&&(B=Ge.Replace);let Y=E&&"preventScrollReset"in E?E.preventScrollReset===!0:void 0,se=(E&&E.flushSync)===!0,ue=rg({currentLocation:Q,nextLocation:W,historyAction:B});if(ue){La(ue,{state:"blocked",location:W,proceed(){La(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),Xp(b,E)},reset(){let at=new Map(x.blockers);at.set(ue,Hs),wt({blockers:at})}});return}return await Hi(B,W,{submission:z,pendingError:$,preventScrollReset:Y,replace:E&&E.replace,enableViewTransition:E&&E.viewTransition,flushSync:se})}function iS(){if(vu(),wt({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){Hi(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}Hi(k||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:M===!0})}}async function Hi(b,E,T){P&&P.abort(),P=null,k=b,J=(T&&T.startUninterruptedRevalidation)===!0,fS(x.location,x.matches),C=(T&&T.preventScrollReset)===!0,M=(T&&T.enableViewTransition)===!0;let I=a||o,z=T&&T.overrideNavigation,$=nr(I,E,l),Q=(T&&T.flushSync)===!0,W=Aa($,I,E.pathname);if(W.active&&W.matches&&($=W.matches),!$){let{error:we,notFoundMatches:me,route:je}=xu(E.pathname);Mr(E,{matches:me,loaderData:{},errors:{[je.id]:we}},{flushSync:Q});return}if(x.initialized&&!le&&OE(x.location,E)&&!(T&&T.submission&&rn(T.submission.formMethod))){Mr(E,{matches:$},{flushSync:Q});return}P=new AbortController;let V=Or(t.history,E,P.signal,T&&T.submission),B;if(T&&T.pendingError)B=[ir($).route.id,{type:ve.error,error:T.pendingError}];else if(T&&T.submission&&rn(T.submission.formMethod)){let we=await rS(V,E,T.submission,$,W.active,{replace:T.replace,flushSync:Q});if(we.shortCircuited)return;if(we.pendingActionResult){let[me,je]=we.pendingActionResult;if(Bt(je)&&ru(je.error)&&je.error.status===404){P=null,Mr(E,{matches:we.matches,loaderData:{},errors:{[me]:je.error}});return}}$=we.matches||$,B=we.pendingActionResult,z=qu(E,T.submission),Q=!1,W.active=!1,V=Or(t.history,V.url,V.signal)}let{shortCircuited:Y,matches:se,loaderData:ue,errors:at}=await sS(V,E,$,W.active,z,T&&T.submission,T&&T.fetcherSubmission,T&&T.replace,T&&T.initialHydration===!0,Q,B);Y||(P=null,Mr(E,De({matches:se||$},Mm(B),{loaderData:ue,errors:at})))}async function rS(b,E,T,I,z,$){$===void 0&&($={}),vu();let Q=jE(E,T);if(wt({navigation:Q},{flushSync:$.flushSync===!0}),z){let B=await Fa(I,E.pathname,b.signal);if(B.type==="aborted")return{shortCircuited:!0};if(B.type==="error"){let Y=ir(B.partialMatches).route.id;return{matches:B.partialMatches,pendingActionResult:[Y,{type:ve.error,error:B.error}]}}else if(B.matches)I=B.matches;else{let{notFoundMatches:Y,error:se,route:ue}=xu(E.pathname);return{matches:Y,pendingActionResult:[ue.id,{type:ve.error,error:se}]}}}let W,V=so(I,E);if(!V.route.action&&!V.route.lazy)W={type:ve.error,error:Pt(405,{method:b.method,pathname:E.pathname,routeId:V.route.id})};else if(W=(await Is("action",x,b,[V],I,null))[V.route.id],b.signal.aborted)return{shortCircuited:!0};if(ar(W)){let B;return $&&$.replace!=null?B=$.replace:B=Em(W.response.headers.get("Location"),new URL(b.url),l)===x.location.pathname+x.location.search,await Ui(b,W,!0,{submission:T,replace:B}),{shortCircuited:!0}}if(ui(W))throw Pt(400,{type:"defer-action"});if(Bt(W)){let B=ir(I,V.route.id);return($&&$.replace)!==!0&&(k=Ge.Push),{matches:I,pendingActionResult:[B.route.id,W]}}return{matches:I,pendingActionResult:[V.route.id,W]}}async function sS(b,E,T,I,z,$,Q,W,V,B,Y){let se=z||qu(E,$),ue=$||Q||Dm(se),at=!J&&(!h.v7_partialHydration||!V);if(I){if(at){let We=qp(Y);wt(De({navigation:se},We!==void 0?{actionData:We}:{}),{flushSync:B})}let pe=await Fa(T,E.pathname,b.signal);if(pe.type==="aborted")return{shortCircuited:!0};if(pe.type==="error"){let We=ir(pe.partialMatches).route.id;return{matches:pe.partialMatches,loaderData:{},errors:{[We]:pe.error}}}else if(pe.matches)T=pe.matches;else{let{error:We,notFoundMatches:Ir,route:Os}=xu(E.pathname);return{matches:Ir,loaderData:{},errors:{[Os.id]:We}}}}let we=a||o,[me,je]=bm(t.history,x,T,ue,E,h.v7_partialHydration&&V===!0,h.v7_skipActionErrorRevalidation,le,te,ce,ke,fe,re,we,l,Y);if(wu(pe=>!(T&&T.some(We=>We.route.id===pe))||me&&me.some(We=>We.route.id===pe)),j=++O,me.length===0&&je.length===0){let pe=tg();return Mr(E,De({matches:T,loaderData:{},errors:Y&&Bt(Y[1])?{[Y[0]]:Y[1].error}:null},Mm(Y),pe?{fetchers:new Map(x.fetchers)}:{}),{flushSync:B}),{shortCircuited:!0}}if(at){let pe={};if(!I){pe.navigation=se;let We=qp(Y);We!==void 0&&(pe.actionData=We)}je.length>0&&(pe.fetchers=oS(je)),wt(pe,{flushSync:B})}je.forEach(pe=>{ti(pe.key),pe.controller&&X.set(pe.key,pe.controller)});let Rr=()=>je.forEach(pe=>ti(pe.key));P&&P.signal.addEventListener("abort",Rr);let{loaderResults:Ds,fetcherResults:Tn}=await Jp(x,T,me,je,b);if(b.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",Rr),je.forEach(pe=>X.delete(pe.key));let mn=il(Ds);if(mn)return await Ui(b,mn.result,!0,{replace:W}),{shortCircuited:!0};if(mn=il(Tn),mn)return re.add(mn.key),await Ui(b,mn.result,!0,{replace:W}),{shortCircuited:!0};let{loaderData:bu,errors:Ns}=Tm(x,T,Ds,Y,je,Tn,ot);ot.forEach((pe,We)=>{pe.subscribe(Ir=>{(Ir||pe.done)&&ot.delete(We)})}),h.v7_partialHydration&&V&&x.errors&&(Ns=De({},x.errors,Ns));let $i=tg(),za=ng(j),Ba=$i||za||je.length>0;return De({matches:T,loaderData:bu,errors:Ns},Ba?{fetchers:new Map(x.fetchers)}:{})}function qp(b){if(b&&!Bt(b[1]))return{[b[0]]:b[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function oS(b){return b.forEach(E=>{let T=x.fetchers.get(E.key),I=Us(void 0,T?T.data:void 0);x.fetchers.set(E.key,I)}),new Map(x.fetchers)}function aS(b,E,T,I){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ti(b);let z=(I&&I.flushSync)===!0,$=a||o,Q=gd(x.location,x.matches,l,h.v7_prependBasename,T,h.v7_relativeSplatPath,E,I==null?void 0:I.relative),W=nr($,Q,l),V=Aa(W,$,Q);if(V.active&&V.matches&&(W=V.matches),!W){kn(b,E,Pt(404,{pathname:Q}),{flushSync:z});return}let{path:B,submission:Y,error:se}=xm(h.v7_normalizeFormMethod,!0,Q,I);if(se){kn(b,E,se,{flushSync:z});return}let ue=so(W,B),at=(I&&I.preventScrollReset)===!0;if(Y&&rn(Y.formMethod)){lS(b,E,B,ue,W,V.active,z,at,Y);return}fe.set(b,{routeId:E,path:B}),cS(b,E,B,ue,W,V.active,z,at,Y)}async function lS(b,E,T,I,z,$,Q,W,V){vu(),fe.delete(b);function B(Ke){if(!Ke.route.action&&!Ke.route.lazy){let Dr=Pt(405,{method:V.formMethod,pathname:T,routeId:E});return kn(b,E,Dr,{flushSync:Q}),!0}return!1}if(!$&&B(I))return;let Y=x.fetchers.get(b);ei(b,WE(V,Y),{flushSync:Q});let se=new AbortController,ue=Or(t.history,T,se.signal,V);if($){let Ke=await Fa(z,T,ue.signal);if(Ke.type==="aborted")return;if(Ke.type==="error"){kn(b,E,Ke.error,{flushSync:Q});return}else if(Ke.matches){if(z=Ke.matches,I=so(z,T),B(I))return}else{kn(b,E,Pt(404,{pathname:T}),{flushSync:Q});return}}X.set(b,se);let at=O,me=(await Is("action",x,ue,[I],z,b))[I.route.id];if(ue.signal.aborted){X.get(b)===se&&X.delete(b);return}if(h.v7_fetcherPersist&&ke.has(b)){if(ar(me)||Bt(me)){ei(b,ii(void 0));return}}else{if(ar(me))if(X.delete(b),j>at){ei(b,ii(void 0));return}else return re.add(b),ei(b,Us(V)),Ui(ue,me,!1,{fetcherSubmission:V,preventScrollReset:W});if(Bt(me)){kn(b,E,me.error);return}}if(ui(me))throw Pt(400,{type:"defer-action"});let je=x.navigation.location||x.location,Rr=Or(t.history,je,se.signal),Ds=a||o,Tn=x.navigation.state!=="idle"?nr(Ds,x.navigation.location,l):x.matches;Z(Tn,"Didn't find any matches after fetcher action");let mn=++O;K.set(b,mn);let bu=Us(V,me.data);x.fetchers.set(b,bu);let[Ns,$i]=bm(t.history,x,Tn,V,je,!1,h.v7_skipActionErrorRevalidation,le,te,ce,ke,fe,re,Ds,l,[I.route.id,me]);$i.filter(Ke=>Ke.key!==b).forEach(Ke=>{let Dr=Ke.key,ag=x.fetchers.get(Dr),mS=Us(void 0,ag?ag.data:void 0);x.fetchers.set(Dr,mS),ti(Dr),Ke.controller&&X.set(Dr,Ke.controller)}),wt({fetchers:new Map(x.fetchers)});let za=()=>$i.forEach(Ke=>ti(Ke.key));se.signal.addEventListener("abort",za);let{loaderResults:Ba,fetcherResults:pe}=await Jp(x,Tn,Ns,$i,Rr);if(se.signal.aborted)return;se.signal.removeEventListener("abort",za),K.delete(b),X.delete(b),$i.forEach(Ke=>X.delete(Ke.key));let We=il(Ba);if(We)return Ui(Rr,We.result,!1,{preventScrollReset:W});if(We=il(pe),We)return re.add(We.key),Ui(Rr,We.result,!1,{preventScrollReset:W});let{loaderData:Ir,errors:Os}=Tm(x,Tn,Ba,void 0,$i,pe,ot);if(x.fetchers.has(b)){let Ke=ii(me.data);x.fetchers.set(b,Ke)}ng(mn),x.navigation.state==="loading"&&mn>j?(Z(k,"Expected pending action"),P&&P.abort(),Mr(x.navigation.location,{matches:Tn,loaderData:Ir,errors:Os,fetchers:new Map(x.fetchers)})):(wt({errors:Os,loaderData:Pm(x.loaderData,Ir,Tn,Os),fetchers:new Map(x.fetchers)}),le=!1)}async function cS(b,E,T,I,z,$,Q,W,V){let B=x.fetchers.get(b);ei(b,Us(V,B?B.data:void 0),{flushSync:Q});let Y=new AbortController,se=Or(t.history,T,Y.signal);if($){let me=await Fa(z,T,se.signal);if(me.type==="aborted")return;if(me.type==="error"){kn(b,E,me.error,{flushSync:Q});return}else if(me.matches)z=me.matches,I=so(z,T);else{kn(b,E,Pt(404,{pathname:T}),{flushSync:Q});return}}X.set(b,Y);let ue=O,we=(await Is("loader",x,se,[I],z,b))[I.route.id];if(ui(we)&&(we=await Jf(we,se.signal,!0)||we),X.get(b)===Y&&X.delete(b),!se.signal.aborted){if(ke.has(b)){ei(b,ii(void 0));return}if(ar(we))if(j>ue){ei(b,ii(void 0));return}else{re.add(b),await Ui(se,we,!1,{preventScrollReset:W});return}if(Bt(we)){kn(b,E,we.error);return}Z(!ui(we),"Unhandled fetcher deferred data"),ei(b,ii(we.data))}}async function Ui(b,E,T,I){let{submission:z,fetcherSubmission:$,preventScrollReset:Q,replace:W}=I===void 0?{}:I;E.response.headers.has("X-Remix-Revalidate")&&(le=!0);let V=E.response.headers.get("Location");Z(V,"Expected a Location header on the redirect Response"),V=Em(V,new URL(b.url),l);let B=Qo(x.location,V,{_isRedirect:!0});if(n){let me=!1;if(E.response.headers.has("X-Remix-Reload-Document"))me=!0;else if(qf.test(V)){const je=t.history.createURL(V);me=je.origin!==e.location.origin||Gn(je.pathname,l)==null}if(me){W?e.location.replace(V):e.location.assign(V);return}}P=null;let Y=W===!0||E.response.headers.has("X-Remix-Replace")?Ge.Replace:Ge.Push,{formMethod:se,formAction:ue,formEncType:at}=x.navigation;!z&&!$&&se&&ue&&at&&(z=Dm(x.navigation));let we=z||$;if(wE.has(E.response.status)&&we&&rn(we.formMethod))await Hi(Y,B,{submission:De({},we,{formAction:V}),preventScrollReset:Q||C,enableViewTransition:T?M:void 0});else{let me=qu(B,z);await Hi(Y,B,{overrideNavigation:me,fetcherSubmission:$,preventScrollReset:Q||C,enableViewTransition:T?M:void 0})}}async function Is(b,E,T,I,z,$){let Q,W={};try{Q=await ME(c,b,E,T,I,z,$,s,r)}catch(V){return I.forEach(B=>{W[B.route.id]={type:ve.error,error:V}}),W}for(let[V,B]of Object.entries(Q))if(LE(B)){let Y=B.result;W[V]={type:ve.redirect,response:DE(Y,T,V,z,l,h.v7_relativeSplatPath)}}else W[V]=await IE(B);return W}async function Jp(b,E,T,I,z){let $=b.matches,Q=Is("loader",b,z,T,E,null),W=Promise.all(I.map(async Y=>{if(Y.matches&&Y.match&&Y.controller){let ue=(await Is("loader",b,Or(t.history,Y.path,Y.controller.signal),[Y.match],Y.matches,Y.key))[Y.match.route.id];return{[Y.key]:ue}}else return Promise.resolve({[Y.key]:{type:ve.error,error:Pt(404,{pathname:Y.path})}})})),V=await Q,B=(await W).reduce((Y,se)=>Object.assign(Y,se),{});return await Promise.all([zE(E,V,z.signal,$,b.loaderData),BE(E,B,I)]),{loaderResults:V,fetcherResults:B}}function vu(){le=!0,te.push(...wu()),fe.forEach((b,E)=>{X.has(E)&&ce.add(E),ti(E)})}function ei(b,E,T){T===void 0&&(T={}),x.fetchers.set(b,E),wt({fetchers:new Map(x.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function kn(b,E,T,I){I===void 0&&(I={});let z=ir(x.matches,E);Oa(b),wt({errors:{[z.route.id]:T},fetchers:new Map(x.fetchers)},{flushSync:(I&&I.flushSync)===!0})}function Zp(b){return h.v7_fetcherPersist&&(dt.set(b,(dt.get(b)||0)+1),ke.has(b)&&ke.delete(b)),x.fetchers.get(b)||bE}function Oa(b){let E=x.fetchers.get(b);X.has(b)&&!(E&&E.state==="loading"&&K.has(b))&&ti(b),fe.delete(b),K.delete(b),re.delete(b),ke.delete(b),ce.delete(b),x.fetchers.delete(b)}function uS(b){if(h.v7_fetcherPersist){let E=(dt.get(b)||0)-1;E<=0?(dt.delete(b),ke.add(b)):dt.set(b,E)}else Oa(b);wt({fetchers:new Map(x.fetchers)})}function ti(b){let E=X.get(b);E&&(E.abort(),X.delete(b))}function eg(b){for(let E of b){let T=Zp(E),I=ii(T.data);x.fetchers.set(E,I)}}function tg(){let b=[],E=!1;for(let T of re){let I=x.fetchers.get(T);Z(I,"Expected fetcher: "+T),I.state==="loading"&&(re.delete(T),b.push(T),E=!0)}return eg(b),E}function ng(b){let E=[];for(let[T,I]of K)if(I<b){let z=x.fetchers.get(T);Z(z,"Expected fetcher: "+T),z.state==="loading"&&(ti(T),K.delete(T),E.push(T))}return eg(E),E.length>0}function hS(b,E){let T=x.blockers.get(b)||Hs;return Ae.get(b)!==E&&Ae.set(b,E),T}function ig(b){x.blockers.delete(b),Ae.delete(b)}function La(b,E){let T=x.blockers.get(b)||Hs;Z(T.state==="unblocked"&&E.state==="blocked"||T.state==="blocked"&&E.state==="blocked"||T.state==="blocked"&&E.state==="proceeding"||T.state==="blocked"&&E.state==="unblocked"||T.state==="proceeding"&&E.state==="unblocked","Invalid blocker state transition: "+T.state+" -> "+E.state);let I=new Map(x.blockers);I.set(b,E),wt({blockers:I})}function rg(b){let{currentLocation:E,nextLocation:T,historyAction:I}=b;if(Ae.size===0)return;Ae.size>1&&gs(!1,"A router only supports one blocker at a time");let z=Array.from(Ae.entries()),[$,Q]=z[z.length-1],W=x.blockers.get($);if(!(W&&W.state==="proceeding")&&Q({currentLocation:E,nextLocation:T,historyAction:I}))return $}function xu(b){let E=Pt(404,{pathname:b}),T=a||o,{matches:I,route:z}=Rm(T);return wu(),{notFoundMatches:I,route:z,error:E}}function wu(b){let E=[];return ot.forEach((T,I)=>{(!b||b(I))&&(T.cancel(),E.push(I),ot.delete(I))}),E}function dS(b,E,T){if(p=b,v=E,m=T||null,!_&&x.navigation===Xu){_=!0;let I=og(x.location,x.matches);I!=null&&wt({restoreScrollPosition:I})}return()=>{p=null,v=null,m=null}}function sg(b,E){return m&&m(b,E.map(I=>ZC(I,x.loaderData)))||b.key}function fS(b,E){if(p&&v){let T=sg(b,E);p[T]=v()}}function og(b,E){if(p){let T=sg(b,E),I=p[T];if(typeof I=="number")return I}return null}function Aa(b,E,T){if(u)if(b){if(Object.keys(b[0].params).length>0)return{active:!0,matches:Dl(E,T,l,!0)}}else return{active:!0,matches:Dl(E,T,l,!0)||[]};return{active:!1,matches:null}}async function Fa(b,E,T){if(!u)return{type:"success",matches:b};let I=b;for(;;){let z=a==null,$=a||o,Q=s;try{await u({path:E,matches:I,patch:(B,Y)=>{T.aborted||Cm(B,Y,$,Q,r)}})}catch(B){return{type:"error",error:B,partialMatches:I}}finally{z&&!T.aborted&&(o=[...o])}if(T.aborted)return{type:"aborted"};let W=nr($,E,l);if(W)return{type:"success",matches:W};let V=Dl($,E,l,!0);if(!V||I.length===V.length&&I.every((B,Y)=>B.route.id===V[Y].route.id))return{type:"success",matches:null};I=V}}function pS(b){s={},a=fc(b,r,void 0,s)}function gS(b,E){let T=a==null;Cm(b,E,a||o,s,r),T&&(o=[...o],wt({}))}return S={get basename(){return l},get future(){return h},get state(){return x},get routes(){return o},get window(){return e},initialize:eS,subscribe:nS,enableScrollRestoration:dS,navigate:Xp,fetch:aS,revalidate:iS,createHref:b=>t.history.createHref(b),encodeLocation:b=>t.history.encodeLocation(b),getFetcher:Zp,deleteFetcher:uS,dispose:tS,getBlocker:hS,deleteBlocker:ig,patchRoutes:gS,_internalFetchControllers:X,_internalActiveDeferreds:ot,_internalSetRoutes:pS},S}function EE(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function gd(t,e,n,i,r,s,o,a){let l,c;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){c=h;break}}else l=e,c=e[e.length-1];let u=Xf(r||".",Qf(l,s),Gn(t.pathname,n)||t.pathname,a==="path");if(r==null&&(u.search=t.search,u.hash=t.hash),(r==null||r===""||r===".")&&c){let h=Zf(u.search);if(c.route.index&&!h)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let d=new URLSearchParams(u.search),f=d.getAll("index");d.delete("index"),f.filter(m=>m).forEach(m=>d.append("index",m));let p=d.toString();u.search=p?"?"+p:""}}return i&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Vn([n,u.pathname])),vr(u)}function xm(t,e,n,i){if(!i||!EE(i))return{path:n};if(i.formMethod&&!FE(i.formMethod))return{path:n,error:Pt(405,{method:i.formMethod})};let r=()=>({path:n,error:Pt(400,{type:"invalid-body"})}),s=i.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=yx(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!rn(o))return r();let d=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((f,p)=>{let[m,v]=p;return""+f+m+"="+v+`
`},""):String(i.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:void 0,text:d}}}else if(i.formEncType==="application/json"){if(!rn(o))return r();try{let d=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:d,text:void 0}}}catch{return r()}}}Z(typeof FormData=="function","FormData is not available in this environment");let l,c;if(i.formData)l=_d(i.formData),c=i.formData;else if(i.body instanceof FormData)l=_d(i.body),c=i.body;else if(i.body instanceof URLSearchParams)l=i.body,c=km(l);else if(i.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(i.body),c=km(l)}catch{return r()}let u={formMethod:o,formAction:a,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(rn(u.formMethod))return{path:n,submission:u};let h=zi(n);return e&&h.search&&Zf(h.search)&&l.append("index",""),h.search="?"+l,{path:vr(h),submission:u}}function wm(t,e,n){n===void 0&&(n=!1);let i=t.findIndex(r=>r.route.id===e);return i>=0?t.slice(0,n?i+1:i):t}function bm(t,e,n,i,r,s,o,a,l,c,u,h,d,f,p,m){let v=m?Bt(m[1])?m[1].error:m[1].data:void 0,_=t.createURL(e.location),g=t.createURL(r),y=n;s&&e.errors?y=wm(n,Object.keys(e.errors)[0],!0):m&&Bt(m[1])&&(y=wm(n,m[0]));let w=m?m[1].statusCode:void 0,S=o&&w&&w>=400,x=y.filter((C,P)=>{let{route:M}=C;if(M.lazy)return!0;if(M.loader==null)return!1;if(s)return md(M,e.loaderData,e.errors);if(kE(e.loaderData,e.matches[P],C)||l.some(J=>J===C.route.id))return!0;let A=e.matches[P],H=C;return Sm(C,De({currentUrl:_,currentParams:A.params,nextUrl:g,nextParams:H.params},i,{actionResult:v,actionStatus:w,defaultShouldRevalidate:S?!1:a||_.pathname+_.search===g.pathname+g.search||_.search!==g.search||mx(A,H)}))}),k=[];return h.forEach((C,P)=>{if(s||!n.some(le=>le.route.id===C.routeId)||u.has(P))return;let M=nr(f,C.path,p);if(!M){k.push({key:P,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(P),H=so(M,C.path),J=!1;d.has(P)?J=!1:c.has(P)?(c.delete(P),J=!0):A&&A.state!=="idle"&&A.data===void 0?J=a:J=Sm(H,De({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params},i,{actionResult:v,actionStatus:w,defaultShouldRevalidate:S?!1:a})),J&&k.push({key:P,routeId:C.routeId,path:C.path,matches:M,match:H,controller:new AbortController})}),[x,k]}function md(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&e[t.id]!==void 0,r=n!=null&&n[t.id]!==void 0;return!i&&r?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!r}function kE(t,e,n){let i=!e||n.route.id!==e.route.id,r=t[n.route.id]===void 0;return i||r}function mx(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Sm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Cm(t,e,n,i,r){var s;let o;if(t){let c=i[t];Z(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(u=>_x(c,u))),l=fc(a,r,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],i);o.push(...l)}function _x(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>{var r;return(r=e.children)==null?void 0:r.some(s=>_x(n,s))}):!1}async function TE(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let r=n[t.id];Z(r,"No route found in manifest");let s={};for(let o in i){let l=r[o]!==void 0&&o!=="hasErrorBoundary";gs(!l,'Route "'+r.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!qC.has(o)&&(s[o]=i[o])}Object.assign(r,s),Object.assign(r,De({},e(r),{lazy:void 0}))}async function PE(t){let{matches:e}=t,n=e.filter(r=>r.shouldLoad);return(await Promise.all(n.map(r=>r.resolve()))).reduce((r,s,o)=>Object.assign(r,{[n[o].route.id]:s}),{})}async function ME(t,e,n,i,r,s,o,a,l,c){let u=s.map(f=>f.route.lazy?TE(f.route,l,a):void 0),h=s.map((f,p)=>{let m=u[p],v=r.some(g=>g.route.id===f.route.id);return De({},f,{shouldLoad:v,resolve:async g=>(g&&i.method==="GET"&&(f.route.lazy||f.route.loader)&&(v=!0),v?RE(e,i,f,m,g,c):Promise.resolve({type:ve.data,result:void 0}))})}),d=await t({matches:h,request:i,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return d}async function RE(t,e,n,i,r,s){let o,a,l=c=>{let u,h=new Promise((p,m)=>u=m);a=()=>u(),e.signal.addEventListener("abort",a);let d=p=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...p!==void 0?[p]:[]),f=(async()=>{try{return{type:"data",result:await(r?r(m=>d(m)):d())}}catch(p){return{type:"error",result:p}}})();return Promise.race([f,h])};try{let c=n.route[t];if(i)if(c){let u,[h]=await Promise.all([l(c).catch(d=>{u=d}),i]);if(u!==void 0)throw u;o=h}else if(await i,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),h=u.pathname+u.search;throw Pt(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:ve.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),h=u.pathname+u.search;throw Pt(404,{pathname:h})}Z(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:ve.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function IE(t){let{result:e,type:n}=t;if(vx(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:ve.error,error:u}}return n===ve.error?{type:ve.error,error:new gc(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:ve.data,data:c,statusCode:e.status,headers:e.headers}}if(n===ve.error){if(Im(e)){var i;if(e.data instanceof Error){var r;return{type:ve.error,error:e.data,statusCode:(r=e.init)==null?void 0:r.status}}e=new gc(((i=e.init)==null?void 0:i.status)||500,void 0,e.data)}return{type:ve.error,error:e,statusCode:ru(e)?e.status:void 0}}if(AE(e)){var s,o;return{type:ve.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Im(e)){var a,l;return{type:ve.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:ve.data,data:e}}function DE(t,e,n,i,r,s){let o=t.headers.get("Location");if(Z(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!qf.test(o)){let a=i.slice(0,i.findIndex(l=>l.route.id===n)+1);o=gd(new URL(e.url),a,r,!0,o,s),t.headers.set("Location",o)}return t}function Em(t,e,n){if(qf.test(t)){let i=t,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),s=Gn(r.pathname,n)!=null;if(r.origin===e.origin&&s)return r.pathname+r.search+r.hash}return t}function Or(t,e,n,i){let r=t.createURL(yx(e)).toString(),s={signal:n};if(i&&rn(i.formMethod)){let{formMethod:o,formEncType:a}=i;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(i.json)):a==="text/plain"?s.body=i.text:a==="application/x-www-form-urlencoded"&&i.formData?s.body=_d(i.formData):s.body=i.formData}return new Request(r,s)}function _d(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function km(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function NE(t,e,n,i,r){let s={},o=null,a,l=!1,c={},u=n&&Bt(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let d=h.route.id,f=e[d];if(Z(!ar(f),"Cannot handle redirect results in processLoaderData"),Bt(f)){let p=f.error;u!==void 0&&(p=u,u=void 0),o=o||{};{let m=ir(t,d);o[m.route.id]==null&&(o[m.route.id]=p)}s[d]=void 0,l||(l=!0,a=ru(f.error)?f.error.status:500),f.headers&&(c[d]=f.headers)}else ui(f)?(i.set(d,f.deferredData),s[d]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(c[d]=f.headers)):(s[d]=f.data,f.statusCode&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(c[d]=f.headers))}),u!==void 0&&n&&(o={[n[0]]:u},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function Tm(t,e,n,i,r,s,o){let{loaderData:a,errors:l}=NE(e,n,i,o);return r.forEach(c=>{let{key:u,match:h,controller:d}=c,f=s[u];if(Z(f,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(Bt(f)){let p=ir(t.matches,h==null?void 0:h.route.id);l&&l[p.route.id]||(l=De({},l,{[p.route.id]:f.error})),t.fetchers.delete(u)}else if(ar(f))Z(!1,"Unhandled fetcher revalidation redirect");else if(ui(f))Z(!1,"Unhandled fetcher deferred data");else{let p=ii(f.data);t.fetchers.set(u,p)}}),{loaderData:a,errors:l}}function Pm(t,e,n,i){let r=De({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(r[o]=e[o]):t[o]!==void 0&&s.route.loader&&(r[o]=t[o]),i&&i.hasOwnProperty(o))break}return r}function Mm(t){return t?Bt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ir(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function Rm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Pt(t,e){let{pathname:n,routeId:i,method:r,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",r&&n&&i?l="You made a "+r+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+i+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",r&&n&&i?l="You made a "+r.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(l='Invalid request method "'+r.toUpperCase()+'"')),new gc(t||500,a,new Error(l),!0)}function il(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,r]=e[n];if(ar(r))return{key:i,result:r}}}function yx(t){let e=typeof t=="string"?zi(t):t;return vr(De({},e,{hash:""}))}function OE(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function LE(t){return vx(t.result)&&xE.has(t.result.status)}function ui(t){return t.type===ve.deferred}function Bt(t){return t.type===ve.error}function ar(t){return(t&&t.type)===ve.redirect}function Im(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function AE(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function vx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function FE(t){return vE.has(t.toLowerCase())}function rn(t){return _E.has(t.toLowerCase())}async function zE(t,e,n,i,r){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=t.find(d=>(d==null?void 0:d.route.id)===a);if(!c)continue;let u=i.find(d=>d.route.id===c.route.id),h=u!=null&&!mx(u,c)&&(r&&r[c.route.id])!==void 0;ui(l)&&h&&await Jf(l,n,!1).then(d=>{d&&(e[a]=d)})}}async function BE(t,e,n){for(let i=0;i<n.length;i++){let{key:r,routeId:s,controller:o}=n[i],a=e[r];t.find(c=>(c==null?void 0:c.route.id)===s)&&ui(a)&&(Z(o,"Expected an AbortController for revalidating fetcher deferred result"),await Jf(a,o.signal,!0).then(c=>{c&&(e[r]=c)}))}}async function Jf(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:ve.data,data:t.deferredData.unwrappedData}}catch(r){return{type:ve.error,error:r}}return{type:ve.data,data:t.deferredData.data}}}function Zf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function so(t,e){let n=typeof e=="string"?zi(e).search:e.search;if(t[t.length-1].route.index&&Zf(n||""))return t[t.length-1];let i=fx(t);return i[i.length-1]}function Dm(t){let{formMethod:e,formAction:n,formEncType:i,text:r,formData:s,json:o}=t;if(!(!e||!n||!i)){if(r!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:e,formAction:n,formEncType:i,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:o,text:void 0}}}function qu(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jE(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Us(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function WE(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ii(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function VE(t,e){try{let n=t.sessionStorage.getItem(gx);if(n){let i=JSON.parse(n);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(r,new Set(s||[]))}}catch{}}function HE(t,e){if(e.size>0){let n={};for(let[i,r]of e)n[i]=[...r];try{t.sessionStorage.setItem(gx,JSON.stringify(n))}catch(i){gs(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},mc.apply(this,arguments)}const xa=R.createContext(null),ep=R.createContext(null),Bi=R.createContext(null),tp=R.createContext(null),ji=R.createContext({outlet:null,matches:[],isDataRoute:!1}),xx=R.createContext(null);function UE(t,e){let{relative:n}=e===void 0?{}:e;wa()||Z(!1);let{basename:i,navigator:r}=R.useContext(Bi),{hash:s,pathname:o,search:a}=su(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Vn([i,o])),r.createHref({pathname:l,search:a,hash:s})}function wa(){return R.useContext(tp)!=null}function Ts(){return wa()||Z(!1),R.useContext(tp).location}function wx(t){R.useContext(Bi).static||R.useLayoutEffect(t)}function $E(){let{isDataRoute:t}=R.useContext(ji);return t?sk():YE()}function YE(){wa()||Z(!1);let t=R.useContext(xa),{basename:e,future:n,navigator:i}=R.useContext(Bi),{matches:r}=R.useContext(ji),{pathname:s}=Ts(),o=JSON.stringify(Qf(r,n.v7_relativeSplatPath)),a=R.useRef(!1);return wx(()=>{a.current=!0}),R.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let h=Xf(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Vn([e,h.pathname])),(u.replace?i.replace:i.push)(h,u.state,u)},[e,i,o,s,t])}const KE=R.createContext(null);function GE(t){let e=R.useContext(ji).outlet;return e&&R.createElement(KE.Provider,{value:t},e)}function su(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=R.useContext(Bi),{matches:r}=R.useContext(ji),{pathname:s}=Ts(),o=JSON.stringify(Qf(r,i.v7_relativeSplatPath));return R.useMemo(()=>Xf(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function QE(t,e,n,i){wa()||Z(!1);let{navigator:r}=R.useContext(Bi),{matches:s}=R.useContext(ji),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ts(),u;u=c;let h=u.pathname||"/",d=h;if(l!=="/"){let m=l.replace(/^\//,"").split("/");d="/"+h.replace(/^\//,"").split("/").slice(m.length).join("/")}let f=nr(t,{pathname:d});return ek(f&&f.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:Vn([l,r.encodeLocation?r.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:Vn([l,r.encodeLocation?r.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,n,i)}function XE(){let t=rk(),e=ru(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:r},n):null,null)}const qE=R.createElement(XE,null);class JE extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(ji.Provider,{value:this.props.routeContext},R.createElement(xx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZE(t){let{routeContext:e,match:n,children:i}=t,r=R.useContext(xa);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(ji.Provider,{value:e},i)}function ek(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||Z(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:d,errors:f}=n,p=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,d)=>{let f,p=!1,m=null,v=null;n&&(f=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||qE,l&&(c<0&&d===0?(ok("route-fallback"),p=!0,v=null):c===d&&(p=!0,v=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,d+1)),g=()=>{let y;return f?y=m:p?y=v:h.route.Component?y=R.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=u,R.createElement(ZE,{match:h,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?R.createElement(JE,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:g(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):g()},null)}var bx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bx||{}),_c=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_c||{});function tk(t){let e=R.useContext(xa);return e||Z(!1),e}function nk(t){let e=R.useContext(ep);return e||Z(!1),e}function ik(t){let e=R.useContext(ji);return e||Z(!1),e}function Sx(t){let e=ik(),n=e.matches[e.matches.length-1];return n.route.id||Z(!1),n.route.id}function rk(){var t;let e=R.useContext(xx),n=nk(_c.UseRouteError),i=Sx(_c.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function sk(){let{router:t}=tk(bx.UseNavigateStable),e=Sx(_c.UseNavigateStable),n=R.useRef(!1);return wx(()=>{n.current=!0}),R.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,mc({fromRouteId:e},s)))},[t,e])}const Nm={};function ok(t,e,n){Nm[t]||(Nm[t]=!0)}function ak(t){return GE(t.context)}function lk(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Ge.Pop,navigator:s,static:o=!1,future:a}=t;wa()&&Z(!1);let l=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:s,static:o,future:mc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=zi(i));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=i,m=R.useMemo(()=>{let v=Gn(u,l);return v==null?null:{location:{pathname:v,search:h,hash:d,state:f,key:p},navigationType:r}},[l,u,h,d,f,p,r]);return m==null?null:R.createElement(Bi.Provider,{value:c},R.createElement(tp.Provider,{children:n,value:m}))}new Promise(()=>{});function ck(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:R.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:R.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:R.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ms(){return ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ms.apply(this,arguments)}function Cx(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function uk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hk(t,e){return t.button===0&&(!e||e==="_self")&&!uk(t)}const dk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fk=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],pk="6";try{window.__reactRouterVersion=pk}catch{}function gk(t,e){return CE({basename:e==null?void 0:e.basename,future:ms({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:GC({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||mk(),routes:t,mapRouteProperties:ck,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function mk(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ms({},e,{errors:_k(e.errors)})),e}function _k(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")n[i]=new gc(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let o=new s(r.message);o.stack="",n[i]=o}catch{}}if(n[i]==null){let s=new Error(r.message);s.stack="",n[i]=s}}else n[i]=r;return n}const Ex=R.createContext({isTransitioning:!1}),yk=R.createContext(new Map),vk="startTransition",Om=LS[vk],xk="flushSync",Lm=KC[xk];function wk(t){Om?Om(t):t()}function $s(t){Lm?Lm(t):t()}let bk=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function Sk(t){let{fallbackElement:e,router:n,future:i}=t,[r,s]=R.useState(n.state),[o,a]=R.useState(),[l,c]=R.useState({isTransitioning:!1}),[u,h]=R.useState(),[d,f]=R.useState(),[p,m]=R.useState(),v=R.useRef(new Map),{v7_startTransition:_}=i||{},g=R.useCallback(C=>{_?wk(C):C()},[_]),y=R.useCallback((C,P)=>{let{deletedFetchers:M,flushSync:A,viewTransitionOpts:H}=P;M.forEach(le=>v.current.delete(le)),C.fetchers.forEach((le,te)=>{le.data!==void 0&&v.current.set(te,le.data)});let J=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!H||J){A?$s(()=>s(C)):g(()=>s(C));return}if(A){$s(()=>{d&&(u&&u.resolve(),d.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let le=n.window.document.startViewTransition(()=>{$s(()=>s(C))});le.finished.finally(()=>{$s(()=>{h(void 0),f(void 0),a(void 0),c({isTransitioning:!1})})}),$s(()=>f(le));return}d?(u&&u.resolve(),d.skipTransition(),m({state:C,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(a(C),c({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[n.window,d,u,v,g]);R.useLayoutEffect(()=>n.subscribe(y),[n,y]),R.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new bk)},[l]),R.useEffect(()=>{if(u&&o&&n.window){let C=o,P=u.promise,M=n.window.document.startViewTransition(async()=>{g(()=>s(C)),await P});M.finished.finally(()=>{h(void 0),f(void 0),a(void 0),c({isTransitioning:!1})}),f(M)}},[g,o,u,n.window]),R.useEffect(()=>{u&&o&&r.location.key===o.location.key&&u.resolve()},[u,d,r.location,o]),R.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[l.isTransitioning,p]),R.useEffect(()=>{},[]);let w=R.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:C=>n.navigate(C),push:(C,P,M)=>n.navigate(C,{state:P,preventScrollReset:M==null?void 0:M.preventScrollReset}),replace:(C,P,M)=>n.navigate(C,{replace:!0,state:P,preventScrollReset:M==null?void 0:M.preventScrollReset})}),[n]),S=n.basename||"/",x=R.useMemo(()=>({router:n,navigator:w,static:!1,basename:S}),[n,w,S]),k=R.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return R.createElement(R.Fragment,null,R.createElement(xa.Provider,{value:x},R.createElement(ep.Provider,{value:r},R.createElement(yk.Provider,{value:v.current},R.createElement(Ex.Provider,{value:l},R.createElement(lk,{basename:S,location:r.location,navigationType:r.historyAction,navigator:w,future:k},r.initialized||n.future.v7_partialHydration?R.createElement(Ck,{routes:n.routes,future:n.future,state:r}):e))))),null)}const Ck=R.memo(Ek);function Ek(t){let{routes:e,future:n,state:i}=t;return QE(e,void 0,i,n)}const kk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pk=R.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:h}=e,d=Cx(e,dk),{basename:f}=R.useContext(Bi),p,m=!1;if(typeof c=="string"&&Tk.test(c)&&(p=c,kk))try{let y=new URL(window.location.href),w=c.startsWith("//")?new URL(y.protocol+c):new URL(c),S=Gn(w.pathname,f);w.origin===y.origin&&S!=null?c=S+w.search+w.hash:m=!0}catch{}let v=UE(c,{relative:r}),_=Rk(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,viewTransition:h});function g(y){i&&i(y),y.defaultPrevented||_(y)}return R.createElement("a",ms({},d,{href:p||v,onClick:m||s?i:g,ref:n,target:l}))}),Ju=R.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,h=Cx(e,fk),d=su(l,{relative:h.relative}),f=Ts(),p=R.useContext(ep),{navigator:m,basename:v}=R.useContext(Bi),_=p!=null&&Ik(d)&&c===!0,g=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,y=f.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(y=y.toLowerCase(),w=w?w.toLowerCase():null,g=g.toLowerCase()),w&&v&&(w=Gn(w,v)||w);const S=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let x=y===g||!o&&y.startsWith(g)&&y.charAt(S)==="/",k=w!=null&&(w===g||!o&&w.startsWith(g)&&w.charAt(g.length)==="/"),C={isActive:x,isPending:k,isTransitioning:_},P=x?i:void 0,M;typeof s=="function"?M=s(C):M=[s,x?"active":null,k?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let A=typeof a=="function"?a(C):a;return R.createElement(Pk,ms({},h,{"aria-current":P,className:M,ref:n,style:A,to:l,viewTransition:c}),typeof u=="function"?u(C):u)});var yd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(yd||(yd={}));var Am;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Am||(Am={}));function Mk(t){let e=R.useContext(xa);return e||Z(!1),e}function Rk(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=$E(),c=Ts(),u=su(t,{relative:o});return R.useCallback(h=>{if(hk(h,n)){h.preventDefault();let d=i!==void 0?i:vr(c)===vr(u);l(t,{replace:d,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,i,r,n,t,s,o,a])}function Ik(t,e){e===void 0&&(e={});let n=R.useContext(Ex);n==null&&Z(!1);let{basename:i}=Mk(yd.useViewTransitionState),r=su(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Gn(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Gn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return pc(r.pathname,o)!=null||pc(r.pathname,s)!=null}const Dk=({title:t})=>U.jsx("header",{className:"bg-gray-200 p-4",children:U.jsx("h1",{className:"text-3xl font-semibold text-gray-700",children:t})}),Nk=()=>U.jsxs("nav",{className:"flex flex-col h-full p-4 bg-gray-800 text-white",children:[U.jsxs("div",{className:"flex-1",children:[U.jsx("h1",{className:"text-xl font-bold",children:"Water Quality"}),U.jsx("h2",{className:"text-sm text-end",children:" System"}),U.jsxs("ul",{children:[U.jsx("li",{className:"mt-12 mb-4",children:U.jsx(Ju,{to:"/dashboard",className:({isActive:t})=>t?"text-blue-300":"hover:text-gray-300",children:"Dashboard"})}),U.jsx("li",{className:"mb-4",children:U.jsx(Ju,{to:"/data-visualization",className:({isActive:t})=>t?"text-blue-300":"hover:text-gray-300",children:"Data Visualization"})})]})]}),U.jsx("div",{children:U.jsx(Ju,{to:"/",className:"hover:text-gray-300",children:"Logout"})})]}),Ok=()=>{const t=Ts();let e="";return t.pathname==="/dashboard"?e="Dashboard":t.pathname==="/data-visualization"&&(e="Data Visualization"),U.jsxs("div",{className:"flex h-screen",children:[U.jsx("div",{className:"w-[180px]",children:U.jsx(Nk,{})}),U.jsxs("div",{className:"flex-1",children:[U.jsx(Dk,{title:e}),U.jsx("div",{className:"p-2",children:U.jsx(ak,{})})]})]})},Lk=()=>U.jsx("div",{children:"Dashboard Content"});var Fm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=function(t,e){if(!t)throw Ps(e)},Ps=function(t){return new Error("Firebase Database ("+kx.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Ak=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},np={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),i.push(n[u],n[h],n[d],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Tx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ak(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||h==null)throw new Fk;const d=s<<2|a>>4;if(i.push(d),c!==64){const f=a<<4&240|c>>2;if(i.push(f),h!==64){const p=c<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Fk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Px=function(t){const e=Tx(t);return np.encodeByteArray(e,!0)},yc=function(t){return Px(t).replace(/\./g,"")},vd=function(t){try{return np.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t){return Mx(void 0,t)}function Mx(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Bk(n)||(t[n]=Mx(t[n],e[n]));return t}function Bk(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=()=>jk().__FIREBASE_DEFAULTS__,Vk=()=>{if(typeof process>"u"||typeof Fm>"u")return;const t=Fm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Hk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&vd(t[1]);return e&&JSON.parse(e)},Rx=()=>{try{return Wk()||Vk()||Hk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Uk=t=>{var e,n;return(n=(e=Rx())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$k=t=>{const e=Uk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Ix=()=>{var t;return(t=Rx())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yc(JSON.stringify(n)),yc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kk())}function Gk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Nx(){return kx.NODE_ADMIN===!0}function Qk(){try{return typeof indexedDB=="object"}catch{return!1}}function Xk(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="FirebaseError";class ba extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=qk,Object.setPrototypeOf(this,ba.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ox.prototype.create)}}class Ox{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?Jk(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ba(r,a,i)}}function Jk(t,e){return t.replace(Zk,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Zk=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){return JSON.parse(t)}function qe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=Xo(vd(s[0])||""),n=Xo(vd(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},eT=function(t){const e=Lx(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},tT=function(t){const e=Lx(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _s(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function zm(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vc(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function xd(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Bm(s)&&Bm(o)){if(!xd(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Bm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)i[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)i[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const d=i[h-3]^i[h-8]^i[h-14]^i[h-16];i[h]=(d<<1|d>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):h<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const d=(r<<5|r>>>27)+c+l+u+i[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=d}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function Ax(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,N(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},ou=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t){return t&&t._delegate?t._delegate:t}class qo{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new ip;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aT(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:oT(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oT(t){return t===Ji?void 0:t}function aT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const cT={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},uT=Se.INFO,hT={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},dT=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=hT[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fx{constructor(e){this.name=e,this._logLevel=uT,this._logHandler=dT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const fT=(t,e)=>e.some(n=>t instanceof n);let jm,Wm;function pT(){return jm||(jm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gT(){return Wm||(Wm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zx=new WeakMap,wd=new WeakMap,Bx=new WeakMap,Zu=new WeakMap,rp=new WeakMap;function mT(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Si(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&zx.set(n,t)}).catch(()=>{}),rp.set(e,t),e}function _T(t){if(wd.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wd.set(t,e)}let bd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Bx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yT(t){bd=t(bd)}function vT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(eh(this),e,...n);return Bx.set(i,e.sort?e.sort():[e]),Si(i)}:gT().includes(t)?function(...e){return t.apply(eh(this),e),Si(zx.get(this))}:function(...e){return Si(t.apply(eh(this),e))}}function xT(t){return typeof t=="function"?vT(t):(t instanceof IDBTransaction&&_T(t),fT(t,pT())?new Proxy(t,bd):t)}function Si(t){if(t instanceof IDBRequest)return mT(t);if(Zu.has(t))return Zu.get(t);const e=xT(t);return e!==t&&(Zu.set(t,e),rp.set(e,t)),e}const eh=t=>rp.get(t);function wT(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=Si(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Si(o.result),l.oldVersion,l.newVersion,Si(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const bT=["get","getKey","getAll","getAllKeys","count"],ST=["put","add","delete","clear"],th=new Map;function Vm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(th.get(e))return th.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=ST.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||bT.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return th.set(e,s),s}yT(t=>({...t,get:(e,n,i)=>Vm(e,n)||t.get(e,n,i),has:(e,n)=>!!Vm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ET(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ET(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sd="@firebase/app",Hm="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new Fx("@firebase/app"),kT="@firebase/app-compat",TT="@firebase/analytics-compat",PT="@firebase/analytics",MT="@firebase/app-check-compat",RT="@firebase/app-check",IT="@firebase/auth",DT="@firebase/auth-compat",NT="@firebase/database",OT="@firebase/data-connect",LT="@firebase/database-compat",AT="@firebase/functions",FT="@firebase/functions-compat",zT="@firebase/installations",BT="@firebase/installations-compat",jT="@firebase/messaging",WT="@firebase/messaging-compat",VT="@firebase/performance",HT="@firebase/performance-compat",UT="@firebase/remote-config",$T="@firebase/remote-config-compat",YT="@firebase/storage",KT="@firebase/storage-compat",GT="@firebase/firestore",QT="@firebase/vertexai-preview",XT="@firebase/firestore-compat",qT="firebase",JT="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="[DEFAULT]",ZT={[Sd]:"fire-core",[kT]:"fire-core-compat",[PT]:"fire-analytics",[TT]:"fire-analytics-compat",[RT]:"fire-app-check",[MT]:"fire-app-check-compat",[IT]:"fire-auth",[DT]:"fire-auth-compat",[NT]:"fire-rtdb",[OT]:"fire-data-connect",[LT]:"fire-rtdb-compat",[AT]:"fire-fn",[FT]:"fire-fn-compat",[zT]:"fire-iid",[BT]:"fire-iid-compat",[jT]:"fire-fcm",[WT]:"fire-fcm-compat",[VT]:"fire-perf",[HT]:"fire-perf-compat",[UT]:"fire-rc",[$T]:"fire-rc-compat",[YT]:"fire-gcs",[KT]:"fire-gcs-compat",[GT]:"fire-fst",[XT]:"fire-fst-compat",[QT]:"fire-vertex","fire-js":"fire-js",[qT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,eP=new Map,Ed=new Map;function Um(t,e){try{t.container.addComponent(e)}catch(n){Qn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wc(t){const e=t.name;if(Ed.has(e))return Qn.debug(`There were multiple attempts to register component ${e}.`),!1;Ed.set(e,t);for(const n of xc.values())Um(n,t);for(const n of eP.values())Um(n,t);return!0}function tP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ci=new Ox("app","Firebase",nP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=JT;function jx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Cd,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Ci.create("bad-app-name",{appName:String(r)});if(n||(n=Ix()),!n)throw Ci.create("no-options");const s=xc.get(r);if(s){if(xd(n,s.options)&&xd(i,s.config))return s;throw Ci.create("duplicate-app",{appName:r})}const o=new lT(r);for(const l of Ed.values())o.addComponent(l);const a=new iP(n,i,o);return xc.set(r,a),a}function sP(t=Cd){const e=xc.get(t);if(!e&&t===Cd&&Ix())return jx();if(!e)throw Ci.create("no-app",{appName:t});return e}function rs(t,e,n){var i;let r=(i=ZT[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qn.warn(a.join(" "));return}wc(new qo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="firebase-heartbeat-database",aP=1,Jo="firebase-heartbeat-store";let nh=null;function Wx(){return nh||(nh=wT(oP,aP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ci.create("idb-open",{originalErrorMessage:t.message})})),nh}async function lP(t){try{const n=(await Wx()).transaction(Jo),i=await n.objectStore(Jo).get(Vx(t));return await n.done,i}catch(e){if(e instanceof ba)Qn.warn(e.message);else{const n=Ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qn.warn(n.message)}}}async function $m(t,e){try{const i=(await Wx()).transaction(Jo,"readwrite");await i.objectStore(Jo).put(e,Vx(t)),await i.done}catch(n){if(n instanceof ba)Qn.warn(n.message);else{const i=Ci.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qn.warn(i.message)}}}function Vx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=1024,uP=30*24*60*60*1e3;class hP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fP(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ym();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=uP}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Qn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ym(),{heartbeatsToSend:i,unsentEntries:r}=dP(this._heartbeatsCache.heartbeats),s=yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Qn.warn(n),""}}}function Ym(){return new Date().toISOString().substring(0,10)}function dP(t,e=cP){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Km(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Km(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class fP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qk()?Xk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return $m(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return $m(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Km(t){return yc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){wc(new qo("platform-logger",e=>new CT(e),"PRIVATE")),wc(new qo("heartbeat",e=>new hP(e),"PRIVATE")),rs(Sd,Hm,t),rs(Sd,Hm,"esm2017"),rs("fire-js","")}pP("");var gP="firebase",mP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(gP,mP,"app");var Gm={};const Qm="@firebase/database",Xm="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hx="";function _P(t){Hx=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),qe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Xo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Jn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new yP(e)}}catch{}return new vP},lr=Ux("localStorage"),xP=Ux("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new Fx("@firebase/database"),wP=function(){let t=1;return function(){return t++}}(),$x=function(t){const e=rT(t),n=new iT;n.update(e);const i=n.digest();return np.encodeByteArray(i)},Ca=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Ca.apply(null,i):typeof i=="object"?e+=qe(i):e+=i,e+=" "}return e};let bo=null,qm=!0;const bP=function(t,e){N(!e,"Can't turn on custom loggers persistently."),ss.logLevel=Se.VERBOSE,bo=ss.log.bind(ss)},_t=function(...t){if(qm===!0&&(qm=!1,bo===null&&xP.get("logging_enabled")===!0&&bP()),bo){const e=Ca.apply(null,t);bo(e)}},Ea=function(t){return function(...e){_t(t,...e)}},kd=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ca(...t);ss.error(e)},Xn=function(...t){const e=`FIREBASE FATAL ERROR: ${Ca(...t)}`;throw ss.error(e),new Error(e)},Ht=function(...t){const e="FIREBASE WARNING: "+Ca(...t);ss.warn(e)},SP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Yx=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},CP=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ys="[MIN_NAME]",xr="[MAX_NAME]",Ms=function(t,e){if(t===e)return 0;if(t===ys||e===xr)return-1;if(e===ys||t===xr)return 1;{const n=Jm(t),i=Jm(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},EP=function(t,e){return t===e?0:t<e?-1:1},Ys=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+qe(e))},sp=function(t){if(typeof t!="object"||t===null)return qe(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=qe(e[i]),n+=":",n+=sp(t[e[i]]);return n+="}",n},Kx=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function At(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Gx=function(t){N(!Yx(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,o,a,l;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let d=parseInt(u.substr(l,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},kP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},TP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function PP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const MP=new RegExp("^-?(0*)\\d{1,10}$"),RP=-2147483648,IP=2147483647,Jm=function(t){if(MP.test(t)){const e=Number(t);if(e>=RP&&e<=IP)return e}return null},ka=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ht("Exception was thrown by user callback.",n),e},Math.floor(0))}},DP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},So=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ht(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(_t("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ht(e)}}class Nl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Nl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="5",Qx="v",Xx="s",qx="r",Jx="f",Zx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ew="ls",tw="p",Td="ac",nw="websocket",iw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,i,r,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=lr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&lr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function LP(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function sw(t,e,n){N(typeof e=="string","typeof type must == string"),N(typeof n=="object","typeof params must == object");let i;if(e===nw)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===iw)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);LP(t)&&(n.ns=t.namespace);const r=[];return At(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this.counters_={}}incrementCounter(e,n=1){Jn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return zk(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih={},rh={};function ap(t){const e=t.toString();return ih[e]||(ih[e]=new AP),ih[e]}function FP(t,e){const n=t.toString();return rh[n]||(rh[n]=e()),rh[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&ka(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="start",BP="close",jP="pLPCommand",WP="pRTLPCB",ow="id",aw="pw",lw="ser",VP="cb",HP="seg",UP="ts",$P="d",YP="dframe",cw=1870,uw=30,KP=cw-uw,GP=25e3,QP=3e4;class Xr{constructor(e,n,i,r,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ea(e),this.stats_=ap(n),this.urlFn=l=>(this.appCheckToken&&(l[Td]=this.appCheckToken),sw(n,iw,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new zP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(QP)),CP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new lp((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Zm)this.id=a,this.password=l;else if(o===BP)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[Zm]="t",i[lw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[VP]=this.scriptTagHolder.uniqueCallbackIdentifier),i[Qx]=op,this.transportSessionId&&(i[Xx]=this.transportSessionId),this.lastSessionId&&(i[ew]=this.lastSessionId),this.applicationId&&(i[tw]=this.applicationId),this.appCheckToken&&(i[Td]=this.appCheckToken),typeof location<"u"&&location.hostname&&Zx.test(location.hostname)&&(i[qx]=Jx);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xr.forceAllow_=!0}static forceDisallow(){Xr.forceDisallow_=!0}static isAvailable(){return Xr.forceAllow_?!0:!Xr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!kP()&&!TP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Px(n),r=Kx(i,KP);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[YP]="t",i[ow]=e,i[aw]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=qe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class lp{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=wP(),window[jP+this.uniqueCallbackIdentifier]=e,window[WP+this.uniqueCallbackIdentifier]=n,this.myIFrame=lp.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){_t("frame writing exception"),a.stack&&_t(a.stack),_t(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||_t("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ow]=this.myID,e[aw]=this.myPW,e[lw]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+uw+i.length<=cw;){const o=this.pendingSegs.shift();i=i+"&"+HP+r+"="+o.seg+"&"+UP+r+"="+o.ts+"&"+$P+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(GP)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{_t("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=16384,qP=45e3;let bc=null;typeof MozWebSocket<"u"?bc=MozWebSocket:typeof WebSocket<"u"&&(bc=WebSocket);class on{constructor(e,n,i,r,s,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ea(this.connId),this.stats_=ap(n),this.connURL=on.connectionURL_(n,o,a,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,s){const o={};return o[Qx]=op,typeof location<"u"&&location.hostname&&Zx.test(location.hostname)&&(o[qx]=Jx),n&&(o[Xx]=n),i&&(o[ew]=i),r&&(o[Td]=r),s&&(o[tw]=s),sw(e,nw,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,lr.set("previous_websocket_failure",!0);try{let i;Nx(),this.mySock=new bc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){on.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&bc!==null&&!on.forceDisallow_}static previouslyFailed(){return lr.isInMemoryStorage||lr.get("previous_websocket_failure")===!0}markConnectionHealthy(){lr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Xo(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(N(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Kx(n,XP);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(qP))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}on.responsesRequiredToBeHealthy=2;on.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Xr,on]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=on&&on.isAvailable();let i=n&&!on.previouslyFailed();if(e.webSocketOnly&&(n||Ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[on];else{const r=this.transports_=[];for(const s of Zo.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);Zo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Zo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=6e4,ZP=5e3,eM=10*1024,tM=100*1024,sh="t",e_="d",nM="s",t_="r",iM="e",n_="o",i_="a",r_="n",s_="p",rM="h";class sM{constructor(e,n,i,r,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ea("c:"+this.id+":"),this.transportManager_=new Zo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=So(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>tM?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>eM?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(sh in e){const n=e[sh];n===i_?this.upgradeIfSecondaryHealthy_():n===t_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===n_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ys("t",e),i=Ys("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:s_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:i_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:r_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ys("t",e),i=Ys("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ys(sh,e);if(e_ in e){const i=e[e_];if(n===rM){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===r_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===nM?this.onConnectionShutdown_(i):n===t_?this.onReset_(i):n===iM?kd("Server Error: "+i):n===n_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kd("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),op!==i&&Ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),So(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(JP))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):So(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(ZP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:s_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(lr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.allowedEvents_=e,this.listeners_={},N(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){N(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends dw{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Dx()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Sc}getInitialEvent(e){return N(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=32,a_=768;class xe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ge(){return new xe("")}function ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ri(t){return t.pieces_.length-t.pieceNum_}function Ce(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new xe(t.pieces_,e)}function fw(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function oM(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function pw(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function gw(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new xe(e,0)}function Je(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof xe)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new xe(n,0)}function ne(t){return t.pieceNum_>=t.pieces_.length}function St(t,e){const n=ae(t),i=ae(e);if(n===null)return e;if(n===i)return St(Ce(t),Ce(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function mw(t,e){if(Ri(t)!==Ri(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function an(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Ri(t)>Ri(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class aM{constructor(e,n){this.errorPrefix_=n,this.parts_=pw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ou(this.parts_[i]);_w(this)}}function lM(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ou(e),_w(t)}function cM(t){const e=t.parts_.pop();t.byteLength_-=ou(e),t.parts_.length>0&&(t.byteLength_-=1)}function _w(t){if(t.byteLength_>a_)throw new Error(t.errorPrefix_+"has a key path longer than "+a_+" bytes ("+t.byteLength_+").");if(t.parts_.length>o_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+o_+") or object contains a cycle "+Zi(t))}function Zi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp extends dw{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new cp}getInitialEvent(e){return N(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=1e3,uM=60*5*1e3,l_=30*1e3,hM=1.3,dM=3e4,fM="server_kill",c_=3;class Hn extends hw{constructor(e,n,i,r,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Hn.nextPersistentConnectionId_++,this.log_=Ea("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ks,this.maxReconnectDelay_=uM,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Nx())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");cp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Sc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,s={r,a:e,b:n};this.log_(qe(s)),N(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new ip,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,i,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),N(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Hn.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Jn(e,"w")){const i=_s(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||tT(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=l_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=eT(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),N(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+qe(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):kd("Unrecognized action received from server: "+qe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){N(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ks,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ks,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>dM&&(this.reconnectDelay_=Ks),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*hM)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Hn.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(h){N(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,d]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?_t("getToken() completed but was canceled"):(_t("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,a=new sM(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,f=>{Ht(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(fM)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Ht(h),l())}}}interrupt(e){_t("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){_t("Resuming connection for reason: "+e),delete this.interruptReasons_[e],zm(this.interruptReasons_)&&(this.reconnectDelay_=Ks,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(s=>sp(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new xe(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){_t("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=c_&&(this.reconnectDelay_=l_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){_t("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=c_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Hx.replace(/\./g,"-")]=1,Dx()?e["framework.cordova"]=1:Gk()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Sc.getInstance().currentlyOnline();return zm(this.interruptReasons_)&&e}}Hn.nextPersistentConnectionId_=0;Hn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ee(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ee(ys,e),r=new ee(ys,n);return this.compare(i,r)!==0}minPost(){return ee.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl;class yw extends au{static get __EMPTY_NODE(){return rl}static set __EMPTY_NODE(e){rl=e}compare(e,n){return Ms(e.name,n.name)}isDefinedOn(e){throw Ps("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ee.MIN}maxPost(){return new ee(xr,rl)}makePost(e,n){return N(typeof e=="string","KeyIndex indexValue must always be a string."),new ee(e,rl)}toString(){return".key"}}const os=new yw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class it{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??it.RED,this.left=r??Dt.EMPTY_NODE,this.right=s??Dt.EMPTY_NODE}copy(e,n,i,r,s){return new it(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Dt.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}it.RED=!0;it.BLACK=!1;class pM{copy(e,n,i,r,s){return this}insert(e,n,i){return new it(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Dt{constructor(e,n=Dt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Dt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,it.BLACK,null,null))}remove(e){return new Dt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,it.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new sl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new sl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new sl(this.root_,null,this.comparator_,!0,e)}}Dt.EMPTY_NODE=new pM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t,e){return Ms(t.name,e.name)}function up(t,e){return Ms(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd;function mM(t){Pd=t}const vw=function(t){return typeof t=="number"?"number:"+Gx(t):"string:"+t},xw=function(t){if(t.isLeafNode()){const e=t.val();N(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Jn(e,".sv"),"Priority must be a string or number.")}else N(t===Pd||t.isEmpty(),"priority of unexpected type.");N(t===Pd||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u_;class tt{constructor(e,n=tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,N(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),xw(this.priorityNode_)}static set __childrenNodeConstructor(e){u_=e}static get __childrenNodeConstructor(){return u_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ne(e)?this:ae(e)===".priority"?this.priorityNode_:tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=ae(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(N(i!==".priority"||Ri(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ce(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+vw(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Gx(this.value_):e+=this.value_,this.lazyHash_=$x(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof tt.__childrenNodeConstructor?-1:(N(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=tt.VALUE_TYPE_ORDER.indexOf(n),s=tt.VALUE_TYPE_ORDER.indexOf(i);return N(r>=0,"Unknown leaf type: "+n),N(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ww,bw;function _M(t){ww=t}function yM(t){bw=t}class vM extends au{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?Ms(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(xr,new tt("[PRIORITY-POST]",bw))}makePost(e,n){const i=ww(e);return new ee(n,new tt("[PRIORITY-POST]",i))}toString(){return".priority"}}const He=new vM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=Math.log(2);class wM{constructor(e){const n=s=>parseInt(Math.log(s)/xM,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Cc=function(t,e,n,i){t.sort(e);const r=function(l,c){const u=c-l;let h,d;if(u===0)return null;if(u===1)return h=t[l],d=n?n(h):h,new it(d,h.node,it.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=r(l,f),m=r(f+1,c);return h=t[f],d=n?n(h):h,new it(d,h.node,it.BLACK,p,m)}},s=function(l){let c=null,u=null,h=t.length;const d=function(p,m){const v=h-p,_=h;h-=p;const g=r(v+1,_),y=t[v],w=n?n(y):y;f(new it(w,y.node,m,null,g))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),v=Math.pow(2,l.count-(p+1));m?d(v,it.BLACK):(d(v,it.BLACK),d(v,it.RED))}return u},o=new wM(t.length),a=s(o);return new Dt(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh;const Lr={};class Fn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return N(Lr&&He,"ChildrenNode.ts has not been loaded"),oh=oh||new Fn({".priority":Lr},{".priority":He}),oh}get(e){const n=_s(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Dt?n:null}hasIndex(e){return Jn(this.indexSet_,e.toString())}addIndex(e,n){N(e!==os,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(ee.Wrap);let o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=Cc(i,e.getCompare()):a=Lr;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Fn(u,c)}addToIndexes(e,n){const i=vc(this.indexes_,(r,s)=>{const o=_s(this.indexSet_,s);if(N(o,"Missing index implementation for "+s),r===Lr)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ee.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Cc(a,o.getCompare())}else return Lr;else{const a=n.get(e.name);let l=r;return a&&(l=l.remove(new ee(e.name,a))),l.insert(e,e.node)}});return new Fn(i,this.indexSet_)}removeFromIndexes(e,n){const i=vc(this.indexes_,r=>{if(r===Lr)return r;{const s=n.get(e.name);return s?r.remove(new ee(e.name,s)):r}});return new Fn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gs;class G{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&xw(this.priorityNode_),this.children_.isEmpty()&&N(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Gs||(Gs=new G(new Dt(up),null,Fn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gs}updatePriority(e){return this.children_.isEmpty()?this:new G(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Gs:n}}getChild(e){const n=ae(e);return n===null?this:this.getImmediateChild(n).getChild(Ce(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(N(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new ee(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?Gs:this.priorityNode_;return new G(r,o,s)}}updateChild(e,n){const i=ae(e);if(i===null)return n;{N(ae(e)!==".priority"||Ri(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(Ce(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(He,(o,a)=>{n[o]=a.val(e),i++,s&&G.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+vw(this.getPriority().val())+":"),this.forEachChild(He,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":$x(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new ee(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ee(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ee(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,ee.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,ee.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ta?-1:0}withIndex(e){if(e===os||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new G(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===os||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(He),r=n.getIterator(He);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===os?null:this.indexMap_.get(e.toString())}}G.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class bM extends G{constructor(){super(new Dt(up),G.EMPTY_NODE,Fn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return G.EMPTY_NODE}isEmpty(){return!1}}const Ta=new bM;Object.defineProperties(ee,{MIN:{value:new ee(ys,G.EMPTY_NODE)},MAX:{value:new ee(xr,Ta)}});yw.__EMPTY_NODE=G.EMPTY_NODE;tt.__childrenNodeConstructor=G;mM(Ta);yM(Ta);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=!0;function ct(t,e=null){if(t===null)return G.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),N(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new tt(n,ct(e))}if(!(t instanceof Array)&&SM){const n=[];let i=!1;if(At(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=ct(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new ee(o,l)))}}),n.length===0)return G.EMPTY_NODE;const s=Cc(n,gM,o=>o.name,up);if(i){const o=Cc(n,He.getCompare());return new G(s,ct(e),new Fn({".priority":o},{".priority":He}))}else return new G(s,ct(e),Fn.Default)}else{let n=G.EMPTY_NODE;return At(t,(i,r)=>{if(Jn(t,i)&&i.substring(0,1)!=="."){const s=ct(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(ct(e))}}_M(ct);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM extends au{constructor(e){super(),this.indexPath_=e,N(!ne(e)&&ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?Ms(e.name,n.name):s}makePost(e,n){const i=ct(e),r=G.EMPTY_NODE.updateChild(this.indexPath_,i);return new ee(n,r)}maxPost(){const e=G.EMPTY_NODE.updateChild(this.indexPath_,Ta);return new ee(xr,e)}toString(){return pw(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM extends au{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Ms(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(e,n){const i=ct(e);return new ee(n,i)}toString(){return".value"}}const kM=new EM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t){return{type:"value",snapshotNode:t}}function vs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ea(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ta(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function TM(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this.index_=e}updateChild(e,n,i,r,s,o){N(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(ea(n,a)):N(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(vs(n,i)):o.trackChildChange(ta(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(He,(r,s)=>{n.hasChild(r)||i.trackChildChange(ea(r,s))}),n.isLeafNode()||n.forEachChild(He,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(ta(r,s,o))}else i.trackChildChange(vs(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?G.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.indexedFilter_=new hp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=na.getStartPost_(e),this.endPost_=na.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,o){return this.matches(new ee(n,i))||(i=G.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=G.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(G.EMPTY_NODE);const s=this;return n.forEachChild(He,(o,a)=>{s.matches(new ee(o,a))||(r=r.updateImmediateChild(o,G.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new na(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,o){return this.rangedFilter_.matches(new ee(n,i))||(i=G.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,o):this.fullLimitUpdateChild_(e,n,i,s,o)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=G.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=G.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(G.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,G.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let o;if(this.reverse_){const h=this.index_.getCompare();o=(d,f)=>h(f,d)}else o=this.index_.getCompare();const a=e;N(a.numChildren()===this.limit_,"");const l=new ee(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const h=a.getImmediateChild(n);let d=r.getChildAfterChild(this.index_,c,this.reverse_);for(;d!=null&&(d.name===n||a.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);const f=d==null?1:o(d,l);if(u&&!i.isEmpty()&&f>=0)return s!=null&&s.trackChildChange(ta(n,i,h)),a.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(ea(n,h));const m=a.updateImmediateChild(n,G.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(vs(d.name,d.node)),m.updateImmediateChild(d.name,d.node)):m}}else return i.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(ea(c.name,c.node)),s.trackChildChange(vs(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,G.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=He}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return N(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return N(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ys}hasEnd(){return this.endSet_}getIndexEndValue(){return N(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return N(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return N(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===He}copy(){const e=new dp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function MM(t){return t.loadsAllData()?new hp(t.getIndex()):t.hasLimit()?new PM(t):new na(t)}function h_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===He?n="$priority":t.index_===kM?n="$value":t.index_===os?n="$key":(N(t.index_ instanceof CM,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=qe(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=qe(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+qe(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=qe(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+qe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function d_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==He&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends hw{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Ea("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(N(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Ec.getListenId_(e,i),a={};this.listens_[o]=a;const l=h_(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,i),_s(this.listens_,o)===a){let d;c?c===401?d="permission_denied":d="rest_error:"+c:d="ok",r(d,null)}})}unlisten(e,n){const i=Ec.getListenId_(e,n);delete this.listens_[i]}get(e){const n=h_(e._queryParams),i=e._path.toString(),r=new ip;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+nT(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Xo(a.responseText)}catch{Ht("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Ht("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this.rootNode_=G.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(){return{value:null,children:new Map}}function Cw(t,e,n){if(ne(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=ae(e);t.children.has(i)||t.children.set(i,kc());const r=t.children.get(i);e=Ce(e),Cw(r,e,n)}}function Md(t,e,n){t.value!==null?n(e,t.value):IM(t,(i,r)=>{const s=new xe(e.toString()+"/"+i);Md(r,s,n)})}function IM(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&At(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=10*1e3,NM=30*1e3,OM=5*60*1e3;class LM{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new DM(e);const i=f_+(NM-f_)*Math.random();So(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;At(e,(r,s)=>{s>0&&Jn(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),So(this.reportStats_.bind(this),Math.floor(Math.random()*2*OM))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ln||(ln={}));function Ew(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function fp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function pp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=ln.ACK_USER_WRITE,this.source=Ew()}operationForChild(e){if(ne(this.path)){if(this.affectedTree.value!=null)return N(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new xe(e));return new Tc(ge(),n,this.revert)}}else return N(ae(this.path)===e,"operationForChild called for unrelated child."),new Tc(Ce(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.source=e,this.path=n,this.type=ln.LISTEN_COMPLETE}operationForChild(e){return ne(this.path)?new ia(this.source,ge()):new ia(this.source,Ce(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=ln.OVERWRITE}operationForChild(e){return ne(this.path)?new wr(this.source,ge(),this.snap.getImmediateChild(e)):new wr(this.source,Ce(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=ln.MERGE}operationForChild(e){if(ne(this.path)){const n=this.children.subtree(new xe(e));return n.isEmpty()?null:n.value?new wr(this.source,ge(),n.value):new ra(this.source,ge(),n)}else return N(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ra(this.source,Ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ne(e))return this.isFullyInitialized()&&!this.filtered_;const n=ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function FM(t,e,n,i){const r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(TM(o.childName,o.snapshotNode))}),Qs(t,r,"child_removed",e,i,n),Qs(t,r,"child_added",e,i,n),Qs(t,r,"child_moved",s,i,n),Qs(t,r,"child_changed",e,i,n),Qs(t,r,"value",e,i,n),r}function Qs(t,e,n,i,r,s){const o=i.filter(a=>a.type===n);o.sort((a,l)=>BM(t,a,l)),o.forEach(a=>{const l=zM(t,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function zM(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function BM(t,e,n){if(e.childName==null||n.childName==null)throw Ps("Should only compare child_ events.");const i=new ee(e.childName,e.snapshotNode),r=new ee(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t,e){return{eventCache:t,serverCache:e}}function Co(t,e,n,i){return lu(new Ii(e,n,i),t.serverCache)}function kw(t,e,n,i){return lu(t.eventCache,new Ii(e,n,i))}function Pc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function br(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah;const jM=()=>(ah||(ah=new Dt(EP)),ah);class Pe{constructor(e,n=jM()){this.value=e,this.children=n}static fromObject(e){let n=new Pe(null);return At(e,(i,r)=>{n=n.set(new xe(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ge(),value:this.value};if(ne(e))return null;{const i=ae(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(Ce(e),n);return s!=null?{path:Je(new xe(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ne(e))return this;{const n=ae(e),i=this.children.get(n);return i!==null?i.subtree(Ce(e)):new Pe(null)}}set(e,n){if(ne(e))return new Pe(n,this.children);{const i=ae(e),s=(this.children.get(i)||new Pe(null)).set(Ce(e),n),o=this.children.insert(i,s);return new Pe(this.value,o)}}remove(e){if(ne(e))return this.children.isEmpty()?new Pe(null):new Pe(null,this.children);{const n=ae(e),i=this.children.get(n);if(i){const r=i.remove(Ce(e));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new Pe(null):new Pe(this.value,s)}else return this}}get(e){if(ne(e))return this.value;{const n=ae(e),i=this.children.get(n);return i?i.get(Ce(e)):null}}setTree(e,n){if(ne(e))return n;{const i=ae(e),s=(this.children.get(i)||new Pe(null)).setTree(Ce(e),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new Pe(this.value,o)}}fold(e){return this.fold_(ge(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Je(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,ge(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(ne(e))return null;{const s=ae(e),o=this.children.get(s);return o?o.findOnPath_(Ce(e),Je(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ge(),n)}foreachOnPath_(e,n,i){if(ne(e))return this;{this.value&&i(n,this.value);const r=ae(e),s=this.children.get(r);return s?s.foreachOnPath_(Ce(e),Je(n,r),i):new Pe(null)}}foreach(e){this.foreach_(ge(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Je(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.writeTree_=e}static empty(){return new dn(new Pe(null))}}function Eo(t,e,n){if(ne(e))return new dn(new Pe(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const o=St(r,e);return s=s.updateChild(o,n),new dn(t.writeTree_.set(r,s))}else{const r=new Pe(n),s=t.writeTree_.setTree(e,r);return new dn(s)}}}function p_(t,e,n){let i=t;return At(n,(r,s)=>{i=Eo(i,Je(e,r),s)}),i}function g_(t,e){if(ne(e))return dn.empty();{const n=t.writeTree_.setTree(e,new Pe(null));return new dn(n)}}function Rd(t,e){return Tr(t,e)!=null}function Tr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(St(n.path,e)):null}function m_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(He,(i,r)=>{e.push(new ee(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new ee(i,r.value))}),e}function Ei(t,e){if(ne(e))return t;{const n=Tr(t,e);return n!=null?new dn(new Pe(n)):new dn(t.writeTree_.subtree(e))}}function Id(t){return t.writeTree_.isEmpty()}function xs(t,e){return Tw(ge(),t.writeTree_,e)}function Tw(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(N(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=Tw(Je(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Je(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t,e){return Iw(e,t)}function WM(t,e,n,i,r){N(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Eo(t.visibleWrites,e,n)),t.lastWriteId=i}function VM(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function HM(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);N(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&UM(a,i.path)?r=!1:an(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return $M(t),!0;if(i.snap)t.visibleWrites=g_(t.visibleWrites,i.path);else{const a=i.children;At(a,l=>{t.visibleWrites=g_(t.visibleWrites,Je(i.path,l))})}return!0}else return!1}function UM(t,e){if(t.snap)return an(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&an(Je(t.path,n),e))return!0;return!1}function $M(t){t.visibleWrites=Pw(t.allWrites,YM,ge()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function YM(t){return t.visible}function Pw(t,e,n){let i=dn.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let a;if(s.snap)an(n,o)?(a=St(n,o),i=Eo(i,a,s.snap)):an(o,n)&&(a=St(o,n),i=Eo(i,ge(),s.snap.getChild(a)));else if(s.children){if(an(n,o))a=St(n,o),i=p_(i,a,s.children);else if(an(o,n))if(a=St(o,n),ne(a))i=p_(i,ge(),s.children);else{const l=_s(s.children,ae(a));if(l){const c=l.getChild(Ce(a));i=Eo(i,ge(),c)}}}else throw Ps("WriteRecord should have .snap or .children")}}return i}function Mw(t,e,n,i,r){if(!i&&!r){const s=Tr(t.visibleWrites,e);if(s!=null)return s;{const o=Ei(t.visibleWrites,e);if(Id(o))return n;if(n==null&&!Rd(o,ge()))return null;{const a=n||G.EMPTY_NODE;return xs(o,a)}}}else{const s=Ei(t.visibleWrites,e);if(!r&&Id(s))return n;if(!r&&n==null&&!Rd(s,ge()))return null;{const o=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(an(c.path,e)||an(e,c.path))},a=Pw(t.allWrites,o,e),l=n||G.EMPTY_NODE;return xs(a,l)}}}function KM(t,e,n){let i=G.EMPTY_NODE;const r=Tr(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(He,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=Ei(t.visibleWrites,e);return n.forEachChild(He,(o,a)=>{const l=xs(Ei(s,new xe(o)),a);i=i.updateImmediateChild(o,l)}),m_(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=Ei(t.visibleWrites,e);return m_(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function GM(t,e,n,i,r){N(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Je(e,n);if(Rd(t.visibleWrites,s))return null;{const o=Ei(t.visibleWrites,s);return Id(o)?r.getChild(n):xs(o,r.getChild(n))}}function QM(t,e,n,i){const r=Je(e,n),s=Tr(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=Ei(t.visibleWrites,r);return xs(o,i.getNode().getImmediateChild(n))}else return null}function XM(t,e){return Tr(t.visibleWrites,e)}function qM(t,e,n,i,r,s,o){let a;const l=Ei(t.visibleWrites,e),c=Tr(l,ge());if(c!=null)a=c;else if(n!=null)a=xs(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),d=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let f=d.getNext();for(;f&&u.length<r;)h(f,i)!==0&&u.push(f),f=d.getNext();return u}else return[]}function JM(){return{visibleWrites:dn.empty(),allWrites:[],lastWriteId:-1}}function Mc(t,e,n,i){return Mw(t.writeTree,t.treePath,e,n,i)}function gp(t,e){return KM(t.writeTree,t.treePath,e)}function __(t,e,n,i){return GM(t.writeTree,t.treePath,e,n,i)}function Rc(t,e){return XM(t.writeTree,Je(t.treePath,e))}function ZM(t,e,n,i,r,s){return qM(t.writeTree,t.treePath,e,n,i,r,s)}function mp(t,e,n){return QM(t.writeTree,t.treePath,e,n)}function Rw(t,e){return Iw(Je(t.treePath,e),t.writeTree)}function Iw(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;N(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),N(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,ta(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,ea(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,vs(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,ta(i,e.snapshotNode,r.oldSnap));else throw Ps("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const Dw=new tR;class _p{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Ii(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mp(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:br(this.viewCache_),s=ZM(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t){return{filter:t}}function iR(t,e){N(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),N(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function rR(t,e,n,i,r){const s=new eR;let o,a;if(n.type===ln.OVERWRITE){const c=n;c.source.fromUser?o=Dd(t,e,c.path,c.snap,i,r,s):(N(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ne(c.path),o=Ic(t,e,c.path,c.snap,i,r,a,s))}else if(n.type===ln.MERGE){const c=n;c.source.fromUser?o=oR(t,e,c.path,c.children,i,r,s):(N(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Nd(t,e,c.path,c.children,i,r,a,s))}else if(n.type===ln.ACK_USER_WRITE){const c=n;c.revert?o=cR(t,e,c.path,i,r,s):o=aR(t,e,c.path,c.affectedTree,i,r,s)}else if(n.type===ln.LISTEN_COMPLETE)o=lR(t,e,n.path,i,s);else throw Ps("Unknown operation type: "+n.type);const l=s.getChanges();return sR(e,o,l),{viewCache:o,changes:l}}function sR(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Pc(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(Sw(Pc(e)))}}function Nw(t,e,n,i,r,s){const o=e.eventCache;if(Rc(i,n)!=null)return e;{let a,l;if(ne(n))if(N(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=br(e),u=c instanceof G?c:G.EMPTY_NODE,h=gp(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=Mc(i,br(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=ae(n);if(c===".priority"){N(Ri(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=__(i,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=Ce(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const d=__(i,n,o.getNode(),l);d!=null?h=o.getNode().getImmediateChild(c).updateChild(u,d):h=o.getNode().getImmediateChild(c)}else h=mp(i,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,r,s):a=o.getNode()}}return Co(e,a,o.isFullyInitialized()||ne(n),t.filter.filtersNodes())}}function Ic(t,e,n,i,r,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ne(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{const f=ae(n);if(!l.isCompleteForPath(n)&&Ri(n)>1)return e;const p=Ce(n),v=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),v):c=u.updateChild(l.getNode(),f,v,p,Dw,null)}const h=kw(e,c,l.isFullyInitialized()||ne(n),u.filtersNodes()),d=new _p(r,h,s);return Nw(t,h,n,r,d,a)}function Dd(t,e,n,i,r,s,o){const a=e.eventCache;let l,c;const u=new _p(r,e,s);if(ne(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Co(e,c,!0,t.filter.filtersNodes());else{const h=ae(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Co(e,c,a.isFullyInitialized(),a.isFiltered());else{const d=Ce(n),f=a.getNode().getImmediateChild(h);let p;if(ne(d))p=i;else{const m=u.getCompleteChild(h);m!=null?fw(d)===".priority"&&m.getChild(gw(d)).isEmpty()?p=m:p=m.updateChild(d,i):p=G.EMPTY_NODE}if(f.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),h,p,d,u,o);l=Co(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function y_(t,e){return t.eventCache.isCompleteForChild(e)}function oR(t,e,n,i,r,s,o){let a=e;return i.foreach((l,c)=>{const u=Je(n,l);y_(e,ae(u))&&(a=Dd(t,a,u,c,r,s,o))}),i.foreach((l,c)=>{const u=Je(n,l);y_(e,ae(u))||(a=Dd(t,a,u,c,r,s,o))}),a}function v_(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Nd(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ne(n)?c=i:c=new Pe(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,d)=>{if(u.hasChild(h)){const f=e.serverCache.getNode().getImmediateChild(h),p=v_(t,f,d);l=Ic(t,l,new xe(h),p,r,s,o,a)}}),c.children.inorderTraversal((h,d)=>{const f=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!u.hasChild(h)&&!f){const p=e.serverCache.getNode().getImmediateChild(h),m=v_(t,p,d);l=Ic(t,l,new xe(h),m,r,s,o,a)}}),l}function aR(t,e,n,i,r,s,o){if(Rc(r,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(ne(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ic(t,e,n,l.getNode().getChild(n),r,s,a,o);if(ne(n)){let c=new Pe(null);return l.getNode().forEachChild(os,(u,h)=>{c=c.set(new xe(u),h)}),Nd(t,e,n,c,r,s,a,o)}else return e}else{let c=new Pe(null);return i.foreach((u,h)=>{const d=Je(n,u);l.isCompleteForPath(d)&&(c=c.set(u,l.getNode().getChild(d)))}),Nd(t,e,n,c,r,s,a,o)}}function lR(t,e,n,i,r){const s=e.serverCache,o=kw(e,s.getNode(),s.isFullyInitialized()||ne(n),s.isFiltered());return Nw(t,o,n,i,Dw,r)}function cR(t,e,n,i,r,s){let o;if(Rc(i,n)!=null)return e;{const a=new _p(i,e,r),l=e.eventCache.getNode();let c;if(ne(n)||ae(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Mc(i,br(e));else{const h=e.serverCache.getNode();N(h instanceof G,"serverChildren would be complete if leaf node"),u=gp(i,h)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=ae(n);let h=mp(i,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,Ce(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,G.EMPTY_NODE,Ce(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Mc(i,br(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Rc(i,ge())!=null,Co(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new hp(i.getIndex()),s=MM(i);this.processor_=nR(s);const o=n.serverCache,a=n.eventCache,l=r.updateFullNode(G.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(G.EMPTY_NODE,a.getNode(),null),u=new Ii(l,o.isFullyInitialized(),r.filtersNodes()),h=new Ii(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=lu(h,u),this.eventGenerator_=new AM(this.query_)}get query(){return this.query_}}function hR(t){return t.viewCache_.serverCache.getNode()}function dR(t){return Pc(t.viewCache_)}function fR(t,e){const n=br(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ne(e)&&!n.getImmediateChild(ae(e)).isEmpty())?n.getChild(e):null}function x_(t){return t.eventRegistrations_.length===0}function pR(t,e){t.eventRegistrations_.push(e)}function w_(t,e,n){const i=[];if(n){N(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function b_(t,e,n,i){e.type===ln.MERGE&&e.source.queryId!==null&&(N(br(t.viewCache_),"We should always have a full cache before handling merges"),N(Pc(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=rR(t.processor_,r,e,n,i);return iR(t.processor_,s.viewCache),N(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Ow(t,s.changes,s.viewCache.eventCache.getNode(),null)}function gR(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(He,(s,o)=>{i.push(vs(s,o))}),n.isFullyInitialized()&&i.push(Sw(n.getNode())),Ow(t,i,n.getNode(),e)}function Ow(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return FM(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc;class Lw{constructor(){this.views=new Map}}function mR(t){N(!Dc,"__referenceConstructor has already been defined"),Dc=t}function _R(){return N(Dc,"Reference.ts has not been loaded"),Dc}function yR(t){return t.views.size===0}function yp(t,e,n,i){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return N(s!=null,"SyncTree gave us an op for an invalid query."),b_(s,e,n,i)}else{let s=[];for(const o of t.views.values())s=s.concat(b_(o,e,n,i));return s}}function Aw(t,e,n,i,r){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Mc(n,r?i:null),l=!1;a?l=!0:i instanceof G?(a=gp(n,i),l=!1):(a=G.EMPTY_NODE,l=!1);const c=lu(new Ii(a,l,!1),new Ii(i,r,!1));return new uR(e,c)}return o}function vR(t,e,n,i,r,s){const o=Aw(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),pR(o,n),gR(o,n)}function xR(t,e,n,i){const r=e._queryIdentifier,s=[];let o=[];const a=Di(t);if(r==="default")for(const[l,c]of t.views.entries())o=o.concat(w_(c,n,i)),x_(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(r);l&&(o=o.concat(w_(l,n,i)),x_(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Di(t)&&s.push(new(_R())(e._repo,e._path)),{removed:s,events:o}}function Fw(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ki(t,e){let n=null;for(const i of t.views.values())n=n||fR(i,e);return n}function zw(t,e){if(e._queryParams.loadsAllData())return uu(t);{const i=e._queryIdentifier;return t.views.get(i)}}function Bw(t,e){return zw(t,e)!=null}function Di(t){return uu(t)!=null}function uu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc;function wR(t){N(!Nc,"__referenceConstructor has already been defined"),Nc=t}function bR(){return N(Nc,"Reference.ts has not been loaded"),Nc}let SR=1;class S_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Pe(null),this.pendingWriteTree_=JM(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function CR(t,e,n,i,r){return WM(t.pendingWriteTree_,e,n,i,r),r?Ma(t,new wr(Ew(),e,n)):[]}function qr(t,e,n=!1){const i=VM(t.pendingWriteTree_,e);if(HM(t.pendingWriteTree_,e)){let s=new Pe(null);return i.snap!=null?s=s.set(ge(),!0):At(i.children,o=>{s=s.set(new xe(o),!0)}),Ma(t,new Tc(i.path,s,n))}else return[]}function Pa(t,e,n){return Ma(t,new wr(fp(),e,n))}function ER(t,e,n){const i=Pe.fromObject(n);return Ma(t,new ra(fp(),e,i))}function kR(t,e){return Ma(t,new ia(fp(),e))}function TR(t,e,n){const i=vp(t,n);if(i){const r=xp(i),s=r.path,o=r.queryId,a=St(s,e),l=new ia(pp(o),a);return wp(t,s,l)}else return[]}function jw(t,e,n,i,r=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||Bw(o,e))){const l=xR(o,e,n,i);yR(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!r){const u=c.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(d,f)=>Di(f));if(u&&!h){const d=t.syncPointTree_.subtree(s);if(!d.isEmpty()){const f=IR(d);for(let p=0;p<f.length;++p){const m=f[p],v=m.query,_=$w(t,m);t.listenProvider_.startListening(ko(v),sa(t,v),_.hashFn,_.onComplete)}}}!h&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(ko(e),null):c.forEach(d=>{const f=t.queryToTagMap.get(hu(d));t.listenProvider_.stopListening(ko(d),f)}))}DR(t,c)}return a}function Ww(t,e,n,i){const r=vp(t,i);if(r!=null){const s=xp(r),o=s.path,a=s.queryId,l=St(o,e),c=new wr(pp(a),l,n);return wp(t,o,c)}else return[]}function PR(t,e,n,i){const r=vp(t,i);if(r){const s=xp(r),o=s.path,a=s.queryId,l=St(o,e),c=Pe.fromObject(n),u=new ra(pp(a),l,c);return wp(t,o,u)}else return[]}function MR(t,e,n,i=!1){const r=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(r,(d,f)=>{const p=St(d,r);s=s||ki(f,p),o=o||Di(f)});let a=t.syncPointTree_.get(r);a?(o=o||Di(a),s=s||ki(a,ge())):(a=new Lw,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;s!=null?l=!0:(l=!1,s=G.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((f,p)=>{const m=ki(p,ge());m&&(s=s.updateImmediateChild(f,m))}));const c=Bw(a,e);if(!c&&!e._queryParams.loadsAllData()){const d=hu(e);N(!t.queryToTagMap.has(d),"View does not exist, but we have a tag");const f=NR();t.queryToTagMap.set(d,f),t.tagToQueryMap.set(f,d)}const u=cu(t.pendingWriteTree_,r);let h=vR(a,e,n,u,s,l);if(!c&&!o&&!i){const d=zw(a,e);h=h.concat(OR(t,e,d))}return h}function Vw(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=St(o,e),c=ki(a,l);if(c)return c});return Mw(r,e,s,n,!0)}function RR(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const h=St(c,n);i=i||ki(u,h)});let r=t.syncPointTree_.get(n);r?i=i||ki(r,ge()):(r=new Lw,t.syncPointTree_=t.syncPointTree_.set(n,r));const s=i!=null,o=s?new Ii(i,!0,!1):null,a=cu(t.pendingWriteTree_,e._path),l=Aw(r,e,a,s?o.getNode():G.EMPTY_NODE,s);return dR(l)}function Ma(t,e){return Hw(e,t.syncPointTree_,null,cu(t.pendingWriteTree_,ge()))}function Hw(t,e,n,i){if(ne(t.path))return Uw(t,e,n,i);{const r=e.get(ge());n==null&&r!=null&&(n=ki(r,ge()));let s=[];const o=ae(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=Rw(i,o);s=s.concat(Hw(a,l,c,u))}return r&&(s=s.concat(yp(r,t,i,n))),s}}function Uw(t,e,n,i){const r=e.get(ge());n==null&&r!=null&&(n=ki(r,ge()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=Rw(i,o),u=t.operationForChild(o);u&&(s=s.concat(Uw(u,a,l,c)))}),r&&(s=s.concat(yp(r,t,i,n))),s}function $w(t,e){const n=e.query,i=sa(t,n);return{hashFn:()=>(hR(e)||G.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?TR(t,n._path,i):kR(t,n._path);{const s=PP(r,n);return jw(t,n,null,s)}}}}function sa(t,e){const n=hu(e);return t.queryToTagMap.get(n)}function hu(t){return t._path.toString()+"$"+t._queryIdentifier}function vp(t,e){return t.tagToQueryMap.get(e)}function xp(t){const e=t.indexOf("$");return N(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new xe(t.substr(0,e))}}function wp(t,e,n){const i=t.syncPointTree_.get(e);N(i,"Missing sync point for query tag that we're tracking");const r=cu(t.pendingWriteTree_,e);return yp(i,n,r,null)}function IR(t){return t.fold((e,n,i)=>{if(n&&Di(n))return[uu(n)];{let r=[];return n&&(r=Fw(n)),At(i,(s,o)=>{r=r.concat(o)}),r}})}function ko(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(bR())(t._repo,t._path):t}function DR(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=hu(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function NR(){return SR++}function OR(t,e,n){const i=e._path,r=sa(t,e),s=$w(t,n),o=t.listenProvider_.startListening(ko(e),r,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(i);if(r)N(!Di(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,h)=>{if(!ne(c)&&u&&Di(u))return[uu(u).query];{let d=[];return u&&(d=d.concat(Fw(u).map(f=>f.query))),At(h,(f,p)=>{d=d.concat(p)}),d}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(ko(u),sa(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new bp(n)}node(){return this.node_}}class Sp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Je(this.path_,e);return new Sp(this.syncTree_,n)}node(){return Vw(this.syncTree_,this.path_)}}const LR=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},C_=function(t,e,n){if(!t||typeof t!="object")return t;if(N(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return AR(t[".sv"],e,n);if(typeof t[".sv"]=="object")return FR(t[".sv"],e);N(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},AR=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:N(!1,"Unexpected server value: "+t)}},FR=function(t,e,n){t.hasOwnProperty("increment")||N(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&N(!1,"Unexpected increment value: "+i);const r=e.node();if(N(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},zR=function(t,e,n,i){return Cp(e,new Sp(n,t),i)},BR=function(t,e,n){return Cp(t,new bp(e),n)};function Cp(t,e,n){const i=t.getPriority().val(),r=C_(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=C_(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new tt(a,ct(r)):t}else{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new tt(r))),o.forEachChild(He,(a,l)=>{const c=Cp(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function kp(t,e){let n=e instanceof xe?e:new xe(e),i=t,r=ae(n);for(;r!==null;){const s=_s(i.node.children,r)||{children:{},childCount:0};i=new Ep(r,i,s),n=Ce(n),r=ae(n)}return i}function Rs(t){return t.node.value}function Yw(t,e){t.node.value=e,Od(t)}function Kw(t){return t.node.childCount>0}function jR(t){return Rs(t)===void 0&&!Kw(t)}function du(t,e){At(t.node.children,(n,i)=>{e(new Ep(n,t,i))})}function Gw(t,e,n,i){n&&!i&&e(t),du(t,r=>{Gw(r,e,!0,i)}),n&&i&&e(t)}function WR(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Ra(t){return new xe(t.parent===null?t.name:Ra(t.parent)+"/"+t.name)}function Od(t){t.parent!==null&&VR(t.parent,t.name,t)}function VR(t,e,n){const i=jR(n),r=Jn(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Od(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Od(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=/[\[\].#$\/\u0000-\u001F\u007F]/,UR=/[\[\].#$\u0000-\u001F\u007F]/,lh=10*1024*1024,Qw=function(t){return typeof t=="string"&&t.length!==0&&!HR.test(t)},Xw=function(t){return typeof t=="string"&&t.length!==0&&!UR.test(t)},$R=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Xw(t)},qw=function(t,e,n){const i=n instanceof xe?new aM(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Zi(i));if(typeof e=="function")throw new Error(t+"contains a function "+Zi(i)+" with contents = "+e.toString());if(Yx(e))throw new Error(t+"contains "+e.toString()+" "+Zi(i));if(typeof e=="string"&&e.length>lh/3&&ou(e)>lh)throw new Error(t+"contains a string greater than "+lh+" utf8 bytes "+Zi(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(At(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Qw(o)))throw new Error(t+" contains an invalid key ("+o+") "+Zi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);lM(i,o),qw(t,a,i),cM(i)}),r&&s)throw new Error(t+' contains ".value" child '+Zi(i)+" in addition to actual children.")}},Jw=function(t,e,n,i){if(!Xw(n))throw new Error(Ax(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},YR=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Jw(t,e,n)},KR=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Qw(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!$R(n))throw new Error(Ax(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function QR(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();n!==null&&!mw(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function Wi(t,e,n){QR(t,n),XR(t,i=>an(i,e)||an(e,i))}function XR(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const s=r.path;e(s)?(qR(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function qR(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();bo&&_t("event: "+n.toString()),ka(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="repo_interrupt",ZR=25;class eI{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new GR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kc(),this.transactionQueueTree_=new Ep,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function tI(t,e,n){if(t.stats_=ap(t.repoInfo_),t.forceRestClient_||DP())t.server_=new Ec(t.repoInfo_,(i,r,s,o)=>{E_(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>k_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qe(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Hn(t.repoInfo_,e,(i,r,s,o)=>{E_(t,i,r,s,o)},i=>{k_(t,i)},i=>{iI(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=FP(t.repoInfo_,()=>new LM(t.stats_,t.server_)),t.infoData_=new RM,t.infoSyncTree_=new S_({startListening:(i,r,s,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Pa(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Tp(t,"connected",!1),t.serverSyncTree_=new S_({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(a,l)=>{const c=o(a,l);Wi(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function nI(t){const n=t.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Zw(t){return LR({timestamp:nI(t)})}function E_(t,e,n,i,r){t.dataUpdateCount++;const s=new xe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const l=vc(n,c=>ct(c));o=PR(t.serverSyncTree_,s,l,r)}else{const l=ct(n);o=Ww(t.serverSyncTree_,s,l,r)}else if(i){const l=vc(n,c=>ct(c));o=ER(t.serverSyncTree_,s,l)}else{const l=ct(n);o=Pa(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Rp(t,s)),Wi(t.eventQueue_,a,o)}function k_(t,e){Tp(t,"connected",e),e===!1&&oI(t)}function iI(t,e){At(e,(n,i)=>{Tp(t,n,i)})}function Tp(t,e,n){const i=new xe("/.info/"+e),r=ct(n);t.infoData_.updateSnapshot(i,r);const s=Pa(t.infoSyncTree_,i,r);Wi(t.eventQueue_,i,s)}function rI(t){return t.nextWriteId_++}function sI(t,e,n){const i=RR(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{const s=ct(r).withIndex(e._queryParams.getIndex());MR(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Pa(t.serverSyncTree_,e._path,s);else{const a=sa(t.serverSyncTree_,e);o=Ww(t.serverSyncTree_,e._path,s,a)}return Wi(t.eventQueue_,e._path,o),jw(t.serverSyncTree_,e,n,null,!0),s},r=>(Pp(t,"get for query "+qe(e)+" failed: "+r),Promise.reject(new Error(r))))}function oI(t){Pp(t,"onDisconnectEvents");const e=Zw(t),n=kc();Md(t.onDisconnect_,ge(),(r,s)=>{const o=zR(r,s,t.serverSyncTree_,e);Cw(n,r,o)});let i=[];Md(n,ge(),(r,s)=>{i=i.concat(Pa(t.serverSyncTree_,r,s));const o=uI(t,r);Rp(t,o)}),t.onDisconnect_=kc(),Wi(t.eventQueue_,ge(),i)}function aI(t){t.persistentConnection_&&t.persistentConnection_.interrupt(JR)}function Pp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),_t(n,...e)}function eb(t,e,n){return Vw(t.serverSyncTree_,e,n)||G.EMPTY_NODE}function Mp(t,e=t.transactionQueueTree_){if(e||fu(t,e),Rs(e)){const n=nb(t,e);N(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&lI(t,Ra(e),n)}else Kw(e)&&du(e,n=>{Mp(t,n)})}function lI(t,e,n){const i=n.map(c=>c.currentWriteId),r=eb(t,e,i);let s=r;const o=r.hash();for(let c=0;c<n.length;c++){const u=n[c];N(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=St(e,u.path);s=s.updateChild(h,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Pp(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let d=0;d<n.length;d++)n[d].status=2,u=u.concat(qr(t.serverSyncTree_,n[d].currentWriteId)),n[d].onComplete&&h.push(()=>n[d].onComplete(null,!0,n[d].currentOutputSnapshotResolved)),n[d].unwatcher();fu(t,kp(t.transactionQueueTree_,e)),Mp(t,t.transactionQueueTree_),Wi(t.eventQueue_,e,u);for(let d=0;d<h.length;d++)ka(h[d])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Ht("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Rp(t,e)}},o)}function Rp(t,e){const n=tb(t,e),i=Ra(n),r=nb(t,n);return cI(t,r,i),i}function cI(t,e,n){if(e.length===0)return;const i=[];let r=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=St(n,l.path);let u=!1,h;if(N(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,r=r.concat(qr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=ZR)u=!0,h="maxretry",r=r.concat(qr(t.serverSyncTree_,l.currentWriteId,!0));else{const d=eb(t,l.path,o);l.currentInputSnapshot=d;const f=e[a].update(d.val());if(f!==void 0){qw("transaction failed: Data returned ",f,l.path);let p=ct(f);typeof f=="object"&&f!=null&&Jn(f,".priority")||(p=p.updatePriority(d.getPriority()));const v=l.currentWriteId,_=Zw(t),g=BR(p,d,_);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=g,l.currentWriteId=rI(t),o.splice(o.indexOf(v),1),r=r.concat(CR(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),r=r.concat(qr(t.serverSyncTree_,v,!0))}else u=!0,h="nodata",r=r.concat(qr(t.serverSyncTree_,l.currentWriteId,!0))}Wi(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(h),!1,null))))}fu(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)ka(i[a]);Mp(t,t.transactionQueueTree_)}function tb(t,e){let n,i=t.transactionQueueTree_;for(n=ae(e);n!==null&&Rs(i)===void 0;)i=kp(i,n),e=Ce(e),n=ae(e);return i}function nb(t,e){const n=[];return ib(t,e,n),n.sort((i,r)=>i.order-r.order),n}function ib(t,e,n){const i=Rs(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);du(e,r=>{ib(t,r,n)})}function fu(t,e){const n=Rs(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,Yw(e,n.length>0?n:void 0)}du(e,i=>{fu(t,i)})}function uI(t,e){const n=Ra(tb(t,e)),i=kp(t.transactionQueueTree_,e);return WR(i,r=>{ch(t,r)}),ch(t,i),Gw(i,r=>{ch(t,r)}),n}function ch(t,e){const n=Rs(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(N(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(N(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(qr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Yw(e,void 0):n.length=s+1,Wi(t.eventQueue_,Ra(e),r);for(let o=0;o<i.length;o++)ka(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function dI(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ht(`Invalid query segment '${n}' in query '${t}'`)}return e}const T_=function(t,e){const n=fI(t),i=n.namespace;n.domain==="firebase.com"&&Xn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||SP();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new rw(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new xe(n.pathString)}},fI=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(r=hI(t.substring(u,h)));const d=dI(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=i}"ns"in d&&(s=d.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+qe(this.snapshot.exportVal())}}class gI{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return N(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return ne(this._path)?null:fw(this._path)}get ref(){return new Zn(this._repo,this._path)}get _queryIdentifier(){const e=d_(this._queryParams),n=sp(e);return n==="{}"?"default":n}get _queryObject(){return d_(this._queryParams)}isEqual(e){if(e=Sa(e),!(e instanceof Ip))return!1;const n=this._repo===e._repo,i=mw(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+oM(this._path)}}class Zn extends Ip{constructor(e,n){super(e,n,new dp,!1)}get parent(){const e=gw(this._path);return e===null?null:new Zn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class oa{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new xe(e),i=Ld(this.ref,e);return new oa(this._node.getChild(n),i,He)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new oa(r,Ld(this.ref,i),He)))}hasChild(e){const n=new xe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function _I(t,e){return t=Sa(t),t._checkNotDeleted("ref"),Ld(t._root,e)}function Ld(t,e){return t=Sa(t),ae(t._path)===null?YR("child","path",e):Jw("child","path",e),new Zn(t._repo,Je(t._path,e))}function yI(t){t=Sa(t);const e=new mI(()=>{}),n=new Dp(e);return sI(t._repo,t,n).then(i=>new oa(i,new Zn(t._repo,t._path),t._queryParams.getIndex()))}class Dp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new pI("value",this,new oa(e.snapshotNode,new Zn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new gI(this,e,n):null}matches(e){return e instanceof Dp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}mR(Zn);wR(Zn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="FIREBASE_DATABASE_EMULATOR_HOST",Ad={};let xI=!1;function wI(t,e,n,i){t.repoInfo_=new rw(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function bI(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||Xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_t("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=T_(s,r),a=o.repoInfo,l;typeof process<"u"&&Gm&&(l=Gm[vI]),l?(s=`http://${l}?ns=${a.namespace}`,o=T_(s,r),a=o.repoInfo):o.repoInfo.secure;const c=new OP(t.name,t.options,e);KR("Invalid Firebase Database URL",o),ne(o.path)||Xn("Database URL must point to the root of a Firebase Database (not including a child path).");const u=CI(a,t,c,new NP(t.name,n));return new EI(u,t)}function SI(t,e){const n=Ad[e];(!n||n[t.key]!==t)&&Xn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),aI(t),delete n[t.key]}function CI(t,e,n,i){let r=Ad[e.name];r||(r={},Ad[e.name]=r);let s=r[t.toURLString()];return s&&Xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new eI(t,xI,n,i),r[t.toURLString()]=s,s}class EI{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(tI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zn(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(SI(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Xn("Cannot call "+e+" on a deleted database.")}}function kI(t=sP(),e){const n=tP(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=$k("database");i&&TI(n,...i)}return n}function TI(t,e,n,i={}){t=Sa(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Xn("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Nl(Nl.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:Yk(i.mockUserToken,t.app.options.projectId);s=new Nl(o)}wI(r,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t){_P(rP),wc(new qo("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return bI(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),rs(Qm,Xm,t),rs(Qm,Xm,"esm2017")}Hn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Hn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};PI();const MI={apiKey:"AIzaSyDYUsVIgr7gCL3D1S5dhwyDc6K-aP31sXA",authDomain:"waterquality-ba0bb.firebaseapp.com",databaseURL:"https://waterquality-ba0bb-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"waterquality-ba0bb",storageBucket:"waterquality-ba0bb.appspot.com",messagingSenderId:"654440423465",appId:"1:654440423465:web:8e7694398bd773f3343c38",measurementId:"G-QSVJTQQ3RD"},RI=jx(MI),II=kI(RI);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Ia(t){return t+.5|0}const hi=(t,e,n)=>Math.max(Math.min(t,n),e);function oo(t){return hi(Ia(t*2.55),0,255)}function Ti(t){return hi(Ia(t*255),0,255)}function Nn(t){return hi(Ia(t/2.55)/100,0,1)}function P_(t){return hi(Ia(t*100),0,100)}const Kt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fd=[..."0123456789ABCDEF"],DI=t=>Fd[t&15],NI=t=>Fd[(t&240)>>4]+Fd[t&15],ol=t=>(t&240)>>4===(t&15),OI=t=>ol(t.r)&&ol(t.g)&&ol(t.b)&&ol(t.a);function LI(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Kt[t[1]]*17,g:255&Kt[t[2]]*17,b:255&Kt[t[3]]*17,a:e===5?Kt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Kt[t[1]]<<4|Kt[t[2]],g:Kt[t[3]]<<4|Kt[t[4]],b:Kt[t[5]]<<4|Kt[t[6]],a:e===9?Kt[t[7]]<<4|Kt[t[8]]:255})),n}const AI=(t,e)=>t<255?e(t):"";function FI(t){var e=OI(t)?DI:NI;return t?"#"+e(t.r)+e(t.g)+e(t.b)+AI(t.a,e):void 0}const zI=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rb(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function BI(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function jI(t,e,n){const i=rb(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function WI(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function Np(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=WI(n,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function Op(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Ti)}function Lp(t,e,n){return Op(rb,t,e,n)}function VI(t,e,n){return Op(jI,t,e,n)}function HI(t,e,n){return Op(BI,t,e,n)}function sb(t){return(t%360+360)%360}function UI(t){const e=zI.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?oo(+e[5]):Ti(+e[5]));const r=sb(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=VI(r,s,o):e[1]==="hsv"?i=HI(r,s,o):i=Lp(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function $I(t,e){var n=Np(t);n[0]=sb(n[0]+e),n=Lp(n),t.r=n[0],t.g=n[1],t.b=n[2]}function YI(t){if(!t)return;const e=Np(t),n=e[0],i=P_(e[1]),r=P_(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Nn(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const M_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},R_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function KI(){const t={},e=Object.keys(R_),n=Object.keys(M_);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,M_[s]);s=parseInt(R_[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let al;function GI(t){al||(al=KI(),al.transparent=[0,0,0,0]);const e=al[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const QI=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function XI(t){const e=QI.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?oo(o):hi(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?oo(i):hi(i,0,255)),r=255&(e[4]?oo(r):hi(r,0,255)),s=255&(e[6]?oo(s):hi(s,0,255)),{r:i,g:r,b:s,a:n}}}function qI(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Nn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const uh=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ar=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function JI(t,e,n){const i=Ar(Nn(t.r)),r=Ar(Nn(t.g)),s=Ar(Nn(t.b));return{r:Ti(uh(i+n*(Ar(Nn(e.r))-i))),g:Ti(uh(r+n*(Ar(Nn(e.g))-r))),b:Ti(uh(s+n*(Ar(Nn(e.b))-s))),a:t.a+n*(e.a-t.a)}}function ll(t,e,n){if(t){let i=Np(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Lp(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function ob(t,e){return t&&Object.assign(e||{},t)}function I_(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ti(t[3]))):(e=ob(t,{r:0,g:0,b:0,a:1}),e.a=Ti(e.a)),e}function ZI(t){return t.charAt(0)==="r"?XI(t):UI(t)}class aa{constructor(e){if(e instanceof aa)return e;const n=typeof e;let i;n==="object"?i=I_(e):n==="string"&&(i=LI(e)||GI(e)||ZI(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=ob(this._rgb);return e&&(e.a=Nn(e.a)),e}set rgb(e){this._rgb=I_(e)}rgbString(){return this._valid?qI(this._rgb):void 0}hexString(){return this._valid?FI(this._rgb):void 0}hslString(){return this._valid?YI(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=JI(this._rgb,e._rgb,n)),this}clone(){return new aa(this.rgb)}alpha(e){return this._rgb.a=Ti(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Ia(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ll(this._rgb,2,e),this}darken(e){return ll(this._rgb,2,-e),this}saturate(e){return ll(this._rgb,1,e),this}desaturate(e){return ll(this._rgb,1,-e),this}rotate(e){return $I(this._rgb,e),this}}/*!
 * Chart.js v4.4.5
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Pn(){}const eD=(()=>{let t=0;return()=>t++})();function de(t){return t===null||typeof t>"u"}function Oe(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function oe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ue(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ft(t,e){return Ue(t)?t:e}function q(t,e){return typeof t>"u"?e:t}const tD=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,ab=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function be(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function _e(t,e,n,i){let r,s,o;if(Oe(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(oe(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function Oc(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function Lc(t){if(Oe(t))return t.map(Lc);if(oe(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=Lc(t[n[r]]);return e}return t}function lb(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function nD(t,e,n,i){if(!lb(t))return;const r=e[t],s=n[t];oe(r)&&oe(s)?la(r,s,i):e[t]=Lc(s)}function la(t,e,n){const i=Oe(e)?e:[e],r=i.length;if(!oe(t))return t;n=n||{};const s=n.merger||nD;let o;for(let a=0;a<r;++a){if(o=i[a],!oe(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function To(t,e){return la(t,e,{merger:iD})}function iD(t,e,n){if(!lb(t))return;const i=e[t],r=n[t];oe(i)&&oe(r)?To(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Lc(r))}const D_={"":t=>t,x:t=>t.x,y:t=>t.y};function rD(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function sD(t){const e=rD(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function Ni(t,e){return(D_[e]||(D_[e]=sD(e)))(t)}function Ap(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ca=t=>typeof t<"u",Oi=t=>typeof t=="function",N_=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function oD(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ie=Math.PI,Re=2*Ie,aD=Re+Ie,Ac=Number.POSITIVE_INFINITY,lD=Ie/180,Ye=Ie/2,Yi=Ie/4,O_=Ie*2/3,di=Math.log10,Cn=Math.sign;function Po(t,e,n){return Math.abs(t-e)<n}function L_(t){const e=Math.round(t);t=Po(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(di(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function cD(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function ws(t){return!isNaN(parseFloat(t))&&isFinite(t)}function uD(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function cb(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function cn(t){return t*(Ie/180)}function Fp(t){return t*(180/Ie)}function A_(t){if(!Ue(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function ub(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Ie&&(s+=Re),{angle:s,distance:r}}function zd(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function hD(t,e){return(t-e+aD)%Re-Ie}function jt(t){return(t%Re+Re)%Re}function ua(t,e,n,i){const r=jt(t),s=jt(e),o=jt(n),a=jt(s-r),l=jt(o-r),c=jt(r-s),u=jt(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function rt(t,e,n){return Math.max(e,Math.min(n,t))}function dD(t){return rt(t,-32768,32767)}function zn(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function zp(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const Bn=(t,e,n,i)=>zp(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),fD=(t,e,n)=>zp(t,n,i=>t[i][e]>=n);function pD(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const hb=["push","pop","shift","splice","unshift"];function gD(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),hb.forEach(n=>{const i="_onData"+Ap(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function F_(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(hb.forEach(s=>{delete t[s]}),delete t._chartjs)}function db(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const fb=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function pb(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,fb.call(window,()=>{i=!1,t.apply(e,n)}))}}function mD(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Bp=t=>t==="start"?"left":t==="end"?"right":"center",gt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,_D=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function gb(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(r=rt(Math.min(Bn(a,l,c).lo,n?i:Bn(e,l,o.getPixelForValue(c)).lo),0,i-1)),d?s=rt(Math.max(Bn(a,o.axis,u,!0).hi+1,n?0:Bn(e,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function mb(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const cl=t=>t===0||t===1,z_=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Re/n)),B_=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Re/n)+1,Mo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ye)+1,easeOutSine:t=>Math.sin(t*Ye),easeInOutSine:t=>-.5*(Math.cos(Ie*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>cl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>cl(t)?t:z_(t,.075,.3),easeOutElastic:t=>cl(t)?t:B_(t,.075,.3),easeInOutElastic(t){return cl(t)?t:t<.5?.5*z_(t*2,.1125,.45):.5+.5*B_(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Mo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Mo.easeInBounce(t*2)*.5:Mo.easeOutBounce(t*2-1)*.5+.5};function jp(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function j_(t){return jp(t)?t:new aa(t)}function hh(t){return jp(t)?t:new aa(t).saturate(.5).darken(.1).hexString()}const yD=["x","y","borderWidth","radius","tension"],vD=["color","borderColor","backgroundColor"];function xD(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:vD},numbers:{type:"number",properties:yD}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function wD(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const W_=new Map;function bD(t,e){e=e||{};const n=t+JSON.stringify(e);let i=W_.get(n);return i||(i=new Intl.NumberFormat(t,e),W_.set(n,i)),i}function Da(t,e,n){return bD(e,n).format(t)}const _b={values(t){return Oe(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=SD(t,n)}const o=di(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Da(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(di(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?_b.numeric.call(this,t,e,n):""}};function SD(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var pu={formatters:_b};function CD(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pu.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Sr=Object.create(null),Bd=Object.create(null);function Ro(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function dh(t,e,n){return typeof e=="string"?la(Ro(t,e),n):la(Ro(t,""),e)}class ED{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>hh(r.backgroundColor),this.hoverBorderColor=(i,r)=>hh(r.borderColor),this.hoverColor=(i,r)=>hh(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return dh(this,e,n)}get(e){return Ro(this,e)}describe(e,n){return dh(Bd,e,n)}override(e,n){return dh(Sr,e,n)}route(e,n,i,r){const s=Ro(this,e),o=Ro(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[r];return oe(l)?Object.assign({},c,l):q(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Le=new ED({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[xD,wD,CD]);function kD(t){return!t||de(t.size)||de(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Fc(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function TD(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],h!=null&&!Oe(h))o=Fc(t,r,s,o,h);else if(Oe(h))for(c=0,u=h.length;c<u;c++)d=h[c],d!=null&&!Oe(d)&&(o=Fc(t,r,s,o,d));t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function Ki(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function V_(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function jd(t,e,n,i){yb(t,e,n,i,null)}function yb(t,e,n,i,r){let s,o,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,m=e.radius;let v=(p||0)*lD;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,m,0,0,Re):t.arc(n,i,m,0,Re),t.closePath();break;case"triangle":u=r?r/2:m,t.moveTo(n+Math.sin(v)*u,i-Math.cos(v)*m),v+=O_,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*m),v+=O_,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(v+Yi)*l,h=Math.cos(v+Yi)*(r?r/2-c:l),a=Math.sin(v+Yi)*l,d=Math.sin(v+Yi)*(r?r/2-c:l),t.arc(n-h,i-a,c,v-Ie,v-Ye),t.arc(n+d,i-o,c,v-Ye,v),t.arc(n+h,i+a,c,v,v+Ye),t.arc(n-d,i+o,c,v+Ye,v+Ie),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}v+=Yi;case"rectRot":h=Math.cos(v)*(r?r/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,d=Math.sin(v)*(r?r/2:m),t.moveTo(n-h,i-a),t.lineTo(n+d,i-o),t.lineTo(n+h,i+a),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":v+=Yi;case"cross":h=Math.cos(v)*(r?r/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,d=Math.sin(v)*(r?r/2:m),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":h=Math.cos(v)*(r?r/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,d=Math.sin(v)*(r?r/2:m),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),v+=Yi,h=Math.cos(v)*(r?r/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,d=Math.sin(v)*(r?r/2:m),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=r?r/2:Math.cos(v)*m,a=Math.sin(v)*m,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(v)*(r?r/2:m),i+Math.sin(v)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function jn(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function gu(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function mu(t){t.restore()}function PD(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function MD(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function RD(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),de(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function ID(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function DD(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Cr(t,e,n,i,r,s={}){const o=Oe(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,RD(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&DD(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),de(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),ID(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function ha(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Ie,Ie,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Ie,Ye,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Ye,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Ye,!0),t.lineTo(n+o.topLeft,i)}const ND=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,OD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function LD(t,e){const n=(""+t).match(ND);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const AD=t=>+t||0;function Wp(t,e){const n={},i=oe(e),r=i?Object.keys(e):e,s=oe(t)?i?o=>q(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=AD(s(o));return n}function vb(t){return Wp(t,{top:"y",right:"x",bottom:"y",left:"x"})}function dr(t){return Wp(t,["topLeft","topRight","bottomLeft","bottomRight"])}function xt(t){const e=vb(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function et(t,e){t=t||{},e=e||Le.font;let n=q(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=q(t.style,e.style);i&&!(""+i).match(OD)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:q(t.family,e.family),lineHeight:LD(q(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:q(t.weight,e.weight),string:""};return r.string=kD(r),r}function ao(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function FD(t,e,n){const{min:i,max:r}=t,s=ab(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Vi(t,e){return Object.assign(Object.create(t),e)}function Vp(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=Sb("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>Vp([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return wb(a,l,()=>$D(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return U_(a).includes(l)},ownKeys(a){return U_(a)},set(a,l,c){const u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function bs(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:xb(t,i),setContext:s=>bs(t,s,n,i),override:s=>bs(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return wb(s,o,()=>BD(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function xb(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Oi(n)?n:()=>n,isIndexable:Oi(i)?i:()=>i}}const zD=(t,e)=>t?t+Ap(e):e,Hp=(t,e)=>oe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function wb(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function BD(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return Oi(a)&&o.isScriptable(e)&&(a=jD(e,a,t,n)),Oe(a)&&a.length&&(a=WD(e,a,t,o.isIndexable)),Hp(e,a)&&(a=bs(a,r,s&&s[e],o)),a}function jD(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),Hp(t,l)&&(l=Up(r._scopes,r,t,l)),l}function WD(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(oe(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=Up(c,r,t,u);e.push(bs(h,s,o&&o[t],a))}}return e}function bb(t,e,n){return Oi(t)?t(e,n):t}const VD=(t,e)=>t===!0?e:typeof t=="string"?Ni(e,t):void 0;function HD(t,e,n,i,r){for(const s of e){const o=VD(n,s);if(o){t.add(o);const a=bb(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Up(t,e,n,i){const r=e._rootScopes,s=bb(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=H_(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=H_(a,o,s,l,i),l===null)?!1:Vp(Array.from(a),[""],r,s,()=>UD(e,n,i))}function H_(t,e,n,i,r){for(;n;)n=HD(t,e,n,i,r);return n}function UD(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Oe(r)&&oe(n)?n:r||{}}function $D(t,e,n,i){let r;for(const s of e)if(r=Sb(zD(s,t),n),typeof r<"u")return Hp(t,r)?Up(n,i,t,r):r}function Sb(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function U_(t){let e=t._keys;return e||(e=t._keys=YD(t._scopes)),e}function YD(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function Cb(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:r.parse(Ni(u,s),c)};return o}const KD=Number.EPSILON||1e-14,Ss=(t,e)=>e<t.length&&!t[e].skip&&t[e],Eb=t=>t==="x"?"y":"x";function GD(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=zd(s,r),l=zd(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+d*(o.x-r.x),y:s.y+d*(o.y-r.y)}}}function QD(t,e,n){const i=t.length;let r,s,o,a,l,c=Ss(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Ss(t,u+1),!(!l||!c)){if(Po(e[u],0,KD)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])}}function XD(t,e,n="x"){const i=Eb(n),r=t.length;let s,o,a,l=Ss(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Ss(t,c+1),!a)continue;const u=a[n],h=a[i];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${i}`]=h-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${i}`]=h+s*e[c])}}function qD(t,e="x"){const n=Eb(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Ss(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Ss(t,o+1),!!l){if(c){const u=c[e]-l[e];r[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?Cn(r[o-1])!==Cn(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}QD(t,r,s),XD(t,s,e)}function ul(t,e,n){return Math.max(Math.min(t,n),e)}function JD(t,e){let n,i,r,s,o,a=jn(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&jn(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=ul(r.cp1x,e.left,e.right),r.cp1y=ul(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=ul(r.cp2x,e.left,e.right),r.cp2y=ul(r.cp2y,e.top,e.bottom)))}function ZD(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")qD(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=GD(c,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&JD(t,n)}function $p(){return typeof window<"u"&&typeof document<"u"}function Yp(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function zc(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const _u=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function eN(t,e){return _u(t).getPropertyValue(e)}const tN=["top","right","bottom","left"];function fr(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=tN[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const nN=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function iN(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(nN(r,s,t.target))a=r,l=s;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function er(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=_u(n),s=r.boxSizing==="border-box",o=fr(r,"padding"),a=fr(r,"border","width"),{x:l,y:c,box:u}=iN(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}function rN(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&Yp(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=_u(s),l=fr(a,"border","width"),c=fr(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=zc(a.maxWidth,s,"clientWidth"),r=zc(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||Ac,maxHeight:r||Ac}}const hl=t=>Math.round(t*10)/10;function sN(t,e,n,i){const r=_u(t),s=fr(r,"margin"),o=zc(r.maxWidth,t,"clientWidth")||Ac,a=zc(r.maxHeight,t,"clientHeight")||Ac,l=rN(t,e,n);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const d=fr(r,"border","width"),f=fr(r,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=hl(Math.min(c,o,l.maxWidth)),u=hl(Math.min(u,a,l.maxHeight)),c&&!u&&(u=hl(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=hl(Math.floor(u*i))),{width:c,height:u}}function $_(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const oN=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};$p()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Y_(t,e){const n=eN(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function tr(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function aN(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function lN(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=tr(t,r,n),a=tr(r,s,n),l=tr(s,e,n),c=tr(o,a,n),u=tr(a,l,n);return tr(c,u,n)}const cN=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},uN=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function as(t,e,n){return t?cN(e,n):uN()}function kb(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Tb(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Pb(t){return t==="angle"?{between:ua,compare:hD,normalize:jt}:{between:zn,compare:(e,n)=>e-n,normalize:e=>e}}function K_({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function hN(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=Pb(i),l=e.length;let{start:c,end:u,loop:h}=t,d,f;if(h){for(c+=l,u+=l,d=0,f=l;d<f&&o(a(e[c%l][i]),r,s);++d)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function Mb(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=Pb(i),{start:u,end:h,loop:d,style:f}=hN(t,e,n),p=[];let m=!1,v=null,_,g,y;const w=()=>l(r,y,_)&&a(r,y)!==0,S=()=>a(s,_)===0||l(s,y,_),x=()=>m||w(),k=()=>!m||S();for(let C=u,P=u;C<=h;++C)g=e[C%o],!g.skip&&(_=c(g[i]),_!==y&&(m=l(_,r,s),v===null&&x()&&(v=a(_,r)===0?C:P),v!==null&&k()&&(p.push(K_({start:v,end:C,loop:d,count:o,style:f})),v=null),P=C,y=_));return v!==null&&p.push(K_({start:v,end:h,loop:d,count:o,style:f})),p}function Rb(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=Mb(i[r],t.points,e);s.length&&n.push(...s)}return n}function dN(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function fN(t,e,n,i){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function pN(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=dN(n,r,s,i);if(i===!0)return G_(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return G_(t,fN(n,o,l,c),n,e)}function G_(t,e,n,i){return!i||!i.setContext||!n?e:gN(t,e,n,i)}function gN(t,e,n,i){const r=t._chart.getContext(),s=Q_(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,d=h;function f(p,m,v,_){const g=a?-1:1;if(p!==m){for(p+=l;n[p%l].skip;)p-=g;for(;n[m%l].skip;)m+=g;p%l!==m%l&&(c.push({start:p%l,end:m%l,loop:v,style:_}),u=_,h=m%l)}}for(const p of e){h=a?h:p.start;let m=n[h%l],v;for(d=h+1;d<=p.end;d++){const _=n[d%l];v=Q_(i.setContext(Vi(r,{type:"segment",p0:m,p1:_,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),mN(v,u)&&f(h,d-1,p.loop,u),m=_,u=v}h<d-1&&f(h,d-1,p.loop,u)}return c}function Q_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function mN(t,e){if(!e)return!1;const n=[],i=function(r,s){return jp(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.5
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class _N{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=fb.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Mn=new _N;const X_="transparent",yN={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=j_(t||X_),r=i.valid&&j_(e||X_);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class vN{constructor(e,n,i,r){const s=n[i];r=ao([e.to,r,s,e.from]);const o=ao([e.from,s,r]);this._active=!0,this._fn=e.fn||yN[e.type||typeof o],this._easing=Mo[e.easing]||Mo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=ao([e.to,n,r,e.from]),this._from=ao([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class Ib{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!oe(e))return;const n=Object.keys(Le.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!oe(s))return;const o={};for(const a of n)o[a]=s[a];(Oe(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=wN(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&xN(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}const u=n[c];let h=s[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}s[c]=h=new vN(d,e,c,u),r.push(h)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Mn.add(this._chart,i),!0}}function xN(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function wN(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function q_(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function bN(t,e,n){if(n===!1)return!1;const i=q_(t,n),r=q_(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function SN(t){let e,n,i,r;return oe(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function Db(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function J_(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=t.values[l],Ue(c)&&(s||e===0||Cn(e)===Cn(c))&&(e+=c)}return e}}function CN(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[s]:t[u]};return a}function fh(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function EN(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function kN(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function TN(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function Z_(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function ey(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=EN(s,o,i),h=e.length;let d;for(let f=0;f<h;++f){const p=e[f],{[l]:m,[c]:v}=p,_=p._stacks||(p._stacks={});d=_[c]=TN(r,u,m),d[a]=v,d._top=Z_(d,o,!0,i.type),d._bottom=Z_(d,o,!1,i.type);const g=d._visualValues||(d._visualValues={});g[a]=v}}function ph(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function PN(t,e){return Vi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function MN(t,e,n){return Vi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Xs(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const gh=t=>t==="reset"||t==="none",ty=(t,e)=>e?t:Object.assign({},t),RN=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Db(n,!0),values:null};class fn{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=fh(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Xs(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(h,d,f,p)=>h==="x"?d:h==="r"?p:f,s=n.xAxisID=q(i.xAxisID,ph(e,"x")),o=n.yAxisID=q(i.yAxisID,ph(e,"y")),a=n.rAxisID=q(i.rAxisID,ph(e,"r")),l=n.indexAxis,c=n.iAxisID=r(l,s,o,a),u=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&F_(this._data,this),e._stacked&&Xs(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(oe(n)){const r=this._cachedMeta;this._data=CN(n,r)}else if(i!==n){if(i){F_(i,this);const r=this._cachedMeta;Xs(r),r._parsed=[]}n&&Object.isExtensible(n)&&gD(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=fh(n.vScale,n),n.stack!==i.stack&&(r=!0,Xs(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(ey(this,n._parsed),n._stacked=fh(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,d;if(this._parsing===!1)i._parsed=r,i._sorted=!0,d=r;else{Oe(r[e])?d=this.parseArrayData(i,r,e,n):oe(r[e])?d=this.parseObjectData(i,r,e,n):d=this.parsePrimitiveData(i,r,e,n);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);i._sorted=l}o&&ey(this,d)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,h=new Array(r);let d,f,p;for(d=0,f=r;d<f;++d)p=d+i,h[d]={[a]:u||s.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,c,u,h;for(l=0,c=r;l<c;++l)u=l+i,h=n[u],a[l]={x:s.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,h,d,f;for(u=0,h=r;u<h;++u)d=u+i,f=n[d],c[u]={x:s.parse(Ni(f,a),d),y:o.parse(Ni(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:Db(r,!0),values:n._stacks[e.axis]._visualValues};return J_(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=J_(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=RN(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=kN(a);let d,f;function p(){f=r[d];const m=f[a.axis];return!Ue(f[e.axis])||u>m||h<m}for(d=0;d<o&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),s));++d);if(s){for(d=o-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],Ue(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=SN(q(this.options.clip,bN(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const h=r[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=MN(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=PN(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&ca(i);if(a)return ty(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Le.elements[e]),p=()=>this.getContext(i,r,n),m=c.resolveNamedOptions(d,f,p,h);return m.$shared&&(m.$shared=l,s[o]=Object.freeze(ty(m,l))),m}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,i,n))}const c=new Ib(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||gh(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){gh(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!gh(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Xs(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}L(fn,"defaults",{}),L(fn,"datasetElementType",null),L(fn,"dataElementType",null);function IN(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=db(i.sort((r,s)=>r-s))}return t._cache.$bar}function DN(t){const e=t.iScale,n=IN(e,t.type);let i=e._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(ca(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function NN(t,e,n,i){const r=n.barThickness;let s,o;return de(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function ON(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function LN(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function Nb(t,e,n,i){return Oe(t)?LN(t,e,n,i):e[n.axis]=n.parse(t,i),e}function ny(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(Nb(d,h,s,c));return l}function mh(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function AN(t,e,n){return t!==0?Cn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function FN(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function zN(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=FN(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[iy(u,o,a,l)]=!0,r=c)),s[iy(r,o,a,l)]=!0,t.borderSkipped=s}function iy(t,e,n,i){return i?(t=BN(t,e,n),t=ry(t,n,e)):t=ry(t,e,n),t}function BN(t,e,n){return t===e?n:t===n?e:t}function ry(t,e,n){return t==="start"?e:t==="end"?n:t}function jN(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ol extends fn{parsePrimitiveData(e,n,i,r){return ny(e,n,i,r)}parseArrayData(e,n,i,r){return ny(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,p,m;for(d=i,f=i+r;d<f;++d)m=n[d],p={},p[s.axis]=s.parse(Ni(m,c),d),h.push(Nb(Ni(m,u),p,o,d));return h}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),o=s._custom,a=mh(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,r);for(let f=n;f<n+i;f++){const p=this.getParsed(f),m=s||de(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,u),_=(p._stacks||{})[a.axis],g={horizontal:c,base:m.base,enableBorderRadius:!_||mh(p._custom)||o===_._top||o===_._bottom,x:c?m.head:v.center,y:c?v.center:m.head,height:c?v.size:Math.abs(m.size),width:c?Math.abs(m.size):v.size};d&&(g.options=h||this.resolveDataElementOptions(f,e[f].active?"active":r));const y=g.options||e[f].options;zN(g,y,_,o),jN(g,y,u.ratio),this.updateElement(e[f],f,g,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),s=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[i.axis],c=u=>{const h=u._parsed.find(f=>f[i.axis]===l),d=h&&h[u.vScale.axis];if(de(d)||isNaN(d))return!0};for(const u of r)if(!(n!==void 0&&c(u))&&((s===!1||o.indexOf(u.stack)===-1||s===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=e.barThickness;return{min:a||DN(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=mh(c);let h=l[n.axis],d=0,f=i?this.applyStack(n,l,i):h,p,m;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&Cn(h)!==Cn(c.barEnd)&&(d=0),d+=h);const v=!de(s)&&!u?s:d;let _=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(d+f):p=_,m=p-_,Math.abs(m)<o){m=AN(m,n,a)*o,h===a&&(_-=m/2);const g=n.getPixelForDecimal(0),y=n.getPixelForDecimal(1),w=Math.min(g,y),S=Math.max(g,y);_=Math.max(Math.min(_,S),w),p=_+m,i&&!u&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(p)-n.getValueForPixel(_))}if(_===n.getPixelForValue(a)){const g=Cn(m)*n.getLineWidthForValue(a)/2;_+=g,m-=g}return{size:m,base:_,head:p,center:p+m/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,o=q(r.maxBarThickness,1/0);let a,l;if(n.grouped){const c=s?this._getStackCount(e):n.stackCount,u=r.barThickness==="flex"?ON(e,n,r,c):NN(e,n,r,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}L(Ol,"id","bar"),L(Ol,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),L(Ol,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Ll extends fn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,r){const s=super.parsePrimitiveData(e,n,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(e,n,i,r){const s=super.parseArrayData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=q(a[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(e,n,i,r){const s=super.parseObjectData(e,n,i,r);for(let o=0;o<s.length;o++){const a=n[i+o];s[o]._custom=q(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,r),u=o.axis,h=a.axis;for(let d=n;d<n+i;d++){const f=e[d],p=!s&&this.getParsed(d),m={},v=m[u]=s?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),_=m[h]=s?a.getBasePixel():a.getPixelForValue(p[h]);m.skip=isNaN(v)||isNaN(_),c&&(m.options=l||this.resolveDataElementOptions(d,f.active?"active":r),s&&(m.options.radius=0)),this.updateElement(f,d,m,r)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return n!=="active"&&(r.radius=0),r.radius+=q(i&&i._custom,s),r}}L(Ll,"id","bubble"),L(Ll,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),L(Ll,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function WN(t,e,n){let i=1,r=1,s=0,o=0;if(e<Re){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(y,w,S)=>ua(y,a,l,!0)?1:Math.max(w,w*n,S,S*n),p=(y,w,S)=>ua(y,a,l,!0)?-1:Math.min(w,w*n,S,S*n),m=f(0,c,h),v=f(Ye,u,d),_=p(Ie,c,h),g=p(Ie+Ye,u,d);i=(m-_)/2,r=(v-g)/2,s=-(m+_)/2,o=-(v+g)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class cr extends fn{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(oe(i[e])){const{key:l="value"}=this._parsing;s=c=>+Ni(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return cn(this.options.rotation-90)}_getCircumference(){return cn(this.options.circumference)}_getRotationExtents(){let e=Re,n=-Re;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(tD(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:d,ratioY:f,offsetX:p,offsetY:m}=WN(h,u,l),v=(i.width-o)/d,_=(i.height-o)/f,g=Math.max(Math.min(v,_)/2,0),y=ab(this.options.radius,g),w=Math.max(y*l,0),S=(y-w)/this._getVisibleDatasetWeightTotal();this.offsetX=p*y,this.offsetY=m*y,r.total=this.calculateTotal(),this.outerRadius=y-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Re)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,d=s&&c.animateScale,f=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(n,r);let _=this._getRotation(),g;for(g=0;g<n;++g)_+=this._circumference(g,s);for(g=n;g<n+i;++g){const y=this._circumference(g,s),w=e[g],S={x:u+this.offsetX,y:h+this.offsetY,startAngle:_,endAngle:_+y,circumference:y,outerRadius:p,innerRadius:f};v&&(S.options=m||this.resolveDataElementOptions(g,w.active?"active":r)),_+=y,this.updateElement(w,g,S,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Re*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Da(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,a,l;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(q(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}L(cr,"id","doughnut"),L(cr,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),L(cr,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),L(cr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Al extends fn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=gb(n,r,o);this._drawStart=a,this._drawCount=l,mb(n)&&(a=0,l=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(r,a,l,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,r),d=o.axis,f=a.axis,{spanGaps:p,segment:m}=this.options,v=ws(p)?p:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||s||r==="none",g=n+i,y=e.length;let w=n>0&&this.getParsed(n-1);for(let S=0;S<y;++S){const x=e[S],k=_?x:{};if(S<n||S>=g){k.skip=!0;continue}const C=this.getParsed(S),P=de(C[f]),M=k[d]=o.getPixelForValue(C[d],S),A=k[f]=s||P?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,C,l):C[f],S);k.skip=isNaN(M)||isNaN(A)||P,k.stop=S>0&&Math.abs(C[d]-w[d])>v,m&&(k.parsed=C,k.raw=c.data[S]),h&&(k.options=u||this.resolveDataElementOptions(S,x.active?"active":r)),_||this.updateElement(x,S,k,r),w=C}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}L(Al,"id","line"),L(Al,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),L(Al,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Io extends fn{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Da(n._parsed[e].r,i.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,n,i,r){return Cb.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),a=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,d=c.getIndexAngle(0)-.5*Ie;let f=d,p;const m=360/this.countVisibleElements();for(p=0;p<n;++p)f+=this._computeAngle(p,r,m);for(p=n;p<n+i;p++){const v=e[p];let _=f,g=f+this._computeAngle(p,r,m),y=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=g,s&&(l.animateScale&&(y=0),l.animateRotate&&(_=g=d));const w={x:u,y:h,innerRadius:0,outerRadius:y,startAngle:_,endAngle:g,options:this.resolveDataElementOptions(p,v.active?"active":r)};this.updateElement(v,p,w,r)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?cn(this.resolveDataElementOptions(e,n).angle||i):0}}L(Io,"id","polarArea"),L(Io,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),L(Io,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Wd extends cr{}L(Wd,"id","pie"),L(Wd,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Fl extends fn{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,r){return Cb.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":r),u=s.getPointPositionForValue(a,this.getParsed(a).r),h=o?s.xCenter:u.x,d=o?s.yCenter:u.y,f={x:h,y:d,angle:u.angle,skip:isNaN(h)||isNaN(d),options:c};this.updateElement(l,a,f,r)}}}L(Fl,"id","radar"),L(Fl,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),L(Fl,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class zl extends fn{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:s,count:o}=gb(n,i,r);if(this._drawStart=s,this._drawCount=o,mb(n)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!r,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,r),h=this.getSharedOptions(u),d=this.includeOptions(r,h),f=o.axis,p=a.axis,{spanGaps:m,segment:v}=this.options,_=ws(m)?m:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||r==="none";let y=n>0&&this.getParsed(n-1);for(let w=n;w<n+i;++w){const S=e[w],x=this.getParsed(w),k=g?S:{},C=de(x[p]),P=k[f]=o.getPixelForValue(x[f],w),M=k[p]=s||C?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[p],w);k.skip=isNaN(P)||isNaN(M)||C,k.stop=w>0&&Math.abs(x[f]-y[f])>_,v&&(k.parsed=x,k.raw=c.data[w]),d&&(k.options=h||this.resolveDataElementOptions(w,S.active?"active":r)),g||this.updateElement(S,w,k,r),y=x}this.updateSharedOptions(h,r,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,o)/2}}L(zl,"id","scatter"),L(zl,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),L(zl,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var VN=Object.freeze({__proto__:null,BarController:Ol,BubbleController:Ll,DoughnutController:cr,LineController:Al,PieController:Wd,PolarAreaController:Io,RadarController:Fl,ScatterController:zl});function Gi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Kp{constructor(e){L(this,"options");this.options=e||{}}static override(e){Object.assign(Kp.prototype,e)}init(){}formats(){return Gi()}parse(){return Gi()}format(){return Gi()}add(){return Gi()}diff(){return Gi()}startOf(){return Gi()}endOf(){return Gi()}}var HN={_date:Kp};function UN(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?fD:Bn;if(i){if(r._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(s,e,n-u),d=l(s,e,n+u);return{lo:h.lo,hi:d.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function Na(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:h,hi:d}=UN(s[a],e,o,r);for(let f=h;f<=d;++f){const p=u[f];p.skip||i(p,c,f)}}}function $N(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function _h(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||Na(t,n,e,function(a,l,c){!r&&!jn(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function YN(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=ub(o,{x:e.x,y:e.y});ua(h,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return Na(t,n,e,s),r}function KN(t,e,n,i,r,s){let o=[];const a=$N(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,r);if(i&&!f)return;const p=u.getCenterPoint(r);if(!(!!s||t.isPointInArea(p))&&!f)return;const v=a(e,p);v<l?(o=[{element:u,datasetIndex:h,index:d}],l=v):v===l&&o.push({element:u,datasetIndex:h,index:d})}return Na(t,n,e,c),o}function yh(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?YN(t,e,n,r):KN(t,e,n,i,r,s)}function sy(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Na(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var GN={evaluateInteractionItems:Na,modes:{index(t,e,n,i){const r=er(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?_h(t,r,s,i,o):yh(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const r=er(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?_h(t,r,s,i,o):yh(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const r=er(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return _h(t,r,s,i,o)},nearest(t,e,n,i){const r=er(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return yh(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=er(e,t);return sy(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=er(e,t);return sy(t,r,"y",n.intersect,i)}}};const Ob=["left","top","right","bottom"];function qs(t,e){return t.filter(n=>n.pos===e)}function oy(t,e){return t.filter(n=>Ob.indexOf(n.pos)===-1&&n.box.axis===e)}function Js(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function QN(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function XN(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!Ob.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function qN(t,e){const n=XN(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return n}function JN(t){const e=QN(t),n=Js(e.filter(c=>c.box.fullSize),!0),i=Js(qs(e,"left"),!0),r=Js(qs(e,"right")),s=Js(qs(e,"top"),!0),o=Js(qs(e,"bottom")),a=oy(e,"x"),l=oy(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:qs(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function ay(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Lb(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ZN(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!oe(r)){n.size&&(t[r]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?s.height:s.width),n.size=h.size/h.count,t[r]+=n.size}s.getPadding&&Lb(o,s.getPadding());const a=Math.max(0,e.outerWidth-ay(o,t,"left","right")),l=Math.max(0,e.outerHeight-ay(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function eO(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function tO(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function lo(t,e,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,tO(a.horizontal,e));const{same:h,other:d}=ZN(e,n,a,i);c|=h&&r.length,u=u||d,l.fullSize||r.push(a)}return c&&lo(r,e,n,i)||u}function dl(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function ly(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;ca(c.start)&&(o=c.start),l.fullSize?dl(l,r.left,o,n.outerWidth-r.right-r.left,d):dl(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;ca(c.start)&&(s=c.start),l.fullSize?dl(l,s,r.top,d,n.outerHeight-r.bottom-r.top):dl(l,s,e.top+c.placed,d,h),c.start=s,c.placed+=h,s=l.right}}e.x=s,e.y=o}var yt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=xt(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=JN(t.boxes),l=a.vertical,c=a.horizontal;_e(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,v)=>v.box.options&&v.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},r);Lb(d,xt(i));const f=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),p=qN(l.concat(c),h);lo(a.fullSize,f,h,p),lo(l,f,h,p),lo(c,f,h,p)&&lo(l,f,h,p),eO(f),ly(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,ly(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},_e(a.chartArea,m=>{const v=m.box;Object.assign(v,t.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class Ab{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class nO extends Ab{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Bl="$chartjs",iO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cy=t=>t===null||t==="";function rO(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Bl]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",cy(r)){const s=Y_(t,"width");s!==void 0&&(t.width=s)}if(cy(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=Y_(t,"height");s!==void 0&&(t.height=s)}return t}const Fb=oN?{passive:!0}:!1;function sO(t,e,n){t&&t.addEventListener(e,n,Fb)}function oO(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Fb)}function aO(t,e){const n=iO[t.type]||t.type,{x:i,y:r}=er(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Bc(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function lO(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Bc(a.addedNodes,i),o=o&&!Bc(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function cO(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Bc(a.removedNodes,i),o=o&&!Bc(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const da=new Map;let uy=0;function zb(){const t=window.devicePixelRatio;t!==uy&&(uy=t,da.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function uO(t,e){da.size||window.addEventListener("resize",zb),da.set(t,e)}function hO(t){da.delete(t),da.size||window.removeEventListener("resize",zb)}function dO(t,e,n){const i=t.canvas,r=i&&Yp(i);if(!r)return;const s=pb((a,l)=>{const c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),uO(t,s),o}function vh(t,e,n){n&&n.disconnect(),e==="resize"&&hO(t)}function fO(t,e,n){const i=t.canvas,r=pb(s=>{t.ctx!==null&&n(aO(s,t))},t);return sO(i,e,r),r}class pO extends Ab{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(rO(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Bl])return!1;const i=n[Bl].initial;["height","width"].forEach(s=>{const o=i[s];de(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Bl],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:lO,detach:cO,resize:dO}[n]||fO;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:vh,detach:vh,resize:vh}[n]||oO)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return sN(e,n,i,r)}isAttached(e){const n=e&&Yp(e);return!!(n&&n.isConnected)}}function gO(t){return!$p()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?nO:pO}class gn{constructor(){L(this,"x");L(this,"y");L(this,"active",!1);L(this,"options");L(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ws(this.x)&&ws(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}L(gn,"defaults",{}),L(gn,"defaultRoutes");function mO(t,e){const n=t.options.ticks,i=_O(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?vO(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return xO(e,c,s,o/r),c;const u=yO(s,e,r);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(fl(e,c,u,de(f)?0:a-f,a),h=0,d=o-1;h<d;h++)fl(e,c,u,s[h],s[h+1]);return fl(e,c,u,l,de(f)?e.length:l+f),c}return fl(e,c,u),c}function _O(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function yO(t,e,n){const i=wO(t),r=e.length/n;if(!i)return Math.max(r,1);const s=cD(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function vO(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function xO(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function fl(t,e,n,i,r){const s=q(i,0),o=Math.min(q(r,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function wO(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const bO=t=>t==="left"?"right":t==="right"?"left":t,hy=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,dy=(t,e)=>Math.min(e||t,t);function fy(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function SO(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function CO(t,e){_e(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function Zs(t){return t.drawTicks?t.tickLength:0}function py(t,e){if(!t.display)return 0;const n=et(t.font,e),i=xt(t.padding);return(Oe(t.text)?t.text.length:1)*n.lineHeight+i.height}function EO(t,e){return Vi(t,{scale:e,type:"scale"})}function kO(t,e,n){return Vi(t,{tick:n,index:e,type:"tick"})}function TO(t,e,n){let i=Bp(t);return(n&&e!=="right"||!n&&e==="right")&&(i=bO(i)),i}function PO(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,d,f,p;const m=o-r,v=a-s;if(t.isHorizontal()){if(f=gt(i,s,a),oe(n)){const _=Object.keys(n)[0],g=n[_];p=u[_].getPixelForValue(g)+m-e}else n==="center"?p=(c.bottom+c.top)/2+m-e:p=hy(t,n,e);d=a-s}else{if(oe(n)){const _=Object.keys(n)[0],g=n[_];f=u[_].getPixelForValue(g)-v+e}else n==="center"?f=(c.left+c.right)/2-v+e:f=hy(t,n,e);p=gt(i,o,r),h=n==="left"?-Ye:Ye}return{titleX:f,titleY:p,maxWidth:d,rotation:h}}class Pr extends gn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Ft(e,Number.POSITIVE_INFINITY),n=Ft(n,Number.NEGATIVE_INFINITY),i=Ft(i,Number.POSITIVE_INFINITY),r=Ft(r,Number.NEGATIVE_INFINITY),{min:Ft(e,i),max:Ft(n,r),minDefined:Ue(e),maxDefined:Ue(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Ft(n,Ft(i,n)),max:Ft(i,Ft(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){be(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=FD(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?fy(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=mO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){be(this.options.afterUpdate,[this])}beforeSetDimensions(){be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){be(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),be(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=be(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=dy(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=rt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-Zs(e.grid)-n.padding-py(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=Fp(Math.min(Math.asin(rt((u.highest.height+6)/a,-1,1)),Math.asin(rt(l/c,-1,1))-Math.asin(rt(d/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){be(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=py(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=Zs(s)+l):(e.height=this.maxHeight,e.width=Zs(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,p=cn(this.labelRotation),m=Math.cos(p),v=Math.sin(p);if(a){const _=i.mirror?0:v*h.width+m*d.height;e.height=Math.min(this.maxHeight,e.height+_+f)}else{const _=i.mirror?0:m*h.width+v*d.height;e.width=Math.min(this.maxWidth,e.width+_+f)}this._calculatePadding(c,u,v,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=r*e.width,f=i*n.height):(d=i*e.height,f=r*n.width):s==="start"?f=n.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,f=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;s==="start"?(u=0,h=e.height):s==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){be(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)de(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=fy(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/dy(n,i));let c=0,u=0,h,d,f,p,m,v,_,g,y,w,S;for(h=0;h<n;h+=l){if(p=e[h].label,m=this._resolveTickFontOptions(h),r.font=v=m.string,_=s[v]=s[v]||{data:{},gc:[]},g=m.lineHeight,y=w=0,!de(p)&&!Oe(p))y=Fc(r,_.data,_.gc,y,p),w=g;else if(Oe(p))for(d=0,f=p.length;d<f;++d)S=p[d],!de(S)&&!Oe(S)&&(y=Fc(r,_.data,_.gc,y,S),w+=g);o.push(y),a.push(w),c=Math.max(y,c),u=Math.max(w,u)}CO(s,n);const x=o.indexOf(c),k=a.indexOf(u),C=P=>({width:o[P]||0,height:a[P]||0});return{first:C(0),last:C(n-1),widest:C(x),highest:C(k),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return dD(this._alignToPixels?Ki(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=kO(this.getContext(),e,i))}return this.$context||(this.$context=EO(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=cn(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=Zs(s),f=[],p=a.setContext(this.getContext()),m=p.display?p.width:0,v=m/2,_=function(ce){return Ki(i,ce,m)};let g,y,w,S,x,k,C,P,M,A,H,J;if(o==="top")g=_(this.bottom),k=this.bottom-d,P=g-v,A=_(e.top)+v,J=e.bottom;else if(o==="bottom")g=_(this.top),A=e.top,J=_(e.bottom)-v,k=g+v,P=this.top+d;else if(o==="left")g=_(this.right),x=this.right-d,C=g-v,M=_(e.left)+v,H=e.right;else if(o==="right")g=_(this.left),M=e.left,H=_(e.right)-v,x=g+v,C=this.left+d;else if(n==="x"){if(o==="center")g=_((e.top+e.bottom)/2+.5);else if(oe(o)){const ce=Object.keys(o)[0],X=o[ce];g=_(this.chart.scales[ce].getPixelForValue(X))}A=e.top,J=e.bottom,k=g+v,P=k+d}else if(n==="y"){if(o==="center")g=_((e.left+e.right)/2);else if(oe(o)){const ce=Object.keys(o)[0],X=o[ce];g=_(this.chart.scales[ce].getPixelForValue(X))}x=g-v,C=x-d,M=e.left,H=e.right}const le=q(r.ticks.maxTicksLimit,h),te=Math.max(1,Math.ceil(h/le));for(y=0;y<h;y+=te){const ce=this.getContext(y),X=s.setContext(ce),O=a.setContext(ce),j=X.lineWidth,K=X.color,re=O.dash||[],fe=O.dashOffset,dt=X.tickWidth,ke=X.tickColor,ot=X.tickBorderDash||[],Ae=X.tickBorderDashOffset;w=SO(this,y,l),w!==void 0&&(S=Ki(i,w,j),c?x=C=M=H=S:k=P=A=J=S,f.push({tx1:x,ty1:k,tx2:C,ty2:P,x1:M,y1:A,x2:H,y2:J,width:j,color:K,borderDash:re,borderDashOffset:fe,tickWidth:dt,tickColor:ke,tickBorderDash:ot,tickBorderDashOffset:Ae}))}return this._ticksLength=h,this._borderValue=g,f}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=s,d=Zs(i.grid),f=d+u,p=h?-u:f,m=-cn(this.labelRotation),v=[];let _,g,y,w,S,x,k,C,P,M,A,H,J="middle";if(r==="top")x=this.bottom-p,k=this._getXAxisLabelAlignment();else if(r==="bottom")x=this.top+p,k=this._getXAxisLabelAlignment();else if(r==="left"){const te=this._getYAxisLabelAlignment(d);k=te.textAlign,S=te.x}else if(r==="right"){const te=this._getYAxisLabelAlignment(d);k=te.textAlign,S=te.x}else if(n==="x"){if(r==="center")x=(e.top+e.bottom)/2+f;else if(oe(r)){const te=Object.keys(r)[0],ce=r[te];x=this.chart.scales[te].getPixelForValue(ce)+f}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")S=(e.left+e.right)/2-f;else if(oe(r)){const te=Object.keys(r)[0],ce=r[te];S=this.chart.scales[te].getPixelForValue(ce)}k=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?J="top":l==="end"&&(J="bottom"));const le=this._getLabelSizes();for(_=0,g=a.length;_<g;++_){y=a[_],w=y.label;const te=s.setContext(this.getContext(_));C=this.getPixelForTick(_)+s.labelOffset,P=this._resolveTickFontOptions(_),M=P.lineHeight,A=Oe(w)?w.length:1;const ce=A/2,X=te.color,O=te.textStrokeColor,j=te.textStrokeWidth;let K=k;o?(S=C,k==="inner"&&(_===g-1?K=this.options.reverse?"left":"right":_===0?K=this.options.reverse?"right":"left":K="center"),r==="top"?c==="near"||m!==0?H=-A*M+M/2:c==="center"?H=-le.highest.height/2-ce*M+M:H=-le.highest.height+M/2:c==="near"||m!==0?H=M/2:c==="center"?H=le.highest.height/2-ce*M:H=le.highest.height-A*M,h&&(H*=-1),m!==0&&!te.showLabelBackdrop&&(S+=M/2*Math.sin(m))):(x=C,H=(1-A)*M/2);let re;if(te.showLabelBackdrop){const fe=xt(te.backdropPadding),dt=le.heights[_],ke=le.widths[_];let ot=H-fe.top,Ae=0-fe.left;switch(J){case"middle":ot-=dt/2;break;case"bottom":ot-=dt;break}switch(k){case"center":Ae-=ke/2;break;case"right":Ae-=ke;break;case"inner":_===g-1?Ae-=ke:_>0&&(Ae-=ke/2);break}re={left:Ae,top:ot,width:ke+fe.width,height:dt+fe.height,color:te.backdropColor}}v.push({label:w,font:P,textOffset:H,options:{rotation:m,color:X,strokeColor:O,strokeWidth:j,textAlign:K,textBaseline:J,translation:[S,x],backdrop:re}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-cn(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=Ki(e,this.left,o)-o/2,u=Ki(e,this.right,a)+a/2,h=d=l):(h=Ki(e,this.top,o)-o/2,d=Ki(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&gu(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Cr(i,c,0,u,l,a)}r&&mu(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=et(i.font),o=xt(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||oe(n)?(l+=o.bottom,Oe(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=PO(this,l,n,a);Cr(e,i.text,0,0,s,{color:i.color,maxWidth:h,rotation:d,textAlign:TO(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=q(e.grid&&e.grid.z,-1),r=q(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Pr.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return et(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class pl{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;IO(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,MO(e,o,i),this.override&&Le.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Le[r]&&(delete Le[r][i],this.override&&delete Sr[i])}}function MO(t,e,n){const i=la(Object.create(null),[n?Le.get(n):{},Le.get(e),t.defaults]);Le.set(e,i),t.defaultRoutes&&RO(e,t.defaultRoutes),t.descriptors&&Le.describe(e,t.descriptors)}function RO(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Le.route(s,r,l,a)})}function IO(t){return"id"in t&&"defaults"in t}class DO{constructor(){this.controllers=new pl(fn,"datasets",!0),this.elements=new pl(gn,"elements"),this.plugins=new pl(Object,"plugins"),this.scales=new pl(Pr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):_e(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=Ap(e);be(i["before"+r],[],i),n[e](i),be(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var xn=new DO;class NO{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(be(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){de(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=q(i.options&&i.options.plugins,{}),s=OO(i);return r===!1&&!n?[]:AO(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function OO(t){const e={},n=[],i=Object.keys(xn.plugins.items);for(let s=0;s<i.length;s++)n.push(xn.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function LO(t,e){return!e&&t===!1?null:t===!0?{}:t}function AO(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=LO(i[l],r);c!==null&&s.push({plugin:a,options:FO(t.config,{plugin:a,local:n[l]},c,o)})}return s}function FO(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vd(t,e){const n=Le.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function zO(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function BO(t,e){return t===e?"_index_":"_value_"}function gy(t){if(t==="x"||t==="y"||t==="r")return t}function jO(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Hd(t,...e){if(gy(t))return t;for(const n of e){const i=n.axis||jO(n.position)||t.length>1&&gy(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function my(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function WO(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return my(t,"x",n[0])||my(t,"y",n[0])}return{}}function VO(t,e){const n=Sr[t.type]||{scales:{}},i=e.scales||{},r=Vd(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!oe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Hd(o,a,WO(o,t),Le.scales[a.type]),c=BO(l,r),u=n.scales||{};s[o]=To(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Vd(a,e),u=(Sr[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=zO(h,l),f=o[d+"AxisID"]||d;s[f]=s[f]||Object.create(null),To(s[f],[{axis:d},i[f],u[h]])})}),Object.keys(s).forEach(o=>{const a=s[o];To(a,[Le.scales[a.type],Le.scale])}),s}function Bb(t){const e=t.options||(t.options={});e.plugins=q(e.plugins,{}),e.scales=VO(t,e)}function jb(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function HO(t){return t=t||{},t.data=jb(t.data),Bb(t),t}const _y=new Map,Wb=new Set;function gl(t,e){let n=_y.get(t);return n||(n=e(),_y.set(t,n),Wb.add(n)),n}const eo=(t,e,n)=>{const i=Ni(e,n);i!==void 0&&t.add(i)};class UO{constructor(e){this._config=HO(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=jb(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Bb(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return gl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return gl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return gl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return gl(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>eo(l,e,h))),u.forEach(h=>eo(l,r,h)),u.forEach(h=>eo(l,Sr[s]||{},h)),u.forEach(h=>eo(l,Le,h)),u.forEach(h=>eo(l,Bd,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Wb.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Sr[n]||{},Le.datasets[n]||{},{type:n},Le,Bd]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=yy(this._resolverCache,e,r);let l=o;if(YO(o,n)){s.$shared=!1,i=Oi(i)?i():i;const c=this.createResolver(e,i,a);l=bs(o,i,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){const{resolver:s}=yy(this._resolverCache,e,i);return oe(n)?bs(s,n,void 0,r):s}}function yy(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:Vp(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const $O=t=>oe(t)&&Object.getOwnPropertyNames(t).some(e=>Oi(t[e]));function YO(t,e){const{isScriptable:n,isIndexable:i}=xb(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(Oi(a)||$O(a))||o&&Oe(a))return!0}return!1}var KO="4.4.5";const GO=["top","bottom","left","right","chartArea"];function vy(t,e){return t==="top"||t==="bottom"||GO.indexOf(t)===-1&&e==="x"}function xy(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function wy(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),be(n&&n.onComplete,[t],e)}function QO(t){const e=t.chart,n=e.options.animation;be(n&&n.onProgress,[t],e)}function Vb(t){return $p()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const jl={},by=t=>{const e=Vb(t);return Object.values(jl).filter(n=>n.canvas===e).pop()};function XO(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function qO(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function ml(t,e,n){return t.options.clip?t[n]:e[n]}function JO(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:ml(n,e,"left"),right:ml(n,e,"right"),top:ml(i,e,"top"),bottom:ml(i,e,"bottom")}:e}class On{static register(...e){xn.add(...e),Sy()}static unregister(...e){xn.remove(...e),Sy()}constructor(e,n){const i=this.config=new UO(n),r=Vb(e),s=by(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||gO(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=eD(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new NO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mD(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],jl[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Mn.listen(this,"complete",wy),Mn.listen(this,"progress",QO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return de(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return xn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return V_(this.canvas,this.ctx),this}stop(){return Mn.stop(this),this}resize(e,n){Mn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,$_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),be(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};_e(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Hd(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),_e(s,o=>{const a=o.options,l=a.id,c=Hd(l,a),u=q(a.type,o.dtype);(a.position===void 0||vy(a.position,c)!==vy(o.dposition))&&(a.position=o.dposition),r[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const d=xn.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,e)}),_e(r,(o,a)=>{o||delete i[a]}),_e(i,o=>{yt.configure(this,o,o.options),yt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(xy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||Vd(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=xn.getController(a),{datasetElementType:c,dataElementType:u}=Le.datasets[a];Object.assign(l,{dataElementType:xn.getElement(u),datasetElementType:c&&xn.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){_e(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!r&&s.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||_e(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(xy("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){_e(this.scales,e=>{yt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!N_(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;XO(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!N_(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;yt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],_e(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Oi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Mn.has(this)?this.attached&&!Mn.running(this)&&Mn.start(this):(this.draw(),wy({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,s=JO(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&gu(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&mu(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return jn(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=GN.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Vi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);ca(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Mn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),V_(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete jl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};_e(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){_e(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},_e(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!Oc(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=oD(e),c=qO(e,this._lastEvent,i,l);i&&(this._lastEvent=null,be(s.onHover,[e,a,this],this),l&&be(s.onClick,[e,a,this],this));const u=!Oc(a,r);return(u||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}L(On,"defaults",Le),L(On,"instances",jl),L(On,"overrides",Sr),L(On,"registry",xn),L(On,"version",KO),L(On,"getChart",by);function Sy(){return _e(On.instances,t=>t._plugins.invalidate())}function ZO(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+Ye,i-Ye),t.closePath(),t.clip()}function eL(t){return Wp(t,["outerStart","outerEnd","innerStart","innerEnd"])}function tL(t,e,n,i){const r=eL(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=l=>{const c=(n-Math.min(s,l))*i/2;return rt(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:rt(r.innerStart,0,o),innerEnd:rt(r.innerEnd,0,o)}}function Fr(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function jc(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=r-l;if(i){const te=u>0?u-i:0,ce=h>0?h-i:0,X=(te+ce)/2,O=X!==0?p*X/(X+i):p;f=(p-O)/2}const m=Math.max(.001,p*h-n/Ie)/h,v=(p-m)/2,_=l+v+f,g=r-v-f,{outerStart:y,outerEnd:w,innerStart:S,innerEnd:x}=tL(e,d,h,g-_),k=h-y,C=h-w,P=_+y/k,M=g-w/C,A=d+S,H=d+x,J=_+S/A,le=g-x/H;if(t.beginPath(),s){const te=(P+M)/2;if(t.arc(o,a,h,P,te),t.arc(o,a,h,te,M),w>0){const j=Fr(C,M,o,a);t.arc(j.x,j.y,w,M,g+Ye)}const ce=Fr(H,g,o,a);if(t.lineTo(ce.x,ce.y),x>0){const j=Fr(H,le,o,a);t.arc(j.x,j.y,x,g+Ye,le+Math.PI)}const X=(g-x/d+(_+S/d))/2;if(t.arc(o,a,d,g-x/d,X,!0),t.arc(o,a,d,X,_+S/d,!0),S>0){const j=Fr(A,J,o,a);t.arc(j.x,j.y,S,J+Math.PI,_-Ye)}const O=Fr(k,_,o,a);if(t.lineTo(O.x,O.y),y>0){const j=Fr(k,P,o,a);t.arc(j.x,j.y,y,_-Ye,P)}}else{t.moveTo(o,a);const te=Math.cos(P)*h+o,ce=Math.sin(P)*h+a;t.lineTo(te,ce);const X=Math.cos(M)*h+o,O=Math.sin(M)*h+a;t.lineTo(X,O)}t.closePath()}function nL(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){jc(t,e,n,i,l,r);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%Re||Re))}return jc(t,e,n,i,l,r),t.fill(),l}function iL(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=d,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(s){jc(t,e,n,i,p,r);for(let m=0;m<s;++m)t.stroke();isNaN(a)||(p=o+(a%Re||Re))}f&&ZO(t,e,p),s||(jc(t,e,n,i,p,r),t.stroke())}class co extends gn{constructor(n){super();L(this,"circumference");L(this,"endAngle");L(this,"fullCircles");L(this,"innerRadius");L(this,"outerRadius");L(this,"pixelMargin");L(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=ub(s,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),f=(this.options.spacing+this.options.borderWidth)/2,p=q(d,c-l),m=ua(o,l,c)&&l!==c,v=p>=Re||m,_=zn(a,u+f,h+f);return v&&_}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,h=(s+o)/2,d=(a+l+u+c)/2;return{x:i+Math.cos(h)*d,y:r+Math.sin(h)*d}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>Re?Math.floor(r/Re):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(Ie,r||0)),u=s*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,nL(n,this,u,o,a),iL(n,this,u,o,a),n.restore()}}L(co,"id","arc"),L(co,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),L(co,"defaultRoutes",{backgroundColor:"backgroundColor"}),L(co,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Hb(t,e,n=e){t.lineCap=q(n.borderCapStyle,e.borderCapStyle),t.setLineDash(q(n.borderDash,e.borderDash)),t.lineDashOffset=q(n.borderDashOffset,e.borderDashOffset),t.lineJoin=q(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=q(n.borderWidth,e.borderWidth),t.strokeStyle=q(n.borderColor,e.borderColor)}function rL(t,e,n){t.lineTo(n.x,n.y)}function sL(t){return t.stepped?PD:t.tension||t.cubicInterpolationMode==="monotone"?MD:rL}function Ub(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function oL(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=Ub(r,n,i),u=sL(s);let{move:h=!0,reverse:d}=i||{},f,p,m;for(f=0;f<=c;++f)p=r[(a+(d?c-f:f))%o],!p.skip&&(h?(t.moveTo(p.x,p.y),h=!1):u(t,m,p,d,s.stepped),m=p);return l&&(p=r[(a+(d?c:0))%o],u(t,m,p,d,s.stepped)),!!l}function aL(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=Ub(r,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,d,f,p,m,v,_;const g=w=>(o+(c?a-w:w))%s,y=()=>{m!==v&&(t.lineTo(u,v),t.lineTo(u,m),t.lineTo(u,_))};for(l&&(f=r[g(0)],t.moveTo(f.x,f.y)),d=0;d<=a;++d){if(f=r[g(d)],f.skip)continue;const w=f.x,S=f.y,x=w|0;x===p?(S<m?m=S:S>v&&(v=S),u=(h*u+w)/++h):(y(),t.lineTo(w,S),p=x,h=0,m=v=S),_=S}y()}function Ud(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?aL:oL}function lL(t){return t.stepped?aN:t.tension||t.cubicInterpolationMode==="monotone"?lN:tr}function cL(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),Hb(t,e.options),t.stroke(r)}function uL(t,e,n,i){const{segments:r,options:s}=e,o=Ud(e);for(const a of r)Hb(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const hL=typeof Path2D=="function";function dL(t,e,n,i){hL&&!e.options.segment?cL(t,e,n,i):uL(t,e,n,i)}class fi extends gn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;ZD(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=pN(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=Rb(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=lL(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:d}=o[c],f=s[h],p=s[d];if(f===p){a.push(f);continue}const m=Math.abs((r-f[n])/(p[n]-f[n])),v=l(f,p,m,i.stepped);v[n]=e[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Ud(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=Ud(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),dL(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}L(fi,"id","line"),L(fi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),L(fi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),L(fi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Cy(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Wl extends gn{constructor(n){super();L(this,"parsed");L(this,"skip");L(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return Cy(this,n,"x",i)}inYRange(n,i){return Cy(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!jn(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,jd(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}L(Wl,"id","point"),L(Wl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),L(Wl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function $b(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=s/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function pi(t,e,n,i){return t?0:rt(e,n,i)}function fL(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=vb(i);return{t:pi(r.top,s.top,0,n),r:pi(r.right,s.right,0,e),b:pi(r.bottom,s.bottom,0,n),l:pi(r.left,s.left,0,e)}}function pL(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=dr(r),o=Math.min(e,n),a=t.borderSkipped,l=i||oe(r);return{topLeft:pi(!l||a.top||a.left,s.topLeft,0,o),topRight:pi(!l||a.top||a.right,s.topRight,0,o),bottomLeft:pi(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:pi(!l||a.bottom||a.right,s.bottomRight,0,o)}}function gL(t){const e=$b(t),n=e.right-e.left,i=e.bottom-e.top,r=fL(t,n/2,i/2),s=pL(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function xh(t,e,n,i){const r=e===null,s=n===null,a=t&&!(r&&s)&&$b(t,i);return a&&(r||zn(e,a.left,a.right))&&(s||zn(n,a.top,a.bottom))}function mL(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function _L(t,e){t.rect(e.x,e.y,e.w,e.h)}function wh(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class Vl extends gn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=gL(this),a=mL(o.radius)?ha:_L;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,wh(o,n,s)),e.clip(),a(e,wh(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,wh(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return xh(this,e,n,i)}inXRange(e,n){return xh(this,e,null,n)}inYRange(e,n){return xh(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}L(Vl,"id","bar"),L(Vl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),L(Vl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var yL=Object.freeze({__proto__:null,ArcElement:co,BarElement:Vl,LineElement:fi,PointElement:Wl});const $d=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Ey=$d.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Yb(t){return $d[t%$d.length]}function Kb(t){return Ey[t%Ey.length]}function vL(t,e){return t.borderColor=Yb(e),t.backgroundColor=Kb(e),++e}function xL(t,e){return t.backgroundColor=t.data.map(()=>Yb(e++)),e}function wL(t,e){return t.backgroundColor=t.data.map(()=>Kb(e++)),e}function bL(t){let e=0;return(n,i)=>{const r=t.getDatasetMeta(i).controller;r instanceof cr?e=xL(n,e):r instanceof Io?e=wL(n,e):r&&(e=vL(n,e))}}function ky(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function SL(t){return t&&(t.borderColor||t.backgroundColor)}function CL(){return Le.borderColor!=="rgba(0,0,0,0.1)"||Le.backgroundColor!=="rgba(0,0,0,0.1)"}var EL={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=t.config,{elements:s}=r,o=ky(i)||SL(r)||s&&ky(s)||CL();if(!n.forceOverride&&o)return;const a=bL(t);i.forEach(a)}};function kL(t,e,n,i,r){const s=r.samples||i;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let l=0;const c=e+n-1;let u=e,h,d,f,p,m;for(o[l++]=t[u],h=0;h<s-2;h++){let v=0,_=0,g;const y=Math.floor((h+1)*a)+1+e,w=Math.min(Math.floor((h+2)*a)+1,n)+e,S=w-y;for(g=y;g<w;g++)v+=t[g].x,_+=t[g].y;v/=S,_/=S;const x=Math.floor(h*a)+1+e,k=Math.min(Math.floor((h+1)*a)+1,n)+e,{x:C,y:P}=t[u];for(f=p=-1,g=x;g<k;g++)p=.5*Math.abs((C-v)*(t[g].y-P)-(C-t[g].x)*(_-P)),p>f&&(f=p,d=t[g],m=g);o[l++]=d,u=m}return o[l++]=t[c],o}function TL(t,e,n,i){let r=0,s=0,o,a,l,c,u,h,d,f,p,m;const v=[],_=e+n-1,g=t[e].x,w=t[_].x-g;for(o=e;o<e+n;++o){a=t[o],l=(a.x-g)/w*i,c=a.y;const S=l|0;if(S===u)c<p?(p=c,h=o):c>m&&(m=c,d=o),r=(s*r+a.x)/++s;else{const x=o-1;if(!de(h)&&!de(d)){const k=Math.min(h,d),C=Math.max(h,d);k!==f&&k!==x&&v.push({...t[k],x:r}),C!==f&&C!==x&&v.push({...t[C],x:r})}o>0&&x!==f&&v.push(t[x]),v.push(a),u=S,s=0,p=m=c,h=d=f=o}}return v}function Gb(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Ty(t){t.data.datasets.forEach(e=>{Gb(e)})}function PL(t,e){const n=e.length;let i=0,r;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=rt(Bn(e,s.axis,o).lo,0,n-1)),c?r=rt(Bn(e,s.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var ML={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){Ty(t);return}const i=t.width;t.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=t.getDatasetMeta(s),c=o||r.data;if(ao([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:h,count:d}=PL(l,c);const f=n.threshold||4*i;if(d<=f){Gb(r);return}de(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let p;switch(n.algorithm){case"lttb":p=kL(c,h,d,i,n);break;case"min-max":p=TL(c,h,d,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=p})},destroy(t){Ty(t)}};function RL(t,e,n){const i=t.segments,r=t.points,s=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=Gp(l,c,r);const u=Yd(n,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const h=Rb(e,u);for(const d of h){const f=Yd(n,s[d.start],s[d.end],d.loop),p=Mb(a,r,f);for(const m of p)o.push({source:m,target:d,start:{[n]:Py(u,f,"start",Math.max)},end:{[n]:Py(u,f,"end",Math.min)}})}}return o}function Yd(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=jt(r),s=jt(s)),{property:t,start:r,end:s}}function IL(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=Gp(o,a,r);const l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function Gp(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Py(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function Qb(t,e){let n=[],i=!1;return Oe(t)?(i=!0,n=t):n=IL(t,e),n.length?new fi({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function My(t){return t&&t.fill!==!1}function DL(t,e,n){let r=t[e].fill;const s=[e];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Ue(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function NL(t,e,n){const i=FL(t);if(oe(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Ue(r)&&Math.floor(r)===r?OL(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function OL(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function LL(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:oe(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function AL(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:oe(t)?i=t.value:i=e.getBaseValue(),i}function FL(t){const e=t.options,n=e.fill;let i=q(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function zL(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=BL(e,n);a.push(Qb({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)jL(r,o[u],a)}return new fi({points:r,options:{}})}function BL(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function jL(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=WL(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function WL(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],h=o[u.start][n],d=o[u.end][n];if(zn(r,h,d)){a=r===h,l=r===d;break}}return{first:a,last:l,point:i}}class Xb{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:Re},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function VL(t){const{chart:e,fill:n,line:i}=t;if(Ue(n))return HL(e,n);if(n==="stack")return zL(t);if(n==="shape")return!0;const r=UL(t);return r instanceof Xb?r:Qb(r,i)}function HL(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function UL(t){return(t.scale||{}).getPointPositionForValue?YL(t):$L(t)}function $L(t){const{scale:e={},fill:n}=t,i=LL(n,e);if(Ue(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function YL(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=AL(n,e,s),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,s);return new Xb({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function bh(t,e,n){const i=VL(e),{line:r,scale:s,axis:o}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&r.points.length&&(gu(t,n),KL(t,{line:r,target:i,above:u,below:h,area:n,scale:s,axis:o}),mu(t))}function KL(t,e){const{line:n,target:i,above:r,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&s!==r&&(Ry(t,i,o.top),Iy(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),Ry(t,i,o.bottom)),Iy(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore()}function Ry(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],h=r[Gp(l,c,r)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Iy(t,e){const{line:n,target:i,property:r,color:s,scale:o}=e,a=RL(n,i,r);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:d=s}={}}=l,f=i!==!0;t.save(),t.fillStyle=d,GL(t,o,f&&Yd(r,u,h)),t.beginPath();const p=!!n.pathSegment(t,l);let m;if(f){p?t.closePath():Dy(t,i,h,r);const v=!!i.pathSegment(t,c,{move:p,reverse:!0});m=p&&v,m||Dy(t,i,u,r)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function GL(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,i,a-o,r-i),t.clip())}function Dy(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var QL={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof fi&&(l={visible:t.isDatasetVisible(o),index:o,fill:NL(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=DL(r,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&bh(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;My(s)&&bh(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!My(i)||n.drawTime!=="beforeDatasetDraw"||bh(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ny=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},XL=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Oy extends gn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=be(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=et(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Ny(i,s);let c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let h=e;s.textAlign="left",s.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((p,m)=>{const v=i+n/2+s.measureText(p.text).width;(m===0||c[c.length-1]+v+2*a>o)&&(h+=u,c[c.length-(m>0?0:1)]=0,f+=u,d++),l[m]={left:0,top:f,row:d,width:v,height:r},c[c.length-1]+=v+a}),h}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,f=0,p=0,m=0;return this.legendItems.forEach((v,_)=>{const{itemWidth:g,itemHeight:y}=qL(i,n,s,v,r);_>0&&f+y+2*a>u&&(h+=d+a,c.push({width:d,height:f}),p+=d+a,m++,d=f=0),l[_]={left:p,top:f,col:m,width:g,height:y},d=Math.max(d,g),f+=y+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=as(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=gt(i,this.left+r,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=gt(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=gt(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=gt(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;gu(e,this),this._draw(),mu(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=Le.color,l=as(e.rtl,this.left,this.width),c=et(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:p,boxHeight:m,itemHeight:v}=Ny(o,h),_=function(x,k,C){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;r.save();const P=q(C.lineWidth,1);if(r.fillStyle=q(C.fillStyle,a),r.lineCap=q(C.lineCap,"butt"),r.lineDashOffset=q(C.lineDashOffset,0),r.lineJoin=q(C.lineJoin,"miter"),r.lineWidth=P,r.strokeStyle=q(C.strokeStyle,a),r.setLineDash(q(C.lineDash,[])),o.usePointStyle){const M={radius:m*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:P},A=l.xPlus(x,p/2),H=k+d;yb(r,M,A,H,o.pointStyleWidth&&p)}else{const M=k+Math.max((h-m)/2,0),A=l.leftForLtr(x,p),H=dr(C.borderRadius);r.beginPath(),Object.values(H).some(J=>J!==0)?ha(r,{x:A,y:M,w:p,h:m,radius:H}):r.rect(A,M,p,m),r.fill(),P!==0&&r.stroke()}r.restore()},g=function(x,k,C){Cr(r,C.text,x,k+v/2,c,{strikethrough:C.hidden,textAlign:l.textAlign(C.textAlign)})},y=this.isHorizontal(),w=this._computeTitleHeight();y?f={x:gt(s,this.left+u,this.right-i[0]),y:this.top+u+w,line:0}:f={x:this.left+u,y:gt(s,this.top+w+u,this.bottom-n[0].height),line:0},kb(this.ctx,e.textDirection);const S=v+u;this.legendItems.forEach((x,k)=>{r.strokeStyle=x.fontColor,r.fillStyle=x.fontColor;const C=r.measureText(x.text).width,P=l.textAlign(x.textAlign||(x.textAlign=o.textAlign)),M=p+d+C;let A=f.x,H=f.y;l.setWidth(this.width),y?k>0&&A+M+u>this.right&&(H=f.y+=S,f.line++,A=f.x=gt(s,this.left+u,this.right-i[f.line])):k>0&&H+S>this.bottom&&(A=f.x=A+n[f.line].width+u,f.line++,H=f.y=gt(s,this.top+w+u,this.bottom-n[f.line].height));const J=l.x(A);if(_(J,H,x),A=_D(P,A+p+d,y?A+M:this.right,e.rtl),g(l.x(A),H,x),y)f.x+=M+u;else if(typeof x.text!="string"){const le=c.lineHeight;f.y+=qb(x,le)+u}else f.y+=S}),Tb(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=et(n.font),r=xt(n.padding);if(!n.display)return;const s=as(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=gt(e.align,h,this.right-d);else{const p=this.columnSizes.reduce((m,v)=>Math.max(m,v.height),0);u=c+gt(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=gt(a,h,h+d);o.textAlign=s.textAlign(Bp(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Cr(o,n.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,n=et(e.font),i=xt(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(zn(e,this.left,this.right)&&zn(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],zn(e,r.left,r.left+r.width)&&zn(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!eA(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=XL(r,i);r&&!s&&be(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&be(n.onHover,[e,i,this],this)}else i&&be(n.onClick,[e,i,this],this)}}function qL(t,e,n,i,r){const s=JL(i,t,e,n),o=ZL(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function JL(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function ZL(t,e,n){let i=t;return typeof e.text!="string"&&(i=qb(e,n)),i}function qb(t,e){const n=t.text?t.text.length:0;return e*n}function eA(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var tA={id:"legend",_element:Oy,start(t,e,n){const i=t.legend=new Oy({ctx:t.ctx,options:n,chart:t});yt.configure(t,i,n),yt.addBox(t,i)},stop(t){yt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;yt.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=xt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Qp extends gn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=Oe(i.text)?i.text.length:1;this._padding=xt(i.padding);const s=r*et(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=gt(a,i,s),h=n+e,c=s-i):(o.position==="left"?(u=i+e,h=gt(a,r,n),l=Ie*-.5):(u=s-e,h=gt(a,n,r),l=Ie*.5),c=r-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=et(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);Cr(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Bp(n.align),textBaseline:"middle",translation:[o,a]})}}function nA(t,e){const n=new Qp({ctx:t.ctx,options:e,chart:t});yt.configure(t,n,e),yt.addBox(t,n),t.titleBlock=n}var iA={id:"title",_element:Qp,start(t,e,n){nA(t,n)},stop(t){const e=t.titleBlock;yt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;yt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _l=new WeakMap;var rA={id:"subtitle",start(t,e,n){const i=new Qp({ctx:t.ctx,options:n,chart:t});yt.configure(t,i,n),yt.addBox(t,i),_l.set(t,i)},stop(t){yt.removeBox(t,_l.get(t)),_l.delete(t)},beforeUpdate(t,e,n){const i=_l.get(t);yt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const uo={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=zd(e,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function yn(t,e){return e&&(Oe(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Rn(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function sA(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Ly(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=et(e.bodyFont),c=et(e.titleFont),u=et(e.footerFont),h=s.length,d=r.length,f=i.length,p=xt(e.padding);let m=p.height,v=0,_=i.reduce((w,S)=>w+S.before.length+S.lines.length+S.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),_){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=f*w+(_-f)*l.lineHeight+(_-1)*e.bodySpacing}d&&(m+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let g=0;const y=function(w){v=Math.max(v,n.measureText(w).width+g)};return n.save(),n.font=c.string,_e(t.title,y),n.font=l.string,_e(t.beforeBody.concat(t.afterBody),y),g=e.displayColors?o+2+e.boxPadding:0,_e(i,w=>{_e(w.before,y),_e(w.lines,y),_e(w.after,y)}),g=0,n.font=u.string,_e(t.footer,y),n.restore(),v+=p.width,{width:v,height:m}}function oA(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function aA(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function lA(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),aA(c,t,e,n)&&(c="center"),c}function Ay(t,e,n){const i=n.yAlign||e.yAlign||oA(t,n);return{xAlign:n.xAlign||e.xAlign||lA(t,e,n,i),yAlign:i}}function cA(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function uA(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function Fy(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=dr(o);let p=cA(e,a);const m=uA(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,d)+r:a==="right"&&(p+=Math.max(h,f)+r),{x:rt(p,0,i.width-e.width),y:rt(m,0,i.height-e.height)}}function yl(t,e,n){const i=xt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function zy(t){return yn([],Rn(t))}function hA(t,e,n){return Vi(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function By(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Jb={beforeTitle:Pn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Pn,beforeBody:Pn,beforeLabel:Pn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return de(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Pn,afterBody:Pn,beforeFooter:Pn,footer:Pn,afterFooter:Pn};function Tt(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?Jb[e].call(n,i):r}class Kd extends gn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new Ib(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=hA(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Tt(i,"beforeTitle",this,e),s=Tt(i,"title",this,e),o=Tt(i,"afterTitle",this,e);let a=[];return a=yn(a,Rn(r)),a=yn(a,Rn(s)),a=yn(a,Rn(o)),a}getBeforeBody(e,n){return zy(Tt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return _e(e,s=>{const o={before:[],lines:[],after:[]},a=By(i,s);yn(o.before,Rn(Tt(a,"beforeLabel",this,s))),yn(o.lines,Tt(a,"label",this,s)),yn(o.after,Rn(Tt(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return zy(Tt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Tt(i,"beforeFooter",this,e),s=Tt(i,"footer",this,e),o=Tt(i,"afterFooter",this,e);let a=[];return a=yn(a,Rn(r)),a=yn(a,Rn(s)),a=yn(a,Rn(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(sA(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,i))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,i))),_e(a,u=>{const h=By(e.callbacks,u);r.push(Tt(h,"labelColor",this,u)),s.push(Tt(h,"labelPointStyle",this,u)),o.push(Tt(h,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=uo[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Ly(this,i),c=Object.assign({},a,l),u=Ay(this.chart,i,c),h=Fy(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=dr(a),{x:d,y:f}=e,{width:p,height:m}=n;let v,_,g,y,w,S;return s==="center"?(w=f+m/2,r==="left"?(v=d,_=v-o,y=w+o,S=w-o):(v=d+p,_=v+o,y=w-o,S=w+o),g=v):(r==="left"?_=d+Math.max(l,u)+o:r==="right"?_=d+p-Math.max(c,h)-o:_=this.caretX,s==="top"?(y=f,w=y-o,v=_-o,g=_+o):(y=f+m,w=y+o,v=_+o,g=_-o),S=y),{x1:v,x2:_,x3:g,y1:y,y2:w,y3:S}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const c=as(i.rtl,this.x,this.width);for(e.x=yl(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=et(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=s,u=et(s.bodyFont),h=yl(this,"left",s),d=r.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+f;if(s.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=r.leftForLtr(d,c)+c/2,_=p+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,jd(e,m,v,_),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,jd(e,m,v,_)}else{e.lineWidth=oe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=r.leftForLtr(d,c),v=r.leftForLtr(r.xPlus(d,1),c-2),_=dr(o.borderRadius);Object.values(_).some(g=>g!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,ha(e,{x:m,y:p,w:c,h:l,radius:_}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ha(e,{x:v,y:p+1,w:c-2,h:l-2,radius:_}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,p,c,l),e.strokeRect(m,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(v,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=et(i.bodyFont);let d=h.lineHeight,f=0;const p=as(i.rtl,this.x,this.width),m=function(C){n.fillText(C,p.x(e.x+f),e.y+d/2),e.y+=d+s},v=p.textAlign(o);let _,g,y,w,S,x,k;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=yl(this,v,i),n.fillStyle=i.bodyColor,_e(this.beforeBody,m),f=a&&v!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,x=r.length;w<x;++w){for(_=r[w],g=this.labelTextColors[w],n.fillStyle=g,_e(_.before,m),y=_.lines,a&&y.length&&(this._drawColorBox(n,e,w,p,i),d=Math.max(h.lineHeight,l)),S=0,k=y.length;S<k;++S)m(y[S]),d=h.lineHeight;_e(_.after,m)}f=0,d=h.lineHeight,_e(this.afterBody,m),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=as(i.rtl,this.x,this.width);for(e.x=yl(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=et(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:p}=dr(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=uo[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Ly(this,e),l=Object.assign({},o,this._size),c=Ay(n,e,l),u=Fy(e,l,c,n);(r._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=xt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),kb(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),Tb(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!Oc(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!Oc(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=uo[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}L(Kd,"positioners",uo);var dA={id:"tooltip",_element:Kd,positioners:uo,afterInit(t,e,n){n&&(t.tooltip=new Kd({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Jb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},fA=Object.freeze({__proto__:null,Colors:EL,Decimation:ML,Filler:QL,Legend:tA,SubTitle:rA,Title:iA,Tooltip:dA});const pA=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function gA(t,e,n,i){const r=t.indexOf(e);if(r===-1)return pA(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const mA=(t,e)=>t===null?null:rt(Math.round(t),0,e);function jy(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Gd extends Pr{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(de(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:gA(i,e,q(n,e),this._addedLabels),mA(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return jy.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}L(Gd,"id","category"),L(Gd,"defaults",{ticks:{callback:jy}});function _A(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,f=s||1,p=u-1,{min:m,max:v}=e,_=!de(o),g=!de(a),y=!de(c),w=(v-m)/(h+1);let S=L_((v-m)/p/f)*f,x,k,C,P;if(S<1e-14&&!_&&!g)return[{value:m},{value:v}];P=Math.ceil(v/S)-Math.floor(m/S),P>p&&(S=L_(P*S/p/f)*f),de(l)||(x=Math.pow(10,l),S=Math.ceil(S*x)/x),r==="ticks"?(k=Math.floor(m/S)*S,C=Math.ceil(v/S)*S):(k=m,C=v),_&&g&&s&&uD((a-o)/s,S/1e3)?(P=Math.round(Math.min((a-o)/S,u)),S=(a-o)/P,k=o,C=a):y?(k=_?o:k,C=g?a:C,P=c-1,S=(C-k)/P):(P=(C-k)/S,Po(P,Math.round(P),S/1e3)?P=Math.round(P):P=Math.ceil(P));const M=Math.max(A_(S),A_(k));x=Math.pow(10,de(l)?M:l),k=Math.round(k*x)/x,C=Math.round(C*x)/x;let A=0;for(_&&(d&&k!==o?(n.push({value:o}),k<o&&A++,Po(Math.round((k+A*S)*x)/x,o,Wy(o,w,t))&&A++):k<o&&A++);A<P;++A){const H=Math.round((k+A*S)*x)/x;if(g&&H>a)break;n.push({value:H})}return g&&d&&C!==a?n.length&&Po(n[n.length-1].value,a,Wy(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!g||C===a)&&n.push({value:C}),n}function Wy(t,e,{horizontal:n,minRotation:i}){const r=cn(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Wc extends Pr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return de(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=Cn(r),c=Cn(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=_A(r,s);return e.bounds==="ticks"&&cb(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Da(e,this.chart.options.locale,this.options.ticks.format)}}class Qd extends Wc{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ue(e)?e:0,this.max=Ue(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=cn(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}L(Qd,"id","linear"),L(Qd,"defaults",{ticks:{callback:pu.formatters.numeric}});const fa=t=>Math.floor(di(t)),Qi=(t,e)=>Math.pow(10,fa(t)+e);function Vy(t){return t/Math.pow(10,fa(t))===1}function Hy(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function yA(t,e){const n=e-t;let i=fa(n);for(;Hy(t,e,i)>10;)i++;for(;Hy(t,e,i)<10;)i--;return Math.min(i,fa(t))}function vA(t,{min:e,max:n}){e=Ft(t.min,e);const i=[],r=fa(e);let s=yA(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,s)),d=Ft(t.min,Math.round((l+u+h*Math.pow(10,s))*o)/o);for(;d<n;)i.push({value:d,major:Vy(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),d=Math.round((l+u+h*Math.pow(10,s))*o)/o;const f=Ft(t.max,d);return i.push({value:f,major:Vy(f),significand:h}),i}class Xd extends Pr{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=Wc.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Ue(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ue(e)?Math.max(0,e):null,this.max=Ue(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ue(this._userMin)&&(this.min=e===Qi(this.min,0)?Qi(this.min,-1):Qi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=a=>i=e?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(Qi(i,-1)),o(Qi(r,1)))),i<=0&&s(Qi(r,-1)),r<=0&&o(Qi(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=vA(n,this);return e.bounds==="ticks"&&cb(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Da(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=di(e),this._valueRange=di(this.max)-di(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(di(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}L(Xd,"id","logarithmic"),L(Xd,"defaults",{ticks:{callback:pu.formatters.logarithmic,major:{enabled:!0}}});function qd(t){const e=t.ticks;if(e.display&&t.display){const n=xt(e.backdropPadding);return q(e.font&&e.font.size,Le.font.size)+n.height}return 0}function xA(t,e,n){return n=Oe(n)?n:[n],{w:TD(t,e.string,n),h:n.length*e.lineHeight}}function Uy(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function wA(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Ie/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));r[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+r[l],a),h=et(c.font),d=xA(t.ctx,h,t._pointLabels[l]);i[l]=d;const f=jt(t.getIndexAngle(l)+a),p=Math.round(Fp(f)),m=Uy(p,u.x,d.w,0,180),v=Uy(p,u.y,d.h,90,270);bA(n,e,f,m,v)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=EA(t,i,r)}function bA(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function SA(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,i+r+o,s),c=Math.round(Fp(jt(l.angle+Ye))),u=PA(l.y,a.h,c),h=kA(c),d=TA(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function CA(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(jn({x:n,y:i},e)||jn({x:n,y:s},e)||jn({x:r,y:i},e)||jn({x:r,y:s},e))}function EA(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:qd(s)/2,additionalAngle:o?Ie/r:0};let c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];const h=SA(t,u,l);i.push(h),a==="auto"&&(h.visible=CA(h,c),h.visible&&(c=h))}return i}function kA(t){return t===0||t===180?"center":t<180?"left":"right"}function TA(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function PA(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function MA(t,e,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!de(a)){const l=dr(e.borderRadius),c=xt(e.backdropPadding);t.fillStyle=a;const u=i-c.left,h=r-c.top,d=s-i+c.width,f=o-r+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),ha(t,{x:u,y:h,w:d,h:f,radius:l}),t.fill()):t.fillRect(u,h,d,f)}}function RA(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const s=t._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(t.getPointLabelContext(r));MA(n,o,s);const a=et(o.font),{x:l,y:c,textAlign:u}=s;Cr(n,t._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function Zb(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,Re);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function IA(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),Zb(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function DA(t,e,n){return Vi(t,{label:n,index:e,type:"pointLabel"})}class ho extends Wc{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=xt(qd(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Ue(e)&&!isNaN(e)?e:0,this.max=Ue(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/qd(this.options))}generateTickLabels(e){Wc.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const r=be(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?wA(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){const n=Re/(this._pointLabels.length||1),i=this.options.startAngle||0;return jt(e*n+cn(i))}getDistanceFromCenterForValue(e){if(de(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(de(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return DA(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const r=this.getIndexAngle(e)-Ye+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),Zb(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&RA(this,o),r.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const d=this.getContext(h),f=r.setContext(d),p=s.setContext(d);IA(this,f,l,o,p)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:d}=u;!d||!h||(e.lineWidth=d,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=et(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=xt(c.backdropPadding);e.fillRect(-o/2-h.left,-s-u.size/2-h.top,o+h.width,u.size+h.height)}Cr(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}L(ho,"id","radialLinear"),L(ho,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:pu.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),L(ho,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),L(ho,"descriptors",{angleLines:{_fallback:"grid"}});const yu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rt=Object.keys(yu);function $y(t,e){return t-e}function Yy(t,e){if(de(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Ue(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(ws(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function Ky(t,e,n,i){const r=Rt.length;for(let s=Rt.indexOf(t);s<r-1;++s){const o=yu[Rt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Rt[s]}return Rt[r-1]}function NA(t,e,n,i,r){for(let s=Rt.length-1;s>=Rt.indexOf(n);s--){const o=Rt[s];if(yu[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Rt[n?Rt.indexOf(n):0]}function OA(t){for(let e=Rt.indexOf(t)+1,n=Rt.length;e<n;++e)if(yu[Rt[e]].common)return Rt[e]}function Gy(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=zp(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function LA(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function Qy(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:LA(t,i,r,n)}class pa extends Pr{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new HN._date(e.adapters.date);r.init(n),To(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Yy(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Ue(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=Ue(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=pD(r,s,o);return this._unit=n.unit||(i.autoSkip?Ky(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):NA(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:OA(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),Qy(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=rt(n,0,o),i=rt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||Ky(s.minUnit,n,i,this._getLabelCapacity(n)),a=q(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=ws(l)||l===!0,u={};let h=n,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=r.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+e.add(d,a,o),f++)Gy(u,d,p);return(d===i||r.bounds==="ticks"||f===1)&&Gy(u,d,p),Object.keys(u).sort($y).map(m=>+m)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return be(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=i[n],f=c&&h&&d&&d.major;return this._adapter.format(e,r||(f?h:u))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=cn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Qy(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(Yy(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return db(e.sort($y))}}L(pa,"id","time"),L(pa,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function vl(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Bn(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Bn(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class Jd extends pa{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=vl(n,this.min),this._tableRange=vl(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(vl(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return vl(this._table,i*this._tableRange+this._minPos,!0)}}L(Jd,"id","timeseries"),L(Jd,"defaults",pa.defaults);var AA=Object.freeze({__proto__:null,CategoryScale:Gd,LinearScale:Qd,LogarithmicScale:Xd,RadialLinearScale:ho,TimeScale:pa,TimeSeriesScale:Jd});const FA=[VN,yL,fA,AA];On.register(...FA);const zA=()=>{const[t,e]=R.useState([]),[n,i]=R.useState(null),[r,s]=R.useState({}),[o,a]=R.useState(!1);R.useEffect(()=>{(async()=>{const v=_I(II,"devices"),_=await yI(v);_.exists()&&e(_.val())})()},[]);const l=async m=>{const v=m.target.value;a(!0),i(null),s({}),setTimeout(async()=>{if(v){const _=t[v];i(_),s(_.sensor_data)}a(!1)},1e3)};let c={};const u=(m,v,_)=>{c[m]&&c[m].destroy();const g=document.getElementById(m).getContext("2d");c[m]=new On(g,{type:"line",data:{labels:Object.keys(v),datasets:[{label:_,data:Object.values(v),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)"}]},options:{responsive:!0,maintainAspectRatio:!1}})};R.useEffect(()=>{n&&r&&(u("phChart",r.ph,"pH Levels"),u("tdsChart",r.tds,"TDS Levels"),u("turbidityChart",r.turbidity,"Turbidity Levels"))},[r]);const h=m=>!m||Object.keys(m).length===0?0:(Object.values(m).reduce((_,g)=>_+g,0)/Object.values(m).length).toFixed(2),d=h(r.ph),f=h(r.tds),p=h(r.turbidity);return U.jsxs("div",{className:"p-4",children:[U.jsx("label",{className:"block text-lg font-semibold",children:"Select Sensor:"}),U.jsxs("select",{onChange:l,className:"mt-2 mb-4 p-2 border rounded shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[U.jsx("option",{value:"",children:"-- Select a Sensor --"}),Object.keys(t).map(m=>U.jsx("option",{value:m,children:m},m))]}),o?U.jsxs("div",{className:"flex justify-center items-center h-32",children:[U.jsx("div",{className:"loader",children:"Loading..."})," "]}):n&&U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[U.jsxs("div",{className:"border p-4 rounded shadow-lg",children:[U.jsx("h2",{className:"text-xl font-semibold",children:"Sensor Information"}),U.jsxs("div",{className:"flex items-center justify-between mt-2",children:[U.jsx("input",{type:"text",value:n.location,readOnly:!0,className:"border border-gray-300 p-2 rounded w-1/2 mr-2"}),U.jsx("input",{type:"text",value:n.username,readOnly:!0,className:"border border-gray-300 p-2 rounded w-1/2"})]}),U.jsx("h2",{className:"text-xl font-semibold mt-4",children:"Average Values"}),U.jsxs("div",{className:"flex flex-col space-y-2 mt-2",children:[U.jsxs("div",{className:"flex justify-between",children:[U.jsx("span",{className:"font-medium",children:"Average pH:"}),U.jsx("span",{children:d})]}),U.jsxs("div",{className:"flex justify-between",children:[U.jsx("span",{className:"font-medium",children:"Average TDS:"}),U.jsx("span",{children:f})]}),U.jsxs("div",{className:"flex justify-between",children:[U.jsx("span",{className:"font-medium",children:"Average Turbidity:"}),U.jsx("span",{children:p})]})]})]}),U.jsxs("div",{className:"flex flex-col gap-4",children:[U.jsx("div",{className:"bg-red-200 p-2 rounded h-1/4",children:U.jsx("canvas",{id:"phChart"})}),U.jsx("div",{className:"bg-green-200 p-2 rounded h-1/4",children:U.jsx("canvas",{id:"tdsChart"})}),U.jsx("div",{className:"bg-blue-200 p-2 rounded h-1/2",children:U.jsx("canvas",{id:"turbidityChart"})})]})]})]})},BA=gk([{path:"/",element:U.jsx(Ok,{}),children:[{path:"dashboard",element:U.jsx(Lk,{})},{path:"data-visualization",element:U.jsx(zA,{})}]}],{basename:"/water_quality_system"});function jA(){return U.jsx(Sk,{router:BA})}ux(document.getElementById("root")).render(U.jsx(R.StrictMode,{children:U.jsx(jA,{})}));
