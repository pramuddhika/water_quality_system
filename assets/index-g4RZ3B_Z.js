var WM=Object.defineProperty;var $M=(t,e,n)=>e in t?WM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Q=(t,e,n)=>$M(t,typeof e!="symbol"?e+"":e,n);function N1(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var UM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var F1={exports:{}},Jd={},z1={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=Symbol.for("react.element"),ZM=Symbol.for("react.portal"),YM=Symbol.for("react.fragment"),GM=Symbol.for("react.strict_mode"),KM=Symbol.for("react.profiler"),qM=Symbol.for("react.provider"),XM=Symbol.for("react.context"),QM=Symbol.for("react.forward_ref"),JM=Symbol.for("react.suspense"),eL=Symbol.for("react.memo"),tL=Symbol.for("react.lazy"),v0=Symbol.iterator;function nL(t){return t===null||typeof t!="object"?null:(t=v0&&t[v0]||t["@@iterator"],typeof t=="function"?t:null)}var B1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V1=Object.assign,j1={};function wa(t,e,n){this.props=t,this.context=e,this.refs=j1,this.updater=n||B1}wa.prototype.isReactComponent={};wa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function H1(){}H1.prototype=wa.prototype;function y_(t,e,n){this.props=t,this.context=e,this.refs=j1,this.updater=n||B1}var b_=y_.prototype=new H1;b_.constructor=y_;V1(b_,wa.prototype);b_.isPureReactComponent=!0;var y0=Array.isArray,W1=Object.prototype.hasOwnProperty,x_={current:null},$1={key:!0,ref:!0,__self:!0,__source:!0};function U1(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)W1.call(e,i)&&!$1.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];r.children=u}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)r[i]===void 0&&(r[i]=l[i]);return{$$typeof:Du,type:t,key:s,ref:o,props:r,_owner:x_.current}}function iL(t,e){return{$$typeof:Du,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function w_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Du}function rL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var b0=/\/+/g;function wp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rL(""+t.key):e.toString(36)}function _h(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Du:case ZM:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+wp(o,0):i,y0(r)?(n="",t!=null&&(n=t.replace(b0,"$&/")+"/"),_h(r,e,n,"",function(h){return h})):r!=null&&(w_(r)&&(r=iL(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(b0,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",y0(t))for(var l=0;l<t.length;l++){s=t[l];var u=i+wp(s,l);o+=_h(s,e,n,u,r)}else if(u=nL(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=i+wp(s,l++),o+=_h(s,e,n,u,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function kc(t,e,n){if(t==null)return t;var i=[],r=0;return _h(t,i,"","",function(s){return e.call(n,s,r++)}),i}function sL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gn={current:null},vh={transition:null},oL={ReactCurrentDispatcher:gn,ReactCurrentBatchConfig:vh,ReactCurrentOwner:x_};function Z1(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:kc,forEach:function(t,e,n){kc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kc(t,function(){e++}),e},toArray:function(t){return kc(t,function(e){return e})||[]},only:function(t){if(!w_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=wa;Re.Fragment=YM;Re.Profiler=KM;Re.PureComponent=y_;Re.StrictMode=GM;Re.Suspense=JM;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oL;Re.act=Z1;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=V1({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=x_.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)W1.call(e,u)&&!$1.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:Du,type:t.type,key:r,ref:s,props:i,_owner:o}};Re.createContext=function(t){return t={$$typeof:XM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qM,_context:t},t.Consumer=t};Re.createElement=U1;Re.createFactory=function(t){var e=U1.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:QM,render:t}};Re.isValidElement=w_;Re.lazy=function(t){return{$$typeof:tL,_payload:{_status:-1,_result:t},_init:sL}};Re.memo=function(t,e){return{$$typeof:eL,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=vh.transition;vh.transition={};try{t()}finally{vh.transition=e}};Re.unstable_act=Z1;Re.useCallback=function(t,e){return gn.current.useCallback(t,e)};Re.useContext=function(t){return gn.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return gn.current.useDeferredValue(t)};Re.useEffect=function(t,e){return gn.current.useEffect(t,e)};Re.useId=function(){return gn.current.useId()};Re.useImperativeHandle=function(t,e,n){return gn.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return gn.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return gn.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return gn.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return gn.current.useReducer(t,e,n)};Re.useRef=function(t){return gn.current.useRef(t)};Re.useState=function(t){return gn.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return gn.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return gn.current.useTransition()};Re.version="18.3.1";z1.exports=Re;var I=z1.exports;const Ue=v_(I),Mm=N1({__proto__:null,default:Ue},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aL=I,lL=Symbol.for("react.element"),uL=Symbol.for("react.fragment"),cL=Object.prototype.hasOwnProperty,hL=aL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dL={key:!0,ref:!0,__self:!0,__source:!0};function Y1(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)cL.call(e,i)&&!dL.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:lL,type:t,key:s,ref:o,props:r,_owner:hL.current}}Jd.Fragment=uL;Jd.jsx=Y1;Jd.jsxs=Y1;F1.exports=Jd;var H=F1.exports,G1={exports:{}},Vn={},K1={exports:{}},q1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,X){var W=z.length;z.push(X);e:for(;0<W;){var ne=W-1>>>1,J=z[ne];if(0<r(J,X))z[ne]=X,z[W]=J,W=ne;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var X=z[0],W=z.pop();if(W!==X){z[0]=W;e:for(var ne=0,J=z.length,me=J>>>1;ne<me;){var oe=2*(ne+1)-1,le=z[oe],ee=oe+1,Fe=z[ee];if(0>r(le,W))ee<J&&0>r(Fe,le)?(z[ne]=Fe,z[ee]=W,ne=ee):(z[ne]=le,z[oe]=W,ne=oe);else if(ee<J&&0>r(Fe,W))z[ne]=Fe,z[ee]=W,ne=ee;else break e}}return X}function r(z,X){var W=z.sortIndex-X.sortIndex;return W!==0?W:z.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],h=[],d=1,p=null,m=3,_=!1,y=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var X=n(h);X!==null;){if(X.callback===null)i(h);else if(X.startTime<=z)i(h),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(h)}}function P(z){if(v=!1,S(z),!y)if(n(u)!==null)y=!0,ie(k);else{var X=n(h);X!==null&&re(P,X.startTime-z)}}function k(z,X){y=!1,v&&(v=!1,x(M),M=-1),_=!0;var W=m;try{for(S(X),p=n(u);p!==null&&(!(p.expirationTime>X)||z&&!U());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,m=p.priorityLevel;var J=ne(p.expirationTime<=X);X=t.unstable_now(),typeof J=="function"?p.callback=J:p===n(u)&&i(u),S(X)}else i(u);p=n(u)}if(p!==null)var me=!0;else{var oe=n(h);oe!==null&&re(P,oe.startTime-X),me=!1}return me}finally{p=null,m=W,_=!1}}var T=!1,O=null,M=-1,N=5,j=-1;function U(){return!(t.unstable_now()-j<N)}function G(){if(O!==null){var z=t.unstable_now();j=z;var X=!0;try{X=O(!0,z)}finally{X?ge():(T=!1,O=null)}}else T=!1}var ge;if(typeof w=="function")ge=function(){w(G)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,he=fe.port2;fe.port1.onmessage=G,ge=function(){he.postMessage(null)}}else ge=function(){C(G,0)};function ie(z){O=z,T||(T=!0,ge())}function re(z,X){M=C(function(){z(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){y||_||(y=!0,ie(k))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var W=m;m=X;try{return z()}finally{m=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var W=m;m=z;try{return X()}finally{m=W}},t.unstable_scheduleCallback=function(z,X,W){var ne=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ne+W:ne):W=ne,z){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=W+J,z={id:d++,callback:X,priorityLevel:z,startTime:W,expirationTime:J,sortIndex:-1},W>ne?(z.sortIndex=W,e(h,z),n(u)===null&&z===n(h)&&(v?(x(M),M=-1):v=!0,re(P,W-ne))):(z.sortIndex=J,e(u,z),y||_||(y=!0,ie(k))),z},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(z){var X=m;return function(){var W=m;m=X;try{return z.apply(this,arguments)}finally{m=W}}}})(q1);K1.exports=q1;var fL=K1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pL=I,Bn=fL;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X1=new Set,Zl={};function so(t,e){sa(t,e),sa(t+"Capture",e)}function sa(t,e){for(Zl[t]=e,t=0;t<e.length;t++)X1.add(e[t])}var sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lm=Object.prototype.hasOwnProperty,mL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x0={},w0={};function gL(t){return Lm.call(w0,t)?!0:Lm.call(x0,t)?!1:mL.test(t)?w0[t]=!0:(x0[t]=!0,!1)}function _L(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vL(t,e,n,i){if(e===null||typeof e>"u"||_L(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _n(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qt[t]=new _n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qt[e]=new _n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qt[t]=new _n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qt[t]=new _n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qt[t]=new _n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qt[t]=new _n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qt[t]=new _n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qt[t]=new _n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qt[t]=new _n(t,5,!1,t.toLowerCase(),null,!1,!1)});var S_=/[\-:]([a-z])/g;function C_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(S_,C_);Qt[e]=new _n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(S_,C_);Qt[e]=new _n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(S_,C_);Qt[e]=new _n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qt[t]=new _n(t,1,!1,t.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new _n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qt[t]=new _n(t,1,!1,t.toLowerCase(),null,!0,!0)});function E_(t,e,n,i){var r=Qt.hasOwnProperty(e)?Qt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vL(e,n,r,i)&&(n=null),i||r===null?gL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var fr=pL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mc=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Ao=Symbol.for("react.fragment"),P_=Symbol.for("react.strict_mode"),Im=Symbol.for("react.profiler"),Q1=Symbol.for("react.provider"),J1=Symbol.for("react.context"),T_=Symbol.for("react.forward_ref"),Om=Symbol.for("react.suspense"),Rm=Symbol.for("react.suspense_list"),k_=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),eS=Symbol.for("react.offscreen"),S0=Symbol.iterator;function Za(t){return t===null||typeof t!="object"?null:(t=S0&&t[S0]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,Sp;function pl(t){if(Sp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sp=e&&e[1]||""}return`
`+Sp+t}var Cp=!1;function Ep(t,e){if(!t||Cp)return"";Cp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var i=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){i=h}t.call(e.prototype)}else{try{throw Error()}catch(h){i=h}t()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var r=h.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,l=s.length-1;1<=o&&0<=l&&r[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==s[l]){var u=`
`+r[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Cp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pl(t):""}function yL(t){switch(t.tag){case 5:return pl(t.type);case 16:return pl("Lazy");case 13:return pl("Suspense");case 19:return pl("SuspenseList");case 0:case 2:case 15:return t=Ep(t.type,!1),t;case 11:return t=Ep(t.type.render,!1),t;case 1:return t=Ep(t.type,!0),t;default:return""}}function Dm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ao:return"Fragment";case Do:return"Portal";case Im:return"Profiler";case P_:return"StrictMode";case Om:return"Suspense";case Rm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case J1:return(t.displayName||"Context")+".Consumer";case Q1:return(t._context.displayName||"Context")+".Provider";case T_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k_:return e=t.displayName||null,e!==null?e:Dm(t.type)||"Memo";case Tr:e=t._payload,t=t._init;try{return Dm(t(e))}catch{}}return null}function bL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dm(e);case 8:return e===P_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xL(t){var e=tS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lc(t){t._valueTracker||(t._valueTracker=xL(t))}function nS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=tS(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Uh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Am(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function C0(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iS(t,e){e=e.checked,e!=null&&E_(t,"checked",e,!1)}function Nm(t,e){iS(t,e);var n=Qr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fm(t,e.type,Qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function E0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fm(t,e,n){(e!=="number"||Uh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ml=Array.isArray;function Go(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Qr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function zm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function P0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(ml(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qr(n)}}function rS(t,e){var n=Qr(e.value),i=Qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function T0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ic,oS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ic=Ic||document.createElement("div"),Ic.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ic.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wL=["Webkit","ms","Moz","O"];Object.keys(Pl).forEach(function(t){wL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pl[e]=Pl[t]})});function aS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pl.hasOwnProperty(t)&&Pl[t]?(""+e).trim():e+"px"}function lS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=aS(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var SL=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vm(t,e){if(e){if(SL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function jm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hm=null;function M_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wm=null,Ko=null,qo=null;function k0(t){if(t=Fu(t)){if(typeof Wm!="function")throw Error(K(280));var e=t.stateNode;e&&(e=sf(e),Wm(t.stateNode,t.type,e))}}function uS(t){Ko?qo?qo.push(t):qo=[t]:Ko=t}function cS(){if(Ko){var t=Ko,e=qo;if(qo=Ko=null,k0(t),e)for(t=0;t<e.length;t++)k0(e[t])}}function hS(t,e){return t(e)}function dS(){}var Pp=!1;function fS(t,e,n){if(Pp)return t(e,n);Pp=!0;try{return hS(t,e,n)}finally{Pp=!1,(Ko!==null||qo!==null)&&(dS(),cS())}}function Gl(t,e){var n=t.stateNode;if(n===null)return null;var i=sf(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var $m=!1;if(sr)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){$m=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{$m=!1}function CL(t,e,n,i,r,s,o,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var Tl=!1,Zh=null,Yh=!1,Um=null,EL={onError:function(t){Tl=!0,Zh=t}};function PL(t,e,n,i,r,s,o,l,u){Tl=!1,Zh=null,CL.apply(EL,arguments)}function TL(t,e,n,i,r,s,o,l,u){if(PL.apply(this,arguments),Tl){if(Tl){var h=Zh;Tl=!1,Zh=null}else throw Error(K(198));Yh||(Yh=!0,Um=h)}}function oo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function M0(t){if(oo(t)!==t)throw Error(K(188))}function kL(t){var e=t.alternate;if(!e){if(e=oo(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return M0(r),t;if(s===i)return M0(r),e;s=s.sibling}throw Error(K(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==i)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function mS(t){return t=kL(t),t!==null?gS(t):null}function gS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gS(t);if(e!==null)return e;t=t.sibling}return null}var _S=Bn.unstable_scheduleCallback,L0=Bn.unstable_cancelCallback,ML=Bn.unstable_shouldYield,LL=Bn.unstable_requestPaint,Tt=Bn.unstable_now,IL=Bn.unstable_getCurrentPriorityLevel,L_=Bn.unstable_ImmediatePriority,vS=Bn.unstable_UserBlockingPriority,Gh=Bn.unstable_NormalPriority,OL=Bn.unstable_LowPriority,yS=Bn.unstable_IdlePriority,ef=null,Oi=null;function RL(t){if(Oi&&typeof Oi.onCommitFiberRoot=="function")try{Oi.onCommitFiberRoot(ef,t,void 0,(t.current.flags&128)===128)}catch{}}var pi=Math.clz32?Math.clz32:NL,DL=Math.log,AL=Math.LN2;function NL(t){return t>>>=0,t===0?32:31-(DL(t)/AL|0)|0}var Oc=64,Rc=4194304;function gl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kh(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?i=gl(l):(s&=o,s!==0&&(i=gl(s)))}else o=n&~r,o!==0?i=gl(o):s!==0&&(i=gl(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-pi(e),r=1<<n,i|=t[n],e&=~r;return i}function FL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zL(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-pi(s),l=1<<o,u=r[o];u===-1?(!(l&n)||l&i)&&(r[o]=FL(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Zm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bS(){var t=Oc;return Oc<<=1,!(Oc&4194240)&&(Oc=64),t}function Tp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Au(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pi(e),t[e]=n}function BL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-pi(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function I_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-pi(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Ye=0;function xS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wS,O_,SS,CS,ES,Ym=!1,Dc=[],Br=null,Vr=null,jr=null,Kl=new Map,ql=new Map,Mr=[],VL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I0(t,e){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Kl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(e.pointerId)}}function Ga(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Fu(e),e!==null&&O_(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function jL(t,e,n,i,r){switch(e){case"focusin":return Br=Ga(Br,t,e,n,i,r),!0;case"dragenter":return Vr=Ga(Vr,t,e,n,i,r),!0;case"mouseover":return jr=Ga(jr,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Kl.set(s,Ga(Kl.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,ql.set(s,Ga(ql.get(s)||null,t,e,n,i,r)),!0}return!1}function PS(t){var e=Ns(t.target);if(e!==null){var n=oo(e);if(n!==null){if(e=n.tag,e===13){if(e=pS(n),e!==null){t.blockedOn=e,ES(t.priority,function(){SS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Hm=i,n.target.dispatchEvent(i),Hm=null}else return e=Fu(n),e!==null&&O_(e),t.blockedOn=n,!1;e.shift()}return!0}function O0(t,e,n){yh(t)&&n.delete(e)}function HL(){Ym=!1,Br!==null&&yh(Br)&&(Br=null),Vr!==null&&yh(Vr)&&(Vr=null),jr!==null&&yh(jr)&&(jr=null),Kl.forEach(O0),ql.forEach(O0)}function Ka(t,e){t.blockedOn===e&&(t.blockedOn=null,Ym||(Ym=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,HL)))}function Xl(t){function e(r){return Ka(r,t)}if(0<Dc.length){Ka(Dc[0],t);for(var n=1;n<Dc.length;n++){var i=Dc[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Br!==null&&Ka(Br,t),Vr!==null&&Ka(Vr,t),jr!==null&&Ka(jr,t),Kl.forEach(e),ql.forEach(e),n=0;n<Mr.length;n++)i=Mr[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Mr.length&&(n=Mr[0],n.blockedOn===null);)PS(n),n.blockedOn===null&&Mr.shift()}var Xo=fr.ReactCurrentBatchConfig,qh=!0;function WL(t,e,n,i){var r=Ye,s=Xo.transition;Xo.transition=null;try{Ye=1,R_(t,e,n,i)}finally{Ye=r,Xo.transition=s}}function $L(t,e,n,i){var r=Ye,s=Xo.transition;Xo.transition=null;try{Ye=4,R_(t,e,n,i)}finally{Ye=r,Xo.transition=s}}function R_(t,e,n,i){if(qh){var r=Gm(t,e,n,i);if(r===null)Fp(t,e,i,Xh,n),I0(t,i);else if(jL(r,t,e,n,i))i.stopPropagation();else if(I0(t,i),e&4&&-1<VL.indexOf(t)){for(;r!==null;){var s=Fu(r);if(s!==null&&wS(s),s=Gm(t,e,n,i),s===null&&Fp(t,e,i,Xh,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Fp(t,e,i,null,n)}}var Xh=null;function Gm(t,e,n,i){if(Xh=null,t=M_(i),t=Ns(t),t!==null)if(e=oo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xh=t,null}function TS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IL()){case L_:return 1;case vS:return 4;case Gh:case OL:return 16;case yS:return 536870912;default:return 16}default:return 16}}var Ir=null,D_=null,bh=null;function kS(){if(bh)return bh;var t,e=D_,n=e.length,i,r="value"in Ir?Ir.value:Ir.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return bh=r.slice(t,1<i?1-i:void 0)}function xh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ac(){return!0}function R0(){return!1}function jn(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ac:R0,this.isPropagationStopped=R0,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ac)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ac)},persist:function(){},isPersistent:Ac}),e}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A_=jn(Sa),Nu=yt({},Sa,{view:0,detail:0}),UL=jn(Nu),kp,Mp,qa,tf=yt({},Nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:N_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qa&&(qa&&t.type==="mousemove"?(kp=t.screenX-qa.screenX,Mp=t.screenY-qa.screenY):Mp=kp=0,qa=t),kp)},movementY:function(t){return"movementY"in t?t.movementY:Mp}}),D0=jn(tf),ZL=yt({},tf,{dataTransfer:0}),YL=jn(ZL),GL=yt({},Nu,{relatedTarget:0}),Lp=jn(GL),KL=yt({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),qL=jn(KL),XL=yt({},Sa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QL=jn(XL),JL=yt({},Sa,{data:0}),A0=jn(JL),eI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nI[t])?!!e[t]:!1}function N_(){return iI}var rI=yt({},Nu,{key:function(t){if(t.key){var e=eI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:N_,charCode:function(t){return t.type==="keypress"?xh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sI=jn(rI),oI=yt({},tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),N0=jn(oI),aI=yt({},Nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:N_}),lI=jn(aI),uI=yt({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),cI=jn(uI),hI=yt({},tf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dI=jn(hI),fI=[9,13,27,32],F_=sr&&"CompositionEvent"in window,kl=null;sr&&"documentMode"in document&&(kl=document.documentMode);var pI=sr&&"TextEvent"in window&&!kl,MS=sr&&(!F_||kl&&8<kl&&11>=kl),F0=" ",z0=!1;function LS(t,e){switch(t){case"keyup":return fI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var No=!1;function mI(t,e){switch(t){case"compositionend":return IS(e);case"keypress":return e.which!==32?null:(z0=!0,F0);case"textInput":return t=e.data,t===F0&&z0?null:t;default:return null}}function gI(t,e){if(No)return t==="compositionend"||!F_&&LS(t,e)?(t=kS(),bh=D_=Ir=null,No=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MS&&e.locale!=="ko"?null:e.data;default:return null}}var _I={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_I[t.type]:e==="textarea"}function OS(t,e,n,i){uS(i),e=Qh(e,"onChange"),0<e.length&&(n=new A_("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ml=null,Ql=null;function vI(t){WS(t,0)}function nf(t){var e=Bo(t);if(nS(e))return t}function yI(t,e){if(t==="change")return e}var RS=!1;if(sr){var Ip;if(sr){var Op="oninput"in document;if(!Op){var V0=document.createElement("div");V0.setAttribute("oninput","return;"),Op=typeof V0.oninput=="function"}Ip=Op}else Ip=!1;RS=Ip&&(!document.documentMode||9<document.documentMode)}function j0(){Ml&&(Ml.detachEvent("onpropertychange",DS),Ql=Ml=null)}function DS(t){if(t.propertyName==="value"&&nf(Ql)){var e=[];OS(e,Ql,t,M_(t)),fS(vI,e)}}function bI(t,e,n){t==="focusin"?(j0(),Ml=e,Ql=n,Ml.attachEvent("onpropertychange",DS)):t==="focusout"&&j0()}function xI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nf(Ql)}function wI(t,e){if(t==="click")return nf(e)}function SI(t,e){if(t==="input"||t==="change")return nf(e)}function CI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vi=typeof Object.is=="function"?Object.is:CI;function Jl(t,e){if(vi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Lm.call(e,r)||!vi(t[r],e[r]))return!1}return!0}function H0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function W0(t,e){var n=H0(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=H0(n)}}function AS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?AS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NS(){for(var t=window,e=Uh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Uh(t.document)}return e}function z_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EI(t){var e=NS(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&AS(n.ownerDocument.documentElement,n)){if(i!==null&&z_(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=W0(n,s);var o=W0(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PI=sr&&"documentMode"in document&&11>=document.documentMode,Fo=null,Km=null,Ll=null,qm=!1;function $0(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qm||Fo==null||Fo!==Uh(i)||(i=Fo,"selectionStart"in i&&z_(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ll&&Jl(Ll,i)||(Ll=i,i=Qh(Km,"onSelect"),0<i.length&&(e=new A_("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Fo)))}function Nc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zo={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionend:Nc("Transition","TransitionEnd")},Rp={},FS={};sr&&(FS=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function rf(t){if(Rp[t])return Rp[t];if(!zo[t])return t;var e=zo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FS)return Rp[t]=e[n];return t}var zS=rf("animationend"),BS=rf("animationiteration"),VS=rf("animationstart"),jS=rf("transitionend"),HS=new Map,U0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ss(t,e){HS.set(t,e),so(e,[t])}for(var Dp=0;Dp<U0.length;Dp++){var Ap=U0[Dp],TI=Ap.toLowerCase(),kI=Ap[0].toUpperCase()+Ap.slice(1);ss(TI,"on"+kI)}ss(zS,"onAnimationEnd");ss(BS,"onAnimationIteration");ss(VS,"onAnimationStart");ss("dblclick","onDoubleClick");ss("focusin","onFocus");ss("focusout","onBlur");ss(jS,"onTransitionEnd");sa("onMouseEnter",["mouseout","mouseover"]);sa("onMouseLeave",["mouseout","mouseover"]);sa("onPointerEnter",["pointerout","pointerover"]);sa("onPointerLeave",["pointerout","pointerover"]);so("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));so("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));so("onBeforeInput",["compositionend","keypress","textInput","paste"]);so("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));so("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));so("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MI=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function Z0(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,TL(i,e,void 0,t),t.currentTarget=null}function WS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;Z0(r,l,h),s=u}else for(o=0;o<i.length;o++){if(l=i[o],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;Z0(r,l,h),s=u}}}if(Yh)throw t=Um,Yh=!1,Um=null,t}function at(t,e){var n=e[tg];n===void 0&&(n=e[tg]=new Set);var i=t+"__bubble";n.has(i)||($S(e,t,2,!1),n.add(i))}function Np(t,e,n){var i=0;e&&(i|=4),$S(n,t,i,e)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function eu(t){if(!t[Fc]){t[Fc]=!0,X1.forEach(function(n){n!=="selectionchange"&&(MI.has(n)||Np(n,!1,t),Np(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fc]||(e[Fc]=!0,Np("selectionchange",!1,e))}}function $S(t,e,n,i){switch(TS(e)){case 1:var r=WL;break;case 4:r=$L;break;default:r=R_}n=r.bind(null,e,n,t),r=void 0,!$m||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Fp(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Ns(l),o===null)return;if(u=o.tag,u===5||u===6){i=s=o;continue e}l=l.parentNode}}i=i.return}fS(function(){var h=s,d=M_(n),p=[];e:{var m=HS.get(t);if(m!==void 0){var _=A_,y=t;switch(t){case"keypress":if(xh(n)===0)break e;case"keydown":case"keyup":_=sI;break;case"focusin":y="focus",_=Lp;break;case"focusout":y="blur",_=Lp;break;case"beforeblur":case"afterblur":_=Lp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=D0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=YL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=lI;break;case zS:case BS:case VS:_=qL;break;case jS:_=cI;break;case"scroll":_=UL;break;case"wheel":_=dI;break;case"copy":case"cut":case"paste":_=QL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=N0}var v=(e&4)!==0,C=!v&&t==="scroll",x=v?m!==null?m+"Capture":null:m;v=[];for(var w=h,S;w!==null;){S=w;var P=S.stateNode;if(S.tag===5&&P!==null&&(S=P,x!==null&&(P=Gl(w,x),P!=null&&v.push(tu(w,P,S)))),C)break;w=w.return}0<v.length&&(m=new _(m,y,null,n,d),p.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==Hm&&(y=n.relatedTarget||n.fromElement)&&(Ns(y)||y[or]))break e;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(y=n.relatedTarget||n.toElement,_=h,y=y?Ns(y):null,y!==null&&(C=oo(y),y!==C||y.tag!==5&&y.tag!==6)&&(y=null)):(_=null,y=h),_!==y)){if(v=D0,P="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=N0,P="onPointerLeave",x="onPointerEnter",w="pointer"),C=_==null?m:Bo(_),S=y==null?m:Bo(y),m=new v(P,w+"leave",_,n,d),m.target=C,m.relatedTarget=S,P=null,Ns(d)===h&&(v=new v(x,w+"enter",y,n,d),v.target=S,v.relatedTarget=C,P=v),C=P,_&&y)t:{for(v=_,x=y,w=0,S=v;S;S=ko(S))w++;for(S=0,P=x;P;P=ko(P))S++;for(;0<w-S;)v=ko(v),w--;for(;0<S-w;)x=ko(x),S--;for(;w--;){if(v===x||x!==null&&v===x.alternate)break t;v=ko(v),x=ko(x)}v=null}else v=null;_!==null&&Y0(p,m,_,v,!1),y!==null&&C!==null&&Y0(p,C,y,v,!0)}}e:{if(m=h?Bo(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var k=yI;else if(B0(m))if(RS)k=SI;else{k=xI;var T=bI}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=wI);if(k&&(k=k(t,h))){OS(p,k,n,d);break e}T&&T(t,m,h),t==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&Fm(m,"number",m.value)}switch(T=h?Bo(h):window,t){case"focusin":(B0(T)||T.contentEditable==="true")&&(Fo=T,Km=h,Ll=null);break;case"focusout":Ll=Km=Fo=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,$0(p,n,d);break;case"selectionchange":if(PI)break;case"keydown":case"keyup":$0(p,n,d)}var O;if(F_)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else No?LS(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(MS&&n.locale!=="ko"&&(No||M!=="onCompositionStart"?M==="onCompositionEnd"&&No&&(O=kS()):(Ir=d,D_="value"in Ir?Ir.value:Ir.textContent,No=!0)),T=Qh(h,M),0<T.length&&(M=new A0(M,t,null,n,d),p.push({event:M,listeners:T}),O?M.data=O:(O=IS(n),O!==null&&(M.data=O)))),(O=pI?mI(t,n):gI(t,n))&&(h=Qh(h,"onBeforeInput"),0<h.length&&(d=new A0("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:h}),d.data=O))}WS(p,e)})}function tu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qh(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Gl(t,n),s!=null&&i.unshift(tu(t,s,r)),s=Gl(t,e),s!=null&&i.push(tu(t,s,r))),t=t.return}return i}function ko(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Y0(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===i)break;l.tag===5&&h!==null&&(l=h,r?(u=Gl(n,s),u!=null&&o.unshift(tu(n,u,l))):r||(u=Gl(n,s),u!=null&&o.push(tu(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var LI=/\r\n?/g,II=/\u0000|\uFFFD/g;function G0(t){return(typeof t=="string"?t:""+t).replace(LI,`
`).replace(II,"")}function zc(t,e,n){if(e=G0(e),G0(t)!==e&&n)throw Error(K(425))}function Jh(){}var Xm=null,Qm=null;function Jm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var eg=typeof setTimeout=="function"?setTimeout:void 0,OI=typeof clearTimeout=="function"?clearTimeout:void 0,K0=typeof Promise=="function"?Promise:void 0,RI=typeof queueMicrotask=="function"?queueMicrotask:typeof K0<"u"?function(t){return K0.resolve(null).then(t).catch(DI)}:eg;function DI(t){setTimeout(function(){throw t})}function zp(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Xl(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Xl(e)}function Hr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function q0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),Ii="__reactFiber$"+Ca,nu="__reactProps$"+Ca,or="__reactContainer$"+Ca,tg="__reactEvents$"+Ca,AI="__reactListeners$"+Ca,NI="__reactHandles$"+Ca;function Ns(t){var e=t[Ii];if(e)return e;for(var n=t.parentNode;n;){if(e=n[or]||n[Ii]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=q0(t);t!==null;){if(n=t[Ii])return n;t=q0(t)}return e}t=n,n=t.parentNode}return null}function Fu(t){return t=t[Ii]||t[or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function sf(t){return t[nu]||null}var ng=[],Vo=-1;function os(t){return{current:t}}function ut(t){0>Vo||(t.current=ng[Vo],ng[Vo]=null,Vo--)}function ot(t,e){Vo++,ng[Vo]=t.current,t.current=e}var Jr={},an=os(Jr),En=os(!1),Ys=Jr;function oa(t,e){var n=t.type.contextTypes;if(!n)return Jr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Pn(t){return t=t.childContextTypes,t!=null}function ed(){ut(En),ut(an)}function X0(t,e,n){if(an.current!==Jr)throw Error(K(168));ot(an,e),ot(En,n)}function US(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(K(108,bL(t)||"Unknown",r));return yt({},n,i)}function td(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jr,Ys=an.current,ot(an,t),ot(En,En.current),!0}function Q0(t,e,n){var i=t.stateNode;if(!i)throw Error(K(169));n?(t=US(t,e,Ys),i.__reactInternalMemoizedMergedChildContext=t,ut(En),ut(an),ot(an,t)):ut(En),ot(En,n)}var Yi=null,of=!1,Bp=!1;function ZS(t){Yi===null?Yi=[t]:Yi.push(t)}function FI(t){of=!0,ZS(t)}function as(){if(!Bp&&Yi!==null){Bp=!0;var t=0,e=Ye;try{var n=Yi;for(Ye=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Yi=null,of=!1}catch(r){throw Yi!==null&&(Yi=Yi.slice(t+1)),_S(L_,as),r}finally{Ye=e,Bp=!1}}return null}var jo=[],Ho=0,nd=null,id=0,Kn=[],qn=0,Gs=null,Ki=1,qi="";function ks(t,e){jo[Ho++]=id,jo[Ho++]=nd,nd=t,id=e}function YS(t,e,n){Kn[qn++]=Ki,Kn[qn++]=qi,Kn[qn++]=Gs,Gs=t;var i=Ki;t=qi;var r=32-pi(i)-1;i&=~(1<<r),n+=1;var s=32-pi(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Ki=1<<32-pi(e)+r|n<<r|i,qi=s+t}else Ki=1<<s|n<<r|i,qi=t}function B_(t){t.return!==null&&(ks(t,1),YS(t,1,0))}function V_(t){for(;t===nd;)nd=jo[--Ho],jo[Ho]=null,id=jo[--Ho],jo[Ho]=null;for(;t===Gs;)Gs=Kn[--qn],Kn[qn]=null,qi=Kn[--qn],Kn[qn]=null,Ki=Kn[--qn],Kn[qn]=null}var Nn=null,Dn=null,pt=!1,ui=null;function GS(t,e){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function J0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nn=t,Dn=Hr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nn=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gs!==null?{id:Ki,overflow:qi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nn=t,Dn=null,!0):!1;default:return!1}}function ig(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rg(t){if(pt){var e=Dn;if(e){var n=e;if(!J0(t,e)){if(ig(t))throw Error(K(418));e=Hr(n.nextSibling);var i=Nn;e&&J0(t,e)?GS(i,n):(t.flags=t.flags&-4097|2,pt=!1,Nn=t)}}else{if(ig(t))throw Error(K(418));t.flags=t.flags&-4097|2,pt=!1,Nn=t}}}function eb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nn=t}function Bc(t){if(t!==Nn)return!1;if(!pt)return eb(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jm(t.type,t.memoizedProps)),e&&(e=Dn)){if(ig(t))throw KS(),Error(K(418));for(;e;)GS(t,e),e=Hr(e.nextSibling)}if(eb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=Hr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Nn?Hr(t.stateNode.nextSibling):null;return!0}function KS(){for(var t=Dn;t;)t=Hr(t.nextSibling)}function aa(){Dn=Nn=null,pt=!1}function j_(t){ui===null?ui=[t]:ui.push(t)}var zI=fr.ReactCurrentBatchConfig;function Xa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var i=n.stateNode}if(!i)throw Error(K(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=r.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Vc(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tb(t){var e=t._init;return e(t._payload)}function qS(t){function e(x,w){if(t){var S=x.deletions;S===null?(x.deletions=[w],x.flags|=16):S.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function i(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function r(x,w){return x=Zr(x,w),x.index=0,x.sibling=null,x}function s(x,w,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<w?(x.flags|=2,w):S):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,w,S,P){return w===null||w.tag!==6?(w=Zp(S,x.mode,P),w.return=x,w):(w=r(w,S),w.return=x,w)}function u(x,w,S,P){var k=S.type;return k===Ao?d(x,w,S.props.children,P,S.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Tr&&tb(k)===w.type)?(P=r(w,S.props),P.ref=Xa(x,w,S),P.return=x,P):(P=kh(S.type,S.key,S.props,null,x.mode,P),P.ref=Xa(x,w,S),P.return=x,P)}function h(x,w,S,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Yp(S,x.mode,P),w.return=x,w):(w=r(w,S.children||[]),w.return=x,w)}function d(x,w,S,P,k){return w===null||w.tag!==7?(w=Ws(S,x.mode,P,k),w.return=x,w):(w=r(w,S),w.return=x,w)}function p(x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Zp(""+w,x.mode,S),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Mc:return S=kh(w.type,w.key,w.props,null,x.mode,S),S.ref=Xa(x,null,w),S.return=x,S;case Do:return w=Yp(w,x.mode,S),w.return=x,w;case Tr:var P=w._init;return p(x,P(w._payload),S)}if(ml(w)||Za(w))return w=Ws(w,x.mode,S,null),w.return=x,w;Vc(x,w)}return null}function m(x,w,S,P){var k=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return k!==null?null:l(x,w,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Mc:return S.key===k?u(x,w,S,P):null;case Do:return S.key===k?h(x,w,S,P):null;case Tr:return k=S._init,m(x,w,k(S._payload),P)}if(ml(S)||Za(S))return k!==null?null:d(x,w,S,P,null);Vc(x,S)}return null}function _(x,w,S,P,k){if(typeof P=="string"&&P!==""||typeof P=="number")return x=x.get(S)||null,l(w,x,""+P,k);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Mc:return x=x.get(P.key===null?S:P.key)||null,u(w,x,P,k);case Do:return x=x.get(P.key===null?S:P.key)||null,h(w,x,P,k);case Tr:var T=P._init;return _(x,w,S,T(P._payload),k)}if(ml(P)||Za(P))return x=x.get(S)||null,d(w,x,P,k,null);Vc(w,P)}return null}function y(x,w,S,P){for(var k=null,T=null,O=w,M=w=0,N=null;O!==null&&M<S.length;M++){O.index>M?(N=O,O=null):N=O.sibling;var j=m(x,O,S[M],P);if(j===null){O===null&&(O=N);break}t&&O&&j.alternate===null&&e(x,O),w=s(j,w,M),T===null?k=j:T.sibling=j,T=j,O=N}if(M===S.length)return n(x,O),pt&&ks(x,M),k;if(O===null){for(;M<S.length;M++)O=p(x,S[M],P),O!==null&&(w=s(O,w,M),T===null?k=O:T.sibling=O,T=O);return pt&&ks(x,M),k}for(O=i(x,O);M<S.length;M++)N=_(O,x,M,S[M],P),N!==null&&(t&&N.alternate!==null&&O.delete(N.key===null?M:N.key),w=s(N,w,M),T===null?k=N:T.sibling=N,T=N);return t&&O.forEach(function(U){return e(x,U)}),pt&&ks(x,M),k}function v(x,w,S,P){var k=Za(S);if(typeof k!="function")throw Error(K(150));if(S=k.call(S),S==null)throw Error(K(151));for(var T=k=null,O=w,M=w=0,N=null,j=S.next();O!==null&&!j.done;M++,j=S.next()){O.index>M?(N=O,O=null):N=O.sibling;var U=m(x,O,j.value,P);if(U===null){O===null&&(O=N);break}t&&O&&U.alternate===null&&e(x,O),w=s(U,w,M),T===null?k=U:T.sibling=U,T=U,O=N}if(j.done)return n(x,O),pt&&ks(x,M),k;if(O===null){for(;!j.done;M++,j=S.next())j=p(x,j.value,P),j!==null&&(w=s(j,w,M),T===null?k=j:T.sibling=j,T=j);return pt&&ks(x,M),k}for(O=i(x,O);!j.done;M++,j=S.next())j=_(O,x,M,j.value,P),j!==null&&(t&&j.alternate!==null&&O.delete(j.key===null?M:j.key),w=s(j,w,M),T===null?k=j:T.sibling=j,T=j);return t&&O.forEach(function(G){return e(x,G)}),pt&&ks(x,M),k}function C(x,w,S,P){if(typeof S=="object"&&S!==null&&S.type===Ao&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Mc:e:{for(var k=S.key,T=w;T!==null;){if(T.key===k){if(k=S.type,k===Ao){if(T.tag===7){n(x,T.sibling),w=r(T,S.props.children),w.return=x,x=w;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Tr&&tb(k)===T.type){n(x,T.sibling),w=r(T,S.props),w.ref=Xa(x,T,S),w.return=x,x=w;break e}n(x,T);break}else e(x,T);T=T.sibling}S.type===Ao?(w=Ws(S.props.children,x.mode,P,S.key),w.return=x,x=w):(P=kh(S.type,S.key,S.props,null,x.mode,P),P.ref=Xa(x,w,S),P.return=x,x=P)}return o(x);case Do:e:{for(T=S.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(x,w.sibling),w=r(w,S.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Yp(S,x.mode,P),w.return=x,x=w}return o(x);case Tr:return T=S._init,C(x,w,T(S._payload),P)}if(ml(S))return y(x,w,S,P);if(Za(S))return v(x,w,S,P);Vc(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(x,w.sibling),w=r(w,S),w.return=x,x=w):(n(x,w),w=Zp(S,x.mode,P),w.return=x,x=w),o(x)):n(x,w)}return C}var la=qS(!0),XS=qS(!1),rd=os(null),sd=null,Wo=null,H_=null;function W_(){H_=Wo=sd=null}function $_(t){var e=rd.current;ut(rd),t._currentValue=e}function sg(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Qo(t,e){sd=t,H_=Wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sn=!0),t.firstContext=null)}function Jn(t){var e=t._currentValue;if(H_!==t)if(t={context:t,memoizedValue:e,next:null},Wo===null){if(sd===null)throw Error(K(308));Wo=t,sd.dependencies={lanes:0,firstContext:t}}else Wo=Wo.next=t;return e}var Fs=null;function U_(t){Fs===null?Fs=[t]:Fs.push(t)}function QS(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,U_(e)):(n.next=r.next,r.next=n),e.interleaved=n,ar(t,i)}function ar(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var kr=!1;function Z_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Ve&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,ar(t,n)}return r=i.interleaved,r===null?(e.next=e,U_(i)):(e.next=r.next,r.next=e),i.interleaved=e,ar(t,n)}function wh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,I_(t,n)}}function nb(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function od(t,e,n,i){var r=t.updateQueue;kr=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,o===null?s=h:o.next=h,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var p=r.baseState;o=0,d=h=u=null,l=s;do{var m=l.lane,_=l.eventTime;if((i&m)===m){d!==null&&(d=d.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,v=l;switch(m=e,_=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){p=y.call(_,p,m);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,m=typeof y=="function"?y.call(_,p,m):y,m==null)break e;p=yt({},p,m);break e;case 2:kr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=r.effects,m===null?r.effects=[l]:m.push(l))}else _={eventTime:_,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=_,u=p):d=d.next=_,o|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;m=l,l=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(d===null&&(u=p),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);qs|=o,t.lanes=o,t.memoizedState=p}}function ib(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(K(191,r));r.call(i)}}}var zu={},Ri=os(zu),iu=os(zu),ru=os(zu);function zs(t){if(t===zu)throw Error(K(174));return t}function Y_(t,e){switch(ot(ru,e),ot(iu,t),ot(Ri,zu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bm(e,t)}ut(Ri),ot(Ri,e)}function ua(){ut(Ri),ut(iu),ut(ru)}function eC(t){zs(ru.current);var e=zs(Ri.current),n=Bm(e,t.type);e!==n&&(ot(iu,t),ot(Ri,n))}function G_(t){iu.current===t&&(ut(Ri),ut(iu))}var _t=os(0);function ad(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vp=[];function K_(){for(var t=0;t<Vp.length;t++)Vp[t]._workInProgressVersionPrimary=null;Vp.length=0}var Sh=fr.ReactCurrentDispatcher,jp=fr.ReactCurrentBatchConfig,Ks=0,vt=null,At=null,Ht=null,ld=!1,Il=!1,su=0,BI=0;function Jt(){throw Error(K(321))}function q_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vi(t[n],e[n]))return!1;return!0}function X_(t,e,n,i,r,s){if(Ks=s,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sh.current=t===null||t.memoizedState===null?WI:$I,t=n(i,r),Il){s=0;do{if(Il=!1,su=0,25<=s)throw Error(K(301));s+=1,Ht=At=null,e.updateQueue=null,Sh.current=UI,t=n(i,r)}while(Il)}if(Sh.current=ud,e=At!==null&&At.next!==null,Ks=0,Ht=At=vt=null,ld=!1,e)throw Error(K(300));return t}function Q_(){var t=su!==0;return su=0,t}function Pi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?vt.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function ei(){if(At===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var e=Ht===null?vt.memoizedState:Ht.next;if(e!==null)Ht=e,At=t;else{if(t===null)throw Error(K(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Ht===null?vt.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function ou(t,e){return typeof e=="function"?e(t):e}function Hp(t){var e=ei(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var i=At,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var l=o=null,u=null,h=s;do{var d=h.lane;if((Ks&d)===d)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:t(i,h.action);else{var p={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=p,o=i):u=u.next=p,vt.lanes|=d,qs|=d}h=h.next}while(h!==null&&h!==s);u===null?o=i:u.next=l,vi(i,e.memoizedState)||(Sn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=u,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,vt.lanes|=s,qs|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wp(t){var e=ei(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);vi(s,e.memoizedState)||(Sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function tC(){}function nC(t,e){var n=vt,i=ei(),r=e(),s=!vi(i.memoizedState,r);if(s&&(i.memoizedState=r,Sn=!0),i=i.queue,J_(sC.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,au(9,rC.bind(null,n,i,r,e),void 0,null),Ut===null)throw Error(K(349));Ks&30||iC(n,e,r)}return r}function iC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function rC(t,e,n,i){e.value=n,e.getSnapshot=i,oC(e)&&aC(t)}function sC(t,e,n){return n(function(){oC(e)&&aC(t)})}function oC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vi(t,n)}catch{return!0}}function aC(t){var e=ar(t,1);e!==null&&mi(e,t,1,-1)}function rb(t){var e=Pi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:t},e.queue=t,t=t.dispatch=HI.bind(null,vt,t),[e.memoizedState,t]}function au(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function lC(){return ei().memoizedState}function Ch(t,e,n,i){var r=Pi();vt.flags|=t,r.memoizedState=au(1|e,n,void 0,i===void 0?null:i)}function af(t,e,n,i){var r=ei();i=i===void 0?null:i;var s=void 0;if(At!==null){var o=At.memoizedState;if(s=o.destroy,i!==null&&q_(i,o.deps)){r.memoizedState=au(e,n,s,i);return}}vt.flags|=t,r.memoizedState=au(1|e,n,s,i)}function sb(t,e){return Ch(8390656,8,t,e)}function J_(t,e){return af(2048,8,t,e)}function uC(t,e){return af(4,2,t,e)}function cC(t,e){return af(4,4,t,e)}function hC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dC(t,e,n){return n=n!=null?n.concat([t]):null,af(4,4,hC.bind(null,e,t),n)}function ev(){}function fC(t,e){var n=ei();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&q_(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function pC(t,e){var n=ei();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&q_(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function mC(t,e,n){return Ks&21?(vi(n,e)||(n=bS(),vt.lanes|=n,qs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sn=!0),t.memoizedState=n)}function VI(t,e){var n=Ye;Ye=n!==0&&4>n?n:4,t(!0);var i=jp.transition;jp.transition={};try{t(!1),e()}finally{Ye=n,jp.transition=i}}function gC(){return ei().memoizedState}function jI(t,e,n){var i=Ur(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},_C(t))vC(e,n);else if(n=QS(t,e,n,i),n!==null){var r=mn();mi(n,t,i,r),yC(n,e,i)}}function HI(t,e,n){var i=Ur(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(_C(t))vC(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(r.hasEagerState=!0,r.eagerState=l,vi(l,o)){var u=e.interleaved;u===null?(r.next=r,U_(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}n=QS(t,e,r,i),n!==null&&(r=mn(),mi(n,t,i,r),yC(n,e,i))}}function _C(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function vC(t,e){Il=ld=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yC(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,I_(t,n)}}var ud={readContext:Jn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},WI={readContext:Jn,useCallback:function(t,e){return Pi().memoizedState=[t,e===void 0?null:e],t},useContext:Jn,useEffect:sb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ch(4194308,4,hC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ch(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ch(4,2,t,e)},useMemo:function(t,e){var n=Pi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Pi();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=jI.bind(null,vt,t),[i.memoizedState,t]},useRef:function(t){var e=Pi();return t={current:t},e.memoizedState=t},useState:rb,useDebugValue:ev,useDeferredValue:function(t){return Pi().memoizedState=t},useTransition:function(){var t=rb(!1),e=t[0];return t=VI.bind(null,t[1]),Pi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=vt,r=Pi();if(pt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Ut===null)throw Error(K(349));Ks&30||iC(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,sb(sC.bind(null,i,s,t),[t]),i.flags|=2048,au(9,rC.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Pi(),e=Ut.identifierPrefix;if(pt){var n=qi,i=Ki;n=(i&~(1<<32-pi(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=su++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$I={readContext:Jn,useCallback:fC,useContext:Jn,useEffect:J_,useImperativeHandle:dC,useInsertionEffect:uC,useLayoutEffect:cC,useMemo:pC,useReducer:Hp,useRef:lC,useState:function(){return Hp(ou)},useDebugValue:ev,useDeferredValue:function(t){var e=ei();return mC(e,At.memoizedState,t)},useTransition:function(){var t=Hp(ou)[0],e=ei().memoizedState;return[t,e]},useMutableSource:tC,useSyncExternalStore:nC,useId:gC,unstable_isNewReconciler:!1},UI={readContext:Jn,useCallback:fC,useContext:Jn,useEffect:J_,useImperativeHandle:dC,useInsertionEffect:uC,useLayoutEffect:cC,useMemo:pC,useReducer:Wp,useRef:lC,useState:function(){return Wp(ou)},useDebugValue:ev,useDeferredValue:function(t){var e=ei();return At===null?e.memoizedState=t:mC(e,At.memoizedState,t)},useTransition:function(){var t=Wp(ou)[0],e=ei().memoizedState;return[t,e]},useMutableSource:tC,useSyncExternalStore:nC,useId:gC,unstable_isNewReconciler:!1};function oi(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function og(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lf={isMounted:function(t){return(t=t._reactInternals)?oo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=mn(),r=Ur(t),s=tr(i,r);s.payload=e,n!=null&&(s.callback=n),e=Wr(t,s,r),e!==null&&(mi(e,t,r,i),wh(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=mn(),r=Ur(t),s=tr(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Wr(t,s,r),e!==null&&(mi(e,t,r,i),wh(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mn(),i=Ur(t),r=tr(n,i);r.tag=2,e!=null&&(r.callback=e),e=Wr(t,r,i),e!==null&&(mi(e,t,i,n),wh(e,t,i))}};function ob(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Jl(n,i)||!Jl(r,s):!0}function bC(t,e,n){var i=!1,r=Jr,s=e.contextType;return typeof s=="object"&&s!==null?s=Jn(s):(r=Pn(e)?Ys:an.current,i=e.contextTypes,s=(i=i!=null)?oa(t,r):Jr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lf,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function ab(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&lf.enqueueReplaceState(e,e.state,null)}function ag(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Z_(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Jn(s):(s=Pn(e)?Ys:an.current,r.context=oa(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(og(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&lf.enqueueReplaceState(r,r.state,null),od(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function ca(t,e){try{var n="",i=e;do n+=yL(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function $p(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ZI=typeof WeakMap=="function"?WeakMap:Map;function xC(t,e,n){n=tr(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){hd||(hd=!0,vg=i),lg(t,e)},n}function wC(t,e,n){n=tr(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){lg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){lg(t,e),typeof i!="function"&&($r===null?$r=new Set([this]):$r.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function lb(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new ZI;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=oO.bind(null,t,e,n),e.then(t,t))}function ub(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cb(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tr(-1,1),e.tag=2,Wr(n,e,1))),n.lanes|=1),t)}var YI=fr.ReactCurrentOwner,Sn=!1;function dn(t,e,n,i){e.child=t===null?XS(e,null,n,i):la(e,t.child,n,i)}function hb(t,e,n,i,r){n=n.render;var s=e.ref;return Qo(e,r),i=X_(t,e,n,i,s,r),n=Q_(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,lr(t,e,r)):(pt&&n&&B_(e),e.flags|=1,dn(t,e,i,r),e.child)}function db(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!lv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,SC(t,e,s,i,r)):(t=kh(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Jl,n(o,i)&&t.ref===e.ref)return lr(t,e,r)}return e.flags|=1,t=Zr(s,i),t.ref=e.ref,t.return=e,e.child=t}function SC(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Jl(s,i)&&t.ref===e.ref)if(Sn=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Sn=!0);else return e.lanes=t.lanes,lr(t,e,r)}return ug(t,e,n,i,r)}function CC(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Uo,In),In|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ot(Uo,In),In|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,ot(Uo,In),In|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,ot(Uo,In),In|=i;return dn(t,e,r,n),e.child}function EC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ug(t,e,n,i,r){var s=Pn(n)?Ys:an.current;return s=oa(e,s),Qo(e,r),n=X_(t,e,n,i,s,r),i=Q_(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,lr(t,e,r)):(pt&&i&&B_(e),e.flags|=1,dn(t,e,n,r),e.child)}function fb(t,e,n,i,r){if(Pn(n)){var s=!0;td(e)}else s=!1;if(Qo(e,r),e.stateNode===null)Eh(t,e),bC(e,n,i),ag(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Jn(h):(h=Pn(n)?Ys:an.current,h=oa(e,h));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||u!==h)&&ab(e,o,i,h),kr=!1;var m=e.memoizedState;o.state=m,od(e,i,o,r),u=e.memoizedState,l!==i||m!==u||En.current||kr?(typeof d=="function"&&(og(e,n,d,i),u=e.memoizedState),(l=kr||ob(e,n,l,i,m,u,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),o.props=i,o.state=u,o.context=h,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,JS(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:oi(e.type,l),o.props=h,p=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Jn(u):(u=Pn(n)?Ys:an.current,u=oa(e,u));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==u)&&ab(e,o,i,u),kr=!1,m=e.memoizedState,o.state=m,od(e,i,o,r);var y=e.memoizedState;l!==p||m!==y||En.current||kr?(typeof _=="function"&&(og(e,n,_,i),y=e.memoizedState),(h=kr||ob(e,n,h,i,m,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=u,i=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),i=!1)}return cg(t,e,n,i,s,r)}function cg(t,e,n,i,r,s){EC(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Q0(e,n,!1),lr(t,e,s);i=e.stateNode,YI.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=la(e,t.child,null,s),e.child=la(e,null,l,s)):dn(t,e,l,s),e.memoizedState=i.state,r&&Q0(e,n,!0),e.child}function PC(t){var e=t.stateNode;e.pendingContext?X0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&X0(t,e.context,!1),Y_(t,e.containerInfo)}function pb(t,e,n,i,r){return aa(),j_(r),e.flags|=256,dn(t,e,n,i),e.child}var hg={dehydrated:null,treeContext:null,retryLane:0};function dg(t){return{baseLanes:t,cachePool:null,transitions:null}}function TC(t,e,n){var i=e.pendingProps,r=_t.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ot(_t,r&1),t===null)return rg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=hf(o,i,0,null),t=Ws(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=dg(n),e.memoizedState=hg,t):tv(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return GI(t,e,o,i,l,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,l=r.sibling;var u={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=Zr(r,u),i.subtreeFlags=r.subtreeFlags&14680064),l!==null?s=Zr(l,s):(s=Ws(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?dg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=hg,i}return s=t.child,t=s.sibling,i=Zr(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function tv(t,e){return e=hf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jc(t,e,n,i){return i!==null&&j_(i),la(e,t.child,null,n),t=tv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GI(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=$p(Error(K(422))),jc(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=hf({mode:"visible",children:i.children},r,0,null),s=Ws(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&la(e,t.child,null,o),e.child.memoizedState=dg(o),e.memoizedState=hg,s);if(!(e.mode&1))return jc(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var l=i.dgst;return i=l,s=Error(K(419)),i=$p(s,i,void 0),jc(t,e,o,i)}if(l=(o&t.childLanes)!==0,Sn||l){if(i=Ut,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,ar(t,r),mi(i,t,r,-1))}return av(),i=$p(Error(K(421))),jc(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=aO.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Dn=Hr(r.nextSibling),Nn=e,pt=!0,ui=null,t!==null&&(Kn[qn++]=Ki,Kn[qn++]=qi,Kn[qn++]=Gs,Ki=t.id,qi=t.overflow,Gs=e),e=tv(e,i.children),e.flags|=4096,e)}function mb(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),sg(t.return,e,n)}function Up(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function kC(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(dn(t,e,i.children,n),i=_t.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mb(t,n,e);else if(t.tag===19)mb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ot(_t,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&ad(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Up(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ad(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Up(e,!0,n,null,s);break;case"together":Up(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Eh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function lr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Zr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KI(t,e,n){switch(e.tag){case 3:PC(e),aa();break;case 5:eC(e);break;case 1:Pn(e.type)&&td(e);break;case 4:Y_(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ot(rd,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ot(_t,_t.current&1),e.flags|=128,null):n&e.child.childLanes?TC(t,e,n):(ot(_t,_t.current&1),t=lr(t,e,n),t!==null?t.sibling:null);ot(_t,_t.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return kC(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ot(_t,_t.current),i)break;return null;case 22:case 23:return e.lanes=0,CC(t,e,n)}return lr(t,e,n)}var MC,fg,LC,IC;MC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fg=function(){};LC=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,zs(Ri.current);var s=null;switch(n){case"input":r=Am(t,r),i=Am(t,i),s=[];break;case"select":r=yt({},r,{value:void 0}),i=yt({},i,{value:void 0}),s=[];break;case"textarea":r=zm(t,r),i=zm(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Jh)}Vm(n,i);var o;n=null;for(h in r)if(!i.hasOwnProperty(h)&&r.hasOwnProperty(h)&&r[h]!=null)if(h==="style"){var l=r[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Zl.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in i){var u=i[h];if(l=r!=null?r[h]:void 0,i.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Zl.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&at("scroll",t),s||l===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};IC=function(t,e,n,i){n!==i&&(e.flags|=4)};function Qa(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function en(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function qI(t,e,n){var i=e.pendingProps;switch(V_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(e),null;case 1:return Pn(e.type)&&ed(),en(e),null;case 3:return i=e.stateNode,ua(),ut(En),ut(an),K_(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Bc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ui!==null&&(xg(ui),ui=null))),fg(t,e),en(e),null;case 5:G_(e);var r=zs(ru.current);if(n=e.type,t!==null&&e.stateNode!=null)LC(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(K(166));return en(e),null}if(t=zs(Ri.current),Bc(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Ii]=e,i[nu]=s,t=(e.mode&1)!==0,n){case"dialog":at("cancel",i),at("close",i);break;case"iframe":case"object":case"embed":at("load",i);break;case"video":case"audio":for(r=0;r<_l.length;r++)at(_l[r],i);break;case"source":at("error",i);break;case"img":case"image":case"link":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"input":C0(i,s),at("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},at("invalid",i);break;case"textarea":P0(i,s),at("invalid",i)}Vm(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?i.textContent!==l&&(s.suppressHydrationWarning!==!0&&zc(i.textContent,l,t),r=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&zc(i.textContent,l,t),r=["children",""+l]):Zl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&at("scroll",i)}switch(n){case"input":Lc(i),E0(i,s,!0);break;case"textarea":Lc(i),T0(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Jh)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Ii]=e,t[nu]=i,MC(t,e,!1,!1),e.stateNode=t;e:{switch(o=jm(n,i),n){case"dialog":at("cancel",t),at("close",t),r=i;break;case"iframe":case"object":case"embed":at("load",t),r=i;break;case"video":case"audio":for(r=0;r<_l.length;r++)at(_l[r],t);r=i;break;case"source":at("error",t),r=i;break;case"img":case"image":case"link":at("error",t),at("load",t),r=i;break;case"details":at("toggle",t),r=i;break;case"input":C0(t,i),r=Am(t,i),at("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=yt({},i,{value:void 0}),at("invalid",t);break;case"textarea":P0(t,i),r=zm(t,i),at("invalid",t);break;default:r=i}Vm(n,r),l=r;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?lS(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&oS(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Yl(t,u):typeof u=="number"&&Yl(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&at("scroll",t):u!=null&&E_(t,s,u,o))}switch(n){case"input":Lc(t),E0(t,i,!1);break;case"textarea":Lc(t),T0(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Qr(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Go(t,!!i.multiple,s,!1):i.defaultValue!=null&&Go(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Jh)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return en(e),null;case 6:if(t&&e.stateNode!=null)IC(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(K(166));if(n=zs(ru.current),zs(Ri.current),Bc(e)){if(i=e.stateNode,n=e.memoizedProps,i[Ii]=e,(s=i.nodeValue!==n)&&(t=Nn,t!==null))switch(t.tag){case 3:zc(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zc(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Ii]=e,e.stateNode=i}return en(e),null;case 13:if(ut(_t),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&Dn!==null&&e.mode&1&&!(e.flags&128))KS(),aa(),e.flags|=98560,s=!1;else if(s=Bc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Ii]=e}else aa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;en(e),s=!1}else ui!==null&&(xg(ui),ui=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?zt===0&&(zt=3):av())),e.updateQueue!==null&&(e.flags|=4),en(e),null);case 4:return ua(),fg(t,e),t===null&&eu(e.stateNode.containerInfo),en(e),null;case 10:return $_(e.type._context),en(e),null;case 17:return Pn(e.type)&&ed(),en(e),null;case 19:if(ut(_t),s=e.memoizedState,s===null)return en(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Qa(s,!1);else{if(zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ad(t),o!==null){for(e.flags|=128,Qa(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ot(_t,_t.current&1|2),e.child}t=t.sibling}s.tail!==null&&Tt()>ha&&(e.flags|=128,i=!0,Qa(s,!1),e.lanes=4194304)}else{if(!i)if(t=ad(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pt)return en(e),null}else 2*Tt()-s.renderingStartTime>ha&&n!==1073741824&&(e.flags|=128,i=!0,Qa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tt(),e.sibling=null,n=_t.current,ot(_t,i?n&1|2:n&1),e):(en(e),null);case 22:case 23:return ov(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?In&1073741824&&(en(e),e.subtreeFlags&6&&(e.flags|=8192)):en(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function XI(t,e){switch(V_(e),e.tag){case 1:return Pn(e.type)&&ed(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ua(),ut(En),ut(an),K_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return G_(e),null;case 13:if(ut(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));aa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(_t),null;case 4:return ua(),null;case 10:return $_(e.type._context),null;case 22:case 23:return ov(),null;case 24:return null;default:return null}}var Hc=!1,rn=!1,QI=typeof WeakSet=="function"?WeakSet:Set,ce=null;function $o(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){wt(t,e,i)}else n.current=null}function pg(t,e,n){try{n()}catch(i){wt(t,e,i)}}var gb=!1;function JI(t,e){if(Xm=qh,t=NS(),z_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,h=0,d=0,p=t,m=null;t:for(;;){for(var _;p!==n||r!==0&&p.nodeType!==3||(l=o+r),p!==s||i!==0&&p.nodeType!==3||(u=o+i),p.nodeType===3&&(o+=p.nodeValue.length),(_=p.firstChild)!==null;)m=p,p=_;for(;;){if(p===t)break t;if(m===n&&++h===r&&(l=o),m===s&&++d===i&&(u=o),(_=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qm={focusedElem:t,selectionRange:n},qh=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,C=y.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:oi(e.type,v),C);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(P){wt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return y=gb,gb=!1,y}function Ol(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&pg(e,n,s)}r=r.next}while(r!==i)}}function uf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function mg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function OC(t){var e=t.alternate;e!==null&&(t.alternate=null,OC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ii],delete e[nu],delete e[tg],delete e[AI],delete e[NI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RC(t){return t.tag===5||t.tag===3||t.tag===4}function _b(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gg(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jh));else if(i!==4&&(t=t.child,t!==null))for(gg(t,e,n),t=t.sibling;t!==null;)gg(t,e,n),t=t.sibling}function _g(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(_g(t,e,n),t=t.sibling;t!==null;)_g(t,e,n),t=t.sibling}var Gt=null,ai=!1;function Er(t,e,n){for(n=n.child;n!==null;)DC(t,e,n),n=n.sibling}function DC(t,e,n){if(Oi&&typeof Oi.onCommitFiberUnmount=="function")try{Oi.onCommitFiberUnmount(ef,n)}catch{}switch(n.tag){case 5:rn||$o(n,e);case 6:var i=Gt,r=ai;Gt=null,Er(t,e,n),Gt=i,ai=r,Gt!==null&&(ai?(t=Gt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Gt.removeChild(n.stateNode));break;case 18:Gt!==null&&(ai?(t=Gt,n=n.stateNode,t.nodeType===8?zp(t.parentNode,n):t.nodeType===1&&zp(t,n),Xl(t)):zp(Gt,n.stateNode));break;case 4:i=Gt,r=ai,Gt=n.stateNode.containerInfo,ai=!0,Er(t,e,n),Gt=i,ai=r;break;case 0:case 11:case 14:case 15:if(!rn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&pg(n,e,o),r=r.next}while(r!==i)}Er(t,e,n);break;case 1:if(!rn&&($o(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){wt(n,e,l)}Er(t,e,n);break;case 21:Er(t,e,n);break;case 22:n.mode&1?(rn=(i=rn)||n.memoizedState!==null,Er(t,e,n),rn=i):Er(t,e,n);break;default:Er(t,e,n)}}function vb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new QI),e.forEach(function(i){var r=lO.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function si(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Gt=l.stateNode,ai=!1;break e;case 3:Gt=l.stateNode.containerInfo,ai=!0;break e;case 4:Gt=l.stateNode.containerInfo,ai=!0;break e}l=l.return}if(Gt===null)throw Error(K(160));DC(s,o,r),Gt=null,ai=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(h){wt(r,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)AC(e,t),e=e.sibling}function AC(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(si(e,t),Ci(t),i&4){try{Ol(3,t,t.return),uf(3,t)}catch(v){wt(t,t.return,v)}try{Ol(5,t,t.return)}catch(v){wt(t,t.return,v)}}break;case 1:si(e,t),Ci(t),i&512&&n!==null&&$o(n,n.return);break;case 5:if(si(e,t),Ci(t),i&512&&n!==null&&$o(n,n.return),t.flags&32){var r=t.stateNode;try{Yl(r,"")}catch(v){wt(t,t.return,v)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&iS(r,s),jm(l,o);var h=jm(l,s);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?lS(r,p):d==="dangerouslySetInnerHTML"?oS(r,p):d==="children"?Yl(r,p):E_(r,d,p,h)}switch(l){case"input":Nm(r,s);break;case"textarea":rS(r,s);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?Go(r,!!s.multiple,_,!1):m!==!!s.multiple&&(s.defaultValue!=null?Go(r,!!s.multiple,s.defaultValue,!0):Go(r,!!s.multiple,s.multiple?[]:"",!1))}r[nu]=s}catch(v){wt(t,t.return,v)}}break;case 6:if(si(e,t),Ci(t),i&4){if(t.stateNode===null)throw Error(K(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(v){wt(t,t.return,v)}}break;case 3:if(si(e,t),Ci(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Xl(e.containerInfo)}catch(v){wt(t,t.return,v)}break;case 4:si(e,t),Ci(t);break;case 13:si(e,t),Ci(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(rv=Tt())),i&4&&vb(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(rn=(h=rn)||d,si(e,t),rn=h):si(e,t),Ci(t),i&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(ce=t,d=t.child;d!==null;){for(p=ce=d;ce!==null;){switch(m=ce,_=m.child,m.tag){case 0:case 11:case 14:case 15:Ol(4,m,m.return);break;case 1:$o(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){i=m,n=m.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){wt(i,n,v)}}break;case 5:$o(m,m.return);break;case 22:if(m.memoizedState!==null){bb(p);continue}}_!==null?(_.return=m,ce=_):bb(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{r=p.stateNode,h?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=aS("display",o))}catch(v){wt(t,t.return,v)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(v){wt(t,t.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:si(e,t),Ci(t),i&4&&vb(t);break;case 21:break;default:si(e,t),Ci(t)}}function Ci(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(RC(n)){var i=n;break e}n=n.return}throw Error(K(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Yl(r,""),i.flags&=-33);var s=_b(t);_g(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,l=_b(t);gg(t,l,o);break;default:throw Error(K(161))}}catch(u){wt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eO(t,e,n){ce=t,NC(t)}function NC(t,e,n){for(var i=(t.mode&1)!==0;ce!==null;){var r=ce,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Hc;if(!o){var l=r.alternate,u=l!==null&&l.memoizedState!==null||rn;l=Hc;var h=rn;if(Hc=o,(rn=u)&&!h)for(ce=r;ce!==null;)o=ce,u=o.child,o.tag===22&&o.memoizedState!==null?xb(r):u!==null?(u.return=o,ce=u):xb(r);for(;s!==null;)ce=s,NC(s),s=s.sibling;ce=r,Hc=l,rn=h}yb(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,ce=s):yb(t)}}function yb(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rn||uf(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!rn)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:oi(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ib(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ib(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Xl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}rn||e.flags&512&&mg(e)}catch(m){wt(e,e.return,m)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function bb(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function xb(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{uf(4,e)}catch(u){wt(e,n,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(u){wt(e,r,u)}}var s=e.return;try{mg(e)}catch(u){wt(e,s,u)}break;case 5:var o=e.return;try{mg(e)}catch(u){wt(e,o,u)}}}catch(u){wt(e,e.return,u)}if(e===t){ce=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ce=l;break}ce=e.return}}var tO=Math.ceil,cd=fr.ReactCurrentDispatcher,nv=fr.ReactCurrentOwner,Qn=fr.ReactCurrentBatchConfig,Ve=0,Ut=null,Dt=null,Xt=0,In=0,Uo=os(0),zt=0,lu=null,qs=0,cf=0,iv=0,Rl=null,xn=null,rv=0,ha=1/0,Zi=null,hd=!1,vg=null,$r=null,Wc=!1,Or=null,dd=0,Dl=0,yg=null,Ph=-1,Th=0;function mn(){return Ve&6?Tt():Ph!==-1?Ph:Ph=Tt()}function Ur(t){return t.mode&1?Ve&2&&Xt!==0?Xt&-Xt:zI.transition!==null?(Th===0&&(Th=bS()),Th):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:TS(t.type)),t):1}function mi(t,e,n,i){if(50<Dl)throw Dl=0,yg=null,Error(K(185));Au(t,n,i),(!(Ve&2)||t!==Ut)&&(t===Ut&&(!(Ve&2)&&(cf|=n),zt===4&&Lr(t,Xt)),Tn(t,i),n===1&&Ve===0&&!(e.mode&1)&&(ha=Tt()+500,of&&as()))}function Tn(t,e){var n=t.callbackNode;zL(t,e);var i=Kh(t,t===Ut?Xt:0);if(i===0)n!==null&&L0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&L0(n),e===1)t.tag===0?FI(wb.bind(null,t)):ZS(wb.bind(null,t)),RI(function(){!(Ve&6)&&as()}),n=null;else{switch(xS(i)){case 1:n=L_;break;case 4:n=vS;break;case 16:n=Gh;break;case 536870912:n=yS;break;default:n=Gh}n=$C(n,FC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FC(t,e){if(Ph=-1,Th=0,Ve&6)throw Error(K(327));var n=t.callbackNode;if(Jo()&&t.callbackNode!==n)return null;var i=Kh(t,t===Ut?Xt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=fd(t,i);else{e=i;var r=Ve;Ve|=2;var s=BC();(Ut!==t||Xt!==e)&&(Zi=null,ha=Tt()+500,Hs(t,e));do try{rO();break}catch(l){zC(t,l)}while(!0);W_(),cd.current=s,Ve=r,Dt!==null?e=0:(Ut=null,Xt=0,e=zt)}if(e!==0){if(e===2&&(r=Zm(t),r!==0&&(i=r,e=bg(t,r))),e===1)throw n=lu,Hs(t,0),Lr(t,i),Tn(t,Tt()),n;if(e===6)Lr(t,i);else{if(r=t.current.alternate,!(i&30)&&!nO(r)&&(e=fd(t,i),e===2&&(s=Zm(t),s!==0&&(i=s,e=bg(t,s))),e===1))throw n=lu,Hs(t,0),Lr(t,i),Tn(t,Tt()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(K(345));case 2:Ms(t,xn,Zi);break;case 3:if(Lr(t,i),(i&130023424)===i&&(e=rv+500-Tt(),10<e)){if(Kh(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){mn(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=eg(Ms.bind(null,t,xn,Zi),e);break}Ms(t,xn,Zi);break;case 4:if(Lr(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-pi(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Tt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*tO(i/1960))-i,10<i){t.timeoutHandle=eg(Ms.bind(null,t,xn,Zi),i);break}Ms(t,xn,Zi);break;case 5:Ms(t,xn,Zi);break;default:throw Error(K(329))}}}return Tn(t,Tt()),t.callbackNode===n?FC.bind(null,t):null}function bg(t,e){var n=Rl;return t.current.memoizedState.isDehydrated&&(Hs(t,e).flags|=256),t=fd(t,e),t!==2&&(e=xn,xn=n,e!==null&&xg(e)),t}function xg(t){xn===null?xn=t:xn.push.apply(xn,t)}function nO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!vi(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lr(t,e){for(e&=~iv,e&=~cf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pi(e),i=1<<n;t[n]=-1,e&=~i}}function wb(t){if(Ve&6)throw Error(K(327));Jo();var e=Kh(t,0);if(!(e&1))return Tn(t,Tt()),null;var n=fd(t,e);if(t.tag!==0&&n===2){var i=Zm(t);i!==0&&(e=i,n=bg(t,i))}if(n===1)throw n=lu,Hs(t,0),Lr(t,e),Tn(t,Tt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ms(t,xn,Zi),Tn(t,Tt()),null}function sv(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(ha=Tt()+500,of&&as())}}function Xs(t){Or!==null&&Or.tag===0&&!(Ve&6)&&Jo();var e=Ve;Ve|=1;var n=Qn.transition,i=Ye;try{if(Qn.transition=null,Ye=1,t)return t()}finally{Ye=i,Qn.transition=n,Ve=e,!(Ve&6)&&as()}}function ov(){In=Uo.current,ut(Uo)}function Hs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OI(n)),Dt!==null)for(n=Dt.return;n!==null;){var i=n;switch(V_(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ed();break;case 3:ua(),ut(En),ut(an),K_();break;case 5:G_(i);break;case 4:ua();break;case 13:ut(_t);break;case 19:ut(_t);break;case 10:$_(i.type._context);break;case 22:case 23:ov()}n=n.return}if(Ut=t,Dt=t=Zr(t.current,null),Xt=In=e,zt=0,lu=null,iv=cf=qs=0,xn=Rl=null,Fs!==null){for(e=0;e<Fs.length;e++)if(n=Fs[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Fs=null}return t}function zC(t,e){do{var n=Dt;try{if(W_(),Sh.current=ud,ld){for(var i=vt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}ld=!1}if(Ks=0,Ht=At=vt=null,Il=!1,su=0,nv.current=null,n===null||n.return===null){zt=1,lu=e,Dt=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=Xt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=ub(o);if(_!==null){_.flags&=-257,cb(_,o,l,s,e),_.mode&1&&lb(s,h,e),e=_,u=h;var y=e.updateQueue;if(y===null){var v=new Set;v.add(u),e.updateQueue=v}else y.add(u);break e}else{if(!(e&1)){lb(s,h,e),av();break e}u=Error(K(426))}}else if(pt&&l.mode&1){var C=ub(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),cb(C,o,l,s,e),j_(ca(u,l));break e}}s=u=ca(u,l),zt!==4&&(zt=2),Rl===null?Rl=[s]:Rl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=xC(s,u,e);nb(s,x);break e;case 1:l=u;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&($r===null||!$r.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=wC(s,l,e);nb(s,P);break e}}s=s.return}while(s!==null)}jC(n)}catch(k){e=k,Dt===n&&n!==null&&(Dt=n=n.return);continue}break}while(!0)}function BC(){var t=cd.current;return cd.current=ud,t===null?ud:t}function av(){(zt===0||zt===3||zt===2)&&(zt=4),Ut===null||!(qs&268435455)&&!(cf&268435455)||Lr(Ut,Xt)}function fd(t,e){var n=Ve;Ve|=2;var i=BC();(Ut!==t||Xt!==e)&&(Zi=null,Hs(t,e));do try{iO();break}catch(r){zC(t,r)}while(!0);if(W_(),Ve=n,cd.current=i,Dt!==null)throw Error(K(261));return Ut=null,Xt=0,zt}function iO(){for(;Dt!==null;)VC(Dt)}function rO(){for(;Dt!==null&&!ML();)VC(Dt)}function VC(t){var e=WC(t.alternate,t,In);t.memoizedProps=t.pendingProps,e===null?jC(t):Dt=e,nv.current=null}function jC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XI(n,e),n!==null){n.flags&=32767,Dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{zt=6,Dt=null;return}}else if(n=qI(n,e,In),n!==null){Dt=n;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);zt===0&&(zt=5)}function Ms(t,e,n){var i=Ye,r=Qn.transition;try{Qn.transition=null,Ye=1,sO(t,e,n,i)}finally{Qn.transition=r,Ye=i}return null}function sO(t,e,n,i){do Jo();while(Or!==null);if(Ve&6)throw Error(K(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(BL(t,s),t===Ut&&(Dt=Ut=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wc||(Wc=!0,$C(Gh,function(){return Jo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qn.transition,Qn.transition=null;var o=Ye;Ye=1;var l=Ve;Ve|=4,nv.current=null,JI(t,n),AC(n,t),EI(Qm),qh=!!Xm,Qm=Xm=null,t.current=n,eO(n),LL(),Ve=l,Ye=o,Qn.transition=s}else t.current=n;if(Wc&&(Wc=!1,Or=t,dd=r),s=t.pendingLanes,s===0&&($r=null),RL(n.stateNode),Tn(t,Tt()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(hd)throw hd=!1,t=vg,vg=null,t;return dd&1&&t.tag!==0&&Jo(),s=t.pendingLanes,s&1?t===yg?Dl++:(Dl=0,yg=t):Dl=0,as(),null}function Jo(){if(Or!==null){var t=xS(dd),e=Qn.transition,n=Ye;try{if(Qn.transition=null,Ye=16>t?16:t,Or===null)var i=!1;else{if(t=Or,Or=null,dd=0,Ve&6)throw Error(K(331));var r=Ve;for(Ve|=4,ce=t.current;ce!==null;){var s=ce,o=s.child;if(ce.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(ce=h;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:Ol(8,d,s)}var p=d.child;if(p!==null)p.return=d,ce=p;else for(;ce!==null;){d=ce;var m=d.sibling,_=d.return;if(OC(d),d===h){ce=null;break}if(m!==null){m.return=_,ce=m;break}ce=_}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var C=v.sibling;v.sibling=null,v=C}while(v!==null)}}ce=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ce=o;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ol(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ce=x;break e}ce=s.return}}var w=t.current;for(ce=w;ce!==null;){o=ce;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ce=S;else e:for(o=w;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:uf(9,l)}}catch(k){wt(l,l.return,k)}if(l===o){ce=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,ce=P;break e}ce=l.return}}if(Ve=r,as(),Oi&&typeof Oi.onPostCommitFiberRoot=="function")try{Oi.onPostCommitFiberRoot(ef,t)}catch{}i=!0}return i}finally{Ye=n,Qn.transition=e}}return!1}function Sb(t,e,n){e=ca(n,e),e=xC(t,e,1),t=Wr(t,e,1),e=mn(),t!==null&&(Au(t,1,e),Tn(t,e))}function wt(t,e,n){if(t.tag===3)Sb(t,t,n);else for(;e!==null;){if(e.tag===3){Sb(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&($r===null||!$r.has(i))){t=ca(n,t),t=wC(e,t,1),e=Wr(e,t,1),t=mn(),e!==null&&(Au(e,1,t),Tn(e,t));break}}e=e.return}}function oO(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=mn(),t.pingedLanes|=t.suspendedLanes&n,Ut===t&&(Xt&n)===n&&(zt===4||zt===3&&(Xt&130023424)===Xt&&500>Tt()-rv?Hs(t,0):iv|=n),Tn(t,e)}function HC(t,e){e===0&&(t.mode&1?(e=Rc,Rc<<=1,!(Rc&130023424)&&(Rc=4194304)):e=1);var n=mn();t=ar(t,e),t!==null&&(Au(t,e,n),Tn(t,n))}function aO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HC(t,n)}function lO(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(K(314))}i!==null&&i.delete(e),HC(t,n)}var WC;WC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||En.current)Sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Sn=!1,KI(t,e,n);Sn=!!(t.flags&131072)}else Sn=!1,pt&&e.flags&1048576&&YS(e,id,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Eh(t,e),t=e.pendingProps;var r=oa(e,an.current);Qo(e,n),r=X_(null,e,i,t,r,n);var s=Q_();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pn(i)?(s=!0,td(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Z_(e),r.updater=lf,e.stateNode=r,r._reactInternals=e,ag(e,i,t,n),e=cg(null,e,i,!0,s,n)):(e.tag=0,pt&&s&&B_(e),dn(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Eh(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=cO(i),t=oi(i,t),r){case 0:e=ug(null,e,i,t,n);break e;case 1:e=fb(null,e,i,t,n);break e;case 11:e=hb(null,e,i,t,n);break e;case 14:e=db(null,e,i,oi(i.type,t),n);break e}throw Error(K(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:oi(i,r),ug(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:oi(i,r),fb(t,e,i,r,n);case 3:e:{if(PC(e),t===null)throw Error(K(387));i=e.pendingProps,s=e.memoizedState,r=s.element,JS(t,e),od(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=ca(Error(K(423)),e),e=pb(t,e,i,n,r);break e}else if(i!==r){r=ca(Error(K(424)),e),e=pb(t,e,i,n,r);break e}else for(Dn=Hr(e.stateNode.containerInfo.firstChild),Nn=e,pt=!0,ui=null,n=XS(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(aa(),i===r){e=lr(t,e,n);break e}dn(t,e,i,n)}e=e.child}return e;case 5:return eC(e),t===null&&rg(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Jm(i,r)?o=null:s!==null&&Jm(i,s)&&(e.flags|=32),EC(t,e),dn(t,e,o,n),e.child;case 6:return t===null&&rg(e),null;case 13:return TC(t,e,n);case 4:return Y_(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=la(e,null,i,n):dn(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:oi(i,r),hb(t,e,i,r,n);case 7:return dn(t,e,e.pendingProps,n),e.child;case 8:return dn(t,e,e.pendingProps.children,n),e.child;case 12:return dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,ot(rd,i._currentValue),i._currentValue=o,s!==null)if(vi(s.value,o)){if(s.children===r.children&&!En.current){e=lr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===i){if(s.tag===1){u=tr(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?u.next=u:(u.next=d.next,d.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),sg(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),sg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dn(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Qo(e,n),r=Jn(r),i=i(r),e.flags|=1,dn(t,e,i,n),e.child;case 14:return i=e.type,r=oi(i,e.pendingProps),r=oi(i.type,r),db(t,e,i,r,n);case 15:return SC(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:oi(i,r),Eh(t,e),e.tag=1,Pn(i)?(t=!0,td(e)):t=!1,Qo(e,n),bC(e,i,r),ag(e,i,r,n),cg(null,e,i,!0,t,n);case 19:return kC(t,e,n);case 22:return CC(t,e,n)}throw Error(K(156,e.tag))};function $C(t,e){return _S(t,e)}function uO(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(t,e,n,i){return new uO(t,e,n,i)}function lv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cO(t){if(typeof t=="function")return lv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===T_)return 11;if(t===k_)return 14}return 2}function Zr(t,e){var n=t.alternate;return n===null?(n=Xn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kh(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")lv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ao:return Ws(n.children,r,s,e);case P_:o=8,r|=8;break;case Im:return t=Xn(12,n,e,r|2),t.elementType=Im,t.lanes=s,t;case Om:return t=Xn(13,n,e,r),t.elementType=Om,t.lanes=s,t;case Rm:return t=Xn(19,n,e,r),t.elementType=Rm,t.lanes=s,t;case eS:return hf(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q1:o=10;break e;case J1:o=9;break e;case T_:o=11;break e;case k_:o=14;break e;case Tr:o=16,i=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Xn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Ws(t,e,n,i){return t=Xn(7,t,i,e),t.lanes=n,t}function hf(t,e,n,i){return t=Xn(22,t,i,e),t.elementType=eS,t.lanes=n,t.stateNode={isHidden:!1},t}function Zp(t,e,n){return t=Xn(6,t,null,e),t.lanes=n,t}function Yp(t,e,n){return e=Xn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hO(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tp(0),this.expirationTimes=Tp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tp(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function uv(t,e,n,i,r,s,o,l,u){return t=new hO(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Xn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z_(s),t}function dO(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function UC(t){if(!t)return Jr;t=t._reactInternals;e:{if(oo(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(Pn(n))return US(t,n,e)}return e}function ZC(t,e,n,i,r,s,o,l,u){return t=uv(n,i,!0,t,r,s,o,l,u),t.context=UC(null),n=t.current,i=mn(),r=Ur(n),s=tr(i,r),s.callback=e??null,Wr(n,s,r),t.current.lanes=r,Au(t,r,i),Tn(t,i),t}function df(t,e,n,i){var r=e.current,s=mn(),o=Ur(r);return n=UC(n),e.context===null?e.context=n:e.pendingContext=n,e=tr(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Wr(r,e,o),t!==null&&(mi(t,r,o,s),wh(t,r,o)),o}function pd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cv(t,e){Cb(t,e),(t=t.alternate)&&Cb(t,e)}function fO(){return null}var YC=typeof reportError=="function"?reportError:function(t){console.error(t)};function hv(t){this._internalRoot=t}ff.prototype.render=hv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));df(t,e,null,null)};ff.prototype.unmount=hv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xs(function(){df(null,t,null,null)}),e[or]=null}};function ff(t){this._internalRoot=t}ff.prototype.unstable_scheduleHydration=function(t){if(t){var e=CS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mr.length&&e!==0&&e<Mr[n].priority;n++);Mr.splice(n,0,t),n===0&&PS(t)}};function dv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Eb(){}function pO(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var h=pd(o);s.call(h)}}var o=ZC(e,i,t,0,null,!1,!1,"",Eb);return t._reactRootContainer=o,t[or]=o.current,eu(t.nodeType===8?t.parentNode:t),Xs(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var l=i;i=function(){var h=pd(u);l.call(h)}}var u=uv(t,0,!1,null,null,!1,!1,"",Eb);return t._reactRootContainer=u,t[or]=u.current,eu(t.nodeType===8?t.parentNode:t),Xs(function(){df(e,u,n,i)}),u}function mf(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var l=r;r=function(){var u=pd(o);l.call(u)}}df(e,o,t,r)}else o=pO(n,e,t,r,i);return pd(o)}wS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gl(e.pendingLanes);n!==0&&(I_(e,n|1),Tn(e,Tt()),!(Ve&6)&&(ha=Tt()+500,as()))}break;case 13:Xs(function(){var i=ar(t,1);if(i!==null){var r=mn();mi(i,t,1,r)}}),cv(t,1)}};O_=function(t){if(t.tag===13){var e=ar(t,134217728);if(e!==null){var n=mn();mi(e,t,134217728,n)}cv(t,134217728)}};SS=function(t){if(t.tag===13){var e=Ur(t),n=ar(t,e);if(n!==null){var i=mn();mi(n,t,e,i)}cv(t,e)}};CS=function(){return Ye};ES=function(t,e){var n=Ye;try{return Ye=t,e()}finally{Ye=n}};Wm=function(t,e,n){switch(e){case"input":if(Nm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=sf(i);if(!r)throw Error(K(90));nS(i),Nm(i,r)}}}break;case"textarea":rS(t,n);break;case"select":e=n.value,e!=null&&Go(t,!!n.multiple,e,!1)}};hS=sv;dS=Xs;var mO={usingClientEntryPoint:!1,Events:[Fu,Bo,sf,uS,cS,sv]},Ja={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gO={bundleType:Ja.bundleType,version:Ja.version,rendererPackageName:Ja.rendererPackageName,rendererConfig:Ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mS(t),t===null?null:t.stateNode},findFiberByHostInstance:Ja.findFiberByHostInstance||fO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{ef=$c.inject(gO),Oi=$c}catch{}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mO;Vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dv(e))throw Error(K(200));return dO(t,e,null,n)};Vn.createRoot=function(t,e){if(!dv(t))throw Error(K(299));var n=!1,i="",r=YC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=uv(t,1,!1,null,null,n,!1,i,r),t[or]=e.current,eu(t.nodeType===8?t.parentNode:t),new hv(e)};Vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=mS(e),t=t===null?null:t.stateNode,t};Vn.flushSync=function(t){return Xs(t)};Vn.hydrate=function(t,e,n){if(!pf(e))throw Error(K(200));return mf(null,t,e,!0,n)};Vn.hydrateRoot=function(t,e,n){if(!dv(t))throw Error(K(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=YC;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ZC(e,null,t,1,n??null,r,!1,s,o),t[or]=e.current,eu(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new ff(e)};Vn.render=function(t,e,n){if(!pf(e))throw Error(K(200));return mf(null,t,e,!1,n)};Vn.unmountComponentAtNode=function(t){if(!pf(t))throw Error(K(40));return t._reactRootContainer?(Xs(function(){mf(null,null,t,!1,function(){t._reactRootContainer=null,t[or]=null})}),!0):!1};Vn.unstable_batchedUpdates=sv;Vn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!pf(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return mf(t,e,n,!1,i)};Vn.version="18.3.1-next-f1338f8080-20240426";function GC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GC)}catch(t){console.error(t)}}GC(),G1.exports=Vn;var Bu=G1.exports;const _O=v_(Bu),vO=N1({__proto__:null,default:_O},[Bu]);var KC,Pb=Bu;KC=Pb.createRoot,Pb.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ft(){return ft=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ft.apply(this,arguments)}var Ot;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ot||(Ot={}));const Tb="popstate";function yO(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:l}=i.location;return uu("",{pathname:s,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Qs(r)}return xO(e,n,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function da(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bO(){return Math.random().toString(36).substr(2,8)}function kb(t,e){return{usr:t.state,key:t.key,idx:e}}function uu(t,e,n,i){return n===void 0&&(n=null),ft({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ls(e):e,{state:n,key:e&&e.key||i||bO()})}function Qs(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ls(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function xO(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,l=Ot.Pop,u=null,h=d();h==null&&(h=0,o.replaceState(ft({},o.state,{idx:h}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=Ot.Pop;let C=d(),x=C==null?null:C-h;h=C,u&&u({action:l,location:v.location,delta:x})}function m(C,x){l=Ot.Push;let w=uu(v.location,C,x);h=d()+1;let S=kb(w,h),P=v.createHref(w);try{o.pushState(S,"",P)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;r.location.assign(P)}s&&u&&u({action:l,location:v.location,delta:1})}function _(C,x){l=Ot.Replace;let w=uu(v.location,C,x);h=d();let S=kb(w,h),P=v.createHref(w);o.replaceState(S,"",P),s&&u&&u({action:l,location:v.location,delta:0})}function y(C){let x=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof C=="string"?C:Qs(C);return w=w.replace(/ $/,"%20"),Le(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let v={get action(){return l},get location(){return t(r,o)},listen(C){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(Tb,p),u=C,()=>{r.removeEventListener(Tb,p),u=null}},createHref(C){return e(r,C)},createURL:y,encodeLocation(C){let x=y(C);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:_,go(C){return o.go(C)}};return v}var Xe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xe||(Xe={}));const wO=new Set(["lazy","caseSensitive","path","id","index","children"]);function SO(t){return t.index===!0}function md(t,e,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),t.map((r,s)=>{let o=[...n,String(s)],l=typeof r.id=="string"?r.id:o.join("-");if(Le(r.index!==!0||!r.children,"Cannot specify children on an index route"),Le(!i[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),SO(r)){let u=ft({},r,e(r),{id:l});return i[l]=u,u}else{let u=ft({},r,e(r),{id:l,children:void 0});return i[l]=u,r.children&&(u.children=md(r.children,e,o,i)),u}})}function Ds(t,e,n){return n===void 0&&(n="/"),Mh(t,e,n,!1)}function Mh(t,e,n,i){let r=typeof e=="string"?ls(e):e,s=ur(r.pathname||"/",n);if(s==null)return null;let o=qC(t);EO(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let h=NO(s);l=DO(o[u],h,i)}return l}function CO(t,e){let{route:n,pathname:i,params:r}=t;return{id:n.id,pathname:i,params:r,data:e[n.id],handle:n.handle}}function qC(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Le(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let h=nr([i,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(Le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),qC(s.children,e,d,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:OO(h,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))r(s,o);else for(let u of XC(s.path))r(s,o,u)}),e}function XC(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=XC(i.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function EO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RO(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const PO=/^:[\w-]+$/,TO=3,kO=2,MO=1,LO=10,IO=-2,Mb=t=>t==="*";function OO(t,e){let n=t.split("/"),i=n.length;return n.some(Mb)&&(i+=IO),e&&(i+=kO),n.filter(r=>!Mb(r)).reduce((r,s)=>r+(PO.test(s)?TO:s===""?MO:LO),i)}function RO(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function DO(t,e,n){n===void 0&&(n=!1);let{routesMeta:i}=t,r={},s="/",o=[];for(let l=0;l<i.length;++l){let u=i[l],h=l===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=gd({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d),m=u.route;if(!p&&h&&n&&!i[i.length-1].route.index&&(p=gd({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:nr([s,p.pathname]),pathnameBase:BO(nr([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=nr([s,p.pathnameBase]))}return o}function gd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=AO(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((h,d,p)=>{let{paramName:m,isOptional:_}=d;if(m==="*"){let v=l[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[p];return _&&!y?h[m]=void 0:h[m]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function AO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),da(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function NO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return da(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ur(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function FO(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?ls(t):t;return{pathname:n?n.startsWith("/")?n:zO(n,e):e,search:VO(i),hash:jO(r)}}function zO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Gp(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function QC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fv(t,e){let n=QC(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function pv(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=ls(t):(r=ft({},t),Le(!r.pathname||!r.pathname.includes("?"),Gp("?","pathname","search",r)),Le(!r.pathname||!r.pathname.includes("#"),Gp("#","pathname","hash",r)),Le(!r.search||!r.search.includes("#"),Gp("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!i&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;r.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=FO(r,l),h=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}const nr=t=>t.join("/").replace(/\/\/+/g,"/"),BO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class _d{constructor(e,n,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=n||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function gf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const JC=["post","put","patch","delete"],HO=new Set(JC),WO=["get",...JC],$O=new Set(WO),UO=new Set([301,302,303,307,308]),ZO=new Set([307,308]),Kp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},YO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},el={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GO=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),eE="remix-router-transitions";function KO(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!n;Le(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(t.mapRouteProperties)r=t.mapRouteProperties;else if(t.detectErrorBoundary){let D=t.detectErrorBoundary;r=A=>({hasErrorBoundary:D(A)})}else r=GO;let s={},o=md(t.routes,r,void 0,s),l,u=t.basename||"/",h=t.dataStrategy||JO,d=t.patchRoutesOnNavigation,p=ft({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),m=null,_=new Set,y=null,v=null,C=null,x=t.hydrationData!=null,w=Ds(o,t.history.location,u),S=null;if(w==null&&!d){let D=bn(404,{pathname:t.history.location.pathname}),{matches:A,route:V}=Vb(o);w=A,S={[V.id]:D}}w&&!t.hydrationData&&mo(w,o,t.history.location.pathname).active&&(w=null);let P;if(w)if(w.some(D=>D.route.lazy))P=!1;else if(!w.some(D=>D.route.loader))P=!0;else if(p.v7_partialHydration){let D=t.hydrationData?t.hydrationData.loaderData:null,A=t.hydrationData?t.hydrationData.errors:null;if(A){let V=w.findIndex(Y=>A[Y.route.id]!==void 0);P=w.slice(0,V+1).every(Y=>!Sg(Y.route,D,A))}else P=w.every(V=>!Sg(V.route,D,A))}else P=t.hydrationData!=null;else if(P=!1,w=[],p.v7_partialHydration){let D=mo(null,o,t.history.location.pathname);D.active&&D.matches&&(w=D.matches)}let k,T={historyAction:t.history.action,location:t.history.location,matches:w,initialized:P,navigation:Kp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},O=Ot.Pop,M=!1,N,j=!1,U=new Map,G=null,ge=!1,fe=!1,he=[],ie=new Set,re=new Map,z=0,X=-1,W=new Map,ne=new Set,J=new Map,me=new Map,oe=new Set,le=new Map,ee=new Map,Fe;function bt(){if(m=t.history.listen(D=>{let{action:A,location:V,delta:Y}=D;if(Fe){Fe(),Fe=void 0;return}da(ee.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=lc({currentLocation:T.location,nextLocation:V,historyAction:A});if(te&&Y!=null){let $=new Promise(we=>{Fe=we});t.history.go(Y*-1),ho(te,{state:"blocked",location:V,proceed(){ho(te,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),$.then(()=>t.history.go(Y))},reset(){let we=new Map(T.blockers);we.set(te,el),xt({blockers:we})}});return}return Wn(A,V)}),n){fR(e,U);let D=()=>pR(e,U);e.addEventListener("pagehide",D),G=()=>e.removeEventListener("pagehide",D)}return T.initialized||Wn(Ot.Pop,T.location,{initialHydration:!0}),k}function Ni(){m&&m(),G&&G(),_.clear(),N&&N.abort(),T.fetchers.forEach((D,A)=>_s(A)),T.blockers.forEach((D,A)=>yr(A))}function fs(D){return _.add(D),()=>_.delete(D)}function xt(D,A){A===void 0&&(A={}),T=ft({},T,D);let V=[],Y=[];p.v7_fetcherPersist&&T.fetchers.forEach((te,$)=>{te.state==="idle"&&(oe.has($)?Y.push($):V.push($))}),[..._].forEach(te=>te(T,{deletedFetchers:Y,viewTransitionOpts:A.viewTransitionOpts,flushSync:A.flushSync===!0})),p.v7_fetcherPersist&&(V.forEach(te=>T.fetchers.delete(te)),Y.forEach(te=>_s(te)))}function un(D,A,V){var Y,te;let{flushSync:$}=V===void 0?{}:V,we=T.actionData!=null&&T.navigation.formMethod!=null&&li(T.navigation.formMethod)&&T.navigation.state==="loading"&&((Y=D.state)==null?void 0:Y._isRedirect)!==!0,ue;A.actionData?Object.keys(A.actionData).length>0?ue=A.actionData:ue=null:we?ue=T.actionData:ue=null;let de=A.loaderData?zb(T.loaderData,A.loaderData,A.matches||[],A.errors):T.loaderData,ae=T.blockers;ae.size>0&&(ae=new Map(ae),ae.forEach((Ee,Mt)=>ae.set(Mt,el)));let pe=M===!0||T.navigation.formMethod!=null&&li(T.navigation.formMethod)&&((te=D.state)==null?void 0:te._isRedirect)!==!0;l&&(o=l,l=void 0),ge||O===Ot.Pop||(O===Ot.Push?t.history.push(D,D.state):O===Ot.Replace&&t.history.replace(D,D.state));let Te;if(O===Ot.Pop){let Ee=U.get(T.location.pathname);Ee&&Ee.has(D.pathname)?Te={currentLocation:T.location,nextLocation:D}:U.has(D.pathname)&&(Te={currentLocation:D,nextLocation:T.location})}else if(j){let Ee=U.get(T.location.pathname);Ee?Ee.add(D.pathname):(Ee=new Set([D.pathname]),U.set(T.location.pathname,Ee)),Te={currentLocation:T.location,nextLocation:D}}xt(ft({},A,{actionData:ue,loaderData:de,historyAction:O,location:D,initialized:!0,navigation:Kp,revalidation:"idle",restoreScrollPosition:hc(D,A.matches||T.matches),preventScrollReset:pe,blockers:ae}),{viewTransitionOpts:Te,flushSync:$===!0}),O=Ot.Pop,M=!1,j=!1,ge=!1,fe=!1,he=[]}async function vr(D,A){if(typeof D=="number"){t.history.go(D);return}let V=wg(T.location,T.matches,u,p.v7_prependBasename,D,p.v7_relativeSplatPath,A==null?void 0:A.fromRouteId,A==null?void 0:A.relative),{path:Y,submission:te,error:$}=Lb(p.v7_normalizeFormMethod,!1,V,A),we=T.location,ue=uu(T.location,Y,A&&A.state);ue=ft({},ue,t.history.encodeLocation(ue));let de=A&&A.replace!=null?A.replace:void 0,ae=Ot.Push;de===!0?ae=Ot.Replace:de===!1||te!=null&&li(te.formMethod)&&te.formAction===T.location.pathname+T.location.search&&(ae=Ot.Replace);let pe=A&&"preventScrollReset"in A?A.preventScrollReset===!0:void 0,Te=(A&&A.flushSync)===!0,Ee=lc({currentLocation:we,nextLocation:ue,historyAction:ae});if(Ee){ho(Ee,{state:"blocked",location:ue,proceed(){ho(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:ue}),vr(D,A)},reset(){let Mt=new Map(T.blockers);Mt.set(Ee,el),xt({blockers:Mt})}});return}return await Wn(ae,ue,{submission:te,pendingError:$,preventScrollReset:pe,replace:A&&A.replace,enableViewTransition:A&&A.viewTransition,flushSync:Te})}function uo(){if(gs(),xt({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){Wn(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}Wn(O||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:j===!0})}}async function Wn(D,A,V){N&&N.abort(),N=null,O=D,ge=(V&&V.startUninterruptedRevalidation)===!0,qf(T.location,T.matches),M=(V&&V.preventScrollReset)===!0,j=(V&&V.enableViewTransition)===!0;let Y=l||o,te=V&&V.overrideNavigation,$=Ds(Y,A,u),we=(V&&V.flushSync)===!0,ue=mo($,Y,A.pathname);if(ue.active&&ue.matches&&($=ue.matches),!$){let{error:Ke,notFoundMatches:Be,route:dt}=fo(A.pathname);un(A,{matches:Be,loaderData:{},errors:{[dt.id]:Ke}},{flushSync:we});return}if(T.initialized&&!fe&&sR(T.location,A)&&!(V&&V.submission&&li(V.submission.formMethod))){un(A,{matches:$},{flushSync:we});return}N=new AbortController;let de=Mo(t.history,A,N.signal,V&&V.submission),ae;if(V&&V.pendingError)ae=[As($).route.id,{type:Xe.error,error:V.pendingError}];else if(V&&V.submission&&li(V.submission.formMethod)){let Ke=await nc(de,A,V.submission,$,ue.active,{replace:V.replace,flushSync:we});if(Ke.shortCircuited)return;if(Ke.pendingActionResult){let[Be,dt]=Ke.pendingActionResult;if(On(dt)&&gf(dt.error)&&dt.error.status===404){N=null,un(A,{matches:Ke.matches,loaderData:{},errors:{[Be]:dt.error}});return}}$=Ke.matches||$,ae=Ke.pendingActionResult,te=qp(A,V.submission),we=!1,ue.active=!1,de=Mo(t.history,de.url,de.signal)}let{shortCircuited:pe,matches:Te,loaderData:Ee,errors:Mt}=await La(de,A,$,ue.active,te,V&&V.submission,V&&V.fetcherSubmission,V&&V.replace,V&&V.initialHydration===!0,we,ae);pe||(N=null,un(A,ft({matches:Te||$},Bb(ae),{loaderData:Ee,errors:Mt})))}async function nc(D,A,V,Y,te,$){$===void 0&&($={}),gs();let we=hR(A,V);if(xt({navigation:we},{flushSync:$.flushSync===!0}),te){let ae=await go(Y,A.pathname,D.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let pe=As(ae.partialMatches).route.id;return{matches:ae.partialMatches,pendingActionResult:[pe,{type:Xe.error,error:ae.error}]}}else if(ae.matches)Y=ae.matches;else{let{notFoundMatches:pe,error:Te,route:Ee}=fo(A.pathname);return{matches:pe,pendingActionResult:[Ee.id,{type:Xe.error,error:Te}]}}}let ue,de=vl(Y,A);if(!de.route.action&&!de.route.lazy)ue={type:Xe.error,error:bn(405,{method:D.method,pathname:A.pathname,routeId:de.route.id})};else if(ue=(await ms("action",T,D,[de],Y,null))[de.route.id],D.signal.aborted)return{shortCircuited:!0};if(Bs(ue)){let ae;return $&&$.replace!=null?ae=$.replace:ae=Ab(ue.response.headers.get("Location"),new URL(D.url),u)===T.location.pathname+T.location.search,await yi(D,ue,!0,{submission:V,replace:ae}),{shortCircuited:!0}}if(Rr(ue))throw bn(400,{type:"defer-action"});if(On(ue)){let ae=As(Y,de.route.id);return($&&$.replace)!==!0&&(O=Ot.Push),{matches:Y,pendingActionResult:[ae.route.id,ue]}}return{matches:Y,pendingActionResult:[de.route.id,ue]}}async function La(D,A,V,Y,te,$,we,ue,de,ae,pe){let Te=te||qp(A,$),Ee=$||we||Hb(Te),Mt=!ge&&(!p.v7_partialHydration||!de);if(Y){if(Mt){let qe=ps(pe);xt(ft({navigation:Te},qe!==void 0?{actionData:qe}:{}),{flushSync:ae})}let De=await go(V,A.pathname,D.signal);if(De.type==="aborted")return{shortCircuited:!0};if(De.type==="error"){let qe=As(De.partialMatches).route.id;return{matches:De.partialMatches,loaderData:{},errors:{[qe]:De.error}}}else if(De.matches)V=De.matches;else{let{error:qe,notFoundMatches:zi,route:wr}=fo(A.pathname);return{matches:zi,loaderData:{},errors:{[wr.id]:qe}}}}let Ke=l||o,[Be,dt]=Ob(t.history,T,V,Ee,A,p.v7_partialHydration&&de===!0,p.v7_skipActionErrorRevalidation,fe,he,ie,oe,J,ne,Ke,u,pe);if(po(De=>!(V&&V.some(qe=>qe.route.id===De))||Be&&Be.some(qe=>qe.route.id===De)),X=++z,Be.length===0&&dt.length===0){let De=co();return un(A,ft({matches:V,loaderData:{},errors:pe&&On(pe[1])?{[pe[0]]:pe[1].error}:null},Bb(pe),De?{fetchers:new Map(T.fetchers)}:{}),{flushSync:ae}),{shortCircuited:!0}}if(Mt){let De={};if(!Y){De.navigation=Te;let qe=ps(pe);qe!==void 0&&(De.actionData=qe)}dt.length>0&&(De.fetchers=Gf(dt)),xt(De,{flushSync:ae})}dt.forEach(De=>{bi(De.key),De.controller&&re.set(De.key,De.controller)});let br=()=>dt.forEach(De=>bi(De.key));N&&N.signal.addEventListener("abort",br);let{loaderResults:xr,fetcherResults:ni}=await sc(T,V,Be,dt,D);if(D.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",br),dt.forEach(De=>re.delete(De.key));let cn=Uc(xr);if(cn)return await yi(D,cn.result,!0,{replace:ue}),{shortCircuited:!0};if(cn=Uc(ni),cn)return ne.add(cn.key),await yi(D,cn.result,!0,{replace:ue}),{shortCircuited:!0};let{loaderData:Aa,errors:vs}=Fb(T,V,xr,pe,dt,ni,le);le.forEach((De,qe)=>{De.subscribe(zi=>{(zi||De.done)&&le.delete(qe)})}),p.v7_partialHydration&&de&&T.errors&&(vs=ft({},T.errors,vs));let Fi=co(),_o=Ra(X),vo=Fi||_o||dt.length>0;return ft({matches:V,loaderData:Aa,errors:vs},vo?{fetchers:new Map(T.fetchers)}:{})}function ps(D){if(D&&!On(D[1]))return{[D[0]]:D[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function Gf(D){return D.forEach(A=>{let V=T.fetchers.get(A.key),Y=tl(void 0,V?V.data:void 0);T.fetchers.set(A.key,Y)}),new Map(T.fetchers)}function ic(D,A,V,Y){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");bi(D);let te=(Y&&Y.flushSync)===!0,$=l||o,we=wg(T.location,T.matches,u,p.v7_prependBasename,V,p.v7_relativeSplatPath,A,Y==null?void 0:Y.relative),ue=Ds($,we,u),de=mo(ue,$,we);if(de.active&&de.matches&&(ue=de.matches),!ue){$n(D,A,bn(404,{pathname:we}),{flushSync:te});return}let{path:ae,submission:pe,error:Te}=Lb(p.v7_normalizeFormMethod,!0,we,Y);if(Te){$n(D,A,Te,{flushSync:te});return}let Ee=vl(ue,ae),Mt=(Y&&Y.preventScrollReset)===!0;if(pe&&li(pe.formMethod)){Ia(D,A,ae,Ee,ue,de.active,te,Mt,pe);return}J.set(D,{routeId:A,path:ae}),rc(D,A,ae,Ee,ue,de.active,te,Mt,pe)}async function Ia(D,A,V,Y,te,$,we,ue,de){gs(),J.delete(D);function ae(Je){if(!Je.route.action&&!Je.route.lazy){let ke=bn(405,{method:de.formMethod,pathname:V,routeId:A});return $n(D,A,ke,{flushSync:we}),!0}return!1}if(!$&&ae(Y))return;let pe=T.fetchers.get(D);ti(D,dR(de,pe),{flushSync:we});let Te=new AbortController,Ee=Mo(t.history,V,Te.signal,de);if($){let Je=await go(te,V,Ee.signal);if(Je.type==="aborted")return;if(Je.type==="error"){$n(D,A,Je.error,{flushSync:we});return}else if(Je.matches){if(te=Je.matches,Y=vl(te,V),ae(Y))return}else{$n(D,A,bn(404,{pathname:V}),{flushSync:we});return}}re.set(D,Te);let Mt=z,Be=(await ms("action",T,Ee,[Y],te,D))[Y.route.id];if(Ee.signal.aborted){re.get(D)===Te&&re.delete(D);return}if(p.v7_fetcherPersist&&oe.has(D)){if(Bs(Be)||On(Be)){ti(D,Pr(void 0));return}}else{if(Bs(Be))if(re.delete(D),X>Mt){ti(D,Pr(void 0));return}else return ne.add(D),ti(D,tl(de)),yi(Ee,Be,!1,{fetcherSubmission:de,preventScrollReset:ue});if(On(Be)){$n(D,A,Be.error);return}}if(Rr(Be))throw bn(400,{type:"defer-action"});let dt=T.navigation.location||T.location,br=Mo(t.history,dt,Te.signal),xr=l||o,ni=T.navigation.state!=="idle"?Ds(xr,T.navigation.location,u):T.matches;Le(ni,"Didn't find any matches after fetcher action");let cn=++z;W.set(D,cn);let Aa=tl(de,Be.data);T.fetchers.set(D,Aa);let[vs,Fi]=Ob(t.history,T,ni,de,dt,!1,p.v7_skipActionErrorRevalidation,fe,he,ie,oe,J,ne,xr,u,[Y.route.id,Be]);Fi.filter(Je=>Je.key!==D).forEach(Je=>{let ke=Je.key,et=T.fetchers.get(ke),yo=tl(void 0,et?et.data:void 0);T.fetchers.set(ke,yo),bi(ke),Je.controller&&re.set(ke,Je.controller)}),xt({fetchers:new Map(T.fetchers)});let _o=()=>Fi.forEach(Je=>bi(Je.key));Te.signal.addEventListener("abort",_o);let{loaderResults:vo,fetcherResults:De}=await sc(T,ni,vs,Fi,br);if(Te.signal.aborted)return;Te.signal.removeEventListener("abort",_o),W.delete(D),re.delete(D),Fi.forEach(Je=>re.delete(Je.key));let qe=Uc(vo);if(qe)return yi(br,qe.result,!1,{preventScrollReset:ue});if(qe=Uc(De),qe)return ne.add(qe.key),yi(br,qe.result,!1,{preventScrollReset:ue});let{loaderData:zi,errors:wr}=Fb(T,ni,vo,void 0,Fi,De,le);if(T.fetchers.has(D)){let Je=Pr(Be.data);T.fetchers.set(D,Je)}Ra(cn),T.navigation.state==="loading"&&cn>X?(Le(O,"Expected pending action"),N&&N.abort(),un(T.navigation.location,{matches:ni,loaderData:zi,errors:wr,fetchers:new Map(T.fetchers)})):(xt({errors:wr,loaderData:zb(T.loaderData,zi,ni,wr),fetchers:new Map(T.fetchers)}),fe=!1)}async function rc(D,A,V,Y,te,$,we,ue,de){let ae=T.fetchers.get(D);ti(D,tl(de,ae?ae.data:void 0),{flushSync:we});let pe=new AbortController,Te=Mo(t.history,V,pe.signal);if($){let Be=await go(te,V,Te.signal);if(Be.type==="aborted")return;if(Be.type==="error"){$n(D,A,Be.error,{flushSync:we});return}else if(Be.matches)te=Be.matches,Y=vl(te,V);else{$n(D,A,bn(404,{pathname:V}),{flushSync:we});return}}re.set(D,pe);let Ee=z,Ke=(await ms("loader",T,Te,[Y],te,D))[Y.route.id];if(Rr(Ke)&&(Ke=await gv(Ke,Te.signal,!0)||Ke),re.get(D)===pe&&re.delete(D),!Te.signal.aborted){if(oe.has(D)){ti(D,Pr(void 0));return}if(Bs(Ke))if(X>Ee){ti(D,Pr(void 0));return}else{ne.add(D),await yi(Te,Ke,!1,{preventScrollReset:ue});return}if(On(Ke)){$n(D,A,Ke.error);return}Le(!Rr(Ke),"Unhandled fetcher deferred data"),ti(D,Pr(Ke.data))}}async function yi(D,A,V,Y){let{submission:te,fetcherSubmission:$,preventScrollReset:we,replace:ue}=Y===void 0?{}:Y;A.response.headers.has("X-Remix-Revalidate")&&(fe=!0);let de=A.response.headers.get("Location");Le(de,"Expected a Location header on the redirect Response"),de=Ab(de,new URL(D.url),u);let ae=uu(T.location,de,{_isRedirect:!0});if(n){let Be=!1;if(A.response.headers.has("X-Remix-Reload-Document"))Be=!0;else if(mv.test(de)){const dt=t.history.createURL(de);Be=dt.origin!==e.location.origin||ur(dt.pathname,u)==null}if(Be){ue?e.location.replace(de):e.location.assign(de);return}}N=null;let pe=ue===!0||A.response.headers.has("X-Remix-Replace")?Ot.Replace:Ot.Push,{formMethod:Te,formAction:Ee,formEncType:Mt}=T.navigation;!te&&!$&&Te&&Ee&&Mt&&(te=Hb(T.navigation));let Ke=te||$;if(ZO.has(A.response.status)&&Ke&&li(Ke.formMethod))await Wn(pe,ae,{submission:ft({},Ke,{formAction:de}),preventScrollReset:we||M,enableViewTransition:V?j:void 0});else{let Be=qp(ae,te);await Wn(pe,ae,{overrideNavigation:Be,fetcherSubmission:$,preventScrollReset:we||M,enableViewTransition:V?j:void 0})}}async function ms(D,A,V,Y,te,$){let we,ue={};try{we=await eR(h,D,A,V,Y,te,$,s,r)}catch(de){return Y.forEach(ae=>{ue[ae.route.id]={type:Xe.error,error:de}}),ue}for(let[de,ae]of Object.entries(we))if(oR(ae)){let pe=ae.result;ue[de]={type:Xe.redirect,response:iR(pe,V,de,te,u,p.v7_relativeSplatPath)}}else ue[de]=await nR(ae);return ue}async function sc(D,A,V,Y,te){let $=D.matches,we=ms("loader",D,te,V,A,null),ue=Promise.all(Y.map(async pe=>{if(pe.matches&&pe.match&&pe.controller){let Ee=(await ms("loader",D,Mo(t.history,pe.path,pe.controller.signal),[pe.match],pe.matches,pe.key))[pe.match.route.id];return{[pe.key]:Ee}}else return Promise.resolve({[pe.key]:{type:Xe.error,error:bn(404,{pathname:pe.path})}})})),de=await we,ae=(await ue).reduce((pe,Te)=>Object.assign(pe,Te),{});return await Promise.all([uR(A,de,te.signal,$,D.loaderData),cR(A,ae,Y)]),{loaderResults:de,fetcherResults:ae}}function gs(){fe=!0,he.push(...po()),J.forEach((D,A)=>{re.has(A)&&ie.add(A),bi(A)})}function ti(D,A,V){V===void 0&&(V={}),T.fetchers.set(D,A),xt({fetchers:new Map(T.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function $n(D,A,V,Y){Y===void 0&&(Y={});let te=As(T.matches,A);_s(D),xt({errors:{[te.route.id]:V},fetchers:new Map(T.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function oc(D){return p.v7_fetcherPersist&&(me.set(D,(me.get(D)||0)+1),oe.has(D)&&oe.delete(D)),T.fetchers.get(D)||YO}function _s(D){let A=T.fetchers.get(D);re.has(D)&&!(A&&A.state==="loading"&&W.has(D))&&bi(D),J.delete(D),W.delete(D),ne.delete(D),oe.delete(D),ie.delete(D),T.fetchers.delete(D)}function ac(D){if(p.v7_fetcherPersist){let A=(me.get(D)||0)-1;A<=0?(me.delete(D),oe.add(D)):me.set(D,A)}else _s(D);xt({fetchers:new Map(T.fetchers)})}function bi(D){let A=re.get(D);A&&(A.abort(),re.delete(D))}function Oa(D){for(let A of D){let V=oc(A),Y=Pr(V.data);T.fetchers.set(A,Y)}}function co(){let D=[],A=!1;for(let V of ne){let Y=T.fetchers.get(V);Le(Y,"Expected fetcher: "+V),Y.state==="loading"&&(ne.delete(V),D.push(V),A=!0)}return Oa(D),A}function Ra(D){let A=[];for(let[V,Y]of W)if(Y<D){let te=T.fetchers.get(V);Le(te,"Expected fetcher: "+V),te.state==="loading"&&(bi(V),W.delete(V),A.push(V))}return Oa(A),A.length>0}function Kf(D,A){let V=T.blockers.get(D)||el;return ee.get(D)!==A&&ee.set(D,A),V}function yr(D){T.blockers.delete(D),ee.delete(D)}function ho(D,A){let V=T.blockers.get(D)||el;Le(V.state==="unblocked"&&A.state==="blocked"||V.state==="blocked"&&A.state==="blocked"||V.state==="blocked"&&A.state==="proceeding"||V.state==="blocked"&&A.state==="unblocked"||V.state==="proceeding"&&A.state==="unblocked","Invalid blocker state transition: "+V.state+" -> "+A.state);let Y=new Map(T.blockers);Y.set(D,A),xt({blockers:Y})}function lc(D){let{currentLocation:A,nextLocation:V,historyAction:Y}=D;if(ee.size===0)return;ee.size>1&&da(!1,"A router only supports one blocker at a time");let te=Array.from(ee.entries()),[$,we]=te[te.length-1],ue=T.blockers.get($);if(!(ue&&ue.state==="proceeding")&&we({currentLocation:A,nextLocation:V,historyAction:Y}))return $}function fo(D){let A=bn(404,{pathname:D}),V=l||o,{matches:Y,route:te}=Vb(V);return po(),{notFoundMatches:Y,route:te,error:A}}function po(D){let A=[];return le.forEach((V,Y)=>{(!D||D(Y))&&(V.cancel(),A.push(Y),le.delete(Y))}),A}function uc(D,A,V){if(y=D,C=A,v=V||null,!x&&T.navigation===Kp){x=!0;let Y=hc(T.location,T.matches);Y!=null&&xt({restoreScrollPosition:Y})}return()=>{y=null,C=null,v=null}}function cc(D,A){return v&&v(D,A.map(Y=>CO(Y,T.loaderData)))||D.key}function qf(D,A){if(y&&C){let V=cc(D,A);y[V]=C()}}function hc(D,A){if(y){let V=cc(D,A),Y=y[V];if(typeof Y=="number")return Y}return null}function mo(D,A,V){if(d)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:Mh(A,V,u,!0)}}else return{active:!0,matches:Mh(A,V,u,!0)||[]};return{active:!1,matches:null}}async function go(D,A,V){if(!d)return{type:"success",matches:D};let Y=D;for(;;){let te=l==null,$=l||o,we=s;try{await d({path:A,matches:Y,patch:(ae,pe)=>{V.aborted||Db(ae,pe,$,we,r)}})}catch(ae){return{type:"error",error:ae,partialMatches:Y}}finally{te&&!V.aborted&&(o=[...o])}if(V.aborted)return{type:"aborted"};let ue=Ds($,A,u);if(ue)return{type:"success",matches:ue};let de=Mh($,A,u,!0);if(!de||Y.length===de.length&&Y.every((ae,pe)=>ae.route.id===de[pe].route.id))return{type:"success",matches:null};Y=de}}function Xf(D){s={},l=md(D,r,void 0,s)}function Da(D,A){let V=l==null;Db(D,A,l||o,s,r),V&&(o=[...o],xt({}))}return k={get basename(){return u},get future(){return p},get state(){return T},get routes(){return o},get window(){return e},initialize:bt,subscribe:fs,enableScrollRestoration:uc,navigate:vr,fetch:ic,revalidate:uo,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:oc,deleteFetcher:ac,dispose:Ni,getBlocker:Kf,deleteBlocker:yr,patchRoutes:Da,_internalFetchControllers:re,_internalActiveDeferreds:le,_internalSetRoutes:Xf},k}function qO(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function wg(t,e,n,i,r,s,o,l){let u,h;if(o){u=[];for(let p of e)if(u.push(p),p.route.id===o){h=p;break}}else u=e,h=e[e.length-1];let d=pv(r||".",fv(u,s),ur(t.pathname,n)||t.pathname,l==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&h){let p=_v(d.search);if(h.route.index&&!p)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let m=new URLSearchParams(d.search),_=m.getAll("index");m.delete("index"),_.filter(v=>v).forEach(v=>m.append("index",v));let y=m.toString();d.search=y?"?"+y:""}}return i&&n!=="/"&&(d.pathname=d.pathname==="/"?n:nr([n,d.pathname])),Qs(d)}function Lb(t,e,n,i){if(!i||!qO(i))return{path:n};if(i.formMethod&&!lR(i.formMethod))return{path:n,error:bn(405,{method:i.formMethod})};let r=()=>({path:n,error:bn(400,{type:"invalid-body"})}),s=i.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=iE(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!li(o))return r();let m=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((_,y)=>{let[v,C]=y;return""+_+v+"="+C+`
`},""):String(i.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:i.formEncType,formData:void 0,json:void 0,text:m}}}else if(i.formEncType==="application/json"){if(!li(o))return r();try{let m=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:i.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}Le(typeof FormData=="function","FormData is not available in this environment");let u,h;if(i.formData)u=Cg(i.formData),h=i.formData;else if(i.body instanceof FormData)u=Cg(i.body),h=i.body;else if(i.body instanceof URLSearchParams)u=i.body,h=Nb(u);else if(i.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(i.body),h=Nb(u)}catch{return r()}let d={formMethod:o,formAction:l,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(li(d.formMethod))return{path:n,submission:d};let p=ls(n);return e&&p.search&&_v(p.search)&&u.append("index",""),p.search="?"+u,{path:Qs(p),submission:d}}function Ib(t,e,n){n===void 0&&(n=!1);let i=t.findIndex(r=>r.route.id===e);return i>=0?t.slice(0,n?i+1:i):t}function Ob(t,e,n,i,r,s,o,l,u,h,d,p,m,_,y,v){let C=v?On(v[1])?v[1].error:v[1].data:void 0,x=t.createURL(e.location),w=t.createURL(r),S=n;s&&e.errors?S=Ib(n,Object.keys(e.errors)[0],!0):v&&On(v[1])&&(S=Ib(n,v[0]));let P=v?v[1].statusCode:void 0,k=o&&P&&P>=400,T=S.filter((M,N)=>{let{route:j}=M;if(j.lazy)return!0;if(j.loader==null)return!1;if(s)return Sg(j,e.loaderData,e.errors);if(XO(e.loaderData,e.matches[N],M)||u.some(ge=>ge===M.route.id))return!0;let U=e.matches[N],G=M;return Rb(M,ft({currentUrl:x,currentParams:U.params,nextUrl:w,nextParams:G.params},i,{actionResult:C,actionStatus:P,defaultShouldRevalidate:k?!1:l||x.pathname+x.search===w.pathname+w.search||x.search!==w.search||tE(U,G)}))}),O=[];return p.forEach((M,N)=>{if(s||!n.some(fe=>fe.route.id===M.routeId)||d.has(N))return;let j=Ds(_,M.path,y);if(!j){O.push({key:N,routeId:M.routeId,path:M.path,matches:null,match:null,controller:null});return}let U=e.fetchers.get(N),G=vl(j,M.path),ge=!1;m.has(N)?ge=!1:h.has(N)?(h.delete(N),ge=!0):U&&U.state!=="idle"&&U.data===void 0?ge=l:ge=Rb(G,ft({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},i,{actionResult:C,actionStatus:P,defaultShouldRevalidate:k?!1:l})),ge&&O.push({key:N,routeId:M.routeId,path:M.path,matches:j,match:G,controller:new AbortController})}),[T,O]}function Sg(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&e[t.id]!==void 0,r=n!=null&&n[t.id]!==void 0;return!i&&r?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!r}function XO(t,e,n){let i=!e||n.route.id!==e.route.id,r=t[n.route.id]===void 0;return i||r}function tE(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Rb(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Db(t,e,n,i,r){var s;let o;if(t){let h=i[t];Le(h,"No route found to patch children into: routeId = "+t),h.children||(h.children=[]),o=h.children}else o=n;let l=e.filter(h=>!o.some(d=>nE(h,d))),u=md(l,r,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],i);o.push(...u)}function nE(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>{var r;return(r=e.children)==null?void 0:r.some(s=>nE(n,s))}):!1}async function QO(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let r=n[t.id];Le(r,"No route found in manifest");let s={};for(let o in i){let u=r[o]!==void 0&&o!=="hasErrorBoundary";da(!u,'Route "'+r.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!wO.has(o)&&(s[o]=i[o])}Object.assign(r,s),Object.assign(r,ft({},e(r),{lazy:void 0}))}async function JO(t){let{matches:e}=t,n=e.filter(r=>r.shouldLoad);return(await Promise.all(n.map(r=>r.resolve()))).reduce((r,s,o)=>Object.assign(r,{[n[o].route.id]:s}),{})}async function eR(t,e,n,i,r,s,o,l,u,h){let d=s.map(_=>_.route.lazy?QO(_.route,u,l):void 0),p=s.map((_,y)=>{let v=d[y],C=r.some(w=>w.route.id===_.route.id);return ft({},_,{shouldLoad:C,resolve:async w=>(w&&i.method==="GET"&&(_.route.lazy||_.route.loader)&&(C=!0),C?tR(e,i,_,v,w,h):Promise.resolve({type:Xe.data,result:void 0}))})}),m=await t({matches:p,request:i,params:s[0].params,fetcherKey:o,context:h});try{await Promise.all(d)}catch{}return m}async function tR(t,e,n,i,r,s){let o,l,u=h=>{let d,p=new Promise((y,v)=>d=v);l=()=>d(),e.signal.addEventListener("abort",l);let m=y=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):h({request:e,params:n.params,context:s},...y!==void 0?[y]:[]),_=(async()=>{try{return{type:"data",result:await(r?r(v=>m(v)):m())}}catch(y){return{type:"error",result:y}}})();return Promise.race([_,p])};try{let h=n.route[t];if(i)if(h){let d,[p]=await Promise.all([u(h).catch(m=>{d=m}),i]);if(d!==void 0)throw d;o=p}else if(await i,h=n.route[t],h)o=await u(h);else if(t==="action"){let d=new URL(e.url),p=d.pathname+d.search;throw bn(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:Xe.data,result:void 0};else if(h)o=await u(h);else{let d=new URL(e.url),p=d.pathname+d.search;throw bn(404,{pathname:p})}Le(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:Xe.error,result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function nR(t){let{result:e,type:n}=t;if(rE(e)){let h;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(d){return{type:Xe.error,error:d}}return n===Xe.error?{type:Xe.error,error:new _d(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:Xe.data,data:h,statusCode:e.status,headers:e.headers}}if(n===Xe.error){if(jb(e)){var i;if(e.data instanceof Error){var r;return{type:Xe.error,error:e.data,statusCode:(r=e.init)==null?void 0:r.status}}e=new _d(((i=e.init)==null?void 0:i.status)||500,void 0,e.data)}return{type:Xe.error,error:e,statusCode:gf(e)?e.status:void 0}}if(aR(e)){var s,o;return{type:Xe.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(jb(e)){var l,u;return{type:Xe.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Xe.data,data:e}}function iR(t,e,n,i,r,s){let o=t.headers.get("Location");if(Le(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!mv.test(o)){let l=i.slice(0,i.findIndex(u=>u.route.id===n)+1);o=wg(new URL(e.url),l,r,!0,o,s),t.headers.set("Location",o)}return t}function Ab(t,e,n){if(mv.test(t)){let i=t,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),s=ur(r.pathname,n)!=null;if(r.origin===e.origin&&s)return r.pathname+r.search+r.hash}return t}function Mo(t,e,n,i){let r=t.createURL(iE(e)).toString(),s={signal:n};if(i&&li(i.formMethod)){let{formMethod:o,formEncType:l}=i;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(i.json)):l==="text/plain"?s.body=i.text:l==="application/x-www-form-urlencoded"&&i.formData?s.body=Cg(i.formData):s.body=i.formData}return new Request(r,s)}function Cg(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function Nb(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function rR(t,e,n,i,r){let s={},o=null,l,u=!1,h={},d=n&&On(n[1])?n[1].error:void 0;return t.forEach(p=>{if(!(p.route.id in e))return;let m=p.route.id,_=e[m];if(Le(!Bs(_),"Cannot handle redirect results in processLoaderData"),On(_)){let y=_.error;d!==void 0&&(y=d,d=void 0),o=o||{};{let v=As(t,m);o[v.route.id]==null&&(o[v.route.id]=y)}s[m]=void 0,u||(u=!0,l=gf(_.error)?_.error.status:500),_.headers&&(h[m]=_.headers)}else Rr(_)?(i.set(m,_.deferredData),s[m]=_.deferredData.data,_.statusCode!=null&&_.statusCode!==200&&!u&&(l=_.statusCode),_.headers&&(h[m]=_.headers)):(s[m]=_.data,_.statusCode&&_.statusCode!==200&&!u&&(l=_.statusCode),_.headers&&(h[m]=_.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:h}}function Fb(t,e,n,i,r,s,o){let{loaderData:l,errors:u}=rR(e,n,i,o);return r.forEach(h=>{let{key:d,match:p,controller:m}=h,_=s[d];if(Le(_,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(On(_)){let y=As(t.matches,p==null?void 0:p.route.id);u&&u[y.route.id]||(u=ft({},u,{[y.route.id]:_.error})),t.fetchers.delete(d)}else if(Bs(_))Le(!1,"Unhandled fetcher revalidation redirect");else if(Rr(_))Le(!1,"Unhandled fetcher deferred data");else{let y=Pr(_.data);t.fetchers.set(d,y)}}),{loaderData:l,errors:u}}function zb(t,e,n,i){let r=ft({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(r[o]=e[o]):t[o]!==void 0&&s.route.loader&&(r[o]=t[o]),i&&i.hasOwnProperty(o))break}return r}function Bb(t){return t?On(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function As(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function Vb(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function bn(t,e){let{pathname:n,routeId:i,method:r,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&n&&i?u="You made a "+r+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+i+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",r&&n&&i?u="You made a "+r.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(u='Invalid request method "'+r.toUpperCase()+'"')),new _d(t||500,l,new Error(u),!0)}function Uc(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,r]=e[n];if(Bs(r))return{key:i,result:r}}}function iE(t){let e=typeof t=="string"?ls(t):t;return Qs(ft({},e,{hash:""}))}function sR(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function oR(t){return rE(t.result)&&UO.has(t.result.status)}function Rr(t){return t.type===Xe.deferred}function On(t){return t.type===Xe.error}function Bs(t){return(t&&t.type)===Xe.redirect}function jb(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function aR(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function rE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function lR(t){return $O.has(t.toLowerCase())}function li(t){return HO.has(t.toLowerCase())}async function uR(t,e,n,i,r){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[l,u]=s[o],h=t.find(m=>(m==null?void 0:m.route.id)===l);if(!h)continue;let d=i.find(m=>m.route.id===h.route.id),p=d!=null&&!tE(d,h)&&(r&&r[h.route.id])!==void 0;Rr(u)&&p&&await gv(u,n,!1).then(m=>{m&&(e[l]=m)})}}async function cR(t,e,n){for(let i=0;i<n.length;i++){let{key:r,routeId:s,controller:o}=n[i],l=e[r];t.find(h=>(h==null?void 0:h.route.id)===s)&&Rr(l)&&(Le(o,"Expected an AbortController for revalidating fetcher deferred result"),await gv(l,o.signal,!0).then(h=>{h&&(e[r]=h)}))}}async function gv(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Xe.data,data:t.deferredData.unwrappedData}}catch(r){return{type:Xe.error,error:r}}return{type:Xe.data,data:t.deferredData.data}}}function _v(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function vl(t,e){let n=typeof e=="string"?ls(e).search:e.search;if(t[t.length-1].route.index&&_v(n||""))return t[t.length-1];let i=QC(t);return i[i.length-1]}function Hb(t){let{formMethod:e,formAction:n,formEncType:i,text:r,formData:s,json:o}=t;if(!(!e||!n||!i)){if(r!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:e,formAction:n,formEncType:i,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:o,text:void 0}}}function qp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function hR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function tl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function dR(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Pr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function fR(t,e){try{let n=t.sessionStorage.getItem(eE);if(n){let i=JSON.parse(n);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(r,new Set(s||[]))}}catch{}}function pR(t,e){if(e.size>0){let n={};for(let[i,r]of e)n[i]=[...r];try{t.sessionStorage.setItem(eE,JSON.stringify(n))}catch(i){da(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vd.apply(this,arguments)}const Vu=I.createContext(null),vv=I.createContext(null),us=I.createContext(null),yv=I.createContext(null),cs=I.createContext({outlet:null,matches:[],isDataRoute:!1}),sE=I.createContext(null);function mR(t,e){let{relative:n}=e===void 0?{}:e;ju()||Le(!1);let{basename:i,navigator:r}=I.useContext(us),{hash:s,pathname:o,search:l}=_f(t,{relative:n}),u=o;return i!=="/"&&(u=o==="/"?i:nr([i,o])),r.createHref({pathname:u,search:l,hash:s})}function ju(){return I.useContext(yv)!=null}function Ea(){return ju()||Le(!1),I.useContext(yv).location}function oE(t){I.useContext(us).static||I.useLayoutEffect(t)}function aE(){let{isDataRoute:t}=I.useContext(cs);return t?MR():gR()}function gR(){ju()||Le(!1);let t=I.useContext(Vu),{basename:e,future:n,navigator:i}=I.useContext(us),{matches:r}=I.useContext(cs),{pathname:s}=Ea(),o=JSON.stringify(fv(r,n.v7_relativeSplatPath)),l=I.useRef(!1);return oE(()=>{l.current=!0}),I.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){i.go(h);return}let p=pv(h,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:nr([e,p.pathname])),(d.replace?i.replace:i.push)(p,d.state,d)},[e,i,o,s,t])}const _R=I.createContext(null);function vR(t){let e=I.useContext(cs).outlet;return e&&I.createElement(_R.Provider,{value:t},e)}function _f(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=I.useContext(us),{matches:r}=I.useContext(cs),{pathname:s}=Ea(),o=JSON.stringify(fv(r,i.v7_relativeSplatPath));return I.useMemo(()=>pv(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function yR(t,e,n,i){ju()||Le(!1);let{navigator:r}=I.useContext(us),{matches:s}=I.useContext(cs),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=Ea(),d;d=h;let p=d.pathname||"/",m=p;if(u!=="/"){let v=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let _=Ds(t,{pathname:m});return CR(_&&_.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:nr([u,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:nr([u,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,i)}function bR(){let t=kR(),e=gf(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:r},n):null,null)}const xR=I.createElement(bR,null);class wR extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(cs.Provider,{value:this.props.routeContext},I.createElement(sE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SR(t){let{routeContext:e,match:n,children:i}=t,r=I.useContext(Vu);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(cs.Provider,{value:e},i)}function CR(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||Le(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:m,errors:_}=n,y=p.route.loader&&m[p.route.id]===void 0&&(!_||_[p.route.id]===void 0);if(p.route.lazy||y){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,p,m)=>{let _,y=!1,v=null,C=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,v=p.route.errorElement||xR,u&&(h<0&&m===0?(LR("route-fallback"),y=!0,C=null):h===m&&(y=!0,C=p.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,m+1)),w=()=>{let S;return _?S=v:y?S=C:p.route.Component?S=I.createElement(p.route.Component,null):p.route.element?S=p.route.element:S=d,I.createElement(SR,{match:p,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:S})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?I.createElement(wR,{location:n.location,revalidation:n.revalidation,component:v,error:_,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var lE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lE||{}),yd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yd||{});function ER(t){let e=I.useContext(Vu);return e||Le(!1),e}function PR(t){let e=I.useContext(vv);return e||Le(!1),e}function TR(t){let e=I.useContext(cs);return e||Le(!1),e}function uE(t){let e=TR(),n=e.matches[e.matches.length-1];return n.route.id||Le(!1),n.route.id}function kR(){var t;let e=I.useContext(sE),n=PR(yd.UseRouteError),i=uE(yd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function MR(){let{router:t}=ER(lE.UseNavigateStable),e=uE(yd.UseNavigateStable),n=I.useRef(!1);return oE(()=>{n.current=!0}),I.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,vd({fromRouteId:e},s)))},[t,e])}const Wb={};function LR(t,e,n){Wb[t]||(Wb[t]=!0)}function IR(t){return vR(t.context)}function OR(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Ot.Pop,navigator:s,static:o=!1,future:l}=t;ju()&&Le(!1);let u=e.replace(/^\/*/,"/"),h=I.useMemo(()=>({basename:u,navigator:s,static:o,future:vd({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof i=="string"&&(i=ls(i));let{pathname:d="/",search:p="",hash:m="",state:_=null,key:y="default"}=i,v=I.useMemo(()=>{let C=ur(d,u);return C==null?null:{location:{pathname:C,search:p,hash:m,state:_,key:y},navigationType:r}},[u,d,p,m,_,y,r]);return v==null?null:I.createElement(us.Provider,{value:h},I.createElement(yv.Provider,{children:n,value:v}))}new Promise(()=>{});function RR(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:I.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:I.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:I.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fa(){return fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},fa.apply(this,arguments)}function cE(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function DR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AR(t,e){return t.button===0&&(!e||e==="_self")&&!DR(t)}const NR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],FR=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],zR="6";try{window.__reactRouterVersion=zR}catch{}function BR(t,e){return KO({basename:e==null?void 0:e.basename,future:fa({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:yO({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||VR(),routes:t,mapRouteProperties:RR,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function VR(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=fa({},e,{errors:jR(e.errors)})),e}function jR(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")n[i]=new _d(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let o=new s(r.message);o.stack="",n[i]=o}catch{}}if(n[i]==null){let s=new Error(r.message);s.stack="",n[i]=s}}else n[i]=r;return n}const hE=I.createContext({isTransitioning:!1}),HR=I.createContext(new Map),WR="startTransition",$b=Mm[WR],$R="flushSync",Ub=vO[$R];function UR(t){$b?$b(t):t()}function nl(t){Ub?Ub(t):t()}let ZR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function YR(t){let{fallbackElement:e,router:n,future:i}=t,[r,s]=I.useState(n.state),[o,l]=I.useState(),[u,h]=I.useState({isTransitioning:!1}),[d,p]=I.useState(),[m,_]=I.useState(),[y,v]=I.useState(),C=I.useRef(new Map),{v7_startTransition:x}=i||{},w=I.useCallback(M=>{x?UR(M):M()},[x]),S=I.useCallback((M,N)=>{let{deletedFetchers:j,flushSync:U,viewTransitionOpts:G}=N;j.forEach(fe=>C.current.delete(fe)),M.fetchers.forEach((fe,he)=>{fe.data!==void 0&&C.current.set(he,fe.data)});let ge=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!G||ge){U?nl(()=>s(M)):w(()=>s(M));return}if(U){nl(()=>{m&&(d&&d.resolve(),m.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:G.currentLocation,nextLocation:G.nextLocation})});let fe=n.window.document.startViewTransition(()=>{nl(()=>s(M))});fe.finished.finally(()=>{nl(()=>{p(void 0),_(void 0),l(void 0),h({isTransitioning:!1})})}),nl(()=>_(fe));return}m?(d&&d.resolve(),m.skipTransition(),v({state:M,currentLocation:G.currentLocation,nextLocation:G.nextLocation})):(l(M),h({isTransitioning:!0,flushSync:!1,currentLocation:G.currentLocation,nextLocation:G.nextLocation}))},[n.window,m,d,C,w]);I.useLayoutEffect(()=>n.subscribe(S),[n,S]),I.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new ZR)},[u]),I.useEffect(()=>{if(d&&o&&n.window){let M=o,N=d.promise,j=n.window.document.startViewTransition(async()=>{w(()=>s(M)),await N});j.finished.finally(()=>{p(void 0),_(void 0),l(void 0),h({isTransitioning:!1})}),_(j)}},[w,o,d,n.window]),I.useEffect(()=>{d&&o&&r.location.key===o.location.key&&d.resolve()},[d,m,r.location,o]),I.useEffect(()=>{!u.isTransitioning&&y&&(l(y.state),h({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),v(void 0))},[u.isTransitioning,y]),I.useEffect(()=>{},[]);let P=I.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:M=>n.navigate(M),push:(M,N,j)=>n.navigate(M,{state:N,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(M,N,j)=>n.navigate(M,{replace:!0,state:N,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[n]),k=n.basename||"/",T=I.useMemo(()=>({router:n,navigator:P,static:!1,basename:k}),[n,P,k]),O=I.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return I.createElement(I.Fragment,null,I.createElement(Vu.Provider,{value:T},I.createElement(vv.Provider,{value:r},I.createElement(HR.Provider,{value:C.current},I.createElement(hE.Provider,{value:u},I.createElement(OR,{basename:k,location:r.location,navigationType:r.historyAction,navigator:P,future:O},r.initialized||n.future.v7_partialHydration?I.createElement(GR,{routes:n.routes,future:n.future,state:r}):e))))),null)}const GR=I.memo(KR);function KR(t){let{routes:e,future:n,state:i}=t;return yR(e,void 0,i,n)}const qR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QR=I.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:l,target:u,to:h,preventScrollReset:d,viewTransition:p}=e,m=cE(e,NR),{basename:_}=I.useContext(us),y,v=!1;if(typeof h=="string"&&XR.test(h)&&(y=h,qR))try{let S=new URL(window.location.href),P=h.startsWith("//")?new URL(S.protocol+h):new URL(h),k=ur(P.pathname,_);P.origin===S.origin&&k!=null?h=k+P.search+P.hash:v=!0}catch{}let C=mR(h,{relative:r}),x=eD(h,{replace:o,state:l,target:u,preventScrollReset:d,relative:r,viewTransition:p});function w(S){i&&i(S),S.defaultPrevented||x(S)}return I.createElement("a",fa({},m,{href:y||C,onClick:v||s?i:w,ref:n,target:u}))}),Zc=I.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:h,children:d}=e,p=cE(e,FR),m=_f(u,{relative:p.relative}),_=Ea(),y=I.useContext(vv),{navigator:v,basename:C}=I.useContext(us),x=y!=null&&tD(m)&&h===!0,w=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,S=_.pathname,P=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(S=S.toLowerCase(),P=P?P.toLowerCase():null,w=w.toLowerCase()),P&&C&&(P=ur(P,C)||P);const k=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let T=S===w||!o&&S.startsWith(w)&&S.charAt(k)==="/",O=P!=null&&(P===w||!o&&P.startsWith(w)&&P.charAt(w.length)==="/"),M={isActive:T,isPending:O,isTransitioning:x},N=T?i:void 0,j;typeof s=="function"?j=s(M):j=[s,T?"active":null,O?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(M):l;return I.createElement(QR,fa({},p,{"aria-current":N,className:j,ref:n,style:U,to:u,viewTransition:h}),typeof d=="function"?d(M):d)});var Eg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Eg||(Eg={}));var Zb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zb||(Zb={}));function JR(t){let e=I.useContext(Vu);return e||Le(!1),e}function eD(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=aE(),h=Ea(),d=_f(t,{relative:o});return I.useCallback(p=>{if(AR(p,n)){p.preventDefault();let m=i!==void 0?i:Qs(h)===Qs(d);u(t,{replace:m,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[h,u,d,i,r,n,t,s,o,l])}function tD(t,e){e===void 0&&(e={});let n=I.useContext(hE);n==null&&Le(!1);let{basename:i}=JR(Eg.useViewTransitionState),r=_f(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ur(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=ur(n.nextLocation.pathname,i)||n.nextLocation.pathname;return gd(r.pathname,o)!=null||gd(r.pathname,s)!=null}const nD="/water_quality_system/assets/image1-B331zOGP.png";function dE(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=dE(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Dr(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=dE(t))&&(i&&(i+=" "),i+=e);return i}const cu=t=>typeof t=="number"&&!isNaN(t),$s=t=>typeof t=="string",An=t=>typeof t=="function",Lh=t=>$s(t)||An(t)?t:null,Pg=t=>I.isValidElement(t)||$s(t)||An(t)||cu(t);function iD(t,e,n){n===void 0&&(n=300);const{scrollHeight:i,style:r}=t;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,n)})})}function vf(t){let{enter:e,exit:n,appendPosition:i=!1,collapse:r=!0,collapseDuration:s=300}=t;return function(o){let{children:l,position:u,preventExitTransition:h,done:d,nodeRef:p,isIn:m,playToast:_}=o;const y=i?`${e}--${u}`:e,v=i?`${n}--${u}`:n,C=I.useRef(0);return I.useLayoutEffect(()=>{const x=p.current,w=y.split(" "),S=P=>{P.target===p.current&&(_(),x.removeEventListener("animationend",S),x.removeEventListener("animationcancel",S),C.current===0&&P.type!=="animationcancel"&&x.classList.remove(...w))};x.classList.add(...w),x.addEventListener("animationend",S),x.addEventListener("animationcancel",S)},[]),I.useEffect(()=>{const x=p.current,w=()=>{x.removeEventListener("animationend",w),r?iD(x,d,s):d()};m||(h?w():(C.current=1,x.className+=` ${v}`,x.addEventListener("animationend",w)))},[m]),Ue.createElement(Ue.Fragment,null,l)}}function Yb(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const fn=new Map;let hu=[];const Tg=new Set,rD=t=>Tg.forEach(e=>e(t)),fE=()=>fn.size>0;function pE(t,e){var n;if(e)return!((n=fn.get(e))==null||!n.isToastActive(t));let i=!1;return fn.forEach(r=>{r.isToastActive(t)&&(i=!0)}),i}function mE(t,e){Pg(t)&&(fE()||hu.push({content:t,options:e}),fn.forEach(n=>{n.buildToast(t,e)}))}function Gb(t,e){fn.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function sD(t){const{subscribe:e,getSnapshot:n,setProps:i}=I.useRef(function(s){const o=s.containerId||1;return{subscribe(l){const u=function(d,p,m){let _=1,y=0,v=[],C=[],x=[],w=p;const S=new Map,P=new Set,k=()=>{x=Array.from(S.values()),P.forEach(M=>M())},T=M=>{C=M==null?[]:C.filter(N=>N!==M),k()},O=M=>{const{toastId:N,onOpen:j,updateId:U,children:G}=M.props,ge=U==null;M.staleId&&S.delete(M.staleId),S.set(N,M),C=[...C,M.props.toastId].filter(fe=>fe!==M.staleId),k(),m(Yb(M,ge?"added":"updated")),ge&&An(j)&&j(I.isValidElement(G)&&G.props)};return{id:d,props:w,observe:M=>(P.add(M),()=>P.delete(M)),toggle:(M,N)=>{S.forEach(j=>{N!=null&&N!==j.props.toastId||An(j.toggle)&&j.toggle(M)})},removeToast:T,toasts:S,clearQueue:()=>{y-=v.length,v=[]},buildToast:(M,N)=>{if((J=>{let{containerId:me,toastId:oe,updateId:le}=J;const ee=me?me!==d:d!==1,Fe=S.has(oe)&&le==null;return ee||Fe})(N))return;const{toastId:j,updateId:U,data:G,staleId:ge,delay:fe}=N,he=()=>{T(j)},ie=U==null;ie&&y++;const re={...w,style:w.toastStyle,key:_++,...Object.fromEntries(Object.entries(N).filter(J=>{let[me,oe]=J;return oe!=null})),toastId:j,updateId:U,data:G,closeToast:he,isIn:!1,className:Lh(N.className||w.toastClassName),bodyClassName:Lh(N.bodyClassName||w.bodyClassName),progressClassName:Lh(N.progressClassName||w.progressClassName),autoClose:!N.isLoading&&(z=N.autoClose,X=w.autoClose,z===!1||cu(z)&&z>0?z:X),deleteToast(){const J=S.get(j),{onClose:me,children:oe}=J.props;An(me)&&me(I.isValidElement(oe)&&oe.props),m(Yb(J,"removed")),S.delete(j),y--,y<0&&(y=0),v.length>0?O(v.shift()):k()}};var z,X;re.closeButton=w.closeButton,N.closeButton===!1||Pg(N.closeButton)?re.closeButton=N.closeButton:N.closeButton===!0&&(re.closeButton=!Pg(w.closeButton)||w.closeButton);let W=M;I.isValidElement(M)&&!$s(M.type)?W=I.cloneElement(M,{closeToast:he,toastProps:re,data:G}):An(M)&&(W=M({closeToast:he,toastProps:re,data:G}));const ne={content:W,props:re,staleId:ge};w.limit&&w.limit>0&&y>w.limit&&ie?v.push(ne):cu(fe)?setTimeout(()=>{O(ne)},fe):O(ne)},setProps(M){w=M},setToggle:(M,N)=>{S.get(M).toggle=N},isToastActive:M=>C.some(N=>N===M),getSnapshot:()=>x}}(o,s,rD);fn.set(o,u);const h=u.observe(l);return hu.forEach(d=>mE(d.content,d.options)),hu=[],()=>{h(),fn.delete(o)}},setProps(l){var u;(u=fn.get(o))==null||u.setProps(l)},getSnapshot(){var l;return(l=fn.get(o))==null?void 0:l.getSnapshot()}}}(t)).current;i(t);const r=I.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!r)return[];const o=new Map;return t.newestOnTop&&r.reverse(),r.forEach(l=>{const{position:u}=l.props;o.has(u)||o.set(u,[]),o.get(u).push(l)}),Array.from(o,l=>s(l[0],l[1]))},isToastActive:pE,count:r==null?void 0:r.length}}function oD(t){const[e,n]=I.useState(!1),[i,r]=I.useState(!1),s=I.useRef(null),o=I.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:h,onClick:d,closeOnClick:p}=t;var m,_;function y(){n(!0)}function v(){n(!1)}function C(S){const P=s.current;o.canDrag&&P&&(o.didMove=!0,e&&v(),o.delta=t.draggableDirection==="x"?S.clientX-o.start:S.clientY-o.start,o.start!==S.clientX&&(o.canCloseOnClick=!1),P.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,P.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function x(){document.removeEventListener("pointermove",C),document.removeEventListener("pointerup",x);const S=s.current;if(o.canDrag&&o.didMove&&S){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return r(!0),t.closeToast(),void t.collapseAll();S.style.transition="transform 0.2s, opacity 0.2s",S.style.removeProperty("transform"),S.style.removeProperty("opacity")}}(_=fn.get((m={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||_.setToggle(m.id,m.fn),I.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||v(),window.addEventListener("focus",y),window.addEventListener("blur",v),()=>{window.removeEventListener("focus",y),window.removeEventListener("blur",v)}},[t.pauseOnFocusLoss]);const w={onPointerDown:function(S){if(t.draggable===!0||t.draggable===S.pointerType){o.didMove=!1,document.addEventListener("pointermove",C),document.addEventListener("pointerup",x);const P=s.current;o.canCloseOnClick=!0,o.canDrag=!0,P.style.transition="none",t.draggableDirection==="x"?(o.start=S.clientX,o.removalDistance=P.offsetWidth*(t.draggablePercent/100)):(o.start=S.clientY,o.removalDistance=P.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(S){const{top:P,bottom:k,left:T,right:O}=s.current.getBoundingClientRect();S.nativeEvent.type!=="touchend"&&t.pauseOnHover&&S.clientX>=T&&S.clientX<=O&&S.clientY>=P&&S.clientY<=k?v():y()}};return l&&u&&(w.onMouseEnter=v,t.stacked||(w.onMouseLeave=y)),p&&(w.onClick=S=>{d&&d(S),o.canCloseOnClick&&h()}),{playToast:y,pauseToast:v,isRunning:e,preventExitTransition:i,toastRef:s,eventHandlers:w}}function aD(t){let{delay:e,isRunning:n,closeToast:i,type:r="default",hide:s,className:o,style:l,controlledProgress:u,progress:h,rtl:d,isIn:p,theme:m}=t;const _=s||u&&h===0,y={...l,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};u&&(y.transform=`scaleX(${h})`);const v=Dr("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),C=An(o)?o({rtl:d,type:r,defaultClassName:v}):Dr(v,o),x={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{p&&i()}};return Ue.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},Ue.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${r}`}),Ue.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:C,style:y,...x}))}let lD=1;const gE=()=>""+lD++;function uD(t){return t&&($s(t.toastId)||cu(t.toastId))?t.toastId:gE()}function Al(t,e){return mE(t,e),e.toastId}function bd(t,e){return{...e,type:e&&e.type||t,toastId:uD(e)}}function Yc(t){return(e,n)=>Al(e,bd(t,n))}function nt(t,e){return Al(t,bd("default",e))}nt.loading=(t,e)=>Al(t,bd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),nt.promise=function(t,e,n){let i,{pending:r,error:s,success:o}=e;r&&(i=$s(r)?nt.loading(r,n):nt.loading(r.render,{...n,...r}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(d,p,m)=>{if(p==null)return void nt.dismiss(i);const _={type:d,...l,...n,data:m},y=$s(p)?{render:p}:p;return i?nt.update(i,{..._,...y}):nt(y.render,{..._,...y}),m},h=An(t)?t():t;return h.then(d=>u("success",o,d)).catch(d=>u("error",s,d)),h},nt.success=Yc("success"),nt.info=Yc("info"),nt.error=Yc("error"),nt.warning=Yc("warning"),nt.warn=nt.warning,nt.dark=(t,e)=>Al(t,bd("default",{theme:"dark",...e})),nt.dismiss=function(t){(function(e){var n;if(fE()){if(e==null||$s(n=e)||cu(n))fn.forEach(i=>{i.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const i=fn.get(e.containerId);i?i.removeToast(e.id):fn.forEach(r=>{r.removeToast(e.id)})}}else hu=hu.filter(i=>e!=null&&i.options.toastId!==e)})(t)},nt.clearWaitingQueue=function(t){t===void 0&&(t={}),fn.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},nt.isActive=pE,nt.update=function(t,e){e===void 0&&(e={});const n=((i,r)=>{var s;let{containerId:o}=r;return(s=fn.get(o||1))==null?void 0:s.toasts.get(i)})(t,e);if(n){const{props:i,content:r}=n,s={delay:100,...i,...e,toastId:e.toastId||t,updateId:gE()};s.toastId!==t&&(s.staleId=t);const o=s.render||r;delete s.render,Al(o,s)}},nt.done=t=>{nt.update(t,{progress:1})},nt.onChange=function(t){return Tg.add(t),()=>{Tg.delete(t)}},nt.play=t=>Gb(!0,t),nt.pause=t=>Gb(!1,t);const cD=typeof window<"u"?I.useLayoutEffect:I.useEffect,Gc=t=>{let{theme:e,type:n,isLoading:i,...r}=t;return Ue.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Xp={info:function(t){return Ue.createElement(Gc,{...t},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Ue.createElement(Gc,{...t},Ue.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Ue.createElement(Gc,{...t},Ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Ue.createElement(Gc,{...t},Ue.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ue.createElement("div",{className:"Toastify__spinner"})}},hD=t=>{const{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:r,playToast:s}=oD(t),{closeButton:o,children:l,autoClose:u,onClick:h,type:d,hideProgressBar:p,closeToast:m,transition:_,position:y,className:v,style:C,bodyClassName:x,bodyStyle:w,progressClassName:S,progressStyle:P,updateId:k,role:T,progress:O,rtl:M,toastId:N,deleteToast:j,isIn:U,isLoading:G,closeOnClick:ge,theme:fe}=t,he=Dr("Toastify__toast",`Toastify__toast-theme--${fe}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":M},{"Toastify__toast--close-on-click":ge}),ie=An(v)?v({rtl:M,position:y,type:d,defaultClassName:he}):Dr(he,v),re=function(ne){let{theme:J,type:me,isLoading:oe,icon:le}=ne,ee=null;const Fe={theme:J,type:me};return le===!1||(An(le)?ee=le({...Fe,isLoading:oe}):I.isValidElement(le)?ee=I.cloneElement(le,Fe):oe?ee=Xp.spinner():(bt=>bt in Xp)(me)&&(ee=Xp[me](Fe))),ee}(t),z=!!O||!u,X={closeToast:m,type:d,theme:fe};let W=null;return o===!1||(W=An(o)?o(X):I.isValidElement(o)?I.cloneElement(o,X):function(ne){let{closeToast:J,theme:me,ariaLabel:oe="close"}=ne;return Ue.createElement("button",{className:`Toastify__close-button Toastify__close-button--${me}`,type:"button",onClick:le=>{le.stopPropagation(),J(le)},"aria-label":oe},Ue.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ue.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(X)),Ue.createElement(_,{isIn:U,done:j,position:y,preventExitTransition:n,nodeRef:i,playToast:s},Ue.createElement("div",{id:N,onClick:h,"data-in":U,className:ie,...r,style:C,ref:i},Ue.createElement("div",{...U&&{role:T},className:An(x)?x({type:d}):Dr("Toastify__toast-body",x),style:w},re!=null&&Ue.createElement("div",{className:Dr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!G})},re),Ue.createElement("div",null,l)),W,Ue.createElement(aD,{...k&&!z?{key:`pb-${k}`}:{},rtl:M,theme:fe,delay:u,isRunning:e,isIn:U,closeToast:m,hide:p,type:d,style:P,className:S,controlledProgress:z,progress:O||0})))},yf=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},dD=vf(yf("bounce",!0));vf(yf("slide",!0));vf(yf("zoom"));vf(yf("flip"));const fD={position:"top-right",transition:dD,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function pD(t){let e={...fD,...t};const n=t.stacked,[i,r]=I.useState(!0),s=I.useRef(null),{getToastToRender:o,isToastActive:l,count:u}=sD(e),{className:h,style:d,rtl:p,containerId:m}=e;function _(v){const C=Dr("Toastify__toast-container",`Toastify__toast-container--${v}`,{"Toastify__toast-container--rtl":p});return An(h)?h({position:v,rtl:p,defaultClassName:C}):Dr(C,Lh(h))}function y(){n&&(r(!0),nt.play())}return cD(()=>{if(n){var v;const C=s.current.querySelectorAll('[data-in="true"]'),x=12,w=(v=e.position)==null?void 0:v.includes("top");let S=0,P=0;Array.from(C).reverse().forEach((k,T)=>{const O=k;O.classList.add("Toastify__toast--stacked"),T>0&&(O.dataset.collapsed=`${i}`),O.dataset.pos||(O.dataset.pos=w?"top":"bot");const M=S*(i?.2:1)+(i?0:x*T);O.style.setProperty("--y",`${w?M:-1*M}px`),O.style.setProperty("--g",`${x}`),O.style.setProperty("--s",""+(1-(i?P:0))),S+=O.offsetHeight,P+=.025})}},[i,u,n]),Ue.createElement("div",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{n&&(r(!1),nt.pause())},onMouseLeave:y},o((v,C)=>{const x=C.length?{...d}:{...d,pointerEvents:"none"};return Ue.createElement("div",{className:_(v),style:x,key:`container-${v}`},C.map(w=>{let{content:S,props:P}=w;return Ue.createElement(hD,{...P,stacked:n,collapseAll:y,isIn:l(P.toastId,P.containerId),style:P.style,key:`toast-${P.key}`},S)}))}))}const mD=()=>{const t=aE(),e=n=>{n.preventDefault(),nt.success("Login successful"),setTimeout(()=>{t("/dashboard")},3e3)};return H.jsxs(H.Fragment,{children:[H.jsxs("div",{className:"font-[sans-serif] h-screen grid lg:grid-cols-2 md:grid-cols-2 items-center gap-4",children:[H.jsx("div",{className:"order-2 md:order-1 h-screen hidden md:block",children:H.jsx("img",{src:nD,className:"w-full h-full object-cover object-right",alt:"login"})}),H.jsxs("div",{className:"order-1 md:order-2 p-8",children:[H.jsxs("div",{className:"text-center font-bold mb-4",children:[H.jsx("h1",{className:"text-3xl text-blue-500",children:"Water Quality"}),H.jsx("h3",{className:"text-end mr-10 lg:mr-64 md:mr-12 text-blue-400",children:"System"})]}),H.jsxs("div",{className:"mb-6 lg:ml-40",children:[H.jsx("h2",{className:"text-2xl font-bold",children:"Welcome Back"}),H.jsx("p",{className:"text-gray-500",children:"Login to your account"})]}),H.jsxs("form",{className:"lg:mr-40 lg:ml-40",children:[H.jsxs("div",{className:"mb-4",children:[H.jsx("label",{htmlFor:"userName",className:"text-sm",children:"User Name"}),H.jsx("input",{type:"text",id:"userName",className:"border border-gray-200 rounded-lg p-2 w-full mt-1 focus:outline-none",placeholder:"Enter your user name","aria-label":"User Name"})]}),H.jsxs("div",{className:"mb-4",children:[H.jsx("label",{htmlFor:"password",className:"text-sm",children:"Password"}),H.jsx("input",{type:"password",id:"password",className:"border border-gray-200 rounded-lg p-2 w-full mt-1 focus:outline-none",placeholder:"Enter your password","aria-label":"Password"})]}),H.jsx("div",{children:H.jsx("button",{className:"bg-blue-500 text-white w-full py-2 rounded-lg hover:bg-blue-900",onClick:e,children:"Login"})})]})]})]}),H.jsx(pD,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},gD=({title:t})=>H.jsx("header",{className:"bg-gray-200 p-4",children:H.jsx("h1",{className:"text-3xl font-semibold text-gray-700",children:t})}),_D=()=>H.jsxs("nav",{className:"flex flex-col h-full p-4 bg-gray-800 text-white fixed",style:{width:"180px"},children:[H.jsxs("div",{className:"flex-1",children:[H.jsx("h1",{className:"text-base lg:text-xl font-bold",children:"Water Quality"}),H.jsx("h2",{className:"text-sm text-end",children:" System"}),H.jsxs("ul",{children:[H.jsx("li",{className:"mt-12 mb-4",children:H.jsx(Zc,{to:"/dashboard",className:({isActive:t})=>t?"text-blue-300":"hover:text-gray-300",children:"Dashboard"})}),H.jsx("li",{className:"mb-4",children:H.jsx(Zc,{to:"/data-visualization",className:({isActive:t})=>t?"text-blue-300":"hover:text-gray-300",children:"Data Visualization"})}),H.jsx("li",{className:"mb-4",children:H.jsx(Zc,{to:"/company-data",className:({isActive:t})=>t?"text-blue-300":"hover:text-gray-300",children:"Comapany Data"})})]})]}),H.jsx("div",{className:"mb-12 flex-row",children:H.jsx(Zc,{to:"/",className:"hover:text-gray-300",children:"Logout"})})]}),vD=()=>{const t=Ea();let e="Dashboard";return t.pathname==="/dashboard"?e="Dashboard":t.pathname==="/data-visualization"?e="Data Visualization":t.pathname==="/company-data"&&(e="Company Data"),H.jsxs("div",{className:"flex h-screen",children:[H.jsx("div",{className:"w-[180px] ",children:H.jsx(_D,{})}),H.jsxs("div",{className:"flex-1",children:[H.jsx(gD,{title:e}),H.jsx("div",{className:"p-2",children:H.jsx(IR,{})})]})]})},yD="/water_quality_system/assets/under_construction-BJmI_rru.png",bD=()=>H.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[H.jsx("img",{src:yD,className:"h-[350px] object-cover object-center",alt:"under construction"}),H.jsx("p",{className:"mt-4 text-center",children:"Under Development"})]});var Kb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(t,e){if(!t)throw Pa(e)},Pa=function(t){return new Error("Firebase Database ("+_E.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},xD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],l=t[n++],u=((r&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,l=o?t[r+1]:0,u=r+2<t.length,h=u?t[r+2]:0,d=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,o||(m=64)),i.push(n[d],n[p],n[m],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const p=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||h==null||p==null)throw new wD;const m=s<<2|l>>4;if(i.push(m),h!==64){const _=l<<4&240|h>>2;if(i.push(_),p!==64){const y=h<<6&192|p;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yE=function(t){const e=vE(t);return bv.encodeByteArray(e,!0)},xd=function(t){return yE(t).replace(/\./g,"")},kg=function(t){try{return bv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){return bE(void 0,t)}function bE(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!CD(n)||(t[n]=bE(t[n],e[n]));return t}function CD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=()=>ED().__FIREBASE_DEFAULTS__,TD=()=>{if(typeof process>"u"||typeof Kb>"u")return;const t=Kb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&kg(t[1]);return e&&JSON.parse(e)},xE=()=>{try{return PD()||TD()||kD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MD=t=>{var e,n;return(n=(e=xE())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},LD=t=>{const e=MD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},wE=()=>{var t;return(t=xE())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xd(JSON.stringify(n)),xd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(OD())}function RD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CE(){return _E.NODE_ADMIN===!0}function DD(){try{return typeof indexedDB=="object"}catch{return!1}}function AD(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND="FirebaseError";class Hu extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=ND,Object.setPrototypeOf(this,Hu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,EE.prototype.create)}}class EE{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?FD(s,i):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new Hu(r,l,i)}}function FD(t,e){return t.replace(zD,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const zD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){return JSON.parse(t)}function Nt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=du(kg(s[0])||""),n=du(kg(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},BD=function(t){const e=PE(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},VD=function(t){const e=PE(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function pa(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function qb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wd(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function Mg(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Xb(s)&&Xb(o)){if(!Mg(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Xb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)i[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)i[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const m=i[p-3]^i[p-8]^i[p-14]^i[p-16];i[p]=(m<<1|m>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],u=this.chain_[4],h,d;for(let p=0;p<80;p++){p<40?p<20?(h=l^s&(o^l),d=1518500249):(h=s^o^l,d=1859775393):p<60?(h=s&o|l&(s|o),d=2400959708):(h=s^o^l,d=3395469782);const m=(r<<5|r>>>27)+h+u+d+i[p]&4294967295;u=l,l=o,o=(s<<30|s>>>2)&4294967295,s=r,r=m}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function TE(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,q(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},bf=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){return t&&t._delegate?t._delegate:t}class fu{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new xv;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZD(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:UD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UD(t){return t===Ls?void 0:t}function ZD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $D(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const GD={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},KD=rt.INFO,qD={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},XD=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=qD[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kE{constructor(e){this.name=e,this._logLevel=KD,this._logHandler=XD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const QD=(t,e)=>e.some(n=>t instanceof n);let Qb,Jb;function JD(){return Qb||(Qb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e2(){return Jb||(Jb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ME=new WeakMap,Lg=new WeakMap,LE=new WeakMap,Qp=new WeakMap,wv=new WeakMap;function t2(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Yr(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ME.set(n,t)}).catch(()=>{}),wv.set(e,t),e}function n2(t){if(Lg.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Lg.set(t,e)}let Ig={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function i2(t){Ig=t(Ig)}function r2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Jp(this),e,...n);return LE.set(i,e.sort?e.sort():[e]),Yr(i)}:e2().includes(t)?function(...e){return t.apply(Jp(this),e),Yr(ME.get(this))}:function(...e){return Yr(t.apply(Jp(this),e))}}function s2(t){return typeof t=="function"?r2(t):(t instanceof IDBTransaction&&n2(t),QD(t,JD())?new Proxy(t,Ig):t)}function Yr(t){if(t instanceof IDBRequest)return t2(t);if(Qp.has(t))return Qp.get(t);const e=s2(t);return e!==t&&(Qp.set(t,e),wv.set(e,t)),e}const Jp=t=>wv.get(t);function o2(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),l=Yr(o);return i&&o.addEventListener("upgradeneeded",u=>{i(Yr(o.result),u.oldVersion,u.newVersion,Yr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const a2=["get","getKey","getAll","getAllKeys","count"],l2=["put","add","delete","clear"],em=new Map;function ex(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=l2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||a2.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return em.set(e,s),s}i2(t=>({...t,get:(e,n,i)=>ex(e,n)||t.get(e,n,i),has:(e,n)=>!!ex(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(c2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function c2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Og="@firebase/app",tx="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new kE("@firebase/app"),h2="@firebase/app-compat",d2="@firebase/analytics-compat",f2="@firebase/analytics",p2="@firebase/app-check-compat",m2="@firebase/app-check",g2="@firebase/auth",_2="@firebase/auth-compat",v2="@firebase/database",y2="@firebase/data-connect",b2="@firebase/database-compat",x2="@firebase/functions",w2="@firebase/functions-compat",S2="@firebase/installations",C2="@firebase/installations-compat",E2="@firebase/messaging",P2="@firebase/messaging-compat",T2="@firebase/performance",k2="@firebase/performance-compat",M2="@firebase/remote-config",L2="@firebase/remote-config-compat",I2="@firebase/storage",O2="@firebase/storage-compat",R2="@firebase/firestore",D2="@firebase/vertexai-preview",A2="@firebase/firestore-compat",N2="firebase",F2="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="[DEFAULT]",z2={[Og]:"fire-core",[h2]:"fire-core-compat",[f2]:"fire-analytics",[d2]:"fire-analytics-compat",[m2]:"fire-app-check",[p2]:"fire-app-check-compat",[g2]:"fire-auth",[_2]:"fire-auth-compat",[v2]:"fire-rtdb",[y2]:"fire-data-connect",[b2]:"fire-rtdb-compat",[x2]:"fire-fn",[w2]:"fire-fn-compat",[S2]:"fire-iid",[C2]:"fire-iid-compat",[E2]:"fire-fcm",[P2]:"fire-fcm-compat",[T2]:"fire-perf",[k2]:"fire-perf-compat",[M2]:"fire-rc",[L2]:"fire-rc-compat",[I2]:"fire-gcs",[O2]:"fire-gcs-compat",[R2]:"fire-fst",[A2]:"fire-fst-compat",[D2]:"fire-vertex","fire-js":"fire-js",[N2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Map,B2=new Map,Dg=new Map;function nx(t,e){try{t.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cd(t){const e=t.name;if(Dg.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;Dg.set(e,t);for(const n of Sd.values())nx(n,t);for(const n of B2.values())nx(n,t);return!0}function V2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new EE("app","Firebase",j2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new fu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=F2;function IE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Rg,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Gr.create("bad-app-name",{appName:String(r)});if(n||(n=wE()),!n)throw Gr.create("no-options");const s=Sd.get(r);if(s){if(Mg(n,s.options)&&Mg(i,s.config))return s;throw Gr.create("duplicate-app",{appName:r})}const o=new YD(r);for(const u of Dg.values())o.addComponent(u);const l=new H2(n,i,o);return Sd.set(r,l),l}function $2(t=Rg){const e=Sd.get(t);if(!e&&t===Rg&&wE())return IE();if(!e)throw Gr.create("no-app",{appName:t});return e}function ea(t,e,n){var i;let r=(i=z2[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(l.join(" "));return}Cd(new fu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="firebase-heartbeat-database",Z2=1,pu="firebase-heartbeat-store";let tm=null;function OE(){return tm||(tm=o2(U2,Z2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gr.create("idb-open",{originalErrorMessage:t.message})})),tm}async function Y2(t){try{const n=(await OE()).transaction(pu),i=await n.objectStore(pu).get(RE(t));return await n.done,i}catch(e){if(e instanceof Hu)cr.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(n.message)}}}async function ix(t,e){try{const i=(await OE()).transaction(pu,"readwrite");await i.objectStore(pu).put(e,RE(t)),await i.done}catch(n){if(n instanceof Hu)cr.warn(n.message);else{const i=Gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cr.warn(i.message)}}}function RE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=1024,K2=30*24*60*60*1e3;class q2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rx();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=K2}),this._storage.overwrite(this._heartbeatsCache))}catch(i){cr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rx(),{heartbeatsToSend:i,unsentEntries:r}=X2(this._heartbeatsCache.heartbeats),s=xd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return cr.warn(n),""}}}function rx(){return new Date().toISOString().substring(0,10)}function X2(t,e=G2){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),sx(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),sx(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Q2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DD()?AD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Y2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ix(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ix(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function sx(t){return xd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t){Cd(new fu("platform-logger",e=>new u2(e),"PRIVATE")),Cd(new fu("heartbeat",e=>new q2(e),"PRIVATE")),ea(Og,tx,t),ea(Og,tx,"esm2017"),ea("fire-js","")}J2("");var eA="firebase",tA="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ea(eA,tA,"app");var ox={};const ax="@firebase/database",lx="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DE="";function nA(t){DE=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Nt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:du(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return pr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new iA(e)}}catch{}return new rA},Vs=AE("localStorage"),sA=AE("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new kE("@firebase/database"),oA=function(){let t=1;return function(){return t++}}(),NE=function(t){const e=WD(t),n=new HD;n.update(e);const i=n.digest();return bv.encodeByteArray(i)},$u=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=$u.apply(null,i):typeof i=="object"?e+=Nt(i):e+=i,e+=" "}return e};let Nl=null,ux=!0;const aA=function(t,e){q(!e,"Can't turn on custom loggers persistently."),ta.logLevel=rt.VERBOSE,Nl=ta.log.bind(ta)},sn=function(...t){if(ux===!0&&(ux=!1,Nl===null&&sA.get("logging_enabled")===!0&&aA()),Nl){const e=$u.apply(null,t);Nl(e)}},Uu=function(t){return function(...e){sn(t,...e)}},Ag=function(...t){const e="FIREBASE INTERNAL ERROR: "+$u(...t);ta.error(e)},hr=function(...t){const e=`FIREBASE FATAL ERROR: ${$u(...t)}`;throw ta.error(e),new Error(e)},Fn=function(...t){const e="FIREBASE WARNING: "+$u(...t);ta.warn(e)},lA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Fn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},FE=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},uA=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ma="[MIN_NAME]",Js="[MAX_NAME]",Ta=function(t,e){if(t===e)return 0;if(t===ma||e===Js)return-1;if(e===ma||t===Js)return 1;{const n=cx(t),i=cx(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},cA=function(t,e){return t===e?0:t<e?-1:1},il=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Nt(e))},Sv=function(t){if(typeof t!="object"||t===null)return Nt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Nt(e[i]),n+=":",n+=Sv(t[e[i]]);return n+="}",n},zE=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function kn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const BE=function(t){q(!FE(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,o,l,u;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=l+i,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));const h=[];for(u=n;u;u-=1)h.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(r?1:0),h.reverse();const d=h.join("");let p="";for(u=0;u<64;u+=8){let m=parseInt(d.substr(u,8),2).toString(16);m.length===1&&(m="0"+m),p=p+m}return p.toLowerCase()},hA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},dA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function fA(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const pA=new RegExp("^-?(0*)\\d{1,10}$"),mA=-2147483648,gA=2147483647,cx=function(t){if(pA.test(t)){const e=Number(t);if(e>=mA&&e<=gA)return e}return null},Zu=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Fn("Exception was thrown by user callback.",n),e},Math.floor(0))}},_A=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Fn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(sn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fn(e)}}class Ih{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ih.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="5",VE="v",jE="s",HE="r",WE="f",$E=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,UE="ls",ZE="p",Ng="ac",YE="websocket",GE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n,i,r,s=!1,o="",l=!1,u=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Vs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function bA(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function qE(t,e,n){q(typeof e=="string","typeof type must == string"),q(typeof n=="object","typeof params must == object");let i;if(e===YE)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===GE)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);bA(t)&&(n.ns=t.namespace);const r=[];return kn(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(){this.counters_={}}incrementCounter(e,n=1){pr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return SD(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm={},im={};function Ev(t){const e=t.toString();return nm[e]||(nm[e]=new xA),nm[e]}function wA(t,e){const n=t.toString();return im[n]||(im[n]=e()),im[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Zu(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="start",CA="close",EA="pLPCommand",PA="pRTLPCB",XE="id",QE="pw",JE="ser",TA="cb",kA="seg",MA="ts",LA="d",IA="dframe",eP=1870,tP=30,OA=eP-tP,RA=25e3,DA=3e4;class Zo{constructor(e,n,i,r,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Uu(e),this.stats_=Ev(n),this.urlFn=u=>(this.appCheckToken&&(u[Ng]=this.appCheckToken),qE(n,GE,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new SA(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(DA)),uA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pv((...s)=>{const[o,l,u,h,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===hx)this.id=l,this.password=u;else if(o===CA)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[hx]="t",i[JE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[TA]=this.scriptTagHolder.uniqueCallbackIdentifier),i[VE]=Cv,this.transportSessionId&&(i[jE]=this.transportSessionId),this.lastSessionId&&(i[UE]=this.lastSessionId),this.applicationId&&(i[ZE]=this.applicationId),this.appCheckToken&&(i[Ng]=this.appCheckToken),typeof location<"u"&&location.hostname&&$E.test(location.hostname)&&(i[HE]=WE);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zo.forceAllow_=!0}static forceDisallow(){Zo.forceDisallow_=!0}static isAvailable(){return Zo.forceAllow_?!0:!Zo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!hA()&&!dA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=yE(n),r=zE(i,OA);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[IA]="t",i[XE]=e,i[QE]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Nt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Pv{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=oA(),window[EA+this.uniqueCallbackIdentifier]=e,window[PA+this.uniqueCallbackIdentifier]=n,this.myIFrame=Pv.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){sn("frame writing exception"),l.stack&&sn(l.stack),sn(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||sn("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[XE]=this.myID,e[QE]=this.myPW,e[JE]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+tP+i.length<=eP;){const o=this.pendingSegs.shift();i=i+"&"+kA+r+"="+o.seg+"&"+MA+r+"="+o.ts+"&"+LA+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(RA)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{sn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=16384,NA=45e3;let Ed=null;typeof MozWebSocket<"u"?Ed=MozWebSocket:typeof WebSocket<"u"&&(Ed=WebSocket);class ci{constructor(e,n,i,r,s,o,l){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Uu(this.connId),this.stats_=Ev(n),this.connURL=ci.connectionURL_(n,o,l,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,s){const o={};return o[VE]=Cv,typeof location<"u"&&location.hostname&&$E.test(location.hostname)&&(o[HE]=WE),n&&(o[jE]=n),i&&(o[UE]=i),r&&(o[Ng]=r),s&&(o[ZE]=s),qE(e,YE,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vs.set("previous_websocket_failure",!0);try{let i;CE(),this.mySock=new Ed(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){ci.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Ed!==null&&!ci.forceDisallow_}static previouslyFailed(){return Vs.isInMemoryStorage||Vs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Vs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=du(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(q(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Nt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=zE(n,AA);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(NA))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ci.responsesRequiredToBeHealthy=2;ci.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Zo,ci]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ci&&ci.isAvailable();let i=n&&!ci.previouslyFailed();if(e.webSocketOnly&&(n||Fn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ci];else{const r=this.transports_=[];for(const s of mu.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);mu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}mu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=6e4,zA=5e3,BA=10*1024,VA=100*1024,rm="t",dx="d",jA="s",fx="r",HA="e",px="o",mx="a",gx="n",_x="p",WA="h";class $A{constructor(e,n,i,r,s,o,l,u,h,d){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=u,this.onKill_=h,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Uu("c:"+this.id+":"),this.transportManager_=new mu(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Fl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>VA?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BA?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(rm in e){const n=e[rm];n===mx?this.upgradeIfSecondaryHealthy_():n===fx?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===px&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=il("t",e),i=il("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:_x,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:mx,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:gx,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=il("t",e),i=il("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=il(rm,e);if(dx in e){const i=e[dx];if(n===WA){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===gx){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===jA?this.onConnectionShutdown_(i):n===fx?this.onReset_(i):n===HA?Ag("Server Error: "+i):n===px?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ag("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Cv!==i&&Fn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Fl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(FA))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zA))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:_x,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.allowedEvents_=e,this.listeners_={},q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){q(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends iP{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!SE()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Pd}getInitialEvent(e){return q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=32,yx=768;class Qe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function He(){return new Qe("")}function Ne(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function es(t){return t.pieces_.length-t.pieceNum_}function st(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Qe(t.pieces_,e)}function rP(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function UA(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function sP(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function oP(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Qe(e,0)}function Ft(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Qe)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Qe(n,0)}function Oe(t){return t.pieceNum_>=t.pieces_.length}function pn(t,e){const n=Ne(t),i=Ne(e);if(n===null)return e;if(n===i)return pn(st(t),st(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function aP(t,e){if(es(t)!==es(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function hi(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(es(t)>es(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class ZA{constructor(e,n){this.errorPrefix_=n,this.parts_=sP(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=bf(this.parts_[i]);lP(this)}}function YA(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=bf(e),lP(t)}function GA(t){const e=t.parts_.pop();t.byteLength_-=bf(e),t.parts_.length>0&&(t.byteLength_-=1)}function lP(t){if(t.byteLength_>yx)throw new Error(t.errorPrefix_+"has a key path longer than "+yx+" bytes ("+t.byteLength_+").");if(t.parts_.length>vx)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+vx+") or object contains a cycle "+Is(t))}function Is(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends iP{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Tv}getInitialEvent(e){return q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=1e3,KA=60*5*1e3,bx=30*1e3,qA=1.3,XA=3e4,QA="server_kill",xx=3;class ir extends nP{constructor(e,n,i,r,s,o,l,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=ir.nextPersistentConnectionId_++,this.log_=Uu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rl,this.maxReconnectDelay_=KA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!CE())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tv.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Pd.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,s={r,a:e,b:n};this.log_(Nt(s)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new xv,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,i,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const u=l.d,h=l.s;ir.warnOnListenWarnings_(u,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",l),h!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(h,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&pr(e,"w")){const i=pa(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Fn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||VD(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=bx)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=BD(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Nt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Ag("Unrecognized action received from server: "+Nt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>XA&&(this.reconnectDelay_=rl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*qA)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+ir.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const u=function(){l?l.close():(o=!0,i())},h=function(p){q(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(p)};this.realtime_={close:u,sendRequest:h};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,m]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?sn("getToken() completed but was canceled"):(sn("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=m&&m.token,l=new $A(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,_=>{Fn(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(QA)},s))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&Fn(p),u())}}}interrupt(e){sn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){sn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],qb(this.interruptReasons_)&&(this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(s=>Sv(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new Qe(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){sn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=xx&&(this.reconnectDelay_=bx,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){sn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=xx&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+DE.replace(/\./g,"-")]=1,SE()?e["framework.cordova"]=1:RD()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Pd.getInstance().currentlyOnline();return qb(this.interruptReasons_)&&e}}ir.nextPersistentConnectionId_=0;ir.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ie(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new Ie(ma,e),r=new Ie(ma,n);return this.compare(i,r)!==0}minPost(){return Ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc;class uP extends xf{static get __EMPTY_NODE(){return Kc}static set __EMPTY_NODE(e){Kc=e}compare(e,n){return Ta(e.name,n.name)}isDefinedOn(e){throw Pa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ie.MIN}maxPost(){return new Ie(Js,Kc)}makePost(e,n){return q(typeof e=="string","KeyIndex indexValue must always be a string."),new Ie(e,Kc)}toString(){return".key"}}const na=new uP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Wt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??Wt.RED,this.left=r??Cn.EMPTY_NODE,this.right=s??Cn.EMPTY_NODE}copy(e,n,i,r,s){return new Wt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Cn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Cn.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Wt.RED=!0;Wt.BLACK=!1;class JA{copy(e,n,i,r,s){return this}insert(e,n,i){return new Wt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Cn{constructor(e,n=Cn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Cn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Wt.BLACK,null,null))}remove(e){return new Cn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Wt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new qc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new qc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new qc(this.root_,null,this.comparator_,!0,e)}}Cn.EMPTY_NODE=new JA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t,e){return Ta(t.name,e.name)}function kv(t,e){return Ta(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fg;function tN(t){Fg=t}const cP=function(t){return typeof t=="number"?"number:"+BE(t):"string:"+t},hP=function(t){if(t.isLeafNode()){const e=t.val();q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&pr(e,".sv"),"Priority must be a string or number.")}else q(t===Fg||t.isEmpty(),"priority of unexpected type.");q(t===Fg||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wx;class jt{constructor(e,n=jt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),hP(this.priorityNode_)}static set __childrenNodeConstructor(e){wx=e}static get __childrenNodeConstructor(){return wx}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new jt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:jt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Oe(e)?this:Ne(e)===".priority"?this.priorityNode_:jt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:jt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Ne(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(q(i!==".priority"||es(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,jt.__childrenNodeConstructor.EMPTY_NODE.updateChild(st(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+cP(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=BE(this.value_):e+=this.value_,this.lazyHash_=NE(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===jt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof jt.__childrenNodeConstructor?-1:(q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=jt.VALUE_TYPE_ORDER.indexOf(n),s=jt.VALUE_TYPE_ORDER.indexOf(i);return q(r>=0,"Unknown leaf type: "+n),q(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}jt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dP,fP;function nN(t){dP=t}function iN(t){fP=t}class rN extends xf{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?Ta(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ie.MIN}maxPost(){return new Ie(Js,new jt("[PRIORITY-POST]",fP))}makePost(e,n){const i=dP(e);return new Ie(n,new jt("[PRIORITY-POST]",i))}toString(){return".priority"}}const St=new rN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=Math.log(2);class oN{constructor(e){const n=s=>parseInt(Math.log(s)/sN,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Td=function(t,e,n,i){t.sort(e);const r=function(u,h){const d=h-u;let p,m;if(d===0)return null;if(d===1)return p=t[u],m=n?n(p):p,new Wt(m,p.node,Wt.BLACK,null,null);{const _=parseInt(d/2,10)+u,y=r(u,_),v=r(_+1,h);return p=t[_],m=n?n(p):p,new Wt(m,p.node,Wt.BLACK,y,v)}},s=function(u){let h=null,d=null,p=t.length;const m=function(y,v){const C=p-y,x=p;p-=y;const w=r(C+1,x),S=t[C],P=n?n(S):S;_(new Wt(P,S.node,v,null,w))},_=function(y){h?(h.left=y,h=y):(d=y,h=y)};for(let y=0;y<u.count;++y){const v=u.nextBitIsOne(),C=Math.pow(2,u.count-(y+1));v?m(C,Wt.BLACK):(m(C,Wt.BLACK),m(C,Wt.RED))}return d},o=new oN(t.length),l=s(o);return new Cn(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sm;const Lo={};class Xi{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return q(Lo&&St,"ChildrenNode.ts has not been loaded"),sm=sm||new Xi({".priority":Lo},{".priority":St}),sm}get(e){const n=pa(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Cn?n:null}hasIndex(e){return pr(this.indexSet_,e.toString())}addIndex(e,n){q(e!==na,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(Ie.Wrap);let o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let l;r?l=Td(i,e.getCompare()):l=Lo;const u=e.toString(),h=Object.assign({},this.indexSet_);h[u]=e;const d=Object.assign({},this.indexes_);return d[u]=l,new Xi(d,h)}addToIndexes(e,n){const i=wd(this.indexes_,(r,s)=>{const o=pa(this.indexSet_,s);if(q(o,"Missing index implementation for "+s),r===Lo)if(o.isDefinedOn(e.node)){const l=[],u=n.getIterator(Ie.Wrap);let h=u.getNext();for(;h;)h.name!==e.name&&l.push(h),h=u.getNext();return l.push(e),Td(l,o.getCompare())}else return Lo;else{const l=n.get(e.name);let u=r;return l&&(u=u.remove(new Ie(e.name,l))),u.insert(e,e.node)}});return new Xi(i,this.indexSet_)}removeFromIndexes(e,n){const i=wd(this.indexes_,r=>{if(r===Lo)return r;{const s=n.get(e.name);return s?r.remove(new Ie(e.name,s)):r}});return new Xi(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl;class xe{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&hP(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return sl||(sl=new xe(new Cn(kv),null,Xi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||sl}updatePriority(e){return this.children_.isEmpty()?this:new xe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?sl:n}}getChild(e){const n=Ne(e);return n===null?this:this.getImmediateChild(n).getChild(st(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(q(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new Ie(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?sl:this.priorityNode_;return new xe(r,o,s)}}updateChild(e,n){const i=Ne(e);if(i===null)return n;{q(Ne(e)!==".priority"||es(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(st(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(St,(o,l)=>{n[o]=l.val(e),i++,s&&xe.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+cP(this.getPriority().val())+":"),this.forEachChild(St,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":NE(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new Ie(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ie(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ie(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,Ie.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,Ie.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Yu?-1:0}withIndex(e){if(e===na||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new xe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===na||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(St),r=n.getIterator(St);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===na?null:this.indexMap_.get(e.toString())}}xe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aN extends xe{constructor(){super(new Cn(kv),xe.EMPTY_NODE,Xi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return xe.EMPTY_NODE}isEmpty(){return!1}}const Yu=new aN;Object.defineProperties(Ie,{MIN:{value:new Ie(ma,xe.EMPTY_NODE)},MAX:{value:new Ie(Js,Yu)}});uP.__EMPTY_NODE=xe.EMPTY_NODE;jt.__childrenNodeConstructor=xe;tN(Yu);iN(Yu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=!0;function qt(t,e=null){if(t===null)return xe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new jt(n,qt(e))}if(!(t instanceof Array)&&lN){const n=[];let i=!1;if(kn(t,(o,l)=>{if(o.substring(0,1)!=="."){const u=qt(l);u.isEmpty()||(i=i||!u.getPriority().isEmpty(),n.push(new Ie(o,u)))}}),n.length===0)return xe.EMPTY_NODE;const s=Td(n,eN,o=>o.name,kv);if(i){const o=Td(n,St.getCompare());return new xe(s,qt(e),new Xi({".priority":o},{".priority":St}))}else return new xe(s,qt(e),Xi.Default)}else{let n=xe.EMPTY_NODE;return kn(t,(i,r)=>{if(pr(t,i)&&i.substring(0,1)!=="."){const s=qt(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(qt(e))}}nN(qt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN extends xf{constructor(e){super(),this.indexPath_=e,q(!Oe(e)&&Ne(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?Ta(e.name,n.name):s}makePost(e,n){const i=qt(e),r=xe.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ie(n,r)}maxPost(){const e=xe.EMPTY_NODE.updateChild(this.indexPath_,Yu);return new Ie(Js,e)}toString(){return sP(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN extends xf{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Ta(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ie.MIN}maxPost(){return Ie.MAX}makePost(e,n){const i=qt(e);return new Ie(n,i)}toString(){return".value"}}const hN=new cN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){return{type:"value",snapshotNode:t}}function ga(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function gu(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function _u(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function dN(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this.index_=e}updateChild(e,n,i,r,s,o){q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(r).equals(i.getChild(r))&&l.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(gu(n,l)):q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(ga(n,i)):o.trackChildChange(_u(n,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(St,(r,s)=>{n.hasChild(r)||i.trackChildChange(gu(r,s))}),n.isLeafNode()||n.forEachChild(St,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(_u(r,s,o))}else i.trackChildChange(ga(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?xe.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this.indexedFilter_=new Mv(e.getIndex()),this.index_=e.getIndex(),this.startPost_=vu.getStartPost_(e),this.endPost_=vu.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,o){return this.matches(new Ie(n,i))||(i=xe.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=xe.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(xe.EMPTY_NODE);const s=this;return n.forEachChild(St,(o,l)=>{s.matches(new Ie(o,l))||(r=r.updateImmediateChild(o,xe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new vu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,o){return this.rangedFilter_.matches(new Ie(n,i))||(i=xe.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,o):this.fullLimitUpdateChild_(e,n,i,s,o)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=xe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=xe.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))r=r.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(xe.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:r=r.updateImmediateChild(l.name,xe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let o;if(this.reverse_){const p=this.index_.getCompare();o=(m,_)=>p(_,m)}else o=this.index_.getCompare();const l=e;q(l.numChildren()===this.limit_,"");const u=new Ie(n,i),h=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(u);if(l.hasChild(n)){const p=l.getImmediateChild(n);let m=r.getChildAfterChild(this.index_,h,this.reverse_);for(;m!=null&&(m.name===n||l.hasChild(m.name));)m=r.getChildAfterChild(this.index_,m,this.reverse_);const _=m==null?1:o(m,u);if(d&&!i.isEmpty()&&_>=0)return s!=null&&s.trackChildChange(_u(n,i,p)),l.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(gu(n,p));const v=l.updateImmediateChild(n,xe.EMPTY_NODE);return m!=null&&this.rangedFilter_.matches(m)?(s!=null&&s.trackChildChange(ga(m.name,m.node)),v.updateImmediateChild(m.name,m.node)):v}}else return i.isEmpty()?e:d&&o(h,u)>=0?(s!=null&&(s.trackChildChange(gu(h.name,h.node)),s.trackChildChange(ga(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(h.name,xe.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=St}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ma}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Js}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===St}copy(){const e=new Lv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pN(t){return t.loadsAllData()?new Mv(t.getIndex()):t.hasLimit()?new fN(t):new vu(t)}function Sx(t){const e={};if(t.isDefault())return e;let n;if(t.index_===St?n="$priority":t.index_===hN?n="$value":t.index_===na?n="$key":(q(t.index_ instanceof uN,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Nt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Nt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Nt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Nt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Nt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Cx(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==St&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd extends nP{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Uu("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=kd.getListenId_(e,i),l={};this.listens_[o]=l;const u=Sx(e._queryParams);this.restRequest_(s+".json",u,(h,d)=>{let p=d;if(h===404&&(p=null,h=null),h===null&&this.onDataUpdate_(s,p,!1,i),pa(this.listens_,o)===l){let m;h?h===401?m="permission_denied":m="rest_error:"+h:m="ok",r(m,null)}})}unlisten(e,n){const i=kd.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Sx(e._queryParams),i=e._path.toString(),r=new xv;return this.restRequest_(i+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(i,l,!1,null),r.resolve(l)):r.reject(new Error(l))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+jD(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=du(l.responseText)}catch{Fn("Failed to parse JSON response for "+o+": "+l.responseText)}i(null,u)}else l.status!==401&&l.status!==404&&Fn("Got unsuccessful REST response for "+o+" Status: "+l.status),i(l.status);i=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.rootNode_=xe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(){return{value:null,children:new Map}}function mP(t,e,n){if(Oe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Ne(e);t.children.has(i)||t.children.set(i,Md());const r=t.children.get(i);e=st(e),mP(r,e,n)}}function zg(t,e,n){t.value!==null?n(e,t.value):gN(t,(i,r)=>{const s=new Qe(e.toString()+"/"+i);zg(r,s,n)})}function gN(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&kn(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex=10*1e3,vN=30*1e3,yN=5*60*1e3;class bN{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new _N(e);const i=Ex+(vN-Ex)*Math.random();Fl(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;kn(e,(r,s)=>{s>0&&pr(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),Fl(this.reportStats_.bind(this),Math.floor(Math.random()*2*yN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(di||(di={}));function gP(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Iv(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ov(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=di.ACK_USER_WRITE,this.source=gP()}operationForChild(e){if(Oe(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Qe(e));return new Ld(He(),n,this.revert)}}else return q(Ne(this.path)===e,"operationForChild called for unrelated child."),new Ld(st(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.source=e,this.path=n,this.type=di.LISTEN_COMPLETE}operationForChild(e){return Oe(this.path)?new yu(this.source,He()):new yu(this.source,st(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=di.OVERWRITE}operationForChild(e){return Oe(this.path)?new eo(this.source,He(),this.snap.getImmediateChild(e)):new eo(this.source,st(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=di.MERGE}operationForChild(e){if(Oe(this.path)){const n=this.children.subtree(new Qe(e));return n.isEmpty()?null:n.value?new eo(this.source,He(),n.value):new bu(this.source,He(),n)}else return q(Ne(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bu(this.source,st(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Oe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ne(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function wN(t,e,n,i){const r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(dN(o.childName,o.snapshotNode))}),ol(t,r,"child_removed",e,i,n),ol(t,r,"child_added",e,i,n),ol(t,r,"child_moved",s,i,n),ol(t,r,"child_changed",e,i,n),ol(t,r,"value",e,i,n),r}function ol(t,e,n,i,r,s){const o=i.filter(l=>l.type===n);o.sort((l,u)=>CN(t,l,u)),o.forEach(l=>{const u=SN(t,l,s);r.forEach(h=>{h.respondsTo(l.type)&&e.push(h.createEvent(u,t.query_))})})}function SN(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function CN(t,e,n){if(e.childName==null||n.childName==null)throw Pa("Should only compare child_ events.");const i=new Ie(e.childName,e.snapshotNode),r=new Ie(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t,e){return{eventCache:t,serverCache:e}}function zl(t,e,n,i){return wf(new ts(e,n,i),t.serverCache)}function _P(t,e,n,i){return wf(t.eventCache,new ts(e,n,i))}function Id(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function to(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om;const EN=()=>(om||(om=new Cn(cA)),om);class lt{constructor(e,n=EN()){this.value=e,this.children=n}static fromObject(e){let n=new lt(null);return kn(e,(i,r)=>{n=n.set(new Qe(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:He(),value:this.value};if(Oe(e))return null;{const i=Ne(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(st(e),n);return s!=null?{path:Ft(new Qe(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Oe(e))return this;{const n=Ne(e),i=this.children.get(n);return i!==null?i.subtree(st(e)):new lt(null)}}set(e,n){if(Oe(e))return new lt(n,this.children);{const i=Ne(e),s=(this.children.get(i)||new lt(null)).set(st(e),n),o=this.children.insert(i,s);return new lt(this.value,o)}}remove(e){if(Oe(e))return this.children.isEmpty()?new lt(null):new lt(null,this.children);{const n=Ne(e),i=this.children.get(n);if(i){const r=i.remove(st(e));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new lt(null):new lt(this.value,s)}else return this}}get(e){if(Oe(e))return this.value;{const n=Ne(e),i=this.children.get(n);return i?i.get(st(e)):null}}setTree(e,n){if(Oe(e))return n;{const i=Ne(e),s=(this.children.get(i)||new lt(null)).setTree(st(e),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new lt(this.value,o)}}fold(e){return this.fold_(He(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Ft(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,He(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(Oe(e))return null;{const s=Ne(e),o=this.children.get(s);return o?o.findOnPath_(st(e),Ft(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,He(),n)}foreachOnPath_(e,n,i){if(Oe(e))return this;{this.value&&i(n,this.value);const r=Ne(e),s=this.children.get(r);return s?s.foreachOnPath_(st(e),Ft(n,r),i):new lt(null)}}foreach(e){this.foreach_(He(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Ft(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.writeTree_=e}static empty(){return new gi(new lt(null))}}function Bl(t,e,n){if(Oe(e))return new gi(new lt(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const o=pn(r,e);return s=s.updateChild(o,n),new gi(t.writeTree_.set(r,s))}else{const r=new lt(n),s=t.writeTree_.setTree(e,r);return new gi(s)}}}function Px(t,e,n){let i=t;return kn(n,(r,s)=>{i=Bl(i,Ft(e,r),s)}),i}function Tx(t,e){if(Oe(e))return gi.empty();{const n=t.writeTree_.setTree(e,new lt(null));return new gi(n)}}function Bg(t,e){return ao(t,e)!=null}function ao(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(pn(n.path,e)):null}function kx(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(St,(i,r)=>{e.push(new Ie(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new Ie(i,r.value))}),e}function Kr(t,e){if(Oe(e))return t;{const n=ao(t,e);return n!=null?new gi(new lt(n)):new gi(t.writeTree_.subtree(e))}}function Vg(t){return t.writeTree_.isEmpty()}function _a(t,e){return vP(He(),t.writeTree_,e)}function vP(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(q(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=vP(Ft(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Ft(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t,e){return wP(e,t)}function PN(t,e,n,i,r){q(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Bl(t.visibleWrites,e,n)),t.lastWriteId=i}function TN(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function kN(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);q(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&MN(l,i.path)?r=!1:hi(i.path,l.path)&&(s=!0)),o--}if(r){if(s)return LN(t),!0;if(i.snap)t.visibleWrites=Tx(t.visibleWrites,i.path);else{const l=i.children;kn(l,u=>{t.visibleWrites=Tx(t.visibleWrites,Ft(i.path,u))})}return!0}else return!1}function MN(t,e){if(t.snap)return hi(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&hi(Ft(t.path,n),e))return!0;return!1}function LN(t){t.visibleWrites=yP(t.allWrites,IN,He()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function IN(t){return t.visible}function yP(t,e,n){let i=gi.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let l;if(s.snap)hi(n,o)?(l=pn(n,o),i=Bl(i,l,s.snap)):hi(o,n)&&(l=pn(o,n),i=Bl(i,He(),s.snap.getChild(l)));else if(s.children){if(hi(n,o))l=pn(n,o),i=Px(i,l,s.children);else if(hi(o,n))if(l=pn(o,n),Oe(l))i=Px(i,He(),s.children);else{const u=pa(s.children,Ne(l));if(u){const h=u.getChild(st(l));i=Bl(i,He(),h)}}}else throw Pa("WriteRecord should have .snap or .children")}}return i}function bP(t,e,n,i,r){if(!i&&!r){const s=ao(t.visibleWrites,e);if(s!=null)return s;{const o=Kr(t.visibleWrites,e);if(Vg(o))return n;if(n==null&&!Bg(o,He()))return null;{const l=n||xe.EMPTY_NODE;return _a(o,l)}}}else{const s=Kr(t.visibleWrites,e);if(!r&&Vg(s))return n;if(!r&&n==null&&!Bg(s,He()))return null;{const o=function(h){return(h.visible||r)&&(!i||!~i.indexOf(h.writeId))&&(hi(h.path,e)||hi(e,h.path))},l=yP(t.allWrites,o,e),u=n||xe.EMPTY_NODE;return _a(l,u)}}}function ON(t,e,n){let i=xe.EMPTY_NODE;const r=ao(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(St,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=Kr(t.visibleWrites,e);return n.forEachChild(St,(o,l)=>{const u=_a(Kr(s,new Qe(o)),l);i=i.updateImmediateChild(o,u)}),kx(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=Kr(t.visibleWrites,e);return kx(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function RN(t,e,n,i,r){q(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Ft(e,n);if(Bg(t.visibleWrites,s))return null;{const o=Kr(t.visibleWrites,s);return Vg(o)?r.getChild(n):_a(o,r.getChild(n))}}function DN(t,e,n,i){const r=Ft(e,n),s=ao(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=Kr(t.visibleWrites,r);return _a(o,i.getNode().getImmediateChild(n))}else return null}function AN(t,e){return ao(t.visibleWrites,e)}function NN(t,e,n,i,r,s,o){let l;const u=Kr(t.visibleWrites,e),h=ao(u,He());if(h!=null)l=h;else if(n!=null)l=_a(u,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],p=o.getCompare(),m=s?l.getReverseIteratorFrom(i,o):l.getIteratorFrom(i,o);let _=m.getNext();for(;_&&d.length<r;)p(_,i)!==0&&d.push(_),_=m.getNext();return d}else return[]}function FN(){return{visibleWrites:gi.empty(),allWrites:[],lastWriteId:-1}}function Od(t,e,n,i){return bP(t.writeTree,t.treePath,e,n,i)}function Rv(t,e){return ON(t.writeTree,t.treePath,e)}function Mx(t,e,n,i){return RN(t.writeTree,t.treePath,e,n,i)}function Rd(t,e){return AN(t.writeTree,Ft(t.treePath,e))}function zN(t,e,n,i,r,s){return NN(t.writeTree,t.treePath,e,n,i,r,s)}function Dv(t,e,n){return DN(t.writeTree,t.treePath,e,n)}function xP(t,e){return wP(Ft(t.treePath,e),t.writeTree)}function wP(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;q(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),q(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,_u(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,gu(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,ga(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,_u(i,e.snapshotNode,r.oldSnap));else throw Pa("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const SP=new VN;class Av{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new ts(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Dv(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:to(this.viewCache_),s=zN(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t){return{filter:t}}function HN(t,e){q(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),q(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function WN(t,e,n,i,r){const s=new BN;let o,l;if(n.type===di.OVERWRITE){const h=n;h.source.fromUser?o=jg(t,e,h.path,h.snap,i,r,s):(q(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered()&&!Oe(h.path),o=Dd(t,e,h.path,h.snap,i,r,l,s))}else if(n.type===di.MERGE){const h=n;h.source.fromUser?o=UN(t,e,h.path,h.children,i,r,s):(q(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered(),o=Hg(t,e,h.path,h.children,i,r,l,s))}else if(n.type===di.ACK_USER_WRITE){const h=n;h.revert?o=GN(t,e,h.path,i,r,s):o=ZN(t,e,h.path,h.affectedTree,i,r,s)}else if(n.type===di.LISTEN_COMPLETE)o=YN(t,e,n.path,i,s);else throw Pa("Unknown operation type: "+n.type);const u=s.getChanges();return $N(e,o,u),{viewCache:o,changes:u}}function $N(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Id(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(pP(Id(e)))}}function CP(t,e,n,i,r,s){const o=e.eventCache;if(Rd(i,n)!=null)return e;{let l,u;if(Oe(n))if(q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=to(e),d=h instanceof xe?h:xe.EMPTY_NODE,p=Rv(i,d);l=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const h=Od(i,to(e));l=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=Ne(n);if(h===".priority"){q(es(n)===1,"Can't have a priority with additional path components");const d=o.getNode();u=e.serverCache.getNode();const p=Mx(i,n,d,u);p!=null?l=t.filter.updatePriority(d,p):l=o.getNode()}else{const d=st(n);let p;if(o.isCompleteForChild(h)){u=e.serverCache.getNode();const m=Mx(i,n,o.getNode(),u);m!=null?p=o.getNode().getImmediateChild(h).updateChild(d,m):p=o.getNode().getImmediateChild(h)}else p=Dv(i,h,e.serverCache);p!=null?l=t.filter.updateChild(o.getNode(),h,p,d,r,s):l=o.getNode()}}return zl(e,l,o.isFullyInitialized()||Oe(n),t.filter.filtersNodes())}}function Dd(t,e,n,i,r,s,o,l){const u=e.serverCache;let h;const d=o?t.filter:t.filter.getIndexedFilter();if(Oe(n))h=d.updateFullNode(u.getNode(),i,null);else if(d.filtersNodes()&&!u.isFiltered()){const _=u.getNode().updateChild(n,i);h=d.updateFullNode(u.getNode(),_,null)}else{const _=Ne(n);if(!u.isCompleteForPath(n)&&es(n)>1)return e;const y=st(n),C=u.getNode().getImmediateChild(_).updateChild(y,i);_===".priority"?h=d.updatePriority(u.getNode(),C):h=d.updateChild(u.getNode(),_,C,y,SP,null)}const p=_P(e,h,u.isFullyInitialized()||Oe(n),d.filtersNodes()),m=new Av(r,p,s);return CP(t,p,n,r,m,l)}function jg(t,e,n,i,r,s,o){const l=e.eventCache;let u,h;const d=new Av(r,e,s);if(Oe(n))h=t.filter.updateFullNode(e.eventCache.getNode(),i,o),u=zl(e,h,!0,t.filter.filtersNodes());else{const p=Ne(n);if(p===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),i),u=zl(e,h,l.isFullyInitialized(),l.isFiltered());else{const m=st(n),_=l.getNode().getImmediateChild(p);let y;if(Oe(m))y=i;else{const v=d.getCompleteChild(p);v!=null?rP(m)===".priority"&&v.getChild(oP(m)).isEmpty()?y=v:y=v.updateChild(m,i):y=xe.EMPTY_NODE}if(_.equals(y))u=e;else{const v=t.filter.updateChild(l.getNode(),p,y,m,d,o);u=zl(e,v,l.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function Lx(t,e){return t.eventCache.isCompleteForChild(e)}function UN(t,e,n,i,r,s,o){let l=e;return i.foreach((u,h)=>{const d=Ft(n,u);Lx(e,Ne(d))&&(l=jg(t,l,d,h,r,s,o))}),i.foreach((u,h)=>{const d=Ft(n,u);Lx(e,Ne(d))||(l=jg(t,l,d,h,r,s,o))}),l}function Ix(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Hg(t,e,n,i,r,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,h;Oe(n)?h=i:h=new lt(null).setTree(n,i);const d=e.serverCache.getNode();return h.children.inorderTraversal((p,m)=>{if(d.hasChild(p)){const _=e.serverCache.getNode().getImmediateChild(p),y=Ix(t,_,m);u=Dd(t,u,new Qe(p),y,r,s,o,l)}}),h.children.inorderTraversal((p,m)=>{const _=!e.serverCache.isCompleteForChild(p)&&m.value===null;if(!d.hasChild(p)&&!_){const y=e.serverCache.getNode().getImmediateChild(p),v=Ix(t,y,m);u=Dd(t,u,new Qe(p),v,r,s,o,l)}}),u}function ZN(t,e,n,i,r,s,o){if(Rd(r,n)!=null)return e;const l=e.serverCache.isFiltered(),u=e.serverCache;if(i.value!=null){if(Oe(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Dd(t,e,n,u.getNode().getChild(n),r,s,l,o);if(Oe(n)){let h=new lt(null);return u.getNode().forEachChild(na,(d,p)=>{h=h.set(new Qe(d),p)}),Hg(t,e,n,h,r,s,l,o)}else return e}else{let h=new lt(null);return i.foreach((d,p)=>{const m=Ft(n,d);u.isCompleteForPath(m)&&(h=h.set(d,u.getNode().getChild(m)))}),Hg(t,e,n,h,r,s,l,o)}}function YN(t,e,n,i,r){const s=e.serverCache,o=_P(e,s.getNode(),s.isFullyInitialized()||Oe(n),s.isFiltered());return CP(t,o,n,i,SP,r)}function GN(t,e,n,i,r,s){let o;if(Rd(i,n)!=null)return e;{const l=new Av(i,e,r),u=e.eventCache.getNode();let h;if(Oe(n)||Ne(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Od(i,to(e));else{const p=e.serverCache.getNode();q(p instanceof xe,"serverChildren would be complete if leaf node"),d=Rv(i,p)}d=d,h=t.filter.updateFullNode(u,d,s)}else{const d=Ne(n);let p=Dv(i,d,e.serverCache);p==null&&e.serverCache.isCompleteForChild(d)&&(p=u.getImmediateChild(d)),p!=null?h=t.filter.updateChild(u,d,p,st(n),l,s):e.eventCache.getNode().hasChild(d)?h=t.filter.updateChild(u,d,xe.EMPTY_NODE,st(n),l,s):h=u,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Od(i,to(e)),o.isLeafNode()&&(h=t.filter.updateFullNode(h,o,s)))}return o=e.serverCache.isFullyInitialized()||Rd(i,He())!=null,zl(e,h,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Mv(i.getIndex()),s=pN(i);this.processor_=jN(s);const o=n.serverCache,l=n.eventCache,u=r.updateFullNode(xe.EMPTY_NODE,o.getNode(),null),h=s.updateFullNode(xe.EMPTY_NODE,l.getNode(),null),d=new ts(u,o.isFullyInitialized(),r.filtersNodes()),p=new ts(h,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=wf(p,d),this.eventGenerator_=new xN(this.query_)}get query(){return this.query_}}function qN(t){return t.viewCache_.serverCache.getNode()}function XN(t){return Id(t.viewCache_)}function QN(t,e){const n=to(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Oe(e)&&!n.getImmediateChild(Ne(e)).isEmpty())?n.getChild(e):null}function Ox(t){return t.eventRegistrations_.length===0}function JN(t,e){t.eventRegistrations_.push(e)}function Rx(t,e,n){const i=[];if(n){q(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function Dx(t,e,n,i){e.type===di.MERGE&&e.source.queryId!==null&&(q(to(t.viewCache_),"We should always have a full cache before handling merges"),q(Id(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=WN(t.processor_,r,e,n,i);return HN(t.processor_,s.viewCache),q(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,EP(t,s.changes,s.viewCache.eventCache.getNode(),null)}function eF(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(St,(s,o)=>{i.push(ga(s,o))}),n.isFullyInitialized()&&i.push(pP(n.getNode())),EP(t,i,n.getNode(),e)}function EP(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return wN(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ad;class PP{constructor(){this.views=new Map}}function tF(t){q(!Ad,"__referenceConstructor has already been defined"),Ad=t}function nF(){return q(Ad,"Reference.ts has not been loaded"),Ad}function iF(t){return t.views.size===0}function Nv(t,e,n,i){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return q(s!=null,"SyncTree gave us an op for an invalid query."),Dx(s,e,n,i)}else{let s=[];for(const o of t.views.values())s=s.concat(Dx(o,e,n,i));return s}}function TP(t,e,n,i,r){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=Od(n,r?i:null),u=!1;l?u=!0:i instanceof xe?(l=Rv(n,i),u=!1):(l=xe.EMPTY_NODE,u=!1);const h=wf(new ts(l,u,!1),new ts(i,r,!1));return new KN(e,h)}return o}function rF(t,e,n,i,r,s){const o=TP(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),JN(o,n),eF(o,n)}function sF(t,e,n,i){const r=e._queryIdentifier,s=[];let o=[];const l=ns(t);if(r==="default")for(const[u,h]of t.views.entries())o=o.concat(Rx(h,n,i)),Ox(h)&&(t.views.delete(u),h.query._queryParams.loadsAllData()||s.push(h.query));else{const u=t.views.get(r);u&&(o=o.concat(Rx(u,n,i)),Ox(u)&&(t.views.delete(r),u.query._queryParams.loadsAllData()||s.push(u.query)))}return l&&!ns(t)&&s.push(new(nF())(e._repo,e._path)),{removed:s,events:o}}function kP(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function qr(t,e){let n=null;for(const i of t.views.values())n=n||QN(i,e);return n}function MP(t,e){if(e._queryParams.loadsAllData())return Cf(t);{const i=e._queryIdentifier;return t.views.get(i)}}function LP(t,e){return MP(t,e)!=null}function ns(t){return Cf(t)!=null}function Cf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd;function oF(t){q(!Nd,"__referenceConstructor has already been defined"),Nd=t}function aF(){return q(Nd,"Reference.ts has not been loaded"),Nd}let lF=1;class Ax{constructor(e){this.listenProvider_=e,this.syncPointTree_=new lt(null),this.pendingWriteTree_=FN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uF(t,e,n,i,r){return PN(t.pendingWriteTree_,e,n,i,r),r?Ku(t,new eo(gP(),e,n)):[]}function Yo(t,e,n=!1){const i=TN(t.pendingWriteTree_,e);if(kN(t.pendingWriteTree_,e)){let s=new lt(null);return i.snap!=null?s=s.set(He(),!0):kn(i.children,o=>{s=s.set(new Qe(o),!0)}),Ku(t,new Ld(i.path,s,n))}else return[]}function Gu(t,e,n){return Ku(t,new eo(Iv(),e,n))}function cF(t,e,n){const i=lt.fromObject(n);return Ku(t,new bu(Iv(),e,i))}function hF(t,e){return Ku(t,new yu(Iv(),e))}function dF(t,e,n){const i=Fv(t,n);if(i){const r=zv(i),s=r.path,o=r.queryId,l=pn(s,e),u=new yu(Ov(o),l);return Bv(t,s,u)}else return[]}function IP(t,e,n,i,r=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||LP(o,e))){const u=sF(o,e,n,i);iF(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const h=u.removed;if(l=u.events,!r){const d=h.findIndex(m=>m._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(s,(m,_)=>ns(_));if(d&&!p){const m=t.syncPointTree_.subtree(s);if(!m.isEmpty()){const _=gF(m);for(let y=0;y<_.length;++y){const v=_[y],C=v.query,x=NP(t,v);t.listenProvider_.startListening(Vl(C),xu(t,C),x.hashFn,x.onComplete)}}}!p&&h.length>0&&!i&&(d?t.listenProvider_.stopListening(Vl(e),null):h.forEach(m=>{const _=t.queryToTagMap.get(Ef(m));t.listenProvider_.stopListening(Vl(m),_)}))}_F(t,h)}return l}function OP(t,e,n,i){const r=Fv(t,i);if(r!=null){const s=zv(r),o=s.path,l=s.queryId,u=pn(o,e),h=new eo(Ov(l),u,n);return Bv(t,o,h)}else return[]}function fF(t,e,n,i){const r=Fv(t,i);if(r){const s=zv(r),o=s.path,l=s.queryId,u=pn(o,e),h=lt.fromObject(n),d=new bu(Ov(l),u,h);return Bv(t,o,d)}else return[]}function pF(t,e,n,i=!1){const r=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(r,(m,_)=>{const y=pn(m,r);s=s||qr(_,y),o=o||ns(_)});let l=t.syncPointTree_.get(r);l?(o=o||ns(l),s=s||qr(l,He())):(l=new PP,t.syncPointTree_=t.syncPointTree_.set(r,l));let u;s!=null?u=!0:(u=!1,s=xe.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((_,y)=>{const v=qr(y,He());v&&(s=s.updateImmediateChild(_,v))}));const h=LP(l,e);if(!h&&!e._queryParams.loadsAllData()){const m=Ef(e);q(!t.queryToTagMap.has(m),"View does not exist, but we have a tag");const _=vF();t.queryToTagMap.set(m,_),t.tagToQueryMap.set(_,m)}const d=Sf(t.pendingWriteTree_,r);let p=rF(l,e,n,d,s,u);if(!h&&!o&&!i){const m=MP(l,e);p=p.concat(yF(t,e,m))}return p}function RP(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const u=pn(o,e),h=qr(l,u);if(h)return h});return bP(r,e,s,n,!0)}function mF(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(h,d)=>{const p=pn(h,n);i=i||qr(d,p)});let r=t.syncPointTree_.get(n);r?i=i||qr(r,He()):(r=new PP,t.syncPointTree_=t.syncPointTree_.set(n,r));const s=i!=null,o=s?new ts(i,!0,!1):null,l=Sf(t.pendingWriteTree_,e._path),u=TP(r,e,l,s?o.getNode():xe.EMPTY_NODE,s);return XN(u)}function Ku(t,e){return DP(e,t.syncPointTree_,null,Sf(t.pendingWriteTree_,He()))}function DP(t,e,n,i){if(Oe(t.path))return AP(t,e,n,i);{const r=e.get(He());n==null&&r!=null&&(n=qr(r,He()));let s=[];const o=Ne(t.path),l=t.operationForChild(o),u=e.children.get(o);if(u&&l){const h=n?n.getImmediateChild(o):null,d=xP(i,o);s=s.concat(DP(l,u,h,d))}return r&&(s=s.concat(Nv(r,t,i,n))),s}}function AP(t,e,n,i){const r=e.get(He());n==null&&r!=null&&(n=qr(r,He()));let s=[];return e.children.inorderTraversal((o,l)=>{const u=n?n.getImmediateChild(o):null,h=xP(i,o),d=t.operationForChild(o);d&&(s=s.concat(AP(d,l,u,h)))}),r&&(s=s.concat(Nv(r,t,i,n))),s}function NP(t,e){const n=e.query,i=xu(t,n);return{hashFn:()=>(qN(e)||xe.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?dF(t,n._path,i):hF(t,n._path);{const s=fA(r,n);return IP(t,n,null,s)}}}}function xu(t,e){const n=Ef(e);return t.queryToTagMap.get(n)}function Ef(t){return t._path.toString()+"$"+t._queryIdentifier}function Fv(t,e){return t.tagToQueryMap.get(e)}function zv(t){const e=t.indexOf("$");return q(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Qe(t.substr(0,e))}}function Bv(t,e,n){const i=t.syncPointTree_.get(e);q(i,"Missing sync point for query tag that we're tracking");const r=Sf(t.pendingWriteTree_,e);return Nv(i,n,r,null)}function gF(t){return t.fold((e,n,i)=>{if(n&&ns(n))return[Cf(n)];{let r=[];return n&&(r=kP(n)),kn(i,(s,o)=>{r=r.concat(o)}),r}})}function Vl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(aF())(t._repo,t._path):t}function _F(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=Ef(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function vF(){return lF++}function yF(t,e,n){const i=e._path,r=xu(t,e),s=NP(t,n),o=t.listenProvider_.startListening(Vl(e),r,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(i);if(r)q(!ns(l.value),"If we're adding a query, it shouldn't be shadowed");else{const u=l.fold((h,d,p)=>{if(!Oe(h)&&d&&ns(d))return[Cf(d).query];{let m=[];return d&&(m=m.concat(kP(d).map(_=>_.query))),kn(p,(_,y)=>{m=m.concat(y)}),m}});for(let h=0;h<u.length;++h){const d=u[h];t.listenProvider_.stopListening(Vl(d),xu(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Vv(n)}node(){return this.node_}}class jv{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ft(this.path_,e);return new jv(this.syncTree_,n)}node(){return RP(this.syncTree_,this.path_)}}const bF=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Nx=function(t,e,n){if(!t||typeof t!="object")return t;if(q(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return xF(t[".sv"],e,n);if(typeof t[".sv"]=="object")return wF(t[".sv"],e);q(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},xF=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:q(!1,"Unexpected server value: "+t)}},wF=function(t,e,n){t.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&q(!1,"Unexpected increment value: "+i);const r=e.node();if(q(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},SF=function(t,e,n,i){return Hv(e,new jv(n,t),i)},CF=function(t,e,n){return Hv(t,new Vv(e),n)};function Hv(t,e,n){const i=t.getPriority().val(),r=Nx(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Nx(o.getValue(),e,n);return l!==o.getValue()||r!==o.getPriority().val()?new jt(l,qt(r)):t}else{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new jt(r))),o.forEachChild(St,(l,u)=>{const h=Hv(u,e.getImmediateChild(l),n);h!==u&&(s=s.updateImmediateChild(l,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function $v(t,e){let n=e instanceof Qe?e:new Qe(e),i=t,r=Ne(n);for(;r!==null;){const s=pa(i.node.children,r)||{children:{},childCount:0};i=new Wv(r,i,s),n=st(n),r=Ne(n)}return i}function ka(t){return t.node.value}function FP(t,e){t.node.value=e,Wg(t)}function zP(t){return t.node.childCount>0}function EF(t){return ka(t)===void 0&&!zP(t)}function Pf(t,e){kn(t.node.children,(n,i)=>{e(new Wv(n,t,i))})}function BP(t,e,n,i){n&&!i&&e(t),Pf(t,r=>{BP(r,e,!0,i)}),n&&i&&e(t)}function PF(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function qu(t){return new Qe(t.parent===null?t.name:qu(t.parent)+"/"+t.name)}function Wg(t){t.parent!==null&&TF(t.parent,t.name,t)}function TF(t,e,n){const i=EF(n),r=pr(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Wg(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Wg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=/[\[\].#$\/\u0000-\u001F\u007F]/,MF=/[\[\].#$\u0000-\u001F\u007F]/,am=10*1024*1024,VP=function(t){return typeof t=="string"&&t.length!==0&&!kF.test(t)},jP=function(t){return typeof t=="string"&&t.length!==0&&!MF.test(t)},LF=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),jP(t)},HP=function(t,e,n){const i=n instanceof Qe?new ZA(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Is(i));if(typeof e=="function")throw new Error(t+"contains a function "+Is(i)+" with contents = "+e.toString());if(FE(e))throw new Error(t+"contains "+e.toString()+" "+Is(i));if(typeof e=="string"&&e.length>am/3&&bf(e)>am)throw new Error(t+"contains a string greater than "+am+" utf8 bytes "+Is(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(kn(e,(o,l)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!VP(o)))throw new Error(t+" contains an invalid key ("+o+") "+Is(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);YA(i,o),HP(t,l,i),GA(i)}),r&&s)throw new Error(t+' contains ".value" child '+Is(i)+" in addition to actual children.")}},WP=function(t,e,n,i){if(!jP(n))throw new Error(TE(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IF=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),WP(t,e,n)},OF=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!VP(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!LF(n))throw new Error(TE(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function DF(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();n!==null&&!aP(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function hs(t,e,n){DF(t,n),AF(t,i=>hi(i,e)||hi(e,i))}function AF(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const s=r.path;e(s)?(NF(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function NF(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Nl&&sn("event: "+n.toString()),Zu(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="repo_interrupt",zF=25;class BF{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new RF,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Md(),this.transactionQueueTree_=new Wv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function VF(t,e,n){if(t.stats_=Ev(t.repoInfo_),t.forceRestClient_||_A())t.server_=new kd(t.repoInfo_,(i,r,s,o)=>{Fx(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>zx(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new ir(t.repoInfo_,e,(i,r,s,o)=>{Fx(t,i,r,s,o)},i=>{zx(t,i)},i=>{HF(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=wA(t.repoInfo_,()=>new bN(t.stats_,t.server_)),t.infoData_=new mN,t.infoSyncTree_=new Ax({startListening:(i,r,s,o)=>{let l=[];const u=t.infoData_.getNode(i._path);return u.isEmpty()||(l=Gu(t.infoSyncTree_,i._path,u),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Uv(t,"connected",!1),t.serverSyncTree_=new Ax({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(l,u)=>{const h=o(l,u);hs(t.eventQueue_,i._path,h)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function jF(t){const n=t.infoData_.getNode(new Qe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $P(t){return bF({timestamp:jF(t)})}function Fx(t,e,n,i,r){t.dataUpdateCount++;const s=new Qe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const u=wd(n,h=>qt(h));o=fF(t.serverSyncTree_,s,u,r)}else{const u=qt(n);o=OP(t.serverSyncTree_,s,u,r)}else if(i){const u=wd(n,h=>qt(h));o=cF(t.serverSyncTree_,s,u)}else{const u=qt(n);o=Gu(t.serverSyncTree_,s,u)}let l=s;o.length>0&&(l=Gv(t,s)),hs(t.eventQueue_,l,o)}function zx(t,e){Uv(t,"connected",e),e===!1&&UF(t)}function HF(t,e){kn(e,(n,i)=>{Uv(t,n,i)})}function Uv(t,e,n){const i=new Qe("/.info/"+e),r=qt(n);t.infoData_.updateSnapshot(i,r);const s=Gu(t.infoSyncTree_,i,r);hs(t.eventQueue_,i,s)}function WF(t){return t.nextWriteId_++}function $F(t,e,n){const i=mF(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{const s=qt(r).withIndex(e._queryParams.getIndex());pF(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Gu(t.serverSyncTree_,e._path,s);else{const l=xu(t.serverSyncTree_,e);o=OP(t.serverSyncTree_,e._path,s,l)}return hs(t.eventQueue_,e._path,o),IP(t.serverSyncTree_,e,n,null,!0),s},r=>(Zv(t,"get for query "+Nt(e)+" failed: "+r),Promise.reject(new Error(r))))}function UF(t){Zv(t,"onDisconnectEvents");const e=$P(t),n=Md();zg(t.onDisconnect_,He(),(r,s)=>{const o=SF(r,s,t.serverSyncTree_,e);mP(n,r,o)});let i=[];zg(n,He(),(r,s)=>{i=i.concat(Gu(t.serverSyncTree_,r,s));const o=KF(t,r);Gv(t,o)}),t.onDisconnect_=Md(),hs(t.eventQueue_,He(),i)}function ZF(t){t.persistentConnection_&&t.persistentConnection_.interrupt(FF)}function Zv(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),sn(n,...e)}function UP(t,e,n){return RP(t.serverSyncTree_,e,n)||xe.EMPTY_NODE}function Yv(t,e=t.transactionQueueTree_){if(e||Tf(t,e),ka(e)){const n=YP(t,e);q(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&YF(t,qu(e),n)}else zP(e)&&Pf(e,n=>{Yv(t,n)})}function YF(t,e,n){const i=n.map(h=>h.currentWriteId),r=UP(t,e,i);let s=r;const o=r.hash();for(let h=0;h<n.length;h++){const d=n[h];q(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const p=pn(e,d.path);s=s.updateChild(p,d.currentOutputSnapshotRaw)}const l=s.val(!0),u=e;t.server_.put(u.toString(),l,h=>{Zv(t,"transaction put response",{path:u.toString(),status:h});let d=[];if(h==="ok"){const p=[];for(let m=0;m<n.length;m++)n[m].status=2,d=d.concat(Yo(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&p.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();Tf(t,$v(t.transactionQueueTree_,e)),Yv(t,t.transactionQueueTree_),hs(t.eventQueue_,e,d);for(let m=0;m<p.length;m++)Zu(p[m])}else{if(h==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Fn("transaction at "+u.toString()+" failed: "+h);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=h}Gv(t,e)}},o)}function Gv(t,e){const n=ZP(t,e),i=qu(n),r=YP(t,n);return GF(t,r,i),i}function GF(t,e,n){if(e.length===0)return;const i=[];let r=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const u=e[l],h=pn(n,u.path);let d=!1,p;if(q(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)d=!0,p=u.abortReason,r=r.concat(Yo(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=zF)d=!0,p="maxretry",r=r.concat(Yo(t.serverSyncTree_,u.currentWriteId,!0));else{const m=UP(t,u.path,o);u.currentInputSnapshot=m;const _=e[l].update(m.val());if(_!==void 0){HP("transaction failed: Data returned ",_,u.path);let y=qt(_);typeof _=="object"&&_!=null&&pr(_,".priority")||(y=y.updatePriority(m.getPriority()));const C=u.currentWriteId,x=$P(t),w=CF(y,m,x);u.currentOutputSnapshotRaw=y,u.currentOutputSnapshotResolved=w,u.currentWriteId=WF(t),o.splice(o.indexOf(C),1),r=r.concat(uF(t.serverSyncTree_,u.path,w,u.currentWriteId,u.applyLocally)),r=r.concat(Yo(t.serverSyncTree_,C,!0))}else d=!0,p="nodata",r=r.concat(Yo(t.serverSyncTree_,u.currentWriteId,!0))}hs(t.eventQueue_,n,r),r=[],d&&(e[l].status=2,function(m){setTimeout(m,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(p==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(p),!1,null))))}Tf(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)Zu(i[l]);Yv(t,t.transactionQueueTree_)}function ZP(t,e){let n,i=t.transactionQueueTree_;for(n=Ne(e);n!==null&&ka(i)===void 0;)i=$v(i,n),e=st(e),n=Ne(e);return i}function YP(t,e){const n=[];return GP(t,e,n),n.sort((i,r)=>i.order-r.order),n}function GP(t,e,n){const i=ka(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Pf(e,r=>{GP(t,r,n)})}function Tf(t,e){const n=ka(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,FP(e,n.length>0?n:void 0)}Pf(e,i=>{Tf(t,i)})}function KF(t,e){const n=qu(ZP(t,e)),i=$v(t.transactionQueueTree_,e);return PF(i,r=>{lm(t,r)}),lm(t,i),BP(i,r=>{lm(t,r)}),n}function lm(t,e){const n=ka(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(q(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(q(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(Yo(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?FP(e,void 0):n.length=s+1,hs(t.eventQueue_,qu(e),r);for(let o=0;o<i.length;o++)Zu(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qF(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function XF(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Fn(`Invalid query segment '${n}' in query '${t}'`)}return e}const Bx=function(t,e){const n=QF(t),i=n.namespace;n.domain==="firebase.com"&&hr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&hr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||lA();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new KE(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new Qe(n.pathString)}},QF=function(t){let e="",n="",i="",r="",s="",o=!0,l="https",u=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(l=t.substring(0,h-1),t=t.substring(h+2));let d=t.indexOf("/");d===-1&&(d=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(d,p)),d<p&&(r=qF(t.substring(d,p)));const m=XF(t.substring(Math.min(t.length,p)));h=e.indexOf(":"),h>=0?(o=l==="https"||l==="wss",u=parseInt(e.substring(h+1),10)):h=e.length;const _=e.slice(0,h);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const y=e.indexOf(".");i=e.substring(0,y).toLowerCase(),n=e.substring(y+1),s=i}"ns"in m&&(s=m.ns)}return{host:e,port:u,domain:n,subdomain:i,secure:o,scheme:l,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Nt(this.snapshot.exportVal())}}class ez{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return Oe(this._path)?null:rP(this._path)}get ref(){return new mr(this._repo,this._path)}get _queryIdentifier(){const e=Cx(this._queryParams),n=Sv(e);return n==="{}"?"default":n}get _queryObject(){return Cx(this._queryParams)}isEqual(e){if(e=Wu(e),!(e instanceof Kv))return!1;const n=this._repo===e._repo,i=aP(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+UA(this._path)}}class mr extends Kv{constructor(e,n){super(e,n,new Lv,!1)}get parent(){const e=oP(this._path);return e===null?null:new mr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class wu{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Qe(e),i=$g(this.ref,e);return new wu(this._node.getChild(n),i,St)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new wu(r,$g(this.ref,i),St)))}hasChild(e){const n=new Qe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function KP(t,e){return t=Wu(t),t._checkNotDeleted("ref"),$g(t._root,e)}function $g(t,e){return t=Wu(t),Ne(t._path)===null?IF("child","path",e):WP("child","path",e),new mr(t._repo,Ft(t._path,e))}function qP(t){t=Wu(t);const e=new tz(()=>{}),n=new qv(e);return $F(t._repo,t,n).then(i=>new wu(i,new mr(t._repo,t._path),t._queryParams.getIndex()))}class qv{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new JF("value",this,new wu(e.snapshotNode,new mr(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new ez(this,e,n):null}matches(e){return e instanceof qv?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}tF(mr);oF(mr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz="FIREBASE_DATABASE_EMULATOR_HOST",Ug={};let iz=!1;function rz(t,e,n,i){t.repoInfo_=new KE(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function sz(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||hr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),sn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Bx(s,r),l=o.repoInfo,u;typeof process<"u"&&ox&&(u=ox[nz]),u?(s=`http://${u}?ns=${l.namespace}`,o=Bx(s,r),l=o.repoInfo):o.repoInfo.secure;const h=new yA(t.name,t.options,e);OF("Invalid Firebase Database URL",o),Oe(o.path)||hr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=az(l,t,h,new vA(t.name,n));return new lz(d,t)}function oz(t,e){const n=Ug[e];(!n||n[t.key]!==t)&&hr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),ZF(t),delete n[t.key]}function az(t,e,n,i){let r=Ug[e.name];r||(r={},Ug[e.name]=r);let s=r[t.toURLString()];return s&&hr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new BF(t,iz,n,i),r[t.toURLString()]=s,s}class lz{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(VF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new mr(this._repo,He())),this._rootInternal}_delete(){return this._rootInternal!==null&&(oz(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&hr("Cannot call "+e+" on a deleted database.")}}function uz(t=$2(),e){const n=V2(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=LD("database");i&&cz(n,...i)}return n}function cz(t,e,n,i={}){t=Wu(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&hr("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&hr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ih(Ih.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:ID(i.mockUserToken,t.app.options.projectId);s=new Ih(o)}rz(r,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(t){nA(W2),Cd(new fu("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return sz(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),ea(ax,lx,t),ea(ax,lx,"esm2017")}ir.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ir.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};hz();const dz={apiKey:"AIzaSyDYUsVIgr7gCL3D1S5dhwyDc6K-aP31sXA",authDomain:"waterquality-ba0bb.firebaseapp.com",databaseURL:"https://waterquality-ba0bb-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"waterquality-ba0bb",storageBucket:"waterquality-ba0bb.appspot.com",messagingSenderId:"654440423465",appId:"1:654440423465:web:8e7694398bd773f3343c38",measurementId:"G-QSVJTQQ3RD"},fz=IE(dz),XP=uz(fz);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Xu(t){return t+.5|0}const Ar=(t,e,n)=>Math.max(Math.min(t,n),e);function yl(t){return Ar(Xu(t*2.55),0,255)}function Xr(t){return Ar(Xu(t*255),0,255)}function Gi(t){return Ar(Xu(t/2.55)/100,0,1)}function Vx(t){return Ar(Xu(t*100),0,100)}const Gn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Zg=[..."0123456789ABCDEF"],pz=t=>Zg[t&15],mz=t=>Zg[(t&240)>>4]+Zg[t&15],Xc=t=>(t&240)>>4===(t&15),gz=t=>Xc(t.r)&&Xc(t.g)&&Xc(t.b)&&Xc(t.a);function _z(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Gn[t[1]]*17,g:255&Gn[t[2]]*17,b:255&Gn[t[3]]*17,a:e===5?Gn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Gn[t[1]]<<4|Gn[t[2]],g:Gn[t[3]]<<4|Gn[t[4]],b:Gn[t[5]]<<4|Gn[t[6]],a:e===9?Gn[t[7]]<<4|Gn[t[8]]:255})),n}const vz=(t,e)=>t<255?e(t):"";function yz(t){var e=gz(t)?pz:mz;return t?"#"+e(t.r)+e(t.g)+e(t.b)+vz(t.a,e):void 0}const bz=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function QP(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function xz(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function wz(t,e,n){const i=QP(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function Sz(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function Xv(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),l=(s+o)/2;let u,h,d;return s!==o&&(d=s-o,h=l>.5?d/(2-s-o):d/(s+o),u=Sz(n,i,r,d,s),u=u*60+.5),[u|0,h||0,l]}function Qv(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Xr)}function Jv(t,e,n){return Qv(QP,t,e,n)}function Cz(t,e,n){return Qv(wz,t,e,n)}function Ez(t,e,n){return Qv(xz,t,e,n)}function JP(t){return(t%360+360)%360}function Pz(t){const e=bz.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?yl(+e[5]):Xr(+e[5]));const r=JP(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=Cz(r,s,o):e[1]==="hsv"?i=Ez(r,s,o):i=Jv(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function Tz(t,e){var n=Xv(t);n[0]=JP(n[0]+e),n=Jv(n),t.r=n[0],t.g=n[1],t.b=n[2]}function kz(t){if(!t)return;const e=Xv(t),n=e[0],i=Vx(e[1]),r=Vx(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Gi(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const jx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Hx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Mz(){const t={},e=Object.keys(Hx),n=Object.keys(jx);let i,r,s,o,l;for(i=0;i<e.length;i++){for(o=l=e[i],r=0;r<n.length;r++)s=n[r],l=l.replace(s,jx[s]);s=parseInt(Hx[o],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let Qc;function Lz(t){Qc||(Qc=Mz(),Qc.transparent=[0,0,0,0]);const e=Qc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Iz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Oz(t){const e=Iz.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?yl(o):Ar(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?yl(i):Ar(i,0,255)),r=255&(e[4]?yl(r):Ar(r,0,255)),s=255&(e[6]?yl(s):Ar(s,0,255)),{r:i,g:r,b:s,a:n}}}function Rz(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Gi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const um=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Io=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Dz(t,e,n){const i=Io(Gi(t.r)),r=Io(Gi(t.g)),s=Io(Gi(t.b));return{r:Xr(um(i+n*(Io(Gi(e.r))-i))),g:Xr(um(r+n*(Io(Gi(e.g))-r))),b:Xr(um(s+n*(Io(Gi(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Jc(t,e,n){if(t){let i=Xv(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Jv(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function eT(t,e){return t&&Object.assign(e||{},t)}function Wx(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Xr(t[3]))):(e=eT(t,{r:0,g:0,b:0,a:1}),e.a=Xr(e.a)),e}function Az(t){return t.charAt(0)==="r"?Oz(t):Pz(t)}class Su{constructor(e){if(e instanceof Su)return e;const n=typeof e;let i;n==="object"?i=Wx(e):n==="string"&&(i=_z(e)||Lz(e)||Az(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=eT(this._rgb);return e&&(e.a=Gi(e.a)),e}set rgb(e){this._rgb=Wx(e)}rgbString(){return this._valid?Rz(this._rgb):void 0}hexString(){return this._valid?yz(this._rgb):void 0}hslString(){return this._valid?kz(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,l=2*o-1,u=i.a-r.a,h=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;s=1-h,i.r=255&h*i.r+s*r.r+.5,i.g=255&h*i.g+s*r.g+.5,i.b=255&h*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=Dz(this._rgb,e._rgb,n)),this}clone(){return new Su(this.rgb)}alpha(e){return this._rgb.a=Xr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Xu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Jc(this._rgb,2,e),this}darken(e){return Jc(this._rgb,2,-e),this}saturate(e){return Jc(this._rgb,1,e),this}desaturate(e){return Jc(this._rgb,1,-e),this}rotate(e){return Tz(this._rgb,e),this}}/*!
 * Chart.js v4.4.5
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Wi(){}const Nz=(()=>{let t=0;return()=>t++})();function je(t){return t===null||typeof t>"u"}function mt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ae(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ct(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ln(t,e){return Ct(t)?t:e}function Ce(t,e){return typeof t>"u"?e:t}const Fz=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,tT=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function it(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ze(t,e,n,i){let r,s,o;if(mt(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(Ae(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function Fd(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function zd(t){if(mt(t))return t.map(zd);if(Ae(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=zd(t[n[r]]);return e}return t}function nT(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function zz(t,e,n,i){if(!nT(t))return;const r=e[t],s=n[t];Ae(r)&&Ae(s)?Cu(r,s,i):e[t]=zd(s)}function Cu(t,e,n){const i=mt(e)?e:[e],r=i.length;if(!Ae(t))return t;n=n||{};const s=n.merger||zz;let o;for(let l=0;l<r;++l){if(o=i[l],!Ae(o))continue;const u=Object.keys(o);for(let h=0,d=u.length;h<d;++h)s(u[h],t,o,n)}return t}function jl(t,e){return Cu(t,e,{merger:Bz})}function Bz(t,e,n){if(!nT(t))return;const i=e[t],r=n[t];Ae(i)&&Ae(r)?jl(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=zd(r))}const $x={"":t=>t,x:t=>t.x,y:t=>t.y};function Vz(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function jz(t){const e=Vz(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function is(t,e){return($x[e]||($x[e]=jz(e)))(t)}function ey(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Eu=t=>typeof t<"u",rs=t=>typeof t=="function",Ux=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Hz(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ht=Math.PI,ct=2*ht,Wz=ct+ht,Bd=Number.POSITIVE_INFINITY,$z=ht/180,kt=ht/2,Cs=ht/4,Zx=ht*2/3,Nr=Math.log10,Di=Math.sign;function Hl(t,e,n){return Math.abs(t-e)<n}function Yx(t){const e=Math.round(t);t=Hl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Nr(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Uz(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function va(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Zz(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function iT(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function fi(t){return t*(ht/180)}function ty(t){return t*(180/ht)}function Gx(t){if(!Ct(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function rT(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*ht&&(s+=ct),{angle:s,distance:r}}function Yg(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Yz(t,e){return(t-e+Wz)%ct-ht}function Rn(t){return(t%ct+ct)%ct}function Pu(t,e,n,i){const r=Rn(t),s=Rn(e),o=Rn(n),l=Rn(s-r),u=Rn(o-r),h=Rn(r-s),d=Rn(r-o);return r===s||r===o||i&&s===o||l>u&&h<d}function $t(t,e,n){return Math.max(e,Math.min(n,t))}function Gz(t){return $t(t,-32768,32767)}function Qi(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function ny(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const Ji=(t,e,n,i)=>ny(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),Kz=(t,e,n)=>ny(t,n,i=>t[i][e]>=n);function qz(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const sT=["push","pop","shift","splice","unshift"];function Xz(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),sT.forEach(n=>{const i="_onData"+ey(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...s)}),o}})})}function Kx(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(sT.forEach(s=>{delete t[s]}),delete t._chartjs)}function oT(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const aT=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function lT(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,aT.call(window,()=>{i=!1,t.apply(e,n)}))}}function Qz(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const iy=t=>t==="start"?"left":t==="end"?"right":"center",nn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Jz=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function uT(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,_parsed:l}=t,u=o.axis,{min:h,max:d,minDefined:p,maxDefined:m}=o.getUserBounds();p&&(r=$t(Math.min(Ji(l,u,h).lo,n?i:Ji(e,u,o.getPixelForValue(h)).lo),0,i-1)),m?s=$t(Math.max(Ji(l,o.axis,d,!0).hi+1,n?0:Ji(e,u,o.getPixelForValue(d),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function cT(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const eh=t=>t===0||t===1,qx=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ct/n)),Xx=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ct/n)+1,Wl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*kt)+1,easeOutSine:t=>Math.sin(t*kt),easeInOutSine:t=>-.5*(Math.cos(ht*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>eh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>eh(t)?t:qx(t,.075,.3),easeOutElastic:t=>eh(t)?t:Xx(t,.075,.3),easeInOutElastic(t){return eh(t)?t:t<.5?.5*qx(t*2,.1125,.45):.5+.5*Xx(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Wl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Wl.easeInBounce(t*2)*.5:Wl.easeOutBounce(t*2-1)*.5+.5};function ry(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Qx(t){return ry(t)?t:new Su(t)}function cm(t){return ry(t)?t:new Su(t).saturate(.5).darken(.1).hexString()}const eB=["x","y","borderWidth","radius","tension"],tB=["color","borderColor","backgroundColor"];function nB(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:tB},numbers:{type:"number",properties:eB}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function iB(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Jx=new Map;function rB(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Jx.get(n);return i||(i=new Intl.NumberFormat(t,e),Jx.set(n,i)),i}function Qu(t,e,n){return rB(e,n).format(t)}const hT={values(t){return mt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),s=sB(t,n)}const o=Nr(Math.abs(s)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),Qu(t,i,u)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Nr(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?hT.numeric.call(this,t,e,n):""}};function sB(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var kf={formatters:hT};function oB(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:kf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const no=Object.create(null),Gg=Object.create(null);function $l(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function hm(t,e,n){return typeof e=="string"?Cu($l(t,e),n):Cu($l(t,""),e)}class aB{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>cm(r.backgroundColor),this.hoverBorderColor=(i,r)=>cm(r.borderColor),this.hoverColor=(i,r)=>cm(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return hm(this,e,n)}get(e){return $l(this,e)}describe(e,n){return hm(Gg,e,n)}override(e,n){return hm(no,e,n)}route(e,n,i,r){const s=$l(this,e),o=$l(this,i),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],h=o[r];return Ae(u)?Object.assign({},h,u):Ce(u,h)},set(u){this[l]=u}}})}apply(e){e.forEach(n=>n(this))}}var gt=new aB({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[nB,iB,oB]);function lB(t){return!t||je(t.size)||je(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Vd(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function uB(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const l=n.length;let u,h,d,p,m;for(u=0;u<l;u++)if(p=n[u],p!=null&&!mt(p))o=Vd(t,r,s,o,p);else if(mt(p))for(h=0,d=p.length;h<d;h++)m=p[h],m!=null&&!mt(m)&&(o=Vd(t,r,s,o,m));t.restore();const _=s.length/2;if(_>n.length){for(u=0;u<_;u++)delete r[s[u]];s.splice(0,_)}return o}function Es(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function ew(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Kg(t,e,n,i){dT(t,e,n,i,null)}function dT(t,e,n,i,r){let s,o,l,u,h,d,p,m;const _=e.pointStyle,y=e.rotation,v=e.radius;let C=(y||0)*$z;if(_&&typeof _=="object"&&(s=_.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(C),t.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),_){default:r?t.ellipse(n,i,r/2,v,0,0,ct):t.arc(n,i,v,0,ct),t.closePath();break;case"triangle":d=r?r/2:v,t.moveTo(n+Math.sin(C)*d,i-Math.cos(C)*v),C+=Zx,t.lineTo(n+Math.sin(C)*d,i-Math.cos(C)*v),C+=Zx,t.lineTo(n+Math.sin(C)*d,i-Math.cos(C)*v),t.closePath();break;case"rectRounded":h=v*.516,u=v-h,o=Math.cos(C+Cs)*u,p=Math.cos(C+Cs)*(r?r/2-h:u),l=Math.sin(C+Cs)*u,m=Math.sin(C+Cs)*(r?r/2-h:u),t.arc(n-p,i-l,h,C-ht,C-kt),t.arc(n+m,i-o,h,C-kt,C),t.arc(n+p,i+l,h,C,C+kt),t.arc(n-m,i+o,h,C+kt,C+ht),t.closePath();break;case"rect":if(!y){u=Math.SQRT1_2*v,d=r?r/2:u,t.rect(n-d,i-u,2*d,2*u);break}C+=Cs;case"rectRot":p=Math.cos(C)*(r?r/2:v),o=Math.cos(C)*v,l=Math.sin(C)*v,m=Math.sin(C)*(r?r/2:v),t.moveTo(n-p,i-l),t.lineTo(n+m,i-o),t.lineTo(n+p,i+l),t.lineTo(n-m,i+o),t.closePath();break;case"crossRot":C+=Cs;case"cross":p=Math.cos(C)*(r?r/2:v),o=Math.cos(C)*v,l=Math.sin(C)*v,m=Math.sin(C)*(r?r/2:v),t.moveTo(n-p,i-l),t.lineTo(n+p,i+l),t.moveTo(n+m,i-o),t.lineTo(n-m,i+o);break;case"star":p=Math.cos(C)*(r?r/2:v),o=Math.cos(C)*v,l=Math.sin(C)*v,m=Math.sin(C)*(r?r/2:v),t.moveTo(n-p,i-l),t.lineTo(n+p,i+l),t.moveTo(n+m,i-o),t.lineTo(n-m,i+o),C+=Cs,p=Math.cos(C)*(r?r/2:v),o=Math.cos(C)*v,l=Math.sin(C)*v,m=Math.sin(C)*(r?r/2:v),t.moveTo(n-p,i-l),t.lineTo(n+p,i+l),t.moveTo(n+m,i-o),t.lineTo(n-m,i+o);break;case"line":o=r?r/2:Math.cos(C)*v,l=Math.sin(C)*v,t.moveTo(n-o,i-l),t.lineTo(n+o,i+l);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(C)*(r?r/2:v),i+Math.sin(C)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function er(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Mf(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Lf(t){t.restore()}function cB(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function hB(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function dB(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),je(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function fB(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,h=n+s.actualBoundingBoxDescent,d=r.strikethrough?(u+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,d),t.lineTo(l,d),t.stroke()}}function pB(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function io(t,e,n,i,r,s={}){const o=mt(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let u,h;for(t.save(),t.font=r.string,dB(t,s),u=0;u<o.length;++u)h=o[u],s.backdrop&&pB(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),je(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(h,n,i,s.maxWidth)),t.fillText(h,n,i,s.maxWidth),fB(t,n,i,h,s),i+=Number(r.lineHeight);t.restore()}function Tu(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*ht,ht,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,ht,kt,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,kt,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-kt,!0),t.lineTo(n+o.topLeft,i)}const mB=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,gB=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _B(t,e){const n=(""+t).match(mB);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const vB=t=>+t||0;function sy(t,e){const n={},i=Ae(e),r=i?Object.keys(e):e,s=Ae(t)?i?o=>Ce(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=vB(s(o));return n}function fT(t){return sy(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Us(t){return sy(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ln(t){const e=fT(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Bt(t,e){t=t||{},e=e||gt.font;let n=Ce(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Ce(t.style,e.style);i&&!(""+i).match(gB)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ce(t.family,e.family),lineHeight:_B(Ce(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Ce(t.weight,e.weight),string:""};return r.string=lB(r),r}function bl(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function yB(t,e,n){const{min:i,max:r}=t,s=tT(e,(r-i)/2),o=(l,u)=>n&&l===0?0:l+u;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function ds(t,e){return Object.assign(Object.create(t),e)}function oy(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=_T("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:l=>oy([l,...t],e,s,i)};return new Proxy(o,{deleteProperty(l,u){return delete l[u],delete l._keys,delete t[0][u],!0},get(l,u){return mT(l,u,()=>TB(u,e,t,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,u){return nw(l).includes(u)},ownKeys(l){return nw(l)},set(l,u,h){const d=l._storage||(l._storage=r());return l[u]=d[u]=h,delete l._keys,!0}})}function ya(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:pT(t,i),setContext:s=>ya(t,s,n,i),override:s=>ya(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,l){return mT(s,o,()=>xB(s,o,l))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,l){return t[o]=l,delete s[o],!0}})}function pT(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:rs(n)?n:()=>n,isIndexable:rs(i)?i:()=>i}}const bB=(t,e)=>t?t+ey(e):e,ay=(t,e)=>Ae(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function mT(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function xB(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let l=i[e];return rs(l)&&o.isScriptable(e)&&(l=wB(e,l,t,n)),mt(l)&&l.length&&(l=SB(e,l,t,o.isIndexable)),ay(e,l)&&(l=ya(l,r,s&&s[e],o)),l}function wB(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let u=e(s,o||i);return l.delete(t),ay(t,u)&&(u=ly(r._scopes,r,t,u)),u}function SB(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:l}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(Ae(e[0])){const u=e,h=r._scopes.filter(d=>d!==u);e=[];for(const d of u){const p=ly(h,r,t,d);e.push(ya(p,s,o&&o[t],l))}}return e}function gT(t,e,n){return rs(t)?t(e,n):t}const CB=(t,e)=>t===!0?e:typeof t=="string"?is(e,t):void 0;function EB(t,e,n,i,r){for(const s of e){const o=CB(n,s);if(o){t.add(o);const l=gT(o._fallback,n,r);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function ly(t,e,n,i){const r=e._rootScopes,s=gT(e._fallback,n,i),o=[...t,...r],l=new Set;l.add(i);let u=tw(l,o,n,s||n,i);return u===null||typeof s<"u"&&s!==n&&(u=tw(l,o,s,u,i),u===null)?!1:oy(Array.from(l),[""],r,s,()=>PB(e,n,i))}function tw(t,e,n,i,r){for(;n;)n=EB(t,e,n,i,r);return n}function PB(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return mt(r)&&Ae(n)?n:r||{}}function TB(t,e,n,i){let r;for(const s of e)if(r=_T(bB(s,t),n),typeof r<"u")return ay(t,r)?ly(n,i,t,r):r}function _T(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function nw(t){let e=t._keys;return e||(e=t._keys=kB(t._scopes)),e}function kB(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function vT(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let l,u,h,d;for(l=0,u=i;l<u;++l)h=l+n,d=e[h],o[l]={r:r.parse(is(d,s),h)};return o}const MB=Number.EPSILON||1e-14,ba=(t,e)=>e<t.length&&!t[e].skip&&t[e],yT=t=>t==="x"?"y":"x";function LB(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,l=Yg(s,r),u=Yg(o,s);let h=l/(l+u),d=u/(l+u);h=isNaN(h)?0:h,d=isNaN(d)?0:d;const p=i*h,m=i*d;return{previous:{x:s.x-p*(o.x-r.x),y:s.y-p*(o.y-r.y)},next:{x:s.x+m*(o.x-r.x),y:s.y+m*(o.y-r.y)}}}function IB(t,e,n){const i=t.length;let r,s,o,l,u,h=ba(t,0);for(let d=0;d<i-1;++d)if(u=h,h=ba(t,d+1),!(!u||!h)){if(Hl(e[d],0,MB)){n[d]=n[d+1]=0;continue}r=n[d]/e[d],s=n[d+1]/e[d],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(o=3/Math.sqrt(l),n[d]=r*o*e[d],n[d+1]=s*o*e[d])}}function OB(t,e,n="x"){const i=yT(n),r=t.length;let s,o,l,u=ba(t,0);for(let h=0;h<r;++h){if(o=l,l=u,u=ba(t,h+1),!l)continue;const d=l[n],p=l[i];o&&(s=(d-o[n])/3,l[`cp1${n}`]=d-s,l[`cp1${i}`]=p-s*e[h]),u&&(s=(u[n]-d)/3,l[`cp2${n}`]=d+s,l[`cp2${i}`]=p+s*e[h])}}function RB(t,e="x"){const n=yT(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,l,u,h=ba(t,0);for(o=0;o<i;++o)if(l=u,u=h,h=ba(t,o+1),!!u){if(h){const d=h[e]-u[e];r[o]=d!==0?(h[n]-u[n])/d:0}s[o]=l?h?Di(r[o-1])!==Di(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}IB(t,r,s),OB(t,s,e)}function th(t,e,n){return Math.max(Math.min(t,n),e)}function DB(t,e){let n,i,r,s,o,l=er(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=l,l=n<i-1&&er(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=th(r.cp1x,e.left,e.right),r.cp1y=th(r.cp1y,e.top,e.bottom)),l&&(r.cp2x=th(r.cp2x,e.left,e.right),r.cp2y=th(r.cp2y,e.top,e.bottom)))}function AB(t,e,n,i,r){let s,o,l,u;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")RB(t,r);else{let h=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)l=t[s],u=LB(h,l,t[Math.min(s+1,o-(i?0:1))%o],e.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,h=l}e.capBezierPoints&&DB(t,n)}function uy(){return typeof window<"u"&&typeof document<"u"}function cy(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function jd(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const If=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function NB(t,e){return If(t).getPropertyValue(e)}const FB=["top","right","bottom","left"];function Zs(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=FB[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const zB=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function BB(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,l,u;if(zB(r,s,t.target))l=r,u=s;else{const h=e.getBoundingClientRect();l=i.clientX-h.left,u=i.clientY-h.top,o=!0}return{x:l,y:u,box:o}}function Os(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=If(n),s=r.boxSizing==="border-box",o=Zs(r,"padding"),l=Zs(r,"border","width"),{x:u,y:h,box:d}=BB(t,n),p=o.left+(d&&l.left),m=o.top+(d&&l.top);let{width:_,height:y}=e;return s&&(_-=o.width+l.width,y-=o.height+l.height),{x:Math.round((u-p)/_*n.width/i),y:Math.round((h-m)/y*n.height/i)}}function VB(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&cy(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),l=If(s),u=Zs(l,"border","width"),h=Zs(l,"padding");e=o.width-h.width-u.width,n=o.height-h.height-u.height,i=jd(l.maxWidth,s,"clientWidth"),r=jd(l.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||Bd,maxHeight:r||Bd}}const nh=t=>Math.round(t*10)/10;function jB(t,e,n,i){const r=If(t),s=Zs(r,"margin"),o=jd(r.maxWidth,t,"clientWidth")||Bd,l=jd(r.maxHeight,t,"clientHeight")||Bd,u=VB(t,e,n);let{width:h,height:d}=u;if(r.boxSizing==="content-box"){const m=Zs(r,"border","width"),_=Zs(r,"padding");h-=_.width+m.width,d-=_.height+m.height}return h=Math.max(0,h-s.width),d=Math.max(0,i?h/i:d-s.height),h=nh(Math.min(h,o,u.maxWidth)),d=nh(Math.min(d,l,u.maxHeight)),h&&!d&&(d=nh(h/2)),(e!==void 0||n!==void 0)&&i&&u.height&&d>u.height&&(d=u.height,h=nh(Math.floor(d*i))),{width:h,height:d}}function iw(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const HB=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};uy()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function rw(t,e){const n=NB(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Rs(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function WB(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function $B(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Rs(t,r,n),l=Rs(r,s,n),u=Rs(s,e,n),h=Rs(o,l,n),d=Rs(l,u,n);return Rs(h,d,n)}const UB=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},ZB=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ia(t,e,n){return t?UB(e,n):ZB()}function bT(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function xT(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function wT(t){return t==="angle"?{between:Pu,compare:Yz,normalize:Rn}:{between:Qi,compare:(e,n)=>e-n,normalize:e=>e}}function sw({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function YB(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:l}=wT(i),u=e.length;let{start:h,end:d,loop:p}=t,m,_;if(p){for(h+=u,d+=u,m=0,_=u;m<_&&o(l(e[h%u][i]),r,s);++m)h--,d--;h%=u,d%=u}return d<h&&(d+=u),{start:h,end:d,loop:p,style:t.style}}function ST(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:l,between:u,normalize:h}=wT(i),{start:d,end:p,loop:m,style:_}=YB(t,e,n),y=[];let v=!1,C=null,x,w,S;const P=()=>u(r,S,x)&&l(r,S)!==0,k=()=>l(s,x)===0||u(s,S,x),T=()=>v||P(),O=()=>!v||k();for(let M=d,N=d;M<=p;++M)w=e[M%o],!w.skip&&(x=h(w[i]),x!==S&&(v=u(x,r,s),C===null&&T()&&(C=l(x,r)===0?M:N),C!==null&&O()&&(y.push(sw({start:C,end:M,loop:m,count:o,style:_})),C=null),N=M,S=x));return C!==null&&y.push(sw({start:C,end:p,loop:m,count:o,style:_})),y}function CT(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=ST(i[r],t.points,e);s.length&&n.push(...s)}return n}function GB(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function KB(t,e,n,i){const r=t.length,s=[];let o=e,l=t[e],u;for(u=e+1;u<=n;++u){const h=t[u%r];h.skip||h.stop?l.skip||(i=!1,s.push({start:e%r,end:(u-1)%r,loop:i}),e=o=h.stop?u:null):(o=u,l.skip&&(e=u)),l=h}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function qB(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:l}=GB(n,r,s,i);if(i===!0)return ow(t,[{start:o,end:l,loop:s}],n,e);const u=l<o?l+r:l,h=!!t._fullLoop&&o===0&&l===r-1;return ow(t,KB(n,o,u,h),n,e)}function ow(t,e,n,i){return!i||!i.setContext||!n?e:XB(t,e,n,i)}function XB(t,e,n,i){const r=t._chart.getContext(),s=aw(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,u=n.length,h=[];let d=s,p=e[0].start,m=p;function _(y,v,C,x){const w=l?-1:1;if(y!==v){for(y+=u;n[y%u].skip;)y-=w;for(;n[v%u].skip;)v+=w;y%u!==v%u&&(h.push({start:y%u,end:v%u,loop:C,style:x}),d=x,p=v%u)}}for(const y of e){p=l?p:y.start;let v=n[p%u],C;for(m=p+1;m<=y.end;m++){const x=n[m%u];C=aw(i.setContext(ds(r,{type:"segment",p0:v,p1:x,p0DataIndex:(m-1)%u,p1DataIndex:m%u,datasetIndex:o}))),QB(C,d)&&_(p,m-1,y.loop,d),v=x,d=C}p<m-1&&_(p,m-1,y.loop,d)}return h}function aw(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function QB(t,e){if(!e)return!1;const n=[],i=function(r,s){return ry(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.5
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class JB{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(l=>l({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=aT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,l=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),l=!0):(s[o]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var $i=new JB;const lw="transparent",e3={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=Qx(t||lw),r=i.valid&&Qx(e||lw);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class t3{constructor(e,n,i,r){const s=n[i];r=bl([e.to,r,s,e.from]);const o=bl([e.from,s,r]);this._active=!0,this._fn=e.fn||e3[e.type||typeof o],this._easing=Wl[e.easing]||Wl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=bl([e.to,n,r,e.from]),this._from=bl([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,l=this._to;let u;if(this._active=s!==l&&(o||n<i),!this._active){this._target[r]=l,this._notify(!0);return}if(n<0){this._target[r]=s;return}u=n/i%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(s,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class ET{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Ae(e))return;const n=Object.keys(gt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!Ae(s))return;const o={};for(const l of n)o[l]=s[l];(mt(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!i.has(l))&&i.set(l,o)})})}_animateOptions(e,n){const i=n.options,r=i3(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&n3(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),l=Date.now();let u;for(u=o.length-1;u>=0;--u){const h=o[u];if(h.charAt(0)==="$")continue;if(h==="options"){r.push(...this._animateOptions(e,n));continue}const d=n[h];let p=s[h];const m=i.get(h);if(p)if(m&&p.active()){p.update(m,d,l);continue}else p.cancel();if(!m||!m.duration){e[h]=d;continue}s[h]=p=new t3(m,e,h,d),r.push(p)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return $i.add(this._chart,i),!0}}function n3(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function i3(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function uw(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function r3(t,e,n){if(n===!1)return!1;const i=uw(t,n),r=uw(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function s3(t){let e,n,i,r;return Ae(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function PT(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function cw(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,l,u,h;if(e!==null){for(o=0,l=r.length;o<l;++o){if(u=+r[o],u===n){if(i.all)continue;break}h=t.values[u],Ct(h)&&(s||e===0||Di(e)===Di(h))&&(e+=h)}return e}}function o3(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let u,h,d;for(u=0,h=o.length;u<h;++u)d=o[u],l[u]={[r]:d,[s]:t[d]};return l}function dm(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function a3(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function l3(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function u3(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function hw(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function dw(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:l}=i,u=s.axis,h=o.axis,d=a3(s,o,i),p=e.length;let m;for(let _=0;_<p;++_){const y=e[_],{[u]:v,[h]:C}=y,x=y._stacks||(y._stacks={});m=x[h]=u3(r,d,v),m[l]=C,m._top=hw(m,o,!0,i.type),m._bottom=hw(m,o,!1,i.type);const w=m._visualValues||(m._visualValues={});w[l]=C}}function fm(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function c3(t,e){return ds(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function h3(t,e,n){return ds(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function al(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const pm=t=>t==="reset"||t==="none",fw=(t,e)=>e?t:Object.assign({},t),d3=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:PT(n,!0),values:null};class _i{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=dm(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&al(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(p,m,_,y)=>p==="x"?m:p==="r"?y:_,s=n.xAxisID=Ce(i.xAxisID,fm(e,"x")),o=n.yAxisID=Ce(i.yAxisID,fm(e,"y")),l=n.rAxisID=Ce(i.rAxisID,fm(e,"r")),u=n.indexAxis,h=n.iAxisID=r(u,s,o,l),d=n.vAxisID=r(u,o,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Kx(this._data,this),e._stacked&&al(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(Ae(n)){const r=this._cachedMeta;this._data=o3(n,r)}else if(i!==n){if(i){Kx(i,this);const r=this._cachedMeta;al(r),r._parsed=[]}n&&Object.isExtensible(n)&&Xz(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=dm(n.vScale,n),n.stack!==i.stack&&(r=!0,al(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(dw(this,n._parsed),n._stacked=dm(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,l=s.axis;let u=e===0&&n===r.length?!0:i._sorted,h=e>0&&i._parsed[e-1],d,p,m;if(this._parsing===!1)i._parsed=r,i._sorted=!0,m=r;else{mt(r[e])?m=this.parseArrayData(i,r,e,n):Ae(r[e])?m=this.parseObjectData(i,r,e,n):m=this.parsePrimitiveData(i,r,e,n);const _=()=>p[l]===null||h&&p[l]<h[l];for(d=0;d<n;++d)i._parsed[d+e]=p=m[d],u&&(_()&&(u=!1),h=p);i._sorted=u}o&&dw(this,m)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,l=s.axis,u=o.axis,h=s.getLabels(),d=s===o,p=new Array(r);let m,_,y;for(m=0,_=r;m<_;++m)y=m+i,p[m]={[l]:d||s.parse(h[y],y),[u]:o.parse(n[y],y)};return p}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,l=new Array(r);let u,h,d,p;for(u=0,h=r;u<h;++u)d=u+i,p=n[d],l[u]={x:s.parse(p[0],d),y:o.parse(p[1],d)};return l}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,h=new Array(r);let d,p,m,_;for(d=0,p=r;d<p;++d)m=d+i,_=n[m],h[d]={x:s.parse(is(_,l),m),y:o.parse(is(_,u),m)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],l={keys:PT(r,!0),values:n._stacks[e.axis]._visualValues};return cw(l,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const l=r&&i._stacks[n.axis];r&&l&&(r.values=l,o=cw(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,l=this._getOtherScale(e),u=d3(n,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:p}=l3(l);let m,_;function y(){_=r[m];const v=_[l.axis];return!Ct(_[e.axis])||d>v||p<v}for(m=0;m<o&&!(!y()&&(this.updateRangeFromParsed(h,e,_,u),s));++m);if(s){for(m=o-1;m>=0;--m)if(!y()){this.updateRangeFromParsed(h,e,_,u);break}}return h}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],Ct(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=s3(Ce(this.options.clip,r3(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],l=this._drawStart||0,u=this._drawCount||r.length-l,h=this.options.drawActiveElementsOnTop;let d;for(i.dataset&&i.dataset.draw(e,s,l,u),d=l;d<l+u;++d){const p=r[d];p.hidden||(p.active&&h?o.push(p):p.draw(e,s))}for(d=0;d<o.length;++d)o[d].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=h3(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=c3(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,l=s[o],u=this.enableOptionSharing&&Eu(i);if(l)return fw(l,u);const h=this.chart.config,d=h.datasetElementScopeKeys(this._type,e),p=r?[`${e}Hover`,"hover",e,""]:[e,""],m=h.getOptionScopes(this.getDataset(),d),_=Object.keys(gt.elements[e]),y=()=>this.getContext(i,r,n),v=h.resolveNamedOptions(m,_,y,p);return v.$shared&&(v.$shared=u,s[o]=Object.freeze(fw(v,u))),v}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,l=s[o];if(l)return l;let u;if(r.options.animation!==!1){const d=this.chart.config,p=d.datasetAnimationScopeKeys(this._type,n),m=d.getOptionScopes(this.getDataset(),p);u=d.createResolver(m,this.getContext(e,i,n))}const h=new ET(r,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||pm(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){pm(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!pm(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[l,u,h]of this._syncList)this[l](u,h);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let l;const u=h=>{for(h.length+=n,l=h.length-1;l>=o;l--)h[l]=h[l-n]};for(u(s),l=e;l<o;++l)s[l]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&al(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Q(_i,"defaults",{}),Q(_i,"datasetElementType",null),Q(_i,"dataElementType",null);function f3(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=oT(i.sort((r,s)=>r-s))}return t._cache.$bar}function p3(t){const e=t.iScale,n=f3(e,t.type);let i=e._length,r,s,o,l;const u=()=>{o===32767||o===-32768||(Eu(l)&&(i=Math.min(i,Math.abs(o-l)||i)),l=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),u();for(l=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),u();return i}function m3(t,e,n,i){const r=n.barThickness;let s,o;return je(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function g3(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,l=t<r.length-1?r[t+1]:null;const u=n.categoryPercentage;o===null&&(o=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-o);const h=s-(s-Math.min(o,l))/2*u;return{chunk:Math.abs(l-o)/2*u/i,ratio:n.barPercentage,start:h}}function _3(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),l=Math.max(r,s);let u=o,h=l;Math.abs(o)>Math.abs(l)&&(u=l,h=o),e[n.axis]=h,e._custom={barStart:u,barEnd:h,start:r,end:s,min:o,max:l}}function TT(t,e,n,i){return mt(t)?_3(t,e,n,i):e[n.axis]=n.parse(t,i),e}function pw(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),l=r===s,u=[];let h,d,p,m;for(h=n,d=n+i;h<d;++h)m=e[h],p={},p[r.axis]=l||r.parse(o[h],h),u.push(TT(m,p,s,h));return u}function mm(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function v3(t,e,n){return t!==0?Di(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function y3(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function b3(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:u,top:h,bottom:d}=y3(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=h:(n._bottom||0)===i?r=d:(s[mw(d,o,l,u)]=!0,r=h)),s[mw(r,o,l,u)]=!0,t.borderSkipped=s}function mw(t,e,n,i){return i?(t=x3(t,e,n),t=gw(t,n,e)):t=gw(t,e,n),t}function x3(t,e,n){return t===e?n:t===n?e:t}function gw(t,e,n){return t==="start"?e:t==="end"?n:t}function w3(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Oh extends _i{parsePrimitiveData(e,n,i,r){return pw(e,n,i,r)}parseArrayData(e,n,i,r){return pw(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,h=s.axis==="x"?l:u,d=o.axis==="x"?l:u,p=[];let m,_,y,v;for(m=i,_=i+r;m<_;++m)v=n[m],y={},y[s.axis]=s.parse(is(v,h),m),p.push(TT(is(v,d),y,o,m));return p}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),o=s._custom,l=mm(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),h=l.isHorizontal(),d=this._getRuler(),{sharedOptions:p,includeOptions:m}=this._getSharedOptions(n,r);for(let _=n;_<n+i;_++){const y=this.getParsed(_),v=s||je(y[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(_),C=this._calculateBarIndexPixels(_,d),x=(y._stacks||{})[l.axis],w={horizontal:h,base:v.base,enableBorderRadius:!x||mm(y._custom)||o===x._top||o===x._bottom,x:h?v.head:C.center,y:h?C.center:v.head,height:h?C.size:Math.abs(v.size),width:h?Math.abs(v.size):C.size};m&&(w.options=p||this.resolveDataElementOptions(_,e[_].active?"active":r));const S=w.options||e[_].options;b3(w,S,x,o),w3(w,S,d.ratio),this.updateElement(e[_],_,w,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=i.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),u=l&&l[i.axis],h=d=>{const p=d._parsed.find(_=>_[i.axis]===u),m=p&&p[d.vScale.axis];if(je(m)||isNaN(m))return!0};for(const d of r)if(!(n!==void 0&&h(d))&&((s===!1||o.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const l=e.barThickness;return{min:l||p3(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,l=s||0,u=this.getParsed(e),h=u._custom,d=mm(h);let p=u[n.axis],m=0,_=i?this.applyStack(n,u,i):p,y,v;_!==p&&(m=_-p,_=p),d&&(p=h.barStart,_=h.barEnd-h.barStart,p!==0&&Di(p)!==Di(h.barEnd)&&(m=0),m+=p);const C=!je(s)&&!d?s:m;let x=n.getPixelForValue(C);if(this.chart.getDataVisibility(e)?y=n.getPixelForValue(m+_):y=x,v=y-x,Math.abs(v)<o){v=v3(v,n,l)*o,p===l&&(x-=v/2);const w=n.getPixelForDecimal(0),S=n.getPixelForDecimal(1),P=Math.min(w,S),k=Math.max(w,S);x=Math.max(Math.min(x,k),P),y=x+v,i&&!d&&(u._stacks[n.axis]._visualValues[r]=n.getValueForPixel(y)-n.getValueForPixel(x))}if(x===n.getPixelForValue(l)){const w=Di(v)*n.getLineWidthForValue(l)/2;x+=w,v-=w}return{size:v,base:x,head:y,center:y+v/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,o=Ce(r.maxBarThickness,1/0);let l,u;if(n.grouped){const h=s?this._getStackCount(e):n.stackCount,d=r.barThickness==="flex"?g3(e,n,r,h):m3(e,n,r,h),p=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);l=d.start+d.chunk*p+d.chunk/2,u=Math.min(o,d.chunk*d.ratio)}else l=i.getPixelForValue(this.getParsed(e)[i.axis],e),u=Math.min(o,n.min*n.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}Q(Oh,"id","bar"),Q(Oh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Q(Oh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Rh extends _i{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,r){const s=super.parsePrimitiveData(e,n,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(e,n,i,r){const s=super.parseArrayData(e,n,i,r);for(let o=0;o<s.length;o++){const l=n[i+o];s[o]._custom=Ce(l[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(e,n,i,r){const s=super.parseObjectData(e,n,i,r);for(let o=0;o<s.length;o++){const l=n[i+o];s[o]._custom=Ce(l&&l.r&&+l.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),l=r.getLabelForValue(o.x),u=s.getLabelForValue(o.y),h=o._custom;return{label:i[e]||"",value:"("+l+", "+u+(h?", "+h:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:l}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,r),d=o.axis,p=l.axis;for(let m=n;m<n+i;m++){const _=e[m],y=!s&&this.getParsed(m),v={},C=v[d]=s?o.getPixelForDecimal(.5):o.getPixelForValue(y[d]),x=v[p]=s?l.getBasePixel():l.getPixelForValue(y[p]);v.skip=isNaN(C)||isNaN(x),h&&(v.options=u||this.resolveDataElementOptions(m,_.active?"active":r),s&&(v.options.radius=0)),this.updateElement(_,m,v,r)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return n!=="active"&&(r.radius=0),r.radius+=Ce(i&&i._custom,s),r}}Q(Rh,"id","bubble"),Q(Rh,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Q(Rh,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function S3(t,e,n){let i=1,r=1,s=0,o=0;if(e<ct){const l=t,u=l+e,h=Math.cos(l),d=Math.sin(l),p=Math.cos(u),m=Math.sin(u),_=(S,P,k)=>Pu(S,l,u,!0)?1:Math.max(P,P*n,k,k*n),y=(S,P,k)=>Pu(S,l,u,!0)?-1:Math.min(P,P*n,k,k*n),v=_(0,h,p),C=_(kt,d,m),x=y(ht,h,p),w=y(ht+kt,d,m);i=(v-x)/2,r=(C-w)/2,s=-(v+x)/2,o=-(C+w)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class js extends _i{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=u=>+i[u];if(Ae(i[e])){const{key:u="value"}=this._parsing;s=h=>+is(i[h],u)}let o,l;for(o=e,l=e+n;o<l;++o)r._parsed[o]=s(o)}}_getRotation(){return fi(this.options.rotation-90)}_getCircumference(){return fi(this.options.circumference)}_getRotationExtents(){let e=ct,n=-ct;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-o)/2,0),u=Math.min(Fz(this.options.cutout,l),1),h=this._getRingWeight(this.index),{circumference:d,rotation:p}=this._getRotationExtents(),{ratioX:m,ratioY:_,offsetX:y,offsetY:v}=S3(p,d,u),C=(i.width-o)/m,x=(i.height-o)/_,w=Math.max(Math.min(C,x)/2,0),S=tT(this.options.radius,w),P=Math.max(S*u,0),k=(S-P)/this._getVisibleDatasetWeightTotal();this.offsetX=y*S,this.offsetY=v*S,r.total=this.calculateTotal(),this.outerRadius=S-k*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-k*h,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/ct)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,l=o.chartArea,h=o.options.animation,d=(l.left+l.right)/2,p=(l.top+l.bottom)/2,m=s&&h.animateScale,_=m?0:this.innerRadius,y=m?0:this.outerRadius,{sharedOptions:v,includeOptions:C}=this._getSharedOptions(n,r);let x=this._getRotation(),w;for(w=0;w<n;++w)x+=this._circumference(w,s);for(w=n;w<n+i;++w){const S=this._circumference(w,s),P=e[w],k={x:d+this.offsetX,y:p+this.offsetY,startAngle:x,endAngle:x+S,circumference:S,outerRadius:y,innerRadius:_};C&&(k.options=v||this.resolveDataElementOptions(w,P.active?"active":r)),x+=S,this.updateElement(P,w,k,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ct*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Qu(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,l,u;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,l=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)u=l.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(Ce(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Q(js,"id","doughnut"),Q(js,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Q(js,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Q(js,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const u=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Dh extends _i{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:l,count:u}=uT(n,r,o);this._drawStart=l,this._drawCount=u,cT(n)&&(l=0,u=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:h},e),this.updateElements(r,l,u,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:l,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(n,r),m=o.axis,_=l.axis,{spanGaps:y,segment:v}=this.options,C=va(y)?y:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||r==="none",w=n+i,S=e.length;let P=n>0&&this.getParsed(n-1);for(let k=0;k<S;++k){const T=e[k],O=x?T:{};if(k<n||k>=w){O.skip=!0;continue}const M=this.getParsed(k),N=je(M[_]),j=O[m]=o.getPixelForValue(M[m],k),U=O[_]=s||N?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,M,u):M[_],k);O.skip=isNaN(j)||isNaN(U)||N,O.stop=k>0&&Math.abs(M[m]-P[m])>C,v&&(O.parsed=M,O.raw=h.data[k]),p&&(O.options=d||this.resolveDataElementOptions(k,T.active?"active":r)),x||this.updateElement(T,k,O,r),P=M}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Q(Dh,"id","line"),Q(Dh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Q(Dh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ul extends _i{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Qu(n._parsed[e].r,i.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,n,i,r){return vT.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),l=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,u=o.options.animation,h=this._cachedMeta.rScale,d=h.xCenter,p=h.yCenter,m=h.getIndexAngle(0)-.5*ht;let _=m,y;const v=360/this.countVisibleElements();for(y=0;y<n;++y)_+=this._computeAngle(y,r,v);for(y=n;y<n+i;y++){const C=e[y];let x=_,w=_+this._computeAngle(y,r,v),S=o.getDataVisibility(y)?h.getDistanceFromCenterForValue(this.getParsed(y).r):0;_=w,s&&(u.animateScale&&(S=0),u.animateRotate&&(x=w=m));const P={x:d,y:p,innerRadius:0,outerRadius:S,startAngle:x,endAngle:w,options:this.resolveDataElementOptions(y,C.active?"active":r)};this.updateElement(C,y,P,r)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?fi(this.resolveDataElementOptions(e,n).angle||i):0}}Q(Ul,"id","polarArea"),Q(Ul,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Q(Ul,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const u=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class qg extends js{}Q(qg,"id","pie"),Q(qg,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ah extends _i{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,r){return vT.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,l,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let l=n;l<n+i;l++){const u=e[l],h=this.resolveDataElementOptions(l,u.active?"active":r),d=s.getPointPositionForValue(l,this.getParsed(l).r),p=o?s.xCenter:d.x,m=o?s.yCenter:d.y,_={x:p,y:m,angle:d.angle,skip:isNaN(p)||isNaN(m),options:h};this.updateElement(u,l,_,r)}}}Q(Ah,"id","radar"),Q(Ah,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Q(Ah,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Nh extends _i{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),l=r.getLabelForValue(o.x),u=s.getLabelForValue(o.y);return{label:i[e]||"",value:"("+l+", "+u+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:s,count:o}=uT(n,i,r);if(this._drawStart=s,this._drawCount=o,cT(n)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:u}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=i;const h=this.resolveDatasetElementOptions(e);h.segment=this.options.segment,this.updateElement(l,void 0,{animated:!r,options:h},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:l,_stacked:u,_dataset:h}=this._cachedMeta,d=this.resolveDataElementOptions(n,r),p=this.getSharedOptions(d),m=this.includeOptions(r,p),_=o.axis,y=l.axis,{spanGaps:v,segment:C}=this.options,x=va(v)?v:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||s||r==="none";let S=n>0&&this.getParsed(n-1);for(let P=n;P<n+i;++P){const k=e[P],T=this.getParsed(P),O=w?k:{},M=je(T[y]),N=O[_]=o.getPixelForValue(T[_],P),j=O[y]=s||M?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,T,u):T[y],P);O.skip=isNaN(N)||isNaN(j)||M,O.stop=P>0&&Math.abs(T[_]-S[_])>x,C&&(O.parsed=T,O.raw=h.data[P]),m&&(O.options=p||this.resolveDataElementOptions(P,k.active?"active":r)),w||this.updateElement(k,P,O,r),S=T}this.updateSharedOptions(p,r,d)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let l=0;for(let u=n.length-1;u>=0;--u)l=Math.max(l,n[u].size(this.resolveDataElementOptions(u))/2);return l>0&&l}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,o)/2}}Q(Nh,"id","scatter"),Q(Nh,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Q(Nh,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var C3=Object.freeze({__proto__:null,BarController:Oh,BubbleController:Rh,DoughnutController:js,LineController:Dh,PieController:qg,PolarAreaController:Ul,RadarController:Ah,ScatterController:Nh});function Ps(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hy{constructor(e){Q(this,"options");this.options=e||{}}static override(e){Object.assign(hy.prototype,e)}init(){}formats(){return Ps()}parse(){return Ps()}format(){return Ps()}add(){return Ps()}diff(){return Ps()}startOf(){return Ps()}endOf(){return Ps()}}var E3={_date:hy};function P3(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,l=r._cachedMeta.iScale;if(l&&e===l.axis&&e!=="r"&&o&&s.length){const u=l._reversePixels?Kz:Ji;if(i){if(r._sharedOptions){const h=s[0],d=typeof h.getRange=="function"&&h.getRange(e);if(d){const p=u(s,e,n-d),m=u(s,e,n+d);return{lo:p.lo,hi:m.hi}}}}else return u(s,e,n)}return{lo:0,hi:s.length-1}}function Ju(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let l=0,u=s.length;l<u;++l){const{index:h,data:d}=s[l],{lo:p,hi:m}=P3(s[l],e,o,r);for(let _=p;_<=m;++_){const y=d[_];y.skip||i(y,h,_)}}}function T3(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function gm(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||Ju(t,n,e,function(l,u,h){!r&&!er(l,t.chartArea,0)||l.inRange(e.x,e.y,i)&&s.push({element:l,datasetIndex:u,index:h})},!0),s}function k3(t,e,n,i){let r=[];function s(o,l,u){const{startAngle:h,endAngle:d}=o.getProps(["startAngle","endAngle"],i),{angle:p}=rT(o,{x:e.x,y:e.y});Pu(p,h,d)&&r.push({element:o,datasetIndex:l,index:u})}return Ju(t,n,e,s),r}function M3(t,e,n,i,r,s){let o=[];const l=T3(n);let u=Number.POSITIVE_INFINITY;function h(d,p,m){const _=d.inRange(e.x,e.y,r);if(i&&!_)return;const y=d.getCenterPoint(r);if(!(!!s||t.isPointInArea(y))&&!_)return;const C=l(e,y);C<u?(o=[{element:d,datasetIndex:p,index:m}],u=C):C===u&&o.push({element:d,datasetIndex:p,index:m})}return Ju(t,n,e,h),o}function _m(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?k3(t,e,n,r):M3(t,e,n,i,r,s)}function _w(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return Ju(t,n,e,(u,h,d)=>{u[o]&&u[o](e[n],r)&&(s.push({element:u,datasetIndex:h,index:d}),l=l||u.inRange(e.x,e.y,r))}),i&&!l?[]:s}var L3={evaluateInteractionItems:Ju,modes:{index(t,e,n,i){const r=Os(e,t),s=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?gm(t,r,s,i,o):_m(t,r,s,!1,i,o),u=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const d=l[0].index,p=h.data[d];p&&!p.skip&&u.push({element:p,datasetIndex:h.index,index:d})}),u):[]},dataset(t,e,n,i){const r=Os(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?gm(t,r,s,i,o):_m(t,r,s,!1,i,o);if(l.length>0){const u=l[0].datasetIndex,h=t.getDatasetMeta(u).data;l=[];for(let d=0;d<h.length;++d)l.push({element:h[d],datasetIndex:u,index:d})}return l},point(t,e,n,i){const r=Os(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return gm(t,r,s,i,o)},nearest(t,e,n,i){const r=Os(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return _m(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=Os(e,t);return _w(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=Os(e,t);return _w(t,r,"y",n.intersect,i)}}};const kT=["left","top","right","bottom"];function ll(t,e){return t.filter(n=>n.pos===e)}function vw(t,e){return t.filter(n=>kT.indexOf(n.pos)===-1&&n.box.axis===e)}function ul(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function I3(t){const e=[];let n,i,r,s,o,l;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:l=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:l});return e}function O3(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!kT.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function R3(t,e){const n=O3(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,l;for(s=0,o=t.length;s<o;++s){l=t[s];const{fullSize:u}=l.box,h=n[l.stack],d=h&&l.stackWeight/h.weight;l.horizontal?(l.width=d?d*i:u&&e.availableWidth,l.height=r):(l.width=i,l.height=d?d*r:u&&e.availableHeight)}return n}function D3(t){const e=I3(t),n=ul(e.filter(h=>h.box.fullSize),!0),i=ul(ll(e,"left"),!0),r=ul(ll(e,"right")),s=ul(ll(e,"top"),!0),o=ul(ll(e,"bottom")),l=vw(e,"x"),u=vw(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(u).concat(o).concat(l),chartArea:ll(e,"chartArea"),vertical:i.concat(r).concat(u),horizontal:s.concat(o).concat(l)}}function yw(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function MT(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function A3(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!Ae(r)){n.size&&(t[r]-=n.size);const p=i[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?s.height:s.width),n.size=p.size/p.count,t[r]+=n.size}s.getPadding&&MT(o,s.getPadding());const l=Math.max(0,e.outerWidth-yw(o,t,"left","right")),u=Math.max(0,e.outerHeight-yw(o,t,"top","bottom")),h=l!==t.w,d=u!==t.h;return t.w=l,t.h=u,n.horizontal?{same:h,other:d}:{same:d,other:h}}function N3(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function F3(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function xl(t,e,n,i){const r=[];let s,o,l,u,h,d;for(s=0,o=t.length,h=0;s<o;++s){l=t[s],u=l.box,u.update(l.width||e.w,l.height||e.h,F3(l.horizontal,e));const{same:p,other:m}=A3(e,n,l,i);h|=p&&r.length,d=d||m,u.fullSize||r.push(l)}return h&&xl(r,e,n,i)||d}function ih(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function bw(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const l of t){const u=l.box,h=i[l.stack]||{count:1,placed:0,weight:1},d=l.stackWeight/h.weight||1;if(l.horizontal){const p=e.w*d,m=h.size||u.height;Eu(h.start)&&(o=h.start),u.fullSize?ih(u,r.left,o,n.outerWidth-r.right-r.left,m):ih(u,e.left+h.placed,o,p,m),h.start=o,h.placed+=p,o=u.bottom}else{const p=e.h*d,m=h.size||u.width;Eu(h.start)&&(s=h.start),u.fullSize?ih(u,s,r.top,m,n.outerHeight-r.bottom-r.top):ih(u,s,e.top+h.placed,m,p),h.start=s,h.placed+=p,s=u.right}}e.x=s,e.y=o}var on={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=ln(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),l=D3(t.boxes),u=l.vertical,h=l.horizontal;Ze(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const d=u.reduce((v,C)=>C.box.options&&C.box.options.display===!1?v:v+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),m=Object.assign({},r);MT(m,ln(i));const _=Object.assign({maxPadding:m,w:s,h:o,x:r.left,y:r.top},r),y=R3(u.concat(h),p);xl(l.fullSize,_,p,y),xl(u,_,p,y),xl(h,_,p,y)&&xl(u,_,p,y),N3(_),bw(l.leftAndTop,_,p,y),_.x+=_.w,_.y+=_.h,bw(l.rightAndBottom,_,p,y),t.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Ze(l.chartArea,v=>{const C=v.box;Object.assign(C,t.chartArea),C.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class LT{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class z3 extends LT{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Fh="$chartjs",B3={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xw=t=>t===null||t==="";function V3(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Fh]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",xw(r)){const s=rw(t,"width");s!==void 0&&(t.width=s)}if(xw(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=rw(t,"height");s!==void 0&&(t.height=s)}return t}const IT=HB?{passive:!0}:!1;function j3(t,e,n){t&&t.addEventListener(e,n,IT)}function H3(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,IT)}function W3(t,e){const n=B3[t.type]||t.type,{x:i,y:r}=Os(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Hd(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function $3(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||Hd(l.addedNodes,i),o=o&&!Hd(l.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function U3(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||Hd(l.removedNodes,i),o=o&&!Hd(l.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const ku=new Map;let ww=0;function OT(){const t=window.devicePixelRatio;t!==ww&&(ww=t,ku.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Z3(t,e){ku.size||window.addEventListener("resize",OT),ku.set(t,e)}function Y3(t){ku.delete(t),ku.size||window.removeEventListener("resize",OT)}function G3(t,e,n){const i=t.canvas,r=i&&cy(i);if(!r)return;const s=lT((l,u)=>{const h=r.clientWidth;n(l,u),h<r.clientWidth&&n()},window),o=new ResizeObserver(l=>{const u=l[0],h=u.contentRect.width,d=u.contentRect.height;h===0&&d===0||s(h,d)});return o.observe(r),Z3(t,s),o}function vm(t,e,n){n&&n.disconnect(),e==="resize"&&Y3(t)}function K3(t,e,n){const i=t.canvas,r=lT(s=>{t.ctx!==null&&n(W3(s,t))},t);return j3(i,e,r),r}class q3 extends LT{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(V3(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[Fh])return!1;const i=n[Fh].initial;["height","width"].forEach(s=>{const o=i[s];je(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Fh],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:$3,detach:U3,resize:G3}[n]||K3;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:vm,detach:vm,resize:vm}[n]||H3)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return jB(e,n,i,r)}isAttached(e){const n=e&&cy(e);return!!(n&&n.isConnected)}}function X3(t){return!uy()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?z3:q3}var gh;let gr=(gh=class{constructor(){Q(this,"x");Q(this,"y");Q(this,"active",!1);Q(this,"options");Q(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return va(this.x)&&va(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},Q(gh,"defaults",{}),Q(gh,"defaultRoutes"),gh);function Q3(t,e){const n=t.options.ticks,i=J3(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?t4(e):[],o=s.length,l=s[0],u=s[o-1],h=[];if(o>r)return n4(e,h,s,o/r),h;const d=e4(s,e,r);if(o>0){let p,m;const _=o>1?Math.round((u-l)/(o-1)):null;for(rh(e,h,d,je(_)?0:l-_,l),p=0,m=o-1;p<m;p++)rh(e,h,d,s[p],s[p+1]);return rh(e,h,d,u,je(_)?e.length:u+_),h}return rh(e,h,d),h}function J3(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function e4(t,e,n){const i=i4(t),r=e.length/n;if(!i)return Math.max(r,1);const s=Uz(i);for(let o=0,l=s.length-1;o<l;o++){const u=s[o];if(u>r)return u}return Math.max(r,1)}function t4(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function n4(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function rh(t,e,n,i,r){const s=Ce(i,0),o=Math.min(Ce(r,t.length),t.length);let l=0,u,h,d;for(n=Math.ceil(n),r&&(u=r-i,n=u/Math.floor(u/n)),d=s;d<0;)l++,d=Math.round(s+l*n);for(h=Math.max(s,0);h<o;h++)h===d&&(e.push(t[h]),l++,d=Math.round(s+l*n))}function i4(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const r4=t=>t==="left"?"right":t==="right"?"left":t,Sw=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Cw=(t,e)=>Math.min(e||t,t);function Ew(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function s4(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,l=1e-6;let u=t.getPixelForTick(r),h;if(!(n&&(i===1?h=Math.max(u-s,o-u):e===0?h=(t.getPixelForTick(1)-u)/2:h=(u-t.getPixelForTick(r-1))/2,u+=r<e?h:-h,u<s-l||u>o+l)))return u}function o4(t,e){Ze(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function cl(t){return t.drawTicks?t.tickLength:0}function Pw(t,e){if(!t.display)return 0;const n=Bt(t.font,e),i=ln(t.padding);return(mt(t.text)?t.text.length:1)*n.lineHeight+i.height}function a4(t,e){return ds(t,{scale:e,type:"scale"})}function l4(t,e,n){return ds(t,{tick:n,index:e,type:"tick"})}function u4(t,e,n){let i=iy(t);return(n&&e!=="right"||!n&&e==="right")&&(i=r4(i)),i}function c4(t,e,n,i){const{top:r,left:s,bottom:o,right:l,chart:u}=t,{chartArea:h,scales:d}=u;let p=0,m,_,y;const v=o-r,C=l-s;if(t.isHorizontal()){if(_=nn(i,s,l),Ae(n)){const x=Object.keys(n)[0],w=n[x];y=d[x].getPixelForValue(w)+v-e}else n==="center"?y=(h.bottom+h.top)/2+v-e:y=Sw(t,n,e);m=l-s}else{if(Ae(n)){const x=Object.keys(n)[0],w=n[x];_=d[x].getPixelForValue(w)-C+e}else n==="center"?_=(h.left+h.right)/2-C+e:_=Sw(t,n,e);y=nn(i,o,r),p=n==="left"?-kt:kt}return{titleX:_,titleY:y,maxWidth:m,rotation:p}}class lo extends gr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Ln(e,Number.POSITIVE_INFINITY),n=Ln(n,Number.NEGATIVE_INFINITY),i=Ln(i,Number.POSITIVE_INFINITY),r=Ln(r,Number.NEGATIVE_INFINITY),{min:Ln(e,i),max:Ln(n,r),minDefined:Ct(e),maxDefined:Ct(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let u=0,h=l.length;u<h;++u)o=l[u].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Ln(n,Ln(i,n)),max:Ln(i,Ln(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){it(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=yB(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?Ew(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Q3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){it(this.options.afterUpdate,[this])}beforeSetDimensions(){it(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){it(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),it(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){it(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=it(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){it(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){it(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Cw(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,l,u,h;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const d=this._getLabelSizes(),p=d.widest.width,m=d.highest.height,_=$t(this.chart.width-p,0,this.maxWidth);l=e.offset?this.maxWidth/i:_/(i-1),p+6>l&&(l=_/(i-(e.offset?.5:1)),u=this.maxHeight-cl(e.grid)-n.padding-Pw(e.title,this.chart.options.font),h=Math.sqrt(p*p+m*m),o=ty(Math.min(Math.asin($t((d.highest.height+6)/l,-1,1)),Math.asin($t(u/h,-1,1))-Math.asin($t(m/h,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){it(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){it(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const u=Pw(r,n.options.font);if(l?(e.width=this.maxWidth,e.height=cl(s)+u):(e.height=this.maxHeight,e.width=cl(s)+u),i.display&&this.ticks.length){const{first:h,last:d,widest:p,highest:m}=this._getLabelSizes(),_=i.padding*2,y=fi(this.labelRotation),v=Math.cos(y),C=Math.sin(y);if(l){const x=i.mirror?0:C*p.width+v*m.height;e.height=Math.min(this.maxHeight,e.height+x+_)}else{const x=i.mirror?0:v*p.width+C*m.height;e.width=Math.min(this.maxWidth,e.width+x+_)}this._calculatePadding(h,d,C,v)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:l}=this.options,u=this.labelRotation!==0,h=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,_=0;u?h?(m=r*e.width,_=i*n.height):(m=i*e.height,_=r*n.width):s==="start"?_=n.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,_=n.width/2),this.paddingLeft=Math.max((m-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((_-p+o)*this.width/(this.width-p),0)}else{let d=n.height/2,p=e.height/2;s==="start"?(d=0,p=e.height):s==="end"&&(d=n.height,p=0),this.paddingTop=d+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){it(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)je(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Ew(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],l=[],u=Math.floor(n/Cw(n,i));let h=0,d=0,p,m,_,y,v,C,x,w,S,P,k;for(p=0;p<n;p+=u){if(y=e[p].label,v=this._resolveTickFontOptions(p),r.font=C=v.string,x=s[C]=s[C]||{data:{},gc:[]},w=v.lineHeight,S=P=0,!je(y)&&!mt(y))S=Vd(r,x.data,x.gc,S,y),P=w;else if(mt(y))for(m=0,_=y.length;m<_;++m)k=y[m],!je(k)&&!mt(k)&&(S=Vd(r,x.data,x.gc,S,k),P+=w);o.push(S),l.push(P),h=Math.max(S,h),d=Math.max(P,d)}o4(s,n);const T=o.indexOf(h),O=l.indexOf(d),M=N=>({width:o[N]||0,height:l[N]||0});return{first:M(0),last:M(n-1),widest:M(T),highest:M(O),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Gz(this._alignToPixels?Es(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=l4(this.getContext(),e,i))}return this.$context||(this.$context=a4(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=fi(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,l=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*i>l*r?l/i:u/r:u*r<l*i?u/i:l/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:l}=r,u=s.offset,h=this.isHorizontal(),p=this.ticks.length+(u?1:0),m=cl(s),_=[],y=l.setContext(this.getContext()),v=y.display?y.width:0,C=v/2,x=function(ie){return Es(i,ie,v)};let w,S,P,k,T,O,M,N,j,U,G,ge;if(o==="top")w=x(this.bottom),O=this.bottom-m,N=w-C,U=x(e.top)+C,ge=e.bottom;else if(o==="bottom")w=x(this.top),U=e.top,ge=x(e.bottom)-C,O=w+C,N=this.top+m;else if(o==="left")w=x(this.right),T=this.right-m,M=w-C,j=x(e.left)+C,G=e.right;else if(o==="right")w=x(this.left),j=e.left,G=x(e.right)-C,T=w+C,M=this.left+m;else if(n==="x"){if(o==="center")w=x((e.top+e.bottom)/2+.5);else if(Ae(o)){const ie=Object.keys(o)[0],re=o[ie];w=x(this.chart.scales[ie].getPixelForValue(re))}U=e.top,ge=e.bottom,O=w+C,N=O+m}else if(n==="y"){if(o==="center")w=x((e.left+e.right)/2);else if(Ae(o)){const ie=Object.keys(o)[0],re=o[ie];w=x(this.chart.scales[ie].getPixelForValue(re))}T=w-C,M=T-m,j=e.left,G=e.right}const fe=Ce(r.ticks.maxTicksLimit,p),he=Math.max(1,Math.ceil(p/fe));for(S=0;S<p;S+=he){const ie=this.getContext(S),re=s.setContext(ie),z=l.setContext(ie),X=re.lineWidth,W=re.color,ne=z.dash||[],J=z.dashOffset,me=re.tickWidth,oe=re.tickColor,le=re.tickBorderDash||[],ee=re.tickBorderDashOffset;P=s4(this,S,u),P!==void 0&&(k=Es(i,P,X),h?T=M=j=G=k:O=N=U=ge=k,_.push({tx1:T,ty1:O,tx2:M,ty2:N,x1:j,y1:U,x2:G,y2:ge,width:X,color:W,borderDash:ne,borderDashOffset:J,tickWidth:me,tickColor:oe,tickBorderDash:le,tickBorderDashOffset:ee}))}return this._ticksLength=p,this._borderValue=w,_}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:h,padding:d,mirror:p}=s,m=cl(i.grid),_=m+d,y=p?-d:_,v=-fi(this.labelRotation),C=[];let x,w,S,P,k,T,O,M,N,j,U,G,ge="middle";if(r==="top")T=this.bottom-y,O=this._getXAxisLabelAlignment();else if(r==="bottom")T=this.top+y,O=this._getXAxisLabelAlignment();else if(r==="left"){const he=this._getYAxisLabelAlignment(m);O=he.textAlign,k=he.x}else if(r==="right"){const he=this._getYAxisLabelAlignment(m);O=he.textAlign,k=he.x}else if(n==="x"){if(r==="center")T=(e.top+e.bottom)/2+_;else if(Ae(r)){const he=Object.keys(r)[0],ie=r[he];T=this.chart.scales[he].getPixelForValue(ie)+_}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")k=(e.left+e.right)/2-_;else if(Ae(r)){const he=Object.keys(r)[0],ie=r[he];k=this.chart.scales[he].getPixelForValue(ie)}O=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(u==="start"?ge="top":u==="end"&&(ge="bottom"));const fe=this._getLabelSizes();for(x=0,w=l.length;x<w;++x){S=l[x],P=S.label;const he=s.setContext(this.getContext(x));M=this.getPixelForTick(x)+s.labelOffset,N=this._resolveTickFontOptions(x),j=N.lineHeight,U=mt(P)?P.length:1;const ie=U/2,re=he.color,z=he.textStrokeColor,X=he.textStrokeWidth;let W=O;o?(k=M,O==="inner"&&(x===w-1?W=this.options.reverse?"left":"right":x===0?W=this.options.reverse?"right":"left":W="center"),r==="top"?h==="near"||v!==0?G=-U*j+j/2:h==="center"?G=-fe.highest.height/2-ie*j+j:G=-fe.highest.height+j/2:h==="near"||v!==0?G=j/2:h==="center"?G=fe.highest.height/2-ie*j:G=fe.highest.height-U*j,p&&(G*=-1),v!==0&&!he.showLabelBackdrop&&(k+=j/2*Math.sin(v))):(T=M,G=(1-U)*j/2);let ne;if(he.showLabelBackdrop){const J=ln(he.backdropPadding),me=fe.heights[x],oe=fe.widths[x];let le=G-J.top,ee=0-J.left;switch(ge){case"middle":le-=me/2;break;case"bottom":le-=me;break}switch(O){case"center":ee-=oe/2;break;case"right":ee-=oe;break;case"inner":x===w-1?ee-=oe:x>0&&(ee-=oe/2);break}ne={left:ee,top:le,width:oe+J.width,height:me+J.height,color:he.backdropColor}}C.push({label:P,font:N,textOffset:G,options:{rotation:v,color:re,strokeColor:z,strokeWidth:X,textAlign:W,textBaseline:ge,translation:[k,T],backdrop:ne}})}return C}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-fi(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),l=e+s,u=o.widest.width;let h,d;return n==="left"?r?(d=this.right+s,i==="near"?h="left":i==="center"?(h="center",d+=u/2):(h="right",d+=u)):(d=this.right-l,i==="near"?h="right":i==="center"?(h="center",d-=u/2):(h="left",d=this.left)):n==="right"?r?(d=this.left+s,i==="near"?h="right":i==="center"?(h="center",d-=u/2):(h="left",d-=u)):(d=this.left+l,i==="near"?h="left":i==="center"?(h="center",d+=u/2):(h="right",d=this.right)):h="right",{textAlign:h,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const l=(u,h,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const u=r[s];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const l=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,d,p,m;this.isHorizontal()?(h=Es(e,this.left,o)-o/2,d=Es(e,this.right,l)+l/2,p=m=u):(p=Es(e,this.top,o)-o/2,m=Es(e,this.bottom,l)+l/2,h=d=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(h,p),n.lineTo(d,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Mf(i,r);const s=this.getLabelItems(e);for(const o of s){const l=o.options,u=o.font,h=o.label,d=o.textOffset;io(i,h,0,d,u,l)}r&&Lf(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=Bt(i.font),o=ln(i.padding),l=i.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||Ae(n)?(u+=o.bottom,mt(i.text)&&(u+=s.lineHeight*(i.text.length-1))):u+=o.top;const{titleX:h,titleY:d,maxWidth:p,rotation:m}=c4(this,u,n,l);io(e,i.text,0,0,s,{color:i.color,maxWidth:p,rotation:m,textAlign:u4(l,n,r),textBaseline:"middle",translation:[h,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Ce(e.grid&&e.grid.z,-1),r=Ce(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==lo.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const l=n[s];l[i]===this.id&&(!e||l.type===e)&&r.push(l)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Bt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class sh{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;f4(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,h4(e,o,i),this.override&&gt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in gt[r]&&(delete gt[r][i],this.override&&delete no[i])}}function h4(t,e,n){const i=Cu(Object.create(null),[n?gt.get(n):{},gt.get(e),t.defaults]);gt.set(e,i),t.defaultRoutes&&d4(e,t.defaultRoutes),t.descriptors&&gt.describe(e,t.descriptors)}function d4(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),l=o.pop(),u=o.join(".");gt.route(s,r,u,l)})}function f4(t){return"id"in t&&"defaults"in t}class p4{constructor(){this.controllers=new sh(_i,"datasets",!0),this.elements=new sh(gr,"elements"),this.plugins=new sh(Object,"plugins"),this.scales=new sh(lo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Ze(r,o=>{const l=i||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,n,i){const r=ey(e);it(i["before"+r],[],i),n[e](i),it(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Ti=new p4;class m4{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,l=o[i],u=[n,r,s.options];if(it(l,u,o)===!1&&r.cancelable)return!1}return!0}invalidate(){je(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=Ce(i.options&&i.options.plugins,{}),s=g4(i);return r===!1&&!n?[]:v4(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(l=>!o.some(u=>l.plugin.id===u.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function g4(t){const e={},n=[],i=Object.keys(Ti.plugins.items);for(let s=0;s<i.length;s++)n.push(Ti.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function _4(t,e){return!e&&t===!1?null:t===!0?{}:t}function v4(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const l of e){const u=l.id,h=_4(i[u],r);h!==null&&s.push({plugin:l,options:y4(t.config,{plugin:l,local:n[u]},h,o)})}return s}function y4(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Xg(t,e){const n=gt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function b4(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function x4(t,e){return t===e?"_index_":"_value_"}function Tw(t){if(t==="x"||t==="y"||t==="r")return t}function w4(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Qg(t,...e){if(Tw(t))return t;for(const n of e){const i=n.axis||w4(n.position)||t.length>1&&Tw(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function kw(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function S4(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return kw(t,"x",n[0])||kw(t,"y",n[0])}return{}}function C4(t,e){const n=no[t.type]||{scales:{}},i=e.scales||{},r=Xg(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const l=i[o];if(!Ae(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=Qg(o,l,S4(o,t),gt.scales[l.type]),h=x4(u,r),d=n.scales||{};s[o]=jl(Object.create(null),[{axis:u},l,d[u],d[h]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,u=o.indexAxis||Xg(l,e),d=(no[l]||{}).scales||{};Object.keys(d).forEach(p=>{const m=b4(p,u),_=o[m+"AxisID"]||m;s[_]=s[_]||Object.create(null),jl(s[_],[{axis:m},i[_],d[p]])})}),Object.keys(s).forEach(o=>{const l=s[o];jl(l,[gt.scales[l.type],gt.scale])}),s}function RT(t){const e=t.options||(t.options={});e.plugins=Ce(e.plugins,{}),e.scales=C4(t,e)}function DT(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function E4(t){return t=t||{},t.data=DT(t.data),RT(t),t}const Mw=new Map,AT=new Set;function oh(t,e){let n=Mw.get(t);return n||(n=e(),Mw.set(t,n),AT.add(n)),n}const hl=(t,e,n)=>{const i=is(e,n);i!==void 0&&t.add(i)};class P4{constructor(e){this._config=E4(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=DT(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),RT(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return oh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return oh(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return oh(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return oh(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),l=o.get(n);if(l)return l;const u=new Set;n.forEach(d=>{e&&(u.add(e),d.forEach(p=>hl(u,e,p))),d.forEach(p=>hl(u,r,p)),d.forEach(p=>hl(u,no[s]||{},p)),d.forEach(p=>hl(u,gt,p)),d.forEach(p=>hl(u,Gg,p))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),AT.has(n)&&o.set(n,h),h}chartOptionScopes(){const{options:e,type:n}=this;return[e,no[n]||{},gt.datasets[n]||{},{type:n},gt,Gg]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:l}=Lw(this._resolverCache,e,r);let u=o;if(k4(o,n)){s.$shared=!1,i=rs(i)?i():i;const h=this.createResolver(e,i,l);u=ya(o,i,h)}for(const h of n)s[h]=u[h];return s}createResolver(e,n,i=[""],r){const{resolver:s}=Lw(this._resolverCache,e,i);return Ae(n)?ya(s,n,void 0,r):s}}function Lw(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:oy(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(r,s)),s}const T4=t=>Ae(t)&&Object.getOwnPropertyNames(t).some(e=>rs(t[e]));function k4(t,e){const{isScriptable:n,isIndexable:i}=pT(t);for(const r of e){const s=n(r),o=i(r),l=(o||s)&&t[r];if(s&&(rs(l)||T4(l))||o&&mt(l))return!0}return!1}var M4="4.4.5";const L4=["top","bottom","left","right","chartArea"];function Iw(t,e){return t==="top"||t==="bottom"||L4.indexOf(t)===-1&&e==="x"}function Ow(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Rw(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),it(n&&n.onComplete,[t],e)}function I4(t){const e=t.chart,n=e.options.animation;it(n&&n.onProgress,[t],e)}function NT(t){return uy()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const zh={},Dw=t=>{const e=NT(t);return Object.values(zh).filter(n=>n.canvas===e).pop()};function O4(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function R4(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function ah(t,e,n){return t.options.clip?t[n]:e[n]}function D4(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:ah(n,e,"left"),right:ah(n,e,"right"),top:ah(i,e,"top"),bottom:ah(i,e,"bottom")}:e}class ki{static register(...e){Ti.add(...e),Aw()}static unregister(...e){Ti.remove(...e),Aw()}constructor(e,n){const i=this.config=new P4(n),r=NT(e),s=Dw(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||X3(r)),this.platform.updateConfig(i);const l=this.platform.acquireContext(r,o.aspectRatio),u=l&&l.canvas,h=u&&u.height,d=u&&u.width;if(this.id=Nz(),this.ctx=l,this.canvas=u,this.width=d,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new m4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Qz(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],zh[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}$i.listen(this,"complete",Rw),$i.listen(this,"progress",I4),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return je(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ti}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():iw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ew(this.canvas,this.ctx),this}stop(){return $i.stop(this),this}resize(e,n){$i.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,iw(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),it(i.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ze(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,l)=>(o[l]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const l=n[o],u=Qg(o,l),h=u==="r",d=u==="x";return{options:l,dposition:h?"chartArea":d?"bottom":"left",dtype:h?"radialLinear":d?"category":"linear"}}))),Ze(s,o=>{const l=o.options,u=l.id,h=Qg(u,l),d=Ce(l.type,o.dtype);(l.position===void 0||Iw(l.position,h)!==Iw(o.dposition))&&(l.position=o.dposition),r[u]=!0;let p=null;if(u in i&&i[u].type===d)p=i[u];else{const m=Ti.getScale(d);p=new m({id:u,type:d,ctx:this.ctx,chart:this}),i[p.id]=p}p.init(l,e)}),Ze(r,(o,l)=>{o||delete i[l]}),Ze(i,o=>{on.configure(this,o,o.options),on.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Ow("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const l=s.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=l,o.indexAxis=s.indexAxis||Xg(l,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const u=Ti.getController(l),{datasetElementType:h,dataElementType:d}=gt.datasets[l];Object.assign(u,{dataElementType:Ti.getElement(d),datasetElementType:h&&Ti.getElement(h)}),o.controller=new u(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ze(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,d=this.data.datasets.length;h<d;h++){const{controller:p}=this.getDatasetMeta(h),m=!r&&s.indexOf(p)===-1;p.buildOrUpdateElements(m),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||Ze(s,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ow("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Ze(this.scales,e=>{on.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Ux(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;O4(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,l)=>l+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!Ux(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;on.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ze(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,rs(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&($i.has(this)?this.attached&&!$i.running(this)&&$i.start(this):(this.draw(),Rw({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,s=D4(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&Mf(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&Lf(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return er(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=L3.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ds(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);Eu(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),$i.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ew(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete zh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,l)=>{s.offsetX=o,s.offsetY=l,this._eventHandler(s)};Ze(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(u,h)=>{n.addEventListener(this,u,h),e[u]=h},r=(u,h)=>{e[u]&&(n.removeEventListener(this,u,h),delete e[u])},s=(u,h)=>{this.canvas&&this.resize(u,h)};let o;const l=()=>{r("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){Ze(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ze(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,l,u;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){o=e[l];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[o],index:o}});!Fd(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(u,h)=>u.filter(d=>!h.some(p=>d.datasetIndex===p.datasetIndex&&d.index===p.index)),o=s(n,e),l=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,l=this._getActiveElements(e,r,i,o),u=Hz(e),h=R4(e,this._lastEvent,i,u);i&&(this._lastEvent=null,it(s.onHover,[e,l,this],this),u&&it(s.onClick,[e,l,this],this));const d=!Fd(l,r);return(d||n)&&(this._active=l,this._updateHoverStyles(l,r,n)),this._lastEvent=h,d}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}Q(ki,"defaults",gt),Q(ki,"instances",zh),Q(ki,"overrides",no),Q(ki,"registry",Ti),Q(ki,"version",M4),Q(ki,"getChart",Dw);function Aw(){return Ze(ki.instances,t=>t._plugins.invalidate())}function A4(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:l,innerRadius:u}=e;let h=r/l;t.beginPath(),t.arc(s,o,l,i-h,n+h),u>r?(h=r/u,t.arc(s,o,u,n+h,i-h,!0)):t.arc(s,o,r,n+kt,i-kt),t.closePath(),t.clip()}function N4(t){return sy(t,["outerStart","outerEnd","innerStart","innerEnd"])}function F4(t,e,n,i){const r=N4(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),l=u=>{const h=(n-Math.min(s,u))*i/2;return $t(u,0,Math.min(s,h))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:$t(r.innerStart,0,o),innerEnd:$t(r.innerEnd,0,o)}}function Oo(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Wd(t,e,n,i,r,s){const{x:o,y:l,startAngle:u,pixelMargin:h,innerRadius:d}=e,p=Math.max(e.outerRadius+i+n-h,0),m=d>0?d+i+n+h:0;let _=0;const y=r-u;if(i){const he=d>0?d-i:0,ie=p>0?p-i:0,re=(he+ie)/2,z=re!==0?y*re/(re+i):y;_=(y-z)/2}const v=Math.max(.001,y*p-n/ht)/p,C=(y-v)/2,x=u+C+_,w=r-C-_,{outerStart:S,outerEnd:P,innerStart:k,innerEnd:T}=F4(e,m,p,w-x),O=p-S,M=p-P,N=x+S/O,j=w-P/M,U=m+k,G=m+T,ge=x+k/U,fe=w-T/G;if(t.beginPath(),s){const he=(N+j)/2;if(t.arc(o,l,p,N,he),t.arc(o,l,p,he,j),P>0){const X=Oo(M,j,o,l);t.arc(X.x,X.y,P,j,w+kt)}const ie=Oo(G,w,o,l);if(t.lineTo(ie.x,ie.y),T>0){const X=Oo(G,fe,o,l);t.arc(X.x,X.y,T,w+kt,fe+Math.PI)}const re=(w-T/m+(x+k/m))/2;if(t.arc(o,l,m,w-T/m,re,!0),t.arc(o,l,m,re,x+k/m,!0),k>0){const X=Oo(U,ge,o,l);t.arc(X.x,X.y,k,ge+Math.PI,x-kt)}const z=Oo(O,x,o,l);if(t.lineTo(z.x,z.y),S>0){const X=Oo(O,N,o,l);t.arc(X.x,X.y,S,x-kt,N)}}else{t.moveTo(o,l);const he=Math.cos(N)*p+o,ie=Math.sin(N)*p+l;t.lineTo(he,ie);const re=Math.cos(j)*p+o,z=Math.sin(j)*p+l;t.lineTo(re,z)}t.closePath()}function z4(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:l}=e;let u=e.endAngle;if(s){Wd(t,e,n,i,u,r);for(let h=0;h<s;++h)t.fill();isNaN(l)||(u=o+(l%ct||ct))}return Wd(t,e,n,i,u,r),t.fill(),u}function B4(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:l,options:u}=e,{borderWidth:h,borderJoinStyle:d,borderDash:p,borderDashOffset:m}=u,_=u.borderAlign==="inner";if(!h)return;t.setLineDash(p||[]),t.lineDashOffset=m,_?(t.lineWidth=h*2,t.lineJoin=d||"round"):(t.lineWidth=h,t.lineJoin=d||"bevel");let y=e.endAngle;if(s){Wd(t,e,n,i,y,r);for(let v=0;v<s;++v)t.stroke();isNaN(l)||(y=o+(l%ct||ct))}_&&A4(t,e,y),s||(Wd(t,e,n,i,y,r),t.stroke())}class wl extends gr{constructor(n){super();Q(this,"circumference");Q(this,"endAngle");Q(this,"fullCircles");Q(this,"innerRadius");Q(this,"outerRadius");Q(this,"pixelMargin");Q(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:l}=rT(s,{x:n,y:i}),{startAngle:u,endAngle:h,innerRadius:d,outerRadius:p,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),_=(this.options.spacing+this.options.borderWidth)/2,y=Ce(m,h-u),v=Pu(o,u,h)&&u!==h,C=y>=ct||v,x=Qi(l,d+_,p+_);return C&&x}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:d}=this.options,p=(s+o)/2,m=(l+u+d+h)/2;return{x:i+Math.cos(p)*m,y:r+Math.sin(p)*m}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,l=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>ct?Math.floor(r/ct):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const u=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(u)*s,Math.sin(u)*s);const h=1-Math.sin(Math.min(ht,r||0)),d=s*h;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,z4(n,this,d,o,l),B4(n,this,d,o,l),n.restore()}}Q(wl,"id","arc"),Q(wl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Q(wl,"defaultRoutes",{backgroundColor:"backgroundColor"}),Q(wl,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function FT(t,e,n=e){t.lineCap=Ce(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ce(n.borderDash,e.borderDash)),t.lineDashOffset=Ce(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ce(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ce(n.borderWidth,e.borderWidth),t.strokeStyle=Ce(n.borderColor,e.borderColor)}function V4(t,e,n){t.lineTo(n.x,n.y)}function j4(t){return t.stepped?cB:t.tension||t.cubicInterpolationMode==="monotone"?hB:V4}function zT(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:l}=e,u=Math.max(r,o),h=Math.min(s,l),d=r<o&&s<o||r>l&&s>l;return{count:i,start:u,loop:e.loop,ilen:h<u&&!d?i+h-u:h-u}}function H4(t,e,n,i){const{points:r,options:s}=e,{count:o,start:l,loop:u,ilen:h}=zT(r,n,i),d=j4(s);let{move:p=!0,reverse:m}=i||{},_,y,v;for(_=0;_<=h;++_)y=r[(l+(m?h-_:_))%o],!y.skip&&(p?(t.moveTo(y.x,y.y),p=!1):d(t,v,y,m,s.stepped),v=y);return u&&(y=r[(l+(m?h:0))%o],d(t,v,y,m,s.stepped)),!!u}function W4(t,e,n,i){const r=e.points,{count:s,start:o,ilen:l}=zT(r,n,i),{move:u=!0,reverse:h}=i||{};let d=0,p=0,m,_,y,v,C,x;const w=P=>(o+(h?l-P:P))%s,S=()=>{v!==C&&(t.lineTo(d,C),t.lineTo(d,v),t.lineTo(d,x))};for(u&&(_=r[w(0)],t.moveTo(_.x,_.y)),m=0;m<=l;++m){if(_=r[w(m)],_.skip)continue;const P=_.x,k=_.y,T=P|0;T===y?(k<v?v=k:k>C&&(C=k),d=(p*d+P)/++p):(S(),t.lineTo(P,k),y=T,p=0,v=C=k),x=k}S()}function Jg(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?W4:H4}function $4(t){return t.stepped?WB:t.tension||t.cubicInterpolationMode==="monotone"?$B:Rs}function U4(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),FT(t,e.options),t.stroke(r)}function Z4(t,e,n,i){const{segments:r,options:s}=e,o=Jg(e);for(const l of r)FT(t,s,l.style),t.beginPath(),o(t,e,l,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const Y4=typeof Path2D=="function";function G4(t,e,n,i){Y4&&!e.options.segment?U4(t,e,n,i):Z4(t,e,n,i)}class Fr extends gr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;AB(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=qB(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=CT(this,{property:n,start:r,end:r});if(!o.length)return;const l=[],u=$4(i);let h,d;for(h=0,d=o.length;h<d;++h){const{start:p,end:m}=o[h],_=s[p],y=s[m];if(_===y){l.push(_);continue}const v=Math.abs((r-_[n])/(y[n]-_[n])),C=u(_,y,v,i.stepped);C[n]=e[n],l.push(C)}return l.length===1?l[0]:l}pathSegment(e,n,i){return Jg(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=Jg(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const l of r)o&=s(e,this,l,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),G4(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Q(Fr,"id","line"),Q(Fr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Q(Fr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Q(Fr,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Nw(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Bh extends gr{constructor(n){super();Q(this,"parsed");Q(this,"skip");Q(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:l}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return Nw(this,n,"x",i)}inYRange(n,i){return Nw(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!er(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Kg(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Q(Bh,"id","point"),Q(Bh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Q(Bh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function BT(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let l,u,h,d,p;return t.horizontal?(p=o/2,l=Math.min(n,r),u=Math.max(n,r),h=i-p,d=i+p):(p=s/2,l=n-p,u=n+p,h=Math.min(i,r),d=Math.max(i,r)),{left:l,top:h,right:u,bottom:d}}function zr(t,e,n,i){return t?0:$t(e,n,i)}function K4(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=fT(i);return{t:zr(r.top,s.top,0,n),r:zr(r.right,s.right,0,e),b:zr(r.bottom,s.bottom,0,n),l:zr(r.left,s.left,0,e)}}function q4(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=Us(r),o=Math.min(e,n),l=t.borderSkipped,u=i||Ae(r);return{topLeft:zr(!u||l.top||l.left,s.topLeft,0,o),topRight:zr(!u||l.top||l.right,s.topRight,0,o),bottomLeft:zr(!u||l.bottom||l.left,s.bottomLeft,0,o),bottomRight:zr(!u||l.bottom||l.right,s.bottomRight,0,o)}}function X4(t){const e=BT(t),n=e.right-e.left,i=e.bottom-e.top,r=K4(t,n/2,i/2),s=q4(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function ym(t,e,n,i){const r=e===null,s=n===null,l=t&&!(r&&s)&&BT(t,i);return l&&(r||Qi(e,l.left,l.right))&&(s||Qi(n,l.top,l.bottom))}function Q4(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function J4(t,e){t.rect(e.x,e.y,e.w,e.h)}function bm(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class Vh extends gr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=X4(this),l=Q4(o.radius)?Tu:J4;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),l(e,bm(o,n,s)),e.clip(),l(e,bm(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),l(e,bm(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return ym(this,e,n,i)}inXRange(e,n){return ym(this,e,null,n)}inYRange(e,n){return ym(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Q(Vh,"id","bar"),Q(Vh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Q(Vh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var eV=Object.freeze({__proto__:null,ArcElement:wl,BarElement:Vh,LineElement:Fr,PointElement:Bh});const e_=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Fw=e_.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function VT(t){return e_[t%e_.length]}function jT(t){return Fw[t%Fw.length]}function tV(t,e){return t.borderColor=VT(e),t.backgroundColor=jT(e),++e}function nV(t,e){return t.backgroundColor=t.data.map(()=>VT(e++)),e}function iV(t,e){return t.backgroundColor=t.data.map(()=>jT(e++)),e}function rV(t){let e=0;return(n,i)=>{const r=t.getDatasetMeta(i).controller;r instanceof js?e=nV(n,e):r instanceof Ul?e=iV(n,e):r&&(e=tV(n,e))}}function zw(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function sV(t){return t&&(t.borderColor||t.backgroundColor)}function oV(){return gt.borderColor!=="rgba(0,0,0,0.1)"||gt.backgroundColor!=="rgba(0,0,0,0.1)"}var aV={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=t.config,{elements:s}=r,o=zw(i)||sV(r)||s&&zw(s)||oV();if(!n.forceOverride&&o)return;const l=rV(t);i.forEach(l)}};function lV(t,e,n,i,r){const s=r.samples||i;if(s>=n)return t.slice(e,e+n);const o=[],l=(n-2)/(s-2);let u=0;const h=e+n-1;let d=e,p,m,_,y,v;for(o[u++]=t[d],p=0;p<s-2;p++){let C=0,x=0,w;const S=Math.floor((p+1)*l)+1+e,P=Math.min(Math.floor((p+2)*l)+1,n)+e,k=P-S;for(w=S;w<P;w++)C+=t[w].x,x+=t[w].y;C/=k,x/=k;const T=Math.floor(p*l)+1+e,O=Math.min(Math.floor((p+1)*l)+1,n)+e,{x:M,y:N}=t[d];for(_=y=-1,w=T;w<O;w++)y=.5*Math.abs((M-C)*(t[w].y-N)-(M-t[w].x)*(x-N)),y>_&&(_=y,m=t[w],v=w);o[u++]=m,d=v}return o[u++]=t[h],o}function uV(t,e,n,i){let r=0,s=0,o,l,u,h,d,p,m,_,y,v;const C=[],x=e+n-1,w=t[e].x,P=t[x].x-w;for(o=e;o<e+n;++o){l=t[o],u=(l.x-w)/P*i,h=l.y;const k=u|0;if(k===d)h<y?(y=h,p=o):h>v&&(v=h,m=o),r=(s*r+l.x)/++s;else{const T=o-1;if(!je(p)&&!je(m)){const O=Math.min(p,m),M=Math.max(p,m);O!==_&&O!==T&&C.push({...t[O],x:r}),M!==_&&M!==T&&C.push({...t[M],x:r})}o>0&&T!==_&&C.push(t[T]),C.push(l),d=k,s=0,y=v=h,p=m=_=o}}return C}function HT(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Bw(t){t.data.datasets.forEach(e=>{HT(e)})}function cV(t,e){const n=e.length;let i=0,r;const{iScale:s}=t,{min:o,max:l,minDefined:u,maxDefined:h}=s.getUserBounds();return u&&(i=$t(Ji(e,s.axis,o).lo,0,n-1)),h?r=$t(Ji(e,s.axis,l).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var hV={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){Bw(t);return}const i=t.width;t.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:l}=r,u=t.getDatasetMeta(s),h=o||r.data;if(bl([l,t.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const d=t.scales[u.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:p,count:m}=cV(u,h);const _=n.threshold||4*i;if(m<=_){HT(r);return}je(o)&&(r._data=h,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(v){this._data=v}}));let y;switch(n.algorithm){case"lttb":y=lV(h,p,m,i,n);break;case"min-max":y=uV(h,p,m,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=y})},destroy(t){Bw(t)}};function dV(t,e,n){const i=t.segments,r=t.points,s=e.points,o=[];for(const l of i){let{start:u,end:h}=l;h=dy(u,h,r);const d=t_(n,r[u],r[h],l.loop);if(!e.segments){o.push({source:l,target:d,start:r[u],end:r[h]});continue}const p=CT(e,d);for(const m of p){const _=t_(n,s[m.start],s[m.end],m.loop),y=ST(l,r,_);for(const v of y)o.push({source:v,target:m,start:{[n]:Vw(d,_,"start",Math.max)},end:{[n]:Vw(d,_,"end",Math.min)}})}}return o}function t_(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=Rn(r),s=Rn(s)),{property:t,start:r,end:s}}function fV(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:l})=>{l=dy(o,l,r);const u=r[o],h=r[l];i!==null?(s.push({x:u.x,y:i}),s.push({x:h.x,y:i})):n!==null&&(s.push({x:n,y:u.y}),s.push({x:n,y:h.y}))}),s}function dy(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Vw(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function WT(t,e){let n=[],i=!1;return mt(t)?(i=!0,n=t):n=fV(t,e),n.length?new Fr({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function jw(t){return t&&t.fill!==!1}function pV(t,e,n){let r=t[e].fill;const s=[e];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Ct(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function mV(t,e,n){const i=yV(t);if(Ae(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Ct(r)&&Math.floor(r)===r?gV(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function gV(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function _V(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Ae(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function vV(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:Ae(t)?i=t.value:i=e.getBaseValue(),i}function yV(t){const e=t.options,n=e.fill;let i=Ce(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function bV(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,l=xV(e,n);l.push(WT({x:null,y:e.bottom},i));for(let u=0;u<s.length;u++){const h=s[u];for(let d=h.start;d<=h.end;d++)wV(r,o[d],l)}return new Fr({points:r,options:{}})}function xV(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function wV(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:l,point:u}=SV(s,e,"x");if(!(!u||o&&l)){if(o)i.unshift(u);else if(t.push(u),!l)break}}t.push(...i)}function SV(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,o=t.points;let l=!1,u=!1;for(let h=0;h<s.length;h++){const d=s[h],p=o[d.start][n],m=o[d.end][n];if(Qi(r,p,m)){l=r===p,u=r===m;break}}return{first:l,last:u,point:i}}class $T{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:ct},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function CV(t){const{chart:e,fill:n,line:i}=t;if(Ct(n))return EV(e,n);if(n==="stack")return bV(t);if(n==="shape")return!0;const r=PV(t);return r instanceof $T?r:WT(r,i)}function EV(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function PV(t){return(t.scale||{}).getPointPositionForValue?kV(t):TV(t)}function TV(t){const{scale:e={},fill:n}=t,i=_V(n,e);if(Ct(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function kV(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=vV(n,e,s),l=[];if(i.grid.circular){const u=e.getPointPositionForValue(0,s);return new $T({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(o)})}for(let u=0;u<r;++u)l.push(e.getPointPositionForValue(u,o));return l}function xm(t,e,n){const i=CV(e),{line:r,scale:s,axis:o}=e,l=r.options,u=l.fill,h=l.backgroundColor,{above:d=h,below:p=h}=u||{};i&&r.points.length&&(Mf(t,n),MV(t,{line:r,target:i,above:d,below:p,area:n,scale:s,axis:o}),Lf(t))}function MV(t,e){const{line:n,target:i,above:r,below:s,area:o,scale:l}=e,u=n._loop?"angle":e.axis;t.save(),u==="x"&&s!==r&&(Hw(t,i,o.top),Ww(t,{line:n,target:i,color:r,scale:l,property:u}),t.restore(),t.save(),Hw(t,i,o.bottom)),Ww(t,{line:n,target:i,color:s,scale:l,property:u}),t.restore()}function Hw(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const l of i){const{start:u,end:h}=l,d=r[u],p=r[dy(u,h,r)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(p.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Ww(t,e){const{line:n,target:i,property:r,color:s,scale:o}=e,l=dV(n,i,r);for(const{source:u,target:h,start:d,end:p}of l){const{style:{backgroundColor:m=s}={}}=u,_=i!==!0;t.save(),t.fillStyle=m,LV(t,o,_&&t_(r,d,p)),t.beginPath();const y=!!n.pathSegment(t,u);let v;if(_){y?t.closePath():$w(t,i,p,r);const C=!!i.pathSegment(t,h,{move:y,reverse:!0});v=y&&C,v||$w(t,i,d,r)}t.closePath(),t.fill(v?"evenodd":"nonzero"),t.restore()}}function LV(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:l}=n||{};s==="x"&&(t.beginPath(),t.rect(o,i,l-o,r-i),t.clip())}function $w(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var IV={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,o,l,u;for(o=0;o<i;++o)s=t.getDatasetMeta(o),l=s.dataset,u=null,l&&l.options&&l instanceof Fr&&(u={visible:t.isDatasetVisible(o),index:o,fill:mV(l,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=u,r.push(u);for(o=0;o<i;++o)u=r[o],!(!u||u.fill===!1)&&(u.fill=pV(r,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const l=r[o].$filler;l&&(l.line.updateControlPoints(s,l.axis),i&&l.fill&&xm(t.ctx,l,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;jw(s)&&xm(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!jw(i)||n.drawTime!=="beforeDatasetDraw"||xm(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Uw=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},OV=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Zw extends gr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=it(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Bt(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=Uw(i,s);let h,d;n.font=r.string,this.isHorizontal()?(h=this.maxWidth,d=this._fitRows(o,s,l,u)+10):(d=this.maxHeight,h=this._fitCols(o,r,l,u)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],d=r+l;let p=e;s.textAlign="left",s.textBaseline="middle";let m=-1,_=-d;return this.legendItems.forEach((y,v)=>{const C=i+n/2+s.measureText(y.text).width;(v===0||h[h.length-1]+C+2*l>o)&&(p+=d,h[h.length-(v>0?0:1)]=0,_+=d,m++),u[v]={left:0,top:_,row:m,width:C,height:r},h[h.length-1]+=C+l}),p}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],d=o-e;let p=l,m=0,_=0,y=0,v=0;return this.legendItems.forEach((C,x)=>{const{itemWidth:w,itemHeight:S}=RV(i,n,s,C,r);x>0&&_+S+2*l>d&&(p+=m+l,h.push({width:m,height:_}),y+=m+l,v++,m=_=0),u[x]={left:y,top:_,col:v,width:w,height:S},m=Math.max(m,w),_+=S+l}),p+=m,h.push({width:m,height:_}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=ia(s,this.left,this.width);if(this.isHorizontal()){let l=0,u=nn(i,this.left+r,this.right-this.lineWidths[l]);for(const h of n)l!==h.row&&(l=h.row,u=nn(i,this.left+r,this.right-this.lineWidths[l])),h.top+=this.top+e+r,h.left=o.leftForLtr(o.x(u),h.width),u+=h.width+r}else{let l=0,u=nn(i,this.top+e+r,this.bottom-this.columnSizes[l].height);for(const h of n)h.col!==l&&(l=h.col,u=nn(i,this.top+e+r,this.bottom-this.columnSizes[l].height)),h.top=u,h.left+=this.left+r,h.left=o.leftForLtr(o.x(h.left),h.width),u+=h.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Mf(e,this),this._draw(),Lf(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,l=gt.color,u=ia(e.rtl,this.left,this.width),h=Bt(o.font),{padding:d}=o,p=h.size,m=p/2;let _;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;const{boxWidth:y,boxHeight:v,itemHeight:C}=Uw(o,p),x=function(T,O,M){if(isNaN(y)||y<=0||isNaN(v)||v<0)return;r.save();const N=Ce(M.lineWidth,1);if(r.fillStyle=Ce(M.fillStyle,l),r.lineCap=Ce(M.lineCap,"butt"),r.lineDashOffset=Ce(M.lineDashOffset,0),r.lineJoin=Ce(M.lineJoin,"miter"),r.lineWidth=N,r.strokeStyle=Ce(M.strokeStyle,l),r.setLineDash(Ce(M.lineDash,[])),o.usePointStyle){const j={radius:v*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:N},U=u.xPlus(T,y/2),G=O+m;dT(r,j,U,G,o.pointStyleWidth&&y)}else{const j=O+Math.max((p-v)/2,0),U=u.leftForLtr(T,y),G=Us(M.borderRadius);r.beginPath(),Object.values(G).some(ge=>ge!==0)?Tu(r,{x:U,y:j,w:y,h:v,radius:G}):r.rect(U,j,y,v),r.fill(),N!==0&&r.stroke()}r.restore()},w=function(T,O,M){io(r,M.text,T,O+C/2,h,{strikethrough:M.hidden,textAlign:u.textAlign(M.textAlign)})},S=this.isHorizontal(),P=this._computeTitleHeight();S?_={x:nn(s,this.left+d,this.right-i[0]),y:this.top+d+P,line:0}:_={x:this.left+d,y:nn(s,this.top+P+d,this.bottom-n[0].height),line:0},bT(this.ctx,e.textDirection);const k=C+d;this.legendItems.forEach((T,O)=>{r.strokeStyle=T.fontColor,r.fillStyle=T.fontColor;const M=r.measureText(T.text).width,N=u.textAlign(T.textAlign||(T.textAlign=o.textAlign)),j=y+m+M;let U=_.x,G=_.y;u.setWidth(this.width),S?O>0&&U+j+d>this.right&&(G=_.y+=k,_.line++,U=_.x=nn(s,this.left+d,this.right-i[_.line])):O>0&&G+k>this.bottom&&(U=_.x=U+n[_.line].width+d,_.line++,G=_.y=nn(s,this.top+P+d,this.bottom-n[_.line].height));const ge=u.x(U);if(x(ge,G,T),U=Jz(N,U+y+m,S?U+j:this.right,e.rtl),w(u.x(U),G,T),S)_.x+=j+d;else if(typeof T.text!="string"){const fe=h.lineHeight;_.y+=UT(T,fe)+d}else _.y+=k}),xT(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Bt(n.font),r=ln(n.padding);if(!n.display)return;const s=ia(e.rtl,this.left,this.width),o=this.ctx,l=n.position,u=i.size/2,h=r.top+u;let d,p=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+h,p=nn(e.align,p,this.right-m);else{const y=this.columnSizes.reduce((v,C)=>Math.max(v,C.height),0);d=h+nn(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const _=nn(l,p,p+m);o.textAlign=s.textAlign(iy(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,io(o,n.text,_,d,i)}_computeTitleHeight(){const e=this.options.title,n=Bt(e.font),i=ln(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(Qi(e,this.left,this.right)&&Qi(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],Qi(e,r.left,r.left+r.width)&&Qi(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!NV(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=OV(r,i);r&&!s&&it(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&it(n.onHover,[e,i,this],this)}else i&&it(n.onClick,[e,i,this],this)}}function RV(t,e,n,i,r){const s=DV(i,t,e,n),o=AV(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function DV(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function AV(t,e,n){let i=t;return typeof e.text!="string"&&(i=UT(e,n)),i}function UT(t,e){const n=t.text?t.text.length:0;return e*n}function NV(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var FV={id:"legend",_element:Zw,start(t,e,n){const i=t.legend=new Zw({ctx:t.ctx,options:n,chart:t});on.configure(t,i,n),on.addBox(t,i)},stop(t){on.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;on.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(n?0:void 0),d=ln(h.borderWidth);return{text:e[u.index].label,fillStyle:h.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:o&&(l||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class fy extends gr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=mt(i.text)?i.text.length:1;this._padding=ln(i.padding);const s=r*Bt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,l=o.align;let u=0,h,d,p;return this.isHorizontal()?(d=nn(l,i,s),p=n+e,h=s-i):(o.position==="left"?(d=i+e,p=nn(l,r,n),u=ht*-.5):(d=s-e,p=nn(l,n,r),u=ht*.5),h=r-n),{titleX:d,titleY:p,maxWidth:h,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Bt(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:u,rotation:h}=this._drawArgs(s);io(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:iy(n.align),textBaseline:"middle",translation:[o,l]})}}function zV(t,e){const n=new fy({ctx:t.ctx,options:e,chart:t});on.configure(t,n,e),on.addBox(t,n),t.titleBlock=n}var BV={id:"title",_element:fy,start(t,e,n){zV(t,n)},stop(t){const e=t.titleBlock;on.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;on.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lh=new WeakMap;var VV={id:"subtitle",start(t,e,n){const i=new fy({ctx:t.ctx,options:n,chart:t});on.configure(t,i,n),on.addBox(t,i),lh.set(t,i)},stop(t){on.removeBox(t,lh.get(t)),lh.delete(t)},beforeUpdate(t,e,n){const i=lh.get(t);on.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sl={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();i.add(u.x),r+=u.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((l,u)=>l+u)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,l;for(s=0,o=t.length;s<o;++s){const u=t[s].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),d=Yg(e,h);d<r&&(r=d,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function Ei(t,e){return e&&(mt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ui(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function jV(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:l}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Yw(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:l}=e,u=Bt(e.bodyFont),h=Bt(e.titleFont),d=Bt(e.footerFont),p=s.length,m=r.length,_=i.length,y=ln(e.padding);let v=y.height,C=0,x=i.reduce((P,k)=>P+k.before.length+k.lines.length+k.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,p&&(v+=p*h.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),x){const P=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;v+=_*P+(x-_)*u.lineHeight+(x-1)*e.bodySpacing}m&&(v+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let w=0;const S=function(P){C=Math.max(C,n.measureText(P).width+w)};return n.save(),n.font=h.string,Ze(t.title,S),n.font=u.string,Ze(t.beforeBody.concat(t.afterBody),S),w=e.displayColors?o+2+e.boxPadding:0,Ze(i,P=>{Ze(P.before,S),Ze(P.lines,S),Ze(P.after,S)}),w=0,n.font=d.string,Ze(t.footer,S),n.restore(),C+=y.width,{width:C,height:v}}function HV(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function WV(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function $V(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:l,right:u}}=t;let h="center";return i==="center"?h=r<=(l+u)/2?"left":"right":r<=s/2?h="left":r>=o-s/2&&(h="right"),WV(h,t,e,n)&&(h="center"),h}function Gw(t,e,n){const i=n.yAlign||e.yAlign||HV(t,n);return{xAlign:n.xAlign||e.xAlign||$V(t,e,n,i),yAlign:i}}function UV(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function ZV(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function Kw(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:l,yAlign:u}=n,h=r+s,{topLeft:d,topRight:p,bottomLeft:m,bottomRight:_}=Us(o);let y=UV(e,l);const v=ZV(e,u,h);return u==="center"?l==="left"?y+=h:l==="right"&&(y-=h):l==="left"?y-=Math.max(d,m)+r:l==="right"&&(y+=Math.max(p,_)+r),{x:$t(y,0,i.width-e.width),y:$t(v,0,i.height-e.height)}}function uh(t,e,n){const i=ln(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function qw(t){return Ei([],Ui(t))}function YV(t,e,n){return ds(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Xw(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const ZT={beforeTitle:Wi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Wi,beforeBody:Wi,beforeLabel:Wi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return je(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Wi,afterBody:Wi,beforeFooter:Wi,footer:Wi,afterFooter:Wi};function yn(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?ZT[e].call(n,i):r}class n_ extends gr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new ET(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=YV(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=yn(i,"beforeTitle",this,e),s=yn(i,"title",this,e),o=yn(i,"afterTitle",this,e);let l=[];return l=Ei(l,Ui(r)),l=Ei(l,Ui(s)),l=Ei(l,Ui(o)),l}getBeforeBody(e,n){return qw(yn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return Ze(e,s=>{const o={before:[],lines:[],after:[]},l=Xw(i,s);Ei(o.before,Ui(yn(l,"beforeLabel",this,s))),Ei(o.lines,yn(l,"label",this,s)),Ei(o.after,Ui(yn(l,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return qw(yn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=yn(i,"beforeFooter",this,e),s=yn(i,"footer",this,e),o=yn(i,"afterFooter",this,e);let l=[];return l=Ei(l,Ui(r)),l=Ei(l,Ui(s)),l=Ei(l,Ui(o)),l}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let l=[],u,h;for(u=0,h=n.length;u<h;++u)l.push(jV(this.chart,n[u]));return e.filter&&(l=l.filter((d,p,m)=>e.filter(d,p,m,i))),e.itemSort&&(l=l.sort((d,p)=>e.itemSort(d,p,i))),Ze(l,d=>{const p=Xw(e.callbacks,d);r.push(yn(p,"labelColor",this,d)),s.push(yn(p,"labelPointStyle",this,d)),o.push(yn(p,"labelTextColor",this,d))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const l=Sl[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const u=this._size=Yw(this,i),h=Object.assign({},l,u),d=Gw(this.chart,i,h),p=Kw(i,h,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:l}=i,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:p}=Us(l),{x:m,y:_}=e,{width:y,height:v}=n;let C,x,w,S,P,k;return s==="center"?(P=_+v/2,r==="left"?(C=m,x=C-o,S=P+o,k=P-o):(C=m+y,x=C+o,S=P-o,k=P+o),w=C):(r==="left"?x=m+Math.max(u,d)+o:r==="right"?x=m+y-Math.max(h,p)-o:x=this.caretX,s==="top"?(S=_,P=S-o,C=x-o,w=x+o):(S=_+v,P=S+o,C=x+o,w=x-o),k=S),{x1:C,x2:x,x3:w,y1:S,y2:P,y3:k}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,l,u;if(s){const h=ia(i.rtl,this.x,this.width);for(e.x=uh(this,i.titleAlign,i),n.textAlign=h.textAlign(i.titleAlign),n.textBaseline="middle",o=Bt(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,u=0;u<s;++u)n.fillText(r[u],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,u+1===s&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:u,boxWidth:h}=s,d=Bt(s.bodyFont),p=uh(this,"left",s),m=r.x(p),_=u<d.lineHeight?(d.lineHeight-u)/2:0,y=n.y+_;if(s.usePointStyle){const v={radius:Math.min(h,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},C=r.leftForLtr(m,h)+h/2,x=y+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Kg(e,v,C,x),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Kg(e,v,C,x)}else{e.lineWidth=Ae(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=r.leftForLtr(m,h),C=r.leftForLtr(r.xPlus(m,1),h-2),x=Us(o.borderRadius);Object.values(x).some(w=>w!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Tu(e,{x:v,y,w:h,h:u,radius:x}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Tu(e,{x:C,y:y+1,w:h-2,h:u-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(v,y,h,u),e.strokeRect(v,y,h,u),e.fillStyle=o.backgroundColor,e.fillRect(C,y+1,h-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:l,boxHeight:u,boxWidth:h,boxPadding:d}=i,p=Bt(i.bodyFont);let m=p.lineHeight,_=0;const y=ia(i.rtl,this.x,this.width),v=function(M){n.fillText(M,y.x(e.x+_),e.y+m/2),e.y+=m+s},C=y.textAlign(o);let x,w,S,P,k,T,O;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,e.x=uh(this,C,i),n.fillStyle=i.bodyColor,Ze(this.beforeBody,v),_=l&&C!=="right"?o==="center"?h/2+d:h+2+d:0,P=0,T=r.length;P<T;++P){for(x=r[P],w=this.labelTextColors[P],n.fillStyle=w,Ze(x.before,v),S=x.lines,l&&S.length&&(this._drawColorBox(n,e,P,y,i),m=Math.max(p.lineHeight,u)),k=0,O=S.length;k<O;++k)v(S[k]),m=p.lineHeight;Ze(x.after,v)}_=0,m=p.lineHeight,Ze(this.afterBody,v),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,l;if(s){const u=ia(i.rtl,this.x,this.width);for(e.x=uh(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",o=Bt(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:l,y:u}=e,{width:h,height:d}=i,{topLeft:p,topRight:m,bottomLeft:_,bottomRight:y}=Us(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(l+p,u),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(l+h-m,u),n.quadraticCurveTo(l+h,u,l+h,u+m),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(l+h,u+d-y),n.quadraticCurveTo(l+h,u+d,l+h-y,u+d),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(l+_,u+d),n.quadraticCurveTo(l,u+d,l,u+d-_),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(l,u+p),n.quadraticCurveTo(l,u,l+p,u),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=Sl[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=Yw(this,e),u=Object.assign({},o,this._size),h=Gw(n,e,u),d=Kw(e,u,h,n);(r._to!==d.x||s._to!==d.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=ln(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),bT(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),xT(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:l,index:u})=>{const h=this.chart.getDatasetMeta(l);if(!h)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:h.data[u],index:u}}),s=!Fd(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),l=this._positionChanged(o,e),u=n||!Fd(o,s)||l;return u&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=Sl[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}Q(n_,"positioners",Sl);var GV={id:"tooltip",_element:n_,positioners:Sl,afterInit(t,e,n){n&&(t.tooltip=new n_({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ZT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},KV=Object.freeze({__proto__:null,Colors:aV,Decimation:hV,Filler:IV,Legend:FV,SubTitle:VV,Title:BV,Tooltip:GV});const qV=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function XV(t,e,n,i){const r=t.indexOf(e);if(r===-1)return qV(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const QV=(t,e)=>t===null?null:$t(Math.round(t),0,e);function Qw(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class i_ extends lo{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(je(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:XV(i,e,Ce(n,e),this._addedLabels),QV(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return Qw.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Q(i_,"id","category"),Q(i_,"defaults",{ticks:{callback:Qw}});function JV(t,e){const n=[],{bounds:r,step:s,min:o,max:l,precision:u,count:h,maxTicks:d,maxDigits:p,includeBounds:m}=t,_=s||1,y=d-1,{min:v,max:C}=e,x=!je(o),w=!je(l),S=!je(h),P=(C-v)/(p+1);let k=Yx((C-v)/y/_)*_,T,O,M,N;if(k<1e-14&&!x&&!w)return[{value:v},{value:C}];N=Math.ceil(C/k)-Math.floor(v/k),N>y&&(k=Yx(N*k/y/_)*_),je(u)||(T=Math.pow(10,u),k=Math.ceil(k*T)/T),r==="ticks"?(O=Math.floor(v/k)*k,M=Math.ceil(C/k)*k):(O=v,M=C),x&&w&&s&&Zz((l-o)/s,k/1e3)?(N=Math.round(Math.min((l-o)/k,d)),k=(l-o)/N,O=o,M=l):S?(O=x?o:O,M=w?l:M,N=h-1,k=(M-O)/N):(N=(M-O)/k,Hl(N,Math.round(N),k/1e3)?N=Math.round(N):N=Math.ceil(N));const j=Math.max(Gx(k),Gx(O));T=Math.pow(10,je(u)?j:u),O=Math.round(O*T)/T,M=Math.round(M*T)/T;let U=0;for(x&&(m&&O!==o?(n.push({value:o}),O<o&&U++,Hl(Math.round((O+U*k)*T)/T,o,Jw(o,P,t))&&U++):O<o&&U++);U<N;++U){const G=Math.round((O+U*k)*T)/T;if(w&&G>l)break;n.push({value:G})}return w&&m&&M!==l?n.length&&Hl(n[n.length-1].value,l,Jw(l,P,t))?n[n.length-1].value=l:n.push({value:l}):(!w||M===l)&&n.push({value:M}),n}function Jw(t,e,{horizontal:n,minRotation:i}){const r=fi(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class $d extends lo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return je(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=u=>r=n?r:u,l=u=>s=i?s:u;if(e){const u=Di(r),h=Di(s);u<0&&h<0?l(0):u>0&&h>0&&o(0)}if(r===s){let u=s===0?1:Math.abs(s*.05);l(s+u),e||o(r-u)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=JV(r,s);return e.bounds==="ticks"&&iT(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Qu(e,this.chart.options.locale,this.options.ticks.format)}}class r_ extends $d{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ct(e)?e:0,this.max=Ct(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=fi(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Q(r_,"id","linear"),Q(r_,"defaults",{ticks:{callback:kf.formatters.numeric}});const Mu=t=>Math.floor(Nr(t)),Ts=(t,e)=>Math.pow(10,Mu(t)+e);function e1(t){return t/Math.pow(10,Mu(t))===1}function t1(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function e5(t,e){const n=e-t;let i=Mu(n);for(;t1(t,e,i)>10;)i++;for(;t1(t,e,i)<10;)i--;return Math.min(i,Mu(t))}function t5(t,{min:e,max:n}){e=Ln(t.min,e);const i=[],r=Mu(e);let s=e5(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),u=r>s?Math.pow(10,r):0,h=Math.round((e-u)*o)/o,d=Math.floor((e-u)/l/10)*l*10;let p=Math.floor((h-d)/Math.pow(10,s)),m=Ln(t.min,Math.round((u+d+p*Math.pow(10,s))*o)/o);for(;m<n;)i.push({value:m,major:e1(m),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(s++,p=2,o=s>=0?1:o),m=Math.round((u+d+p*Math.pow(10,s))*o)/o;const _=Ln(t.max,m);return i.push({value:_,major:e1(_),significand:p}),i}class s_ extends lo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=$d.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Ct(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ct(e)?Math.max(0,e):null,this.max=Ct(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ct(this._userMin)&&(this.min=e===Ts(this.min,0)?Ts(this.min,-1):Ts(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=l=>i=e?i:l,o=l=>r=n?r:l;i===r&&(i<=0?(s(1),o(10)):(s(Ts(i,-1)),o(Ts(r,1)))),i<=0&&s(Ts(r,-1)),r<=0&&o(Ts(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=t5(n,this);return e.bounds==="ticks"&&iT(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Qu(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Nr(e),this._valueRange=Nr(this.max)-Nr(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Nr(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}Q(s_,"id","logarithmic"),Q(s_,"defaults",{ticks:{callback:kf.formatters.logarithmic,major:{enabled:!0}}});function o_(t){const e=t.ticks;if(e.display&&t.display){const n=ln(e.backdropPadding);return Ce(e.font&&e.font.size,gt.font.size)+n.height}return 0}function n5(t,e,n){return n=mt(n)?n:[n],{w:uB(t,e.string,n),h:n.length*e.lineHeight}}function n1(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function i5(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,l=o.centerPointLabels?ht/s:0;for(let u=0;u<s;u++){const h=o.setContext(t.getPointLabelContext(u));r[u]=h.padding;const d=t.getPointPosition(u,t.drawingArea+r[u],l),p=Bt(h.font),m=n5(t.ctx,p,t._pointLabels[u]);i[u]=m;const _=Rn(t.getIndexAngle(u)+l),y=Math.round(ty(_)),v=n1(y,d.x,m.w,0,180),C=n1(y,d.y,m.h,90,270);r5(n,e,_,v,C)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=a5(t,i,r)}function r5(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let l=0,u=0;i.start<e.l?(l=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-l)):i.end>e.r&&(l=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+l)),r.start<e.t?(u=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-u)):r.end>e.b&&(u=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+u))}function s5(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:l}=n,u=t.getPointPosition(e,i+r+o,s),h=Math.round(ty(Rn(u.angle+kt))),d=c5(u.y,l.h,h),p=l5(h),m=u5(u.x,l.w,p);return{visible:!0,x:u.x,y:d,textAlign:p,left:m,top:d,right:m+l.w,bottom:d+l.h}}function o5(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(er({x:n,y:i},e)||er({x:n,y:s},e)||er({x:r,y:i},e)||er({x:r,y:s},e))}function a5(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:l}=s.pointLabels,u={extra:o_(s)/2,additionalAngle:o?ht/r:0};let h;for(let d=0;d<r;d++){u.padding=n[d],u.size=e[d];const p=s5(t,d,u);i.push(p),l==="auto"&&(p.visible=o5(p,h),p.visible&&(h=p))}return i}function l5(t){return t===0||t===180?"center":t<180?"left":"right"}function u5(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function c5(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function h5(t,e,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:l}=e;if(!je(l)){const u=Us(e.borderRadius),h=ln(e.backdropPadding);t.fillStyle=l;const d=i-h.left,p=r-h.top,m=s-i+h.width,_=o-r+h.height;Object.values(u).some(y=>y!==0)?(t.beginPath(),Tu(t,{x:d,y:p,w:m,h:_,radius:u}),t.fill()):t.fillRect(d,p,m,_)}}function d5(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const s=t._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(t.getPointLabelContext(r));h5(n,o,s);const l=Bt(o.font),{x:u,y:h,textAlign:d}=s;io(n,t._pointLabels[r],u,h+l.lineHeight/2,l,{color:o.color,textAlign:d,textBaseline:"middle"})}}function YT(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,ct);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function f5(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:l,lineWidth:u}=e;!o&&!i||!l||!u||n<0||(s.save(),s.strokeStyle=l,s.lineWidth=u,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),YT(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function p5(t,e,n){return ds(t,{label:n,index:e,type:"pointLabel"})}class Cl extends $d{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ln(o_(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Ct(e)&&!isNaN(e)?e:0,this.max=Ct(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/o_(this.options))}generateTickLabels(e){$d.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const r=it(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?i5(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){const n=ct/(this._pointLabels.length||1),i=this.options.startAngle||0;return Rn(e*n+fi(i))}getDistanceFromCenterForValue(e){if(je(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(je(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return p5(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const r=this.getIndexAngle(e)-kt+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),YT(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let l,u,h;if(n.pointLabels.display&&d5(this,o),r.display&&this.ticks.forEach((d,p)=>{if(p!==0||p===0&&this.min<0){u=this.getDistanceFromCenterForValue(d.value);const m=this.getContext(p),_=r.setContext(m),y=s.setContext(m);f5(this,_,u,o,y)}}),i.display){for(e.save(),l=o-1;l>=0;l--){const d=i.setContext(this.getPointLabelContext(l)),{color:p,lineWidth:m}=d;!m||!p||(e.lineWidth=m,e.strokeStyle=p,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,u=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),h=this.getPointPosition(l,u),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(h.x,h.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,u)=>{if(u===0&&this.min>=0&&!n.reverse)return;const h=i.setContext(this.getContext(u)),d=Bt(h.font);if(s=this.getDistanceFromCenterForValue(this.ticks[u].value),h.showLabelBackdrop){e.font=d.string,o=e.measureText(l.label).width,e.fillStyle=h.backdropColor;const p=ln(h.backdropPadding);e.fillRect(-o/2-p.left,-s-d.size/2-p.top,o+p.width,d.size+p.height)}io(e,l.label,0,-s,d,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),e.restore()}drawTitle(){}}Q(Cl,"id","radialLinear"),Q(Cl,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:kf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Q(Cl,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Q(Cl,"descriptors",{angleLines:{_fallback:"grid"}});const Of={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},wn=Object.keys(Of);function i1(t,e){return t-e}function r1(t,e){if(je(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Ct(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(va(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function s1(t,e,n,i){const r=wn.length;for(let s=wn.indexOf(t);s<r-1;++s){const o=Of[wn[s]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(l*o.size))<=i)return wn[s]}return wn[r-1]}function m5(t,e,n,i,r){for(let s=wn.length-1;s>=wn.indexOf(n);s--){const o=wn[s];if(Of[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return wn[n?wn.indexOf(n):0]}function g5(t){for(let e=wn.indexOf(t)+1,n=wn.length;e<n;++e)if(Of[wn[e]].common)return wn[e]}function o1(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=ny(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function _5(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let l,u;for(l=s;l<=o;l=+r.add(l,1,i))u=n[l],u>=0&&(e[u].major=!0);return e}function a1(t,e,n){const i=[],r={},s=e.length;let o,l;for(o=0;o<s;++o)l=e[o],r[l]=o,i.push({value:l,major:!1});return s===0||!n?i:_5(t,i,r,n)}class Lu extends lo{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new E3._date(e.adapters.date);r.init(n),jl(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:r1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:l}=this.getUserBounds();function u(h){!o&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!l&&!isNaN(h.max)&&(s=Math.max(s,h.max))}(!o||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=Ct(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=Ct(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,l=qz(r,s,o);return this._unit=n.unit||(i.autoSkip?s1(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):m5(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:g5(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),a1(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=$t(n,0,o),i=$t(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||s1(s.minUnit,n,i,this._getLabelCapacity(n)),l=Ce(r.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,h=va(u)||u===!0,d={};let p=n,m,_;if(h&&(p=+e.startOf(p,"isoWeek",u)),p=+e.startOf(p,h?"day":o),e.diff(i,n,o)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+o);const y=r.ticks.source==="data"&&this.getDataTimestamps();for(m=p,_=0;m<i;m=+e.add(m,l,o),_++)o1(d,m,y);return(m===i||r.bounds==="ticks"||_===1)&&o1(d,m,y),Object.keys(d).sort(i1).map(v=>+v)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return it(o,[e,n,i],this);const l=s.time.displayFormats,u=this._unit,h=this._majorUnit,d=u&&l[u],p=h&&l[h],m=i[n],_=h&&p&&m&&m.major;return this._adapter.format(e,r||(_?p:d))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=fi(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*o,h:i*o+l*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,a1(this,[e],this._majorUnit),r),o=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(r1(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return oT(e.sort(i1))}}Q(Lu,"id","time"),Q(Lu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ch(t,e,n){let i=0,r=t.length-1,s,o,l,u;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=Ji(t,"pos",e)),{pos:s,time:l}=t[i],{pos:o,time:u}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=Ji(t,"time",e)),{time:s,pos:l}=t[i],{time:o,pos:u}=t[r]);const h=o-s;return h?l+(u-l)*(e-s)/h:l}class a_ extends Lu{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=ch(n,this.min),this._tableRange=ch(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,l,u,h,d;for(o=0,l=e.length;o<l;++o)h=e[o],h>=n&&h<=i&&r.push(h);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,l=r.length;o<l;++o)d=r[o+1],u=r[o-1],h=r[o],Math.round((d+u)/2)!==h&&s.push({time:h,pos:o/(l-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(ch(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return ch(this._table,i*this._tableRange+this._minPos,!0)}}Q(a_,"id","timeseries"),Q(a_,"defaults",Lu.defaults);var v5=Object.freeze({__proto__:null,CategoryScale:i_,LinearScale:r_,LogarithmicScale:s_,RadialLinearScale:Cl,TimeScale:Lu,TimeSeriesScale:a_});const y5=[C3,eV,KV,v5];ki.register(...y5);function GT(t,e){const n=I.useRef(e);I.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const b5=1;function x5(t){return Object.freeze({__version:b5,map:t})}function w5(t,e){return Object.freeze({...t,...e})}const KT=I.createContext(null),qT=KT.Provider;function py(){const t=I.useContext(KT);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function S5(t){function e(n,i){const{instance:r,context:s}=t(n).current;return I.useImperativeHandle(i,()=>r),n.children==null?null:Ue.createElement(qT,{value:s},n.children)}return I.forwardRef(e)}function C5(t){function e(n,i){const[r,s]=I.useState(!1),{instance:o}=t(n,s).current;I.useImperativeHandle(i,()=>o),I.useEffect(function(){r&&o.update()},[o,r,n.children]);const l=o._contentNode;return l?Bu.createPortal(n.children,l):null}return I.forwardRef(e)}function E5(t){function e(n,i){const{instance:r}=t(n).current;return I.useImperativeHandle(i,()=>r),null}return I.forwardRef(e)}function XT(t,e){const n=I.useRef();I.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function my(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function P5(t,e){return function(i,r){const s=py(),o=t(my(i,s),s);return GT(s.map,i.attribution),XT(o.current,i.eventHandlers),e(o.current,s,i,r),o}}var l_={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(UM,function(n){var i="1.9.4";function r(a){var c,f,g,b;for(f=1,g=arguments.length;f<g;f++){b=arguments[f];for(c in b)a[c]=b[c]}return a}var s=Object.create||function(){function a(){}return function(c){return a.prototype=c,new a}}();function o(a,c){var f=Array.prototype.slice;if(a.bind)return a.bind.apply(a,f.call(arguments,1));var g=f.call(arguments,2);return function(){return a.apply(c,g.length?g.concat(f.call(arguments)):arguments)}}var l=0;function u(a){return"_leaflet_id"in a||(a._leaflet_id=++l),a._leaflet_id}function h(a,c,f){var g,b,E,R;return R=function(){g=!1,b&&(E.apply(f,b),b=!1)},E=function(){g?b=arguments:(a.apply(f,arguments),setTimeout(R,c),g=!0)},E}function d(a,c,f){var g=c[1],b=c[0],E=g-b;return a===g&&f?a:((a-b)%E+E)%E+b}function p(){return!1}function m(a,c){if(c===!1)return a;var f=Math.pow(10,c===void 0?6:c);return Math.round(a*f)/f}function _(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function y(a){return _(a).split(/\s+/)}function v(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?s(a.options):{});for(var f in c)a.options[f]=c[f];return a.options}function C(a,c,f){var g=[];for(var b in a)g.push(encodeURIComponent(f?b.toUpperCase():b)+"="+encodeURIComponent(a[b]));return(!c||c.indexOf("?")===-1?"?":"&")+g.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function w(a,c){return a.replace(x,function(f,g){var b=c[g];if(b===void 0)throw new Error("No value provided for variable "+f);return typeof b=="function"&&(b=b(c)),b})}var S=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function P(a,c){for(var f=0;f<a.length;f++)if(a[f]===c)return f;return-1}var k="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function T(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var O=0;function M(a){var c=+new Date,f=Math.max(0,16-(c-O));return O=c+f,window.setTimeout(a,f)}var N=window.requestAnimationFrame||T("RequestAnimationFrame")||M,j=window.cancelAnimationFrame||T("CancelAnimationFrame")||T("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function U(a,c,f){if(f&&N===M)a.call(c);else return N.call(window,o(a,c))}function G(a){a&&j.call(window,a)}var ge={__proto__:null,extend:r,create:s,bind:o,get lastId(){return l},stamp:u,throttle:h,wrapNum:d,falseFn:p,formatNum:m,trim:_,splitWords:y,setOptions:v,getParamString:C,template:w,isArray:S,indexOf:P,emptyImageUrl:k,requestFn:N,cancelFn:j,requestAnimFrame:U,cancelAnimFrame:G};function fe(){}fe.extend=function(a){var c=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=c.__super__=this.prototype,g=s(f);g.constructor=c,c.prototype=g;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(c[b]=this[b]);return a.statics&&r(c,a.statics),a.includes&&(he(a.includes),r.apply(null,[g].concat(a.includes))),r(g,a),delete g.statics,delete g.includes,g.options&&(g.options=f.options?s(f.options):{},r(g.options,a.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,R=g._initHooks.length;E<R;E++)g._initHooks[E].call(this)}},c},fe.include=function(a){var c=this.prototype.options;return r(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},fe.mergeOptions=function(a){return r(this.prototype.options,a),this},fe.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),f=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function he(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=S(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ie={on:function(a,c,f){if(typeof a=="object")for(var g in a)this._on(g,a[g],c);else{a=y(a);for(var b=0,E=a.length;b<E;b++)this._on(a[b],c,f)}return this},off:function(a,c,f){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var g in a)this._off(g,a[g],c);else{a=y(a);for(var b=arguments.length===1,E=0,R=a.length;E<R;E++)b?this._off(a[E]):this._off(a[E],c,f)}return this},_on:function(a,c,f,g){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,f)===!1){f===this&&(f=void 0);var b={fn:c,ctx:f};g&&(b.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)}},_off:function(a,c,f){var g,b,E;if(this._events&&(g=this._events[a],!!g)){if(arguments.length===1){if(this._firingCount)for(b=0,E=g.length;b<E;b++)g[b].fn=p;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var R=this._listens(a,c,f);if(R!==!1){var F=g[R];this._firingCount&&(F.fn=p,this._events[a]=g=g.slice()),g.splice(R,1)}}},fire:function(a,c,f){if(!this.listens(a,f))return this;var g=r({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var b=this._events[a];if(b){this._firingCount=this._firingCount+1||1;for(var E=0,R=b.length;E<R;E++){var F=b[E],B=F.fn;F.once&&this.off(a,B,F.ctx),B.call(F.ctx||this,g)}this._firingCount--}}return f&&this._propagateEvent(g),this},listens:function(a,c,f,g){typeof a!="string"&&console.warn('"string" type argument expected');var b=c;typeof c!="function"&&(g=!!c,b=void 0,f=void 0);var E=this._events&&this._events[a];if(E&&E.length&&this._listens(a,b,f)!==!1)return!0;if(g){for(var R in this._eventParents)if(this._eventParents[R].listens(a,c,f,g))return!0}return!1},_listens:function(a,c,f){if(!this._events)return!1;var g=this._events[a]||[];if(!c)return!!g.length;f===this&&(f=void 0);for(var b=0,E=g.length;b<E;b++)if(g[b].fn===c&&g[b].ctx===f)return b;return!1},once:function(a,c,f){if(typeof a=="object")for(var g in a)this._on(g,a[g],c,!0);else{a=y(a);for(var b=0,E=a.length;b<E;b++)this._on(a[b],c,f,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[u(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[u(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,r({layer:a.target,propagatedFrom:a.target},a),!0)}};ie.addEventListener=ie.on,ie.removeEventListener=ie.clearAllEventListeners=ie.off,ie.addOneTimeEventListener=ie.once,ie.fireEvent=ie.fire,ie.hasEventListeners=ie.listens;var re=fe.extend(ie);function z(a,c,f){this.x=f?Math.round(a):a,this.y=f?Math.round(c):c}var X=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(a){return this.clone()._add(W(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(W(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new z(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new z(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=X(this.x),this.y=X(this.y),this},distanceTo:function(a){a=W(a);var c=a.x-this.x,f=a.y-this.y;return Math.sqrt(c*c+f*f)},equals:function(a){return a=W(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=W(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function W(a,c,f){return a instanceof z?a:S(a)?new z(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new z(a.x,a.y):new z(a,c,f)}function ne(a,c){if(a)for(var f=c?[a,c]:a,g=0,b=f.length;g<b;g++)this.extend(f[g])}ne.prototype={extend:function(a){var c,f;if(!a)return this;if(a instanceof z||typeof a[0]=="number"||"x"in a)c=f=W(a);else if(a=J(a),c=a.min,f=a.max,!c||!f)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=f.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(a){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,f;return typeof a[0]=="number"||a instanceof z?a=W(a):a=J(a),a instanceof ne?(c=a.min,f=a.max):c=f=a,c.x>=this.min.x&&f.x<=this.max.x&&c.y>=this.min.y&&f.y<=this.max.y},intersects:function(a){a=J(a);var c=this.min,f=this.max,g=a.min,b=a.max,E=b.x>=c.x&&g.x<=f.x,R=b.y>=c.y&&g.y<=f.y;return E&&R},overlaps:function(a){a=J(a);var c=this.min,f=this.max,g=a.min,b=a.max,E=b.x>c.x&&g.x<f.x,R=b.y>c.y&&g.y<f.y;return E&&R},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,f=this.max,g=Math.abs(c.x-f.x)*a,b=Math.abs(c.y-f.y)*a;return J(W(c.x-g,c.y-b),W(f.x+g,f.y+b))},equals:function(a){return a?(a=J(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function J(a,c){return!a||a instanceof ne?a:new ne(a,c)}function me(a,c){if(a)for(var f=c?[a,c]:a,g=0,b=f.length;g<b;g++)this.extend(f[g])}me.prototype={extend:function(a){var c=this._southWest,f=this._northEast,g,b;if(a instanceof le)g=a,b=a;else if(a instanceof me){if(g=a._southWest,b=a._northEast,!g||!b)return this}else return a?this.extend(ee(a)||oe(a)):this;return!c&&!f?(this._southWest=new le(g.lat,g.lng),this._northEast=new le(b.lat,b.lng)):(c.lat=Math.min(g.lat,c.lat),c.lng=Math.min(g.lng,c.lng),f.lat=Math.max(b.lat,f.lat),f.lng=Math.max(b.lng,f.lng)),this},pad:function(a){var c=this._southWest,f=this._northEast,g=Math.abs(c.lat-f.lat)*a,b=Math.abs(c.lng-f.lng)*a;return new me(new le(c.lat-g,c.lng-b),new le(f.lat+g,f.lng+b))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof le||"lat"in a?a=ee(a):a=oe(a);var c=this._southWest,f=this._northEast,g,b;return a instanceof me?(g=a.getSouthWest(),b=a.getNorthEast()):g=b=a,g.lat>=c.lat&&b.lat<=f.lat&&g.lng>=c.lng&&b.lng<=f.lng},intersects:function(a){a=oe(a);var c=this._southWest,f=this._northEast,g=a.getSouthWest(),b=a.getNorthEast(),E=b.lat>=c.lat&&g.lat<=f.lat,R=b.lng>=c.lng&&g.lng<=f.lng;return E&&R},overlaps:function(a){a=oe(a);var c=this._southWest,f=this._northEast,g=a.getSouthWest(),b=a.getNorthEast(),E=b.lat>c.lat&&g.lat<f.lat,R=b.lng>c.lng&&g.lng<f.lng;return E&&R},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=oe(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function oe(a,c){return a instanceof me?a:new me(a,c)}function le(a,c,f){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,f!==void 0&&(this.alt=+f)}le.prototype={equals:function(a,c){if(!a)return!1;a=ee(a);var f=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return f<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+m(this.lat,a)+", "+m(this.lng,a)+")"},distanceTo:function(a){return bt.distance(this,ee(a))},wrap:function(){return bt.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,f=c/Math.cos(Math.PI/180*this.lat);return oe([this.lat-c,this.lng-f],[this.lat+c,this.lng+f])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function ee(a,c,f){return a instanceof le?a:S(a)&&typeof a[0]!="object"?a.length===3?new le(a[0],a[1],a[2]):a.length===2?new le(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new le(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new le(a,c,f)}var Fe={latLngToPoint:function(a,c){var f=this.projection.project(a),g=this.scale(c);return this.transformation._transform(f,g)},pointToLatLng:function(a,c){var f=this.scale(c),g=this.transformation.untransform(a,f);return this.projection.unproject(g)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,f=this.scale(a),g=this.transformation.transform(c.min,f),b=this.transformation.transform(c.max,f);return new ne(g,b)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?d(a.lng,this.wrapLng,!0):a.lng,f=this.wrapLat?d(a.lat,this.wrapLat,!0):a.lat,g=a.alt;return new le(f,c,g)},wrapLatLngBounds:function(a){var c=a.getCenter(),f=this.wrapLatLng(c),g=c.lat-f.lat,b=c.lng-f.lng;if(g===0&&b===0)return a;var E=a.getSouthWest(),R=a.getNorthEast(),F=new le(E.lat-g,E.lng-b),B=new le(R.lat-g,R.lng-b);return new me(F,B)}},bt=r({},Fe,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var f=Math.PI/180,g=a.lat*f,b=c.lat*f,E=Math.sin((c.lat-a.lat)*f/2),R=Math.sin((c.lng-a.lng)*f/2),F=E*E+Math.cos(g)*Math.cos(b)*R*R,B=2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F));return this.R*B}}),Ni=6378137,fs={R:Ni,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,f=this.MAX_LATITUDE,g=Math.max(Math.min(f,a.lat),-f),b=Math.sin(g*c);return new z(this.R*a.lng*c,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(a){var c=180/Math.PI;return new le((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:function(){var a=Ni*Math.PI;return new ne([-a,-a],[a,a])}()};function xt(a,c,f,g){if(S(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=f,this._d=g}xt.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new z((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function un(a,c,f,g){return new xt(a,c,f,g)}var vr=r({},bt,{code:"EPSG:3857",projection:fs,transformation:function(){var a=.5/(Math.PI*fs.R);return un(a,.5,-a,.5)}()}),uo=r({},vr,{code:"EPSG:900913"});function Wn(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function nc(a,c){var f="",g,b,E,R,F,B;for(g=0,E=a.length;g<E;g++){for(F=a[g],b=0,R=F.length;b<R;b++)B=F[b],f+=(b?"L":"M")+B.x+" "+B.y;f+=c?$.svg?"z":"x":""}return f||"M0 0"}var La=document.documentElement.style,ps="ActiveXObject"in window,Gf=ps&&!document.addEventListener,ic="msLaunchUri"in navigator&&!("documentMode"in document),Ia=te("webkit"),rc=te("android"),yi=te("android 2")||te("android 3"),ms=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),sc=rc&&te("Google")&&ms<537&&!("AudioNode"in window),gs=!!window.opera,ti=!ic&&te("chrome"),$n=te("gecko")&&!Ia&&!gs&&!ps,oc=!ti&&te("safari"),_s=te("phantom"),ac="OTransition"in La,bi=navigator.platform.indexOf("Win")===0,Oa=ps&&"transition"in La,co="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!yi,Ra="MozPerspective"in La,Kf=!window.L_DISABLE_3D&&(Oa||co||Ra)&&!ac&&!_s,yr=typeof orientation<"u"||te("mobile"),ho=yr&&Ia,lc=yr&&co,fo=!window.PointerEvent&&window.MSPointerEvent,po=!!(window.PointerEvent||fo),uc="ontouchstart"in window||!!window.TouchEvent,cc=!window.L_NO_TOUCH&&(uc||po),qf=yr&&gs,hc=yr&&$n,mo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,go=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",p,c),window.removeEventListener("testPassiveEventSupport",p,c)}catch{}return a}(),Xf=function(){return!!document.createElement("canvas").getContext}(),Da=!!(document.createElementNS&&Wn("svg").createSVGRect),D=!!Da&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),A=!Da&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),V=navigator.platform.indexOf("Mac")===0,Y=navigator.platform.indexOf("Linux")===0;function te(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var $={ie:ps,ielt9:Gf,edge:ic,webkit:Ia,android:rc,android23:yi,androidStock:sc,opera:gs,chrome:ti,gecko:$n,safari:oc,phantom:_s,opera12:ac,win:bi,ie3d:Oa,webkit3d:co,gecko3d:Ra,any3d:Kf,mobile:yr,mobileWebkit:ho,mobileWebkit3d:lc,msPointer:fo,pointer:po,touch:cc,touchNative:uc,mobileOpera:qf,mobileGecko:hc,retina:mo,passiveEvents:go,canvas:Xf,svg:Da,vml:A,inlineSvg:D,mac:V,linux:Y},we=$.msPointer?"MSPointerDown":"pointerdown",ue=$.msPointer?"MSPointerMove":"pointermove",de=$.msPointer?"MSPointerUp":"pointerup",ae=$.msPointer?"MSPointerCancel":"pointercancel",pe={touchstart:we,touchmove:ue,touchend:de,touchcancel:ae},Te={touchstart:Aa,touchmove:cn,touchend:cn,touchcancel:cn},Ee={},Mt=!1;function Ke(a,c,f){return c==="touchstart"&&ni(),Te[c]?(f=Te[c].bind(this,f),a.addEventListener(pe[c],f,!1),f):(console.warn("wrong event specified:",c),p)}function Be(a,c,f){if(!pe[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(pe[c],f,!1)}function dt(a){Ee[a.pointerId]=a}function br(a){Ee[a.pointerId]&&(Ee[a.pointerId]=a)}function xr(a){delete Ee[a.pointerId]}function ni(){Mt||(document.addEventListener(we,dt,!0),document.addEventListener(ue,br,!0),document.addEventListener(de,xr,!0),document.addEventListener(ae,xr,!0),Mt=!0)}function cn(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var f in Ee)c.touches.push(Ee[f]);c.changedTouches=[c],a(c)}}function Aa(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&Yt(c),cn(a,c)}function vs(a){var c={},f,g;for(g in a)f=a[g],c[g]=f&&f.bind?f.bind(a):f;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var Fi=200;function _o(a,c){a.addEventListener("dblclick",c);var f=0,g;function b(E){if(E.detail!==1){g=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var R=Dy(E);if(!(R.some(function(B){return B instanceof HTMLLabelElement&&B.attributes.for})&&!R.some(function(B){return B instanceof HTMLInputElement||B instanceof HTMLSelectElement}))){var F=Date.now();F-f<=Fi?(g++,g===2&&c(vs(E))):g=1,f=F}}}return a.addEventListener("click",b),{dblclick:c,simDblclick:b}}function vo(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var De=fc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),qe=fc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zi=qe==="webkitTransition"||qe==="OTransition"?qe+"End":"transitionend";function wr(a){return typeof a=="string"?document.getElementById(a):a}function Je(a,c){var f=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!f||f==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(a,null);f=g?g[c]:null}return f==="auto"?null:f}function ke(a,c,f){var g=document.createElement(a);return g.className=c||"",f&&f.appendChild(g),g}function et(a){var c=a.parentNode;c&&c.removeChild(a)}function yo(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function bo(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function xo(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function Qf(a,c){if(a.classList!==void 0)return a.classList.contains(c);var f=dc(a);return f.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(f)}function Pe(a,c){if(a.classList!==void 0)for(var f=y(c),g=0,b=f.length;g<b;g++)a.classList.add(f[g]);else if(!Qf(a,c)){var E=dc(a);Jf(a,(E?E+" ":"")+c)}}function Pt(a,c){a.classList!==void 0?a.classList.remove(c):Jf(a,_((" "+dc(a)+" ").replace(" "+c+" "," ")))}function Jf(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function dc(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Un(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&Gk(a,c)}function Gk(a,c){var f=!1,g="DXImageTransform.Microsoft.Alpha";try{f=a.filters.item(g)}catch{if(c===1)return}c=Math.round(c*100),f?(f.Enabled=c!==100,f.Opacity=c):a.style.filter+=" progid:"+g+"(opacity="+c+")"}function fc(a){for(var c=document.documentElement.style,f=0;f<a.length;f++)if(a[f]in c)return a[f];return!1}function ys(a,c,f){var g=c||new z(0,0);a.style[De]=($.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(f?" scale("+f+")":"")}function Lt(a,c){a._leaflet_pos=c,$.any3d?ys(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function bs(a){return a._leaflet_pos||new z(0,0)}var Na,Fa,ep;if("onselectstart"in document)Na=function(){Se(window,"selectstart",Yt)},Fa=function(){tt(window,"selectstart",Yt)};else{var za=fc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Na=function(){if(za){var a=document.documentElement.style;ep=a[za],a[za]="none"}},Fa=function(){za&&(document.documentElement.style[za]=ep,ep=void 0)}}function tp(){Se(window,"dragstart",Yt)}function np(){tt(window,"dragstart",Yt)}var pc,ip;function rp(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(mc(),pc=a,ip=a.style.outlineStyle,a.style.outlineStyle="none",Se(window,"keydown",mc))}function mc(){pc&&(pc.style.outlineStyle=ip,pc=void 0,ip=void 0,tt(window,"keydown",mc))}function Oy(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function sp(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var Kk={__proto__:null,TRANSFORM:De,TRANSITION:qe,TRANSITION_END:zi,get:wr,getStyle:Je,create:ke,remove:et,empty:yo,toFront:bo,toBack:xo,hasClass:Qf,addClass:Pe,removeClass:Pt,setClass:Jf,getClass:dc,setOpacity:Un,testProp:fc,setTransform:ys,setPosition:Lt,getPosition:bs,get disableTextSelection(){return Na},get enableTextSelection(){return Fa},disableImageDrag:tp,enableImageDrag:np,preventOutline:rp,restoreOutline:mc,getSizedParentNode:Oy,getScale:sp};function Se(a,c,f,g){if(c&&typeof c=="object")for(var b in c)ap(a,b,c[b],f);else{c=y(c);for(var E=0,R=c.length;E<R;E++)ap(a,c[E],f,g)}return this}var xi="_leaflet_events";function tt(a,c,f,g){if(arguments.length===1)Ry(a),delete a[xi];else if(c&&typeof c=="object")for(var b in c)lp(a,b,c[b],f);else if(c=y(c),arguments.length===2)Ry(a,function(F){return P(c,F)!==-1});else for(var E=0,R=c.length;E<R;E++)lp(a,c[E],f,g);return this}function Ry(a,c){for(var f in a[xi]){var g=f.split(/\d/)[0];(!c||c(g))&&lp(a,g,null,null,f)}}var op={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ap(a,c,f,g){var b=c+u(f)+(g?"_"+u(g):"");if(a[xi]&&a[xi][b])return this;var E=function(F){return f.call(g||a,F||window.event)},R=E;!$.touchNative&&$.pointer&&c.indexOf("touch")===0?E=Ke(a,c,E):$.touch&&c==="dblclick"?E=_o(a,E):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(op[c]||c,E,$.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(E=function(F){F=F||window.event,cp(a,F)&&R(F)},a.addEventListener(op[c],E,!1)):a.addEventListener(c,R,!1):a.attachEvent("on"+c,E),a[xi]=a[xi]||{},a[xi][b]=E}function lp(a,c,f,g,b){b=b||c+u(f)+(g?"_"+u(g):"");var E=a[xi]&&a[xi][b];if(!E)return this;!$.touchNative&&$.pointer&&c.indexOf("touch")===0?Be(a,c,E):$.touch&&c==="dblclick"?vo(a,E):"removeEventListener"in a?a.removeEventListener(op[c]||c,E,!1):a.detachEvent("on"+c,E),a[xi][b]=null}function xs(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function up(a){return ap(a,"wheel",xs),this}function Ba(a){return Se(a,"mousedown touchstart dblclick contextmenu",xs),a._leaflet_disable_click=!0,this}function Yt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function ws(a){return Yt(a),xs(a),this}function Dy(a){if(a.composedPath)return a.composedPath();for(var c=[],f=a.target;f;)c.push(f),f=f.parentNode;return c}function Ay(a,c){if(!c)return new z(a.clientX,a.clientY);var f=sp(c),g=f.boundingClientRect;return new z((a.clientX-g.left)/f.x-c.clientLeft,(a.clientY-g.top)/f.y-c.clientTop)}var qk=$.linux&&$.chrome?window.devicePixelRatio:$.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ny(a){return $.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/qk:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function cp(a,c){var f=c.relatedTarget;if(!f)return!0;try{for(;f&&f!==a;)f=f.parentNode}catch{return!1}return f!==a}var Xk={__proto__:null,on:Se,off:tt,stopPropagation:xs,disableScrollPropagation:up,disableClickPropagation:Ba,preventDefault:Yt,stop:ws,getPropagationPath:Dy,getMousePosition:Ay,getWheelDelta:Ny,isExternalTarget:cp,addListener:Se,removeListener:tt},Fy=re.extend({run:function(a,c,f,g){this.stop(),this._el=a,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=bs(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,f=this._duration*1e3;c<f?this._runFrame(this._easeOut(c/f),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var f=this._startPos.add(this._offset.multiplyBy(a));c&&f._round(),Lt(this._el,f),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),ze=re.extend({options:{crs:vr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=v(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(ee(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=qe&&$.any3d&&!$.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Se(this._proxy,zi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,f){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(ee(a),c,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=r({animate:f.animate},f.zoom),f.pan=r({animate:f.animate,duration:f.duration},f.pan));var g=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,f.zoom):this._tryAnimatedPan(a,f.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,f.pan&&f.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||($.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||($.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,f){var g=this.getZoomScale(c),b=this.getSize().divideBy(2),E=a instanceof z?a:this.latLngToContainerPoint(a),R=E.subtract(b).multiplyBy(1-1/g),F=this.containerPointToLatLng(b.add(R));return this.setView(F,c,{zoom:f})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():oe(a);var f=W(c.paddingTopLeft||c.padding||[0,0]),g=W(c.paddingBottomRight||c.padding||[0,0]),b=this.getBoundsZoom(a,!1,f.add(g));if(b=typeof c.maxZoom=="number"?Math.min(c.maxZoom,b):b,b===1/0)return{center:a.getCenter(),zoom:b};var E=g.subtract(f).divideBy(2),R=this.project(a.getSouthWest(),b),F=this.project(a.getNorthEast(),b),B=this.unproject(R.add(F).divideBy(2).add(E),b);return{center:B,zoom:b}},fitBounds:function(a,c){if(a=oe(a),!a.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(a,c);return this.setView(f.center,f.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=W(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fy,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Pe(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,f,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,f){if(f=f||{},f.animate===!1||!$.any3d)return this.setView(a,c,f);this._stop();var g=this.project(this.getCenter()),b=this.project(a),E=this.getSize(),R=this._zoom;a=ee(a),c=c===void 0?R:c;var F=Math.max(E.x,E.y),B=F*this.getZoomScale(R,c),Z=b.distanceTo(g)||1,se=1.42,be=se*se;function Me(It){var Tc=It?-1:1,BM=It?B:F,VM=B*B-F*F+Tc*be*be*Z*Z,jM=2*BM*be*Z,xp=VM/jM,_0=Math.sqrt(xp*xp+1)-xp,HM=_0<1e-9?-18:Math.log(_0);return HM}function hn(It){return(Math.exp(It)-Math.exp(-It))/2}function Vt(It){return(Math.exp(It)+Math.exp(-It))/2}function Yn(It){return hn(It)/Vt(It)}var vn=Me(0);function To(It){return F*(Vt(vn)/Vt(vn+se*It))}function AM(It){return F*(Vt(vn)*Yn(vn+se*It)-hn(vn))/be}function NM(It){return 1-Math.pow(1-It,1.5)}var FM=Date.now(),m0=(Me(1)-vn)/se,zM=f.duration?1e3*f.duration:1e3*m0*.8;function g0(){var It=(Date.now()-FM)/zM,Tc=NM(It)*m0;It<=1?(this._flyToFrame=U(g0,this),this._move(this.unproject(g.add(b.subtract(g).multiplyBy(AM(Tc)/Z)),R),this.getScaleZoom(F/To(Tc),R),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),g0.call(this),this},flyToBounds:function(a,c){var f=this._getBoundsCenterZoom(a,c);return this.flyTo(f.center,f.zoom,c)},setMaxBounds:function(a){return a=oe(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var f=this.getCenter(),g=this._limitCenter(f,this._zoom,oe(a));return f.equals(g)||this.panTo(g,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var f=W(c.paddingTopLeft||c.padding||[0,0]),g=W(c.paddingBottomRight||c.padding||[0,0]),b=this.project(this.getCenter()),E=this.project(a),R=this.getPixelBounds(),F=J([R.min.add(f),R.max.subtract(g)]),B=F.getSize();if(!F.contains(E)){this._enforcingBounds=!0;var Z=E.subtract(F.getCenter()),se=F.extend(E).getSize().subtract(B);b.x+=Z.x<0?-se.x:se.x,b.y+=Z.y<0?-se.y:se.y,this.panTo(this.unproject(b),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=r({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),g=c.divideBy(2).round(),b=f.divideBy(2).round(),E=g.subtract(b);return!E.x&&!E.y?this:(a.animate&&a.pan?this.panBy(E):(a.pan&&this._rawPanBy(E),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=r({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=o(this._handleGeolocationResponse,this),f=o(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,f,a):navigator.geolocation.getCurrentPosition(c,f,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,f=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,f=a.coords.longitude,g=new le(c,f),b=g.toBounds(a.coords.accuracy*2),E=this._locateOptions;if(E.setView){var R=this.getBoundsZoom(b);this.setView(g,E.maxZoom?Math.min(R,E.maxZoom):R)}var F={latlng:g,bounds:b,timestamp:a.timestamp};for(var B in a.coords)typeof a.coords[B]=="number"&&(F[B]=a.coords[B]);this.fire("locationfound",F)}},addHandler:function(a,c){if(!c)return this;var f=this[a]=new c(this);return this._handlers.push(f),this.options[a]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),et(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)et(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var f="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),g=ke("div",f,c||this._mapPane);return a&&(this._panes[a]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),f=this.unproject(a.getTopRight());return new me(c,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,f){a=oe(a),f=W(f||[0,0]);var g=this.getZoom()||0,b=this.getMinZoom(),E=this.getMaxZoom(),R=a.getNorthWest(),F=a.getSouthEast(),B=this.getSize().subtract(f),Z=J(this.project(F,g),this.project(R,g)).getSize(),se=$.any3d?this.options.zoomSnap:1,be=B.x/Z.x,Me=B.y/Z.y,hn=c?Math.max(be,Me):Math.min(be,Me);return g=this.getScaleZoom(hn,g),se&&(g=Math.round(g/(se/100))*(se/100),g=c?Math.ceil(g/se)*se:Math.floor(g/se)*se),Math.max(b,Math.min(E,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var f=this._getTopLeftPoint(a,c);return new ne(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var f=this.options.crs;return c=c===void 0?this._zoom:c,f.scale(a)/f.scale(c)},getScaleZoom:function(a,c){var f=this.options.crs;c=c===void 0?this._zoom:c;var g=f.zoom(a*f.scale(c));return isNaN(g)?1/0:g},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(ee(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(W(a),c)},layerPointToLatLng:function(a){var c=W(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(ee(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(ee(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(oe(a))},distance:function(a,c){return this.options.crs.distance(ee(a),ee(c))},containerPointToLayerPoint:function(a){return W(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return W(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(W(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ee(a)))},mouseEventToContainerPoint:function(a){return Ay(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=wr(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Se(c,"scroll",this._onScroll,this),this._containerId=u(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&$.any3d,Pe(a,"leaflet-container"+($.touch?" leaflet-touch":"")+($.retina?" leaflet-retina":"")+($.ielt9?" leaflet-oldie":"")+($.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Je(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Lt(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pe(a.markerPane,"leaflet-zoom-hide"),Pe(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,f){Lt(this._mapPane,new z(0,0));var g=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var b=this._zoom!==c;this._moveStart(b,f)._move(a,c)._moveEnd(b),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,f,g){c===void 0&&(c=this._zoom);var b=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),g?f&&f.pinch&&this.fire("zoom",f):((b||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Lt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[u(this._container)]=this;var c=a?tt:Se;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),$.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var f=[],g,b=c==="mouseout"||c==="mouseover",E=a.target||a.srcElement,R=!1;E;){if(g=this._targets[u(E)],g&&(c==="click"||c==="preclick")&&this._draggableMoved(g)){R=!0;break}if(g&&g.listens(c,!0)&&(b&&!cp(E,a)||(f.push(g),b))||E===this._container)break;E=E.parentNode}return!f.length&&!R&&!b&&this.listens(c,!0)&&(f=[this]),f},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var f=a.type;f==="mousedown"&&rp(c),this._fireDOMEvent(a,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,f){if(a.type==="click"){var g=r({},a);g.type="preclick",this._fireDOMEvent(g,g.type,f)}var b=this._findEventTargets(a,c);if(f){for(var E=[],R=0;R<f.length;R++)f[R].listens(c,!0)&&E.push(f[R]);b=E.concat(b)}if(b.length){c==="contextmenu"&&Yt(a);var F=b[0],B={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Z=F.getLatLng&&(!F._radius||F._radius<=10);B.containerPoint=Z?this.latLngToContainerPoint(F.getLatLng()):this.mouseEventToContainerPoint(a),B.layerPoint=this.containerPointToLayerPoint(B.containerPoint),B.latlng=Z?F.getLatLng():this.layerPointToLatLng(B.layerPoint)}for(R=0;R<b.length;R++)if(b[R].fire(c,B,!0),B.originalEvent._stopped||b[R].options.bubblingMouseEvents===!1&&P(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return bs(this._mapPane)||new z(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var f=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var f=this.getSize()._divideBy(2);return this.project(a,c)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,f){var g=this._getNewPixelOrigin(f,c);return this.project(a,c)._subtract(g)},_latLngBoundsToNewLayerBounds:function(a,c,f){var g=this._getNewPixelOrigin(f,c);return J([this.project(a.getSouthWest(),c)._subtract(g),this.project(a.getNorthWest(),c)._subtract(g),this.project(a.getSouthEast(),c)._subtract(g),this.project(a.getNorthEast(),c)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,f){if(!f)return a;var g=this.project(a,c),b=this.getSize().divideBy(2),E=new ne(g.subtract(b),g.add(b)),R=this._getBoundsOffset(E,f,c);return Math.abs(R.x)<=1&&Math.abs(R.y)<=1?a:this.unproject(g.add(R),c)},_limitOffset:function(a,c){if(!c)return a;var f=this.getPixelBounds(),g=new ne(f.min.add(a),f.max.add(a));return a.add(this._getBoundsOffset(g,c))},_getBoundsOffset:function(a,c,f){var g=J(this.project(c.getNorthEast(),f),this.project(c.getSouthWest(),f)),b=g.min.subtract(a.min),E=g.max.subtract(a.max),R=this._rebound(b.x,-E.x),F=this._rebound(b.y,-E.y);return new z(R,F)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),f=this.getMaxZoom(),g=$.any3d?this.options.zoomSnap:1;return g&&(a=Math.round(a/g)*g),Math.max(c,Math.min(f,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var f=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,c),!0)},_createAnimProxy:function(){var a=this._proxy=ke("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var f=De,g=this._proxy.style[f];ys(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),g===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){et(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();ys(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(c),b=this._getCenterOffset(a)._divideBy(1-1/g);return f.animate!==!0&&!this.getSize().contains(b)?!1:(U(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,f,g){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,Pe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Qk(a,c){return new ze(a,c)}var ii=fe.extend({options:{position:"topright"},initialize:function(a){v(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),f=this.getPosition(),g=a._controlCorners[f];return Pe(c,"leaflet-control"),f.indexOf("bottom")!==-1?g.insertBefore(c,g.firstChild):g.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(et(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Va=function(a){return new ii(a)};ze.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",f=this._controlContainer=ke("div",c+"control-container",this._container);function g(b,E){var R=c+b+" "+c+E;a[b+E]=ke("div",R,f)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)et(this._controlCorners[a]);et(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var zy=ii.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,f,g){return f<g?-1:g<f?1:0}},initialize:function(a,c,f){v(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in a)this._addLayer(a[g],g);for(g in c)this._addLayer(c[g],g,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return ii.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(u(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Pe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Pe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Pt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=ke("div",a),f=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Ba(c),up(c);var g=this._section=ke("section",a+"-list");f&&(this._map.on("click",this.collapse,this),Se(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=ke("a",a+"-toggle",c);b.href="#",b.title="Layers",b.setAttribute("role","button"),Se(b,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){Yt(E),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=ke("div",a+"-base",g),this._separator=ke("div",a+"-separator",g),this._overlaysList=ke("div",a+"-overlays",g),c.appendChild(g)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&u(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,f){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:f}),this.options.sortLayers&&this._layers.sort(o(function(g,b){return this.options.sortFunction(g.layer,b.layer,g.name,b.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yo(this._baseLayersList),yo(this._overlaysList),this._layerControlInputs=[];var a,c,f,g,b=0;for(f=0;f<this._layers.length;f++)g=this._layers[f],this._addItem(g),c=c||g.overlay,a=a||!g.overlay,b+=g.overlay?0:1;return this.options.hideSingleBase&&(a=a&&b>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(u(a.target)),f=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;f&&this._map.fire(f,c)},_createRadioElement:function(a,c){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=f,g.firstChild},_addItem:function(a){var c=document.createElement("label"),f=this._map.hasLayer(a.layer),g;a.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=f):g=this._createRadioElement("leaflet-base-layers_"+u(this),f),this._layerControlInputs.push(g),g.layerId=u(a.layer),Se(g,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+a.name;var E=document.createElement("span");c.appendChild(E),E.appendChild(g),E.appendChild(b);var R=a.overlay?this._overlaysList:this._baseLayersList;return R.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,f,g=[],b=[];this._handlingClick=!0;for(var E=a.length-1;E>=0;E--)c=a[E],f=this._getLayer(c.layerId).layer,c.checked?g.push(f):c.checked||b.push(f);for(E=0;E<b.length;E++)this._map.hasLayer(b[E])&&this._map.removeLayer(b[E]);for(E=0;E<g.length;E++)this._map.hasLayer(g[E])||this._map.addLayer(g[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,f,g=this._map.getZoom(),b=a.length-1;b>=0;b--)c=a[b],f=this._getLayer(c.layerId).layer,c.disabled=f.options.minZoom!==void 0&&g<f.options.minZoom||f.options.maxZoom!==void 0&&g>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Se(a,"click",Yt),this.expand();var c=this;setTimeout(function(){tt(a,"click",Yt),c._preventClick=!1})}}),Jk=function(a,c,f){return new zy(a,c,f)},hp=ii.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",f=ke("div",c+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,c+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,c+"-out",f,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,f,g,b){var E=ke("a",f,g);return E.innerHTML=a,E.href="#",E.title=c,E.setAttribute("role","button"),E.setAttribute("aria-label",c),Ba(E),Se(E,"click",ws),Se(E,"click",b,this),Se(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";Pt(this._zoomInButton,c),Pt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Pe(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Pe(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});ze.mergeOptions({zoomControl:!0}),ze.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new hp,this.addControl(this.zoomControl))});var eM=function(a){return new hp(a)},By=ii.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",f=ke("div",c),g=this.options;return this._addScales(g,c+"-line",f),a.on(g.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),f},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,f){a.metric&&(this._mScale=ke("div",c,f)),a.imperial&&(this._iScale=ke("div",c,f))},_update:function(){var a=this._map,c=a.getSize().y/2,f=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(f)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),f=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,f,c/a)},_updateImperial:function(a){var c=a*3.2808399,f,g,b;c>5280?(f=c/5280,g=this._getRoundNum(f),this._updateScale(this._iScale,g+" mi",g/f)):(b=this._getRoundNum(c),this._updateScale(this._iScale,b+" ft",b/c))},_updateScale:function(a,c,f){a.style.width=Math.round(this.options.maxWidth*f)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),f=a/c;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,c*f}}),tM=function(a){return new By(a)},nM='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',dp=ii.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+($.inlineSvg?nM+" ":"")+"Leaflet</a>"},initialize:function(a){v(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=ke("div","leaflet-control-attribution"),Ba(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var f=[];this.options.prefix&&f.push(this.options.prefix),a.length&&f.push(a.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});ze.mergeOptions({attributionControl:!0}),ze.addInitHook(function(){this.options.attributionControl&&new dp().addTo(this)});var iM=function(a){return new dp(a)};ii.Layers=zy,ii.Zoom=hp,ii.Scale=By,ii.Attribution=dp,Va.layers=Jk,Va.zoom=eM,Va.scale=tM,Va.attribution=iM;var wi=fe.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});wi.addTo=function(a,c){return a.addHandler(c,this),this};var rM={Events:ie},Vy=$.touch?"touchstart mousedown":"mousedown",Sr=re.extend({options:{clickTolerance:3},initialize:function(a,c,f,g){v(this,g),this._element=a,this._dragStartTarget=c||a,this._preventOutline=f},enable:function(){this._enabled||(Se(this._dragStartTarget,Vy,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Sr._dragging===this&&this.finishDrag(!0),tt(this._dragStartTarget,Vy,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Qf(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Sr._dragging===this&&this.finishDrag();return}if(!(Sr._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Sr._dragging=this,this._preventOutline&&rp(this._element),tp(),Na(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,f=Oy(this._element);this._startPoint=new z(c.clientX,c.clientY),this._startPos=bs(this._element),this._parentScale=sp(f);var g=a.type==="mousedown";Se(document,g?"mousemove":"touchmove",this._onMove,this),Se(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,f=new z(c.clientX,c.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,Yt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Pe(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Lt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Pt(document.body,"leaflet-dragging"),this._lastTarget&&(Pt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),tt(document,"mousemove touchmove",this._onMove,this),tt(document,"mouseup touchend touchcancel",this._onUp,this),np(),Fa();var c=this._moved&&this._moving;this._moving=!1,Sr._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function jy(a,c,f){var g,b=[1,4,2,8],E,R,F,B,Z,se,be,Me;for(E=0,se=a.length;E<se;E++)a[E]._code=Ss(a[E],c);for(F=0;F<4;F++){for(be=b[F],g=[],E=0,se=a.length,R=se-1;E<se;R=E++)B=a[E],Z=a[R],B._code&be?Z._code&be||(Me=gc(Z,B,be,c,f),Me._code=Ss(Me,c),g.push(Me)):(Z._code&be&&(Me=gc(Z,B,be,c,f),Me._code=Ss(Me,c),g.push(Me)),g.push(B));a=g}return a}function Hy(a,c){var f,g,b,E,R,F,B,Z,se;if(!a||a.length===0)throw new Error("latlngs not passed");Zn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var be=ee([0,0]),Me=oe(a),hn=Me.getNorthWest().distanceTo(Me.getSouthWest())*Me.getNorthEast().distanceTo(Me.getNorthWest());hn<1700&&(be=fp(a));var Vt=a.length,Yn=[];for(f=0;f<Vt;f++){var vn=ee(a[f]);Yn.push(c.project(ee([vn.lat-be.lat,vn.lng-be.lng])))}for(F=B=Z=0,f=0,g=Vt-1;f<Vt;g=f++)b=Yn[f],E=Yn[g],R=b.y*E.x-E.y*b.x,B+=(b.x+E.x)*R,Z+=(b.y+E.y)*R,F+=R*3;F===0?se=Yn[0]:se=[B/F,Z/F];var To=c.unproject(W(se));return ee([To.lat+be.lat,To.lng+be.lng])}function fp(a){for(var c=0,f=0,g=0,b=0;b<a.length;b++){var E=ee(a[b]);c+=E.lat,f+=E.lng,g++}return ee([c/g,f/g])}var sM={__proto__:null,clipPolygon:jy,polygonCenter:Hy,centroid:fp};function Wy(a,c){if(!c||!a.length)return a.slice();var f=c*c;return a=lM(a,f),a=aM(a,f),a}function $y(a,c,f){return Math.sqrt(ja(a,c,f,!0))}function oM(a,c,f){return ja(a,c,f)}function aM(a,c){var f=a.length,g=typeof Uint8Array<"u"?Uint8Array:Array,b=new g(f);b[0]=b[f-1]=1,pp(a,b,c,0,f-1);var E,R=[];for(E=0;E<f;E++)b[E]&&R.push(a[E]);return R}function pp(a,c,f,g,b){var E=0,R,F,B;for(F=g+1;F<=b-1;F++)B=ja(a[F],a[g],a[b],!0),B>E&&(R=F,E=B);E>f&&(c[R]=1,pp(a,c,f,g,R),pp(a,c,f,R,b))}function lM(a,c){for(var f=[a[0]],g=1,b=0,E=a.length;g<E;g++)uM(a[g],a[b])>c&&(f.push(a[g]),b=g);return b<E-1&&f.push(a[E-1]),f}var Uy;function Zy(a,c,f,g,b){var E=g?Uy:Ss(a,f),R=Ss(c,f),F,B,Z;for(Uy=R;;){if(!(E|R))return[a,c];if(E&R)return!1;F=E||R,B=gc(a,c,F,f,b),Z=Ss(B,f),F===E?(a=B,E=Z):(c=B,R=Z)}}function gc(a,c,f,g,b){var E=c.x-a.x,R=c.y-a.y,F=g.min,B=g.max,Z,se;return f&8?(Z=a.x+E*(B.y-a.y)/R,se=B.y):f&4?(Z=a.x+E*(F.y-a.y)/R,se=F.y):f&2?(Z=B.x,se=a.y+R*(B.x-a.x)/E):f&1&&(Z=F.x,se=a.y+R*(F.x-a.x)/E),new z(Z,se,b)}function Ss(a,c){var f=0;return a.x<c.min.x?f|=1:a.x>c.max.x&&(f|=2),a.y<c.min.y?f|=4:a.y>c.max.y&&(f|=8),f}function uM(a,c){var f=c.x-a.x,g=c.y-a.y;return f*f+g*g}function ja(a,c,f,g){var b=c.x,E=c.y,R=f.x-b,F=f.y-E,B=R*R+F*F,Z;return B>0&&(Z=((a.x-b)*R+(a.y-E)*F)/B,Z>1?(b=f.x,E=f.y):Z>0&&(b+=R*Z,E+=F*Z)),R=a.x-b,F=a.y-E,g?R*R+F*F:new z(b,E)}function Zn(a){return!S(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function Yy(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Zn(a)}function Gy(a,c){var f,g,b,E,R,F,B,Z;if(!a||a.length===0)throw new Error("latlngs not passed");Zn(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var se=ee([0,0]),be=oe(a),Me=be.getNorthWest().distanceTo(be.getSouthWest())*be.getNorthEast().distanceTo(be.getNorthWest());Me<1700&&(se=fp(a));var hn=a.length,Vt=[];for(f=0;f<hn;f++){var Yn=ee(a[f]);Vt.push(c.project(ee([Yn.lat-se.lat,Yn.lng-se.lng])))}for(f=0,g=0;f<hn-1;f++)g+=Vt[f].distanceTo(Vt[f+1])/2;if(g===0)Z=Vt[0];else for(f=0,E=0;f<hn-1;f++)if(R=Vt[f],F=Vt[f+1],b=R.distanceTo(F),E+=b,E>g){B=(E-g)/b,Z=[F.x-B*(F.x-R.x),F.y-B*(F.y-R.y)];break}var vn=c.unproject(W(Z));return ee([vn.lat+se.lat,vn.lng+se.lng])}var cM={__proto__:null,simplify:Wy,pointToSegmentDistance:$y,closestPointOnSegment:oM,clipSegment:Zy,_getEdgeIntersection:gc,_getBitCode:Ss,_sqClosestPointOnSegment:ja,isFlat:Zn,_flat:Yy,polylineCenter:Gy},mp={project:function(a){return new z(a.lng,a.lat)},unproject:function(a){return new le(a.y,a.x)},bounds:new ne([-180,-90],[180,90])},gp={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ne([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,f=this.R,g=a.lat*c,b=this.R_MINOR/f,E=Math.sqrt(1-b*b),R=E*Math.sin(g),F=Math.tan(Math.PI/4-g/2)/Math.pow((1-R)/(1+R),E/2);return g=-f*Math.log(Math.max(F,1e-10)),new z(a.lng*c*f,g)},unproject:function(a){for(var c=180/Math.PI,f=this.R,g=this.R_MINOR/f,b=Math.sqrt(1-g*g),E=Math.exp(-a.y/f),R=Math.PI/2-2*Math.atan(E),F=0,B=.1,Z;F<15&&Math.abs(B)>1e-7;F++)Z=b*Math.sin(R),Z=Math.pow((1-Z)/(1+Z),b/2),B=Math.PI/2-2*Math.atan(E*Z)-R,R+=B;return new le(R*c,a.x*c/f)}},hM={__proto__:null,LonLat:mp,Mercator:gp,SphericalMercator:fs},dM=r({},bt,{code:"EPSG:3395",projection:gp,transformation:function(){var a=.5/(Math.PI*gp.R);return un(a,.5,-a,.5)}()}),Ky=r({},bt,{code:"EPSG:4326",projection:mp,transformation:un(1/180,1,-1/180,.5)}),fM=r({},Fe,{projection:mp,transformation:un(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var f=c.lng-a.lng,g=c.lat-a.lat;return Math.sqrt(f*f+g*g)},infinite:!0});Fe.Earth=bt,Fe.EPSG3395=dM,Fe.EPSG3857=vr,Fe.EPSG900913=uo,Fe.EPSG4326=Ky,Fe.Simple=fM;var ri=re.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[u(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[u(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var f=this.getEvents();c.on(f,this),this.once("remove",function(){c.off(f,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});ze.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=u(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=u(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return u(a)in this._layers},eachLayer:function(a,c){for(var f in this._layers)a.call(c,this._layers[f]);return this},_addLayers:function(a){a=a?S(a)?a:[a]:[];for(var c=0,f=a.length;c<f;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[u(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=u(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,f=this._getZoomSpan();for(var g in this._zoomBoundLayers){var b=this._zoomBoundLayers[g].options;a=b.minZoom===void 0?a:Math.min(a,b.minZoom),c=b.maxZoom===void 0?c:Math.max(c,b.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var wo=ri.extend({initialize:function(a,c){v(this,c),this._layers={};var f,g;if(a)for(f=0,g=a.length;f<g;f++)this.addLayer(a[f])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),f,g;for(f in this._layers)g=this._layers[f],g[a]&&g[a].apply(g,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var f in this._layers)a.call(c,this._layers[f]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return u(a)}}),pM=function(a,c){return new wo(a,c)},Bi=wo.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),wo.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),wo.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new me;for(var c in this._layers){var f=this._layers[c];a.extend(f.getBounds?f.getBounds():f.getLatLng())}return a}}),mM=function(a,c){return new Bi(a,c)},So=fe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){v(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var f=this._getIconUrl(a);if(!f){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(f,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(g,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(a,c){var f=this.options,g=f[c+"Size"];typeof g=="number"&&(g=[g,g]);var b=W(g),E=W(c==="shadow"&&f.shadowAnchor||f.iconAnchor||b&&b.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(f.className||""),E&&(a.style.marginLeft=-E.x+"px",a.style.marginTop=-E.y+"px"),b&&(a.style.width=b.x+"px",a.style.height=b.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return $.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function gM(a){return new So(a)}var Ha=So.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Ha.imagePath!="string"&&(Ha.imagePath=this._detectIconPath()),(this.options.imagePath||Ha.imagePath)+So.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(f,g,b){var E=g.exec(f);return E&&E[b]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=ke("div","leaflet-default-icon-path",document.body),c=Je(a,"background-image")||Je(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),qy=wi.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Sr(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pe(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,f=c._map,g=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,E=bs(c._icon),R=f.getPixelBounds(),F=f.getPixelOrigin(),B=J(R.min._subtract(F).add(b),R.max._subtract(F).subtract(b));if(!B.contains(E)){var Z=W((Math.max(B.max.x,E.x)-B.max.x)/(R.max.x-B.max.x)-(Math.min(B.min.x,E.x)-B.min.x)/(R.min.x-B.min.x),(Math.max(B.max.y,E.y)-B.max.y)/(R.max.y-B.max.y)-(Math.min(B.min.y,E.y)-B.min.y)/(R.min.y-B.min.y)).multiplyBy(g);f.panBy(Z,{animate:!1}),this._draggable._newPos._add(Z),this._draggable._startPos._add(Z),Lt(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=U(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,f=c._shadow,g=bs(c._icon),b=c._map.layerPointToLatLng(g);f&&Lt(f,g),c._latlng=b,a.latlng=b,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),_c=ri.extend({options:{icon:new Ha,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){v(this,c),this._latlng=ee(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=ee(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=a.icon.createIcon(this._icon),g=!1;f!==this._icon&&(this._icon&&this._removeIcon(),g=!0,a.title&&(f.title=a.title),f.tagName==="IMG"&&(f.alt=a.alt||"")),Pe(f,c),a.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Se(f,"focus",this._panOnFocus,this);var b=a.icon.createShadow(this._shadow),E=!1;b!==this._shadow&&(this._removeShadow(),E=!0),b&&(Pe(b,c),b.alt=""),this._shadow=b,a.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&E&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(this._icon,"focus",this._panOnFocus,this),et(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&et(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Lt(this._icon,a),this._shadow&&Lt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Pe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),qy)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new qy(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Un(this._icon,a),this._shadow&&Un(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,f=c.iconSize?W(c.iconSize):W(0,0),g=c.iconAnchor?W(c.iconAnchor):W(0,0);a.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:f.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function _M(a,c){return new _c(a,c)}var Cr=ri.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return v(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),vc=Cr.extend({options:{fill:!0,radius:10},initialize:function(a,c){v(this,c),this._latlng=ee(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=ee(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return Cr.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,f=this._clickTolerance(),g=[a+f,c+f];this._pxBounds=new ne(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function vM(a,c){return new vc(a,c)}var _p=vc.extend({initialize:function(a,c,f){if(typeof c=="number"&&(c=r({},f,{radius:c})),v(this,c),this._latlng=ee(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new me(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Cr.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,f=this._map,g=f.options.crs;if(g.distance===bt.distance){var b=Math.PI/180,E=this._mRadius/bt.R/b,R=f.project([c+E,a]),F=f.project([c-E,a]),B=R.add(F).divideBy(2),Z=f.unproject(B).lat,se=Math.acos((Math.cos(E*b)-Math.sin(c*b)*Math.sin(Z*b))/(Math.cos(c*b)*Math.cos(Z*b)))/b;(isNaN(se)||se===0)&&(se=E/Math.cos(Math.PI/180*c)),this._point=B.subtract(f.getPixelOrigin()),this._radius=isNaN(se)?0:B.x-f.project([Z,a-se]).x,this._radiusY=B.y-R.y}else{var be=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(be).x}this._updateBounds()}});function yM(a,c,f){return new _p(a,c,f)}var Vi=Cr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){v(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,f=null,g=ja,b,E,R=0,F=this._parts.length;R<F;R++)for(var B=this._parts[R],Z=1,se=B.length;Z<se;Z++){b=B[Z-1],E=B[Z];var be=g(a,b,E,!0);be<c&&(c=be,f=g(a,b,E))}return f&&(f.distance=Math.sqrt(c)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Gy(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=ee(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new me,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Zn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],f=Zn(a),g=0,b=a.length;g<b;g++)f?(c[g]=ee(a[g]),this._bounds.extend(c[g])):c[g]=this._convertLatLngs(a[g]);return c},_project:function(){var a=new ne;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new z(a,a);this._rawPxBounds&&(this._pxBounds=new ne([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,f){var g=a[0]instanceof le,b=a.length,E,R;if(g){for(R=[],E=0;E<b;E++)R[E]=this._map.latLngToLayerPoint(a[E]),f.extend(R[E]);c.push(R)}else for(E=0;E<b;E++)this._projectLatlngs(a[E],c,f)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,f,g,b,E,R,F,B;for(f=0,b=0,E=this._rings.length;f<E;f++)for(B=this._rings[f],g=0,R=B.length;g<R-1;g++)F=Zy(B[g],B[g+1],a,g,!0),F&&(c[b]=c[b]||[],c[b].push(F[0]),(F[1]!==B[g+1]||g===R-2)&&(c[b].push(F[1]),b++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,f=0,g=a.length;f<g;f++)a[f]=Wy(a[f],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var f,g,b,E,R,F,B=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(f=0,E=this._parts.length;f<E;f++)for(F=this._parts[f],g=0,R=F.length,b=R-1;g<R;b=g++)if(!(!c&&g===0)&&$y(a,F[b],F[g])<=B)return!0;return!1}});function bM(a,c){return new Vi(a,c)}Vi._flat=Yy;var Co=Vi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Hy(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=Vi.prototype._convertLatLngs.call(this,a),f=c.length;return f>=2&&c[0]instanceof le&&c[0].equals(c[f-1])&&c.pop(),c},_setLatLngs:function(a){Vi.prototype._setLatLngs.call(this,a),Zn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Zn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,f=new z(c,c);if(a=new ne(a.min.subtract(f),a.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,b=this._rings.length,E;g<b;g++)E=jy(this._rings[g],a,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,f,g,b,E,R,F,B,Z;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(E=0,B=this._parts.length;E<B;E++)for(f=this._parts[E],R=0,Z=f.length,F=Z-1;R<Z;F=R++)g=f[R],b=f[F],g.y>a.y!=b.y>a.y&&a.x<(b.x-g.x)*(a.y-g.y)/(b.y-g.y)+g.x&&(c=!c);return c||Vi.prototype._containsPoint.call(this,a,!0)}});function xM(a,c){return new Co(a,c)}var ji=Bi.extend({initialize:function(a,c){v(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=S(a)?a:a.features,f,g,b;if(c){for(f=0,g=c.length;f<g;f++)b=c[f],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var E=this.options;if(E.filter&&!E.filter(a))return this;var R=yc(a,E);return R?(R.feature=wc(a),R.defaultOptions=R.options,this.resetStyle(R),E.onEachFeature&&E.onEachFeature(a,R),this.addLayer(R)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=r({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function yc(a,c){var f=a.type==="Feature"?a.geometry:a,g=f?f.coordinates:null,b=[],E=c&&c.pointToLayer,R=c&&c.coordsToLatLng||vp,F,B,Z,se;if(!g&&!f)return null;switch(f.type){case"Point":return F=R(g),Xy(E,a,F,c);case"MultiPoint":for(Z=0,se=g.length;Z<se;Z++)F=R(g[Z]),b.push(Xy(E,a,F,c));return new Bi(b);case"LineString":case"MultiLineString":return B=bc(g,f.type==="LineString"?0:1,R),new Vi(B,c);case"Polygon":case"MultiPolygon":return B=bc(g,f.type==="Polygon"?1:2,R),new Co(B,c);case"GeometryCollection":for(Z=0,se=f.geometries.length;Z<se;Z++){var be=yc({geometry:f.geometries[Z],type:"Feature",properties:a.properties},c);be&&b.push(be)}return new Bi(b);case"FeatureCollection":for(Z=0,se=f.features.length;Z<se;Z++){var Me=yc(f.features[Z],c);Me&&b.push(Me)}return new Bi(b);default:throw new Error("Invalid GeoJSON object.")}}function Xy(a,c,f,g){return a?a(c,f):new _c(f,g&&g.markersInheritOptions&&g)}function vp(a){return new le(a[1],a[0],a[2])}function bc(a,c,f){for(var g=[],b=0,E=a.length,R;b<E;b++)R=c?bc(a[b],c-1,f):(f||vp)(a[b]),g.push(R);return g}function yp(a,c){return a=ee(a),a.alt!==void 0?[m(a.lng,c),m(a.lat,c),m(a.alt,c)]:[m(a.lng,c),m(a.lat,c)]}function xc(a,c,f,g){for(var b=[],E=0,R=a.length;E<R;E++)b.push(c?xc(a[E],Zn(a[E])?0:c-1,f,g):yp(a[E],g));return!c&&f&&b.length>0&&b.push(b[0].slice()),b}function Eo(a,c){return a.feature?r({},a.feature,{geometry:c}):wc(c)}function wc(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var bp={toGeoJSON:function(a){return Eo(this,{type:"Point",coordinates:yp(this.getLatLng(),a)})}};_c.include(bp),_p.include(bp),vc.include(bp),Vi.include({toGeoJSON:function(a){var c=!Zn(this._latlngs),f=xc(this._latlngs,c?1:0,!1,a);return Eo(this,{type:(c?"Multi":"")+"LineString",coordinates:f})}}),Co.include({toGeoJSON:function(a){var c=!Zn(this._latlngs),f=c&&!Zn(this._latlngs[0]),g=xc(this._latlngs,f?2:c?1:0,!0,a);return c||(g=[g]),Eo(this,{type:(f?"Multi":"")+"Polygon",coordinates:g})}}),wo.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(f){c.push(f.toGeoJSON(a).geometry.coordinates)}),Eo(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var f=c==="GeometryCollection",g=[];return this.eachLayer(function(b){if(b.toGeoJSON){var E=b.toGeoJSON(a);if(f)g.push(E.geometry);else{var R=wc(E);R.type==="FeatureCollection"?g.push.apply(g,R.features):g.push(R)}}}),f?Eo(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function Qy(a,c){return new ji(a,c)}var wM=Qy,Sc=ri.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,f){this._url=a,this._bounds=oe(c),v(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){et(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&bo(this._image),this},bringToBack:function(){return this._map&&xo(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=oe(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:ke("img");if(Pe(c,"leaflet-image-layer"),this._zoomAnimated&&Pe(c,"leaflet-zoom-animated"),this.options.className&&Pe(c,this.options.className),c.onselectstart=p,c.onmousemove=p,c.onload=o(this.fire,this,"load"),c.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;ys(this._image,f,c)},_reset:function(){var a=this._image,c=new ne(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=c.getSize();Lt(a,c.min),a.style.width=f.x+"px",a.style.height=f.y+"px"},_updateOpacity:function(){Un(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),SM=function(a,c,f){return new Sc(a,c,f)},Jy=Sc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:ke("video");if(Pe(c,"leaflet-image-layer"),this._zoomAnimated&&Pe(c,"leaflet-zoom-animated"),this.options.className&&Pe(c,this.options.className),c.onselectstart=p,c.onmousemove=p,c.onloadeddata=o(this.fire,this,"load"),a){for(var f=c.getElementsByTagName("source"),g=[],b=0;b<f.length;b++)g.push(f[b].src);this._url=f.length>0?g:[c.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var R=ke("source");R.src=this._url[E],c.appendChild(R)}}});function CM(a,c,f){return new Jy(a,c,f)}var e0=Sc.extend({_initImage:function(){var a=this._image=this._url;Pe(a,"leaflet-image-layer"),this._zoomAnimated&&Pe(a,"leaflet-zoom-animated"),this.options.className&&Pe(a,this.options.className),a.onselectstart=p,a.onmousemove=p}});function EM(a,c,f){return new e0(a,c,f)}var Si=ri.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof le||S(a))?(this._latlng=ee(a),v(this,c)):(v(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Un(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Un(this._container,1),this.bringToFront(),this.options.interactive&&(Pe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Un(this._container,0),this._removeTimeout=setTimeout(o(et,void 0,this._container),200)):et(this._container),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=ee(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&bo(this._container),this},bringToBack:function(){return this._map&&xo(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof Bi){c=null;var f=this._source._layers;for(var g in f)if(f[g]._map){c=f[g];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=W(this.options.offset),f=this._getAnchor();this._zoomAnimated?Lt(this._container,a.add(f)):c=c.add(a).add(f);var g=this._containerBottom=-c.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=g+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});ze.include({_initOverlay:function(a,c,f,g){var b=c;return b instanceof a||(b=new a(g).setContent(c)),f&&b.setLatLng(f),b}}),ri.include({_initOverlay:function(a,c,f,g){var b=f;return b instanceof a?(v(b,g),b._source=this):(b=c&&!g?c:new a(g,this),b.setContent(f)),b}});var Cc=Si.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Si.prototype.openOn.call(this,a)},onAdd:function(a){Si.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Cr||this._source.on("preclick",xs))},onRemove:function(a){Si.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Cr||this._source.off("preclick",xs))},getEvents:function(){var a=Si.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=ke("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=ke("div",a+"-content-wrapper",c);if(this._contentNode=ke("div",a+"-content",f),Ba(c),up(this._contentNode),Se(c,"contextmenu",xs),this._tipContainer=ke("div",a+"-tip-container",c),this._tip=ke("div",a+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=ke("a",a+"-close-button",c);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',Se(g,"click",function(b){Yt(b),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var f=a.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),c.width=f+1+"px",c.whiteSpace="",c.height="";var g=a.offsetHeight,b=this.options.maxHeight,E="leaflet-popup-scrolled";b&&g>b?(c.height=b+"px",Pe(a,E)):Pt(a,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),f=this._getAnchor();Lt(this._container,c.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(Je(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+c,g=this._containerWidth,b=new z(this._containerLeft,-f-this._containerBottom);b._add(bs(this._container));var E=a.layerPointToContainerPoint(b),R=W(this.options.autoPanPadding),F=W(this.options.autoPanPaddingTopLeft||R),B=W(this.options.autoPanPaddingBottomRight||R),Z=a.getSize(),se=0,be=0;E.x+g+B.x>Z.x&&(se=E.x+g-Z.x+B.x),E.x-se-F.x<0&&(se=E.x-F.x),E.y+f+B.y>Z.y&&(be=E.y+f-Z.y+B.y),E.y-be-F.y<0&&(be=E.y-F.y),(se||be)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([se,be]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),PM=function(a,c){return new Cc(a,c)};ze.mergeOptions({closePopupOnClick:!0}),ze.include({openPopup:function(a,c,f){return this._initOverlay(Cc,a,c,f).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),ri.include({bindPopup:function(a,c){return this._popup=this._initOverlay(Cc,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Bi||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){ws(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof Cr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var Ec=Si.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Si.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Si.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Si.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ke("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,f,g=this._map,b=this._container,E=g.latLngToContainerPoint(g.getCenter()),R=g.layerPointToContainerPoint(a),F=this.options.direction,B=b.offsetWidth,Z=b.offsetHeight,se=W(this.options.offset),be=this._getAnchor();F==="top"?(c=B/2,f=Z):F==="bottom"?(c=B/2,f=0):F==="center"?(c=B/2,f=Z/2):F==="right"?(c=0,f=Z/2):F==="left"?(c=B,f=Z/2):R.x<E.x?(F="right",c=0,f=Z/2):(F="left",c=B+(se.x+be.x)*2,f=Z/2),a=a.subtract(W(c,f,!0)).add(se).add(be),Pt(b,"leaflet-tooltip-right"),Pt(b,"leaflet-tooltip-left"),Pt(b,"leaflet-tooltip-top"),Pt(b,"leaflet-tooltip-bottom"),Pe(b,"leaflet-tooltip-"+F),Lt(b,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Un(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),TM=function(a,c){return new Ec(a,c)};ze.include({openTooltip:function(a,c,f){return this._initOverlay(Ec,a,c,f).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),ri.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ec,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[c](f),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Bi||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(Se(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Se(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,f,g;this._tooltip.options.sticky&&a.originalEvent&&(f=this._map.mouseEventToContainerPoint(a.originalEvent),g=this._map.containerPointToLayerPoint(f),c=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(c)}});var t0=So.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),f=this.options;if(f.html instanceof Element?(yo(c),c.appendChild(f.html)):c.innerHTML=f.html!==!1?f.html:"",f.bgPos){var g=W(f.bgPos);c.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function kM(a){return new t0(a)}So.Default=Ha;var Wa=ri.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){v(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),et(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(bo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(xo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof z?a:new z(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,f=-a(-1/0,1/0),g=0,b=c.length,E;g<b;g++)E=c[g].style.zIndex,c[g]!==this._container&&E&&(f=a(f,+E));isFinite(f)&&(this.options.zIndex=f+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$.ielt9){Un(this._container,this.options.opacity);var a=+new Date,c=!1,f=!1;for(var g in this._tiles){var b=this._tiles[g];if(!(!b.current||!b.loaded)){var E=Math.min(1,(a-b.loaded)/200);Un(b.el,E),E<1?c=!0:(b.active?f=!0:this._onOpaqueTile(b),b.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),c&&(G(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=ke("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===a?(this._levels[f].el.style.zIndex=c-Math.abs(a-f),this._onUpdateLevel(f)):(et(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var g=this._levels[a],b=this._map;return g||(g=this._levels[a]={},g.el=ke("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=c,g.origin=b.project(b.unproject(b.getPixelOrigin()),a).round(),g.zoom=a,this._setZoomTransform(g,b.getCenter(),b.getZoom()),p(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var a,c,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var g=c.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)et(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,f,g){var b=Math.floor(a/2),E=Math.floor(c/2),R=f-1,F=new z(+b,+E);F.z=+R;var B=this._tileCoordsToKey(F),Z=this._tiles[B];return Z&&Z.active?(Z.retain=!0,!0):(Z&&Z.loaded&&(Z.retain=!0),R>g?this._retainParent(b,E,R,g):!1)},_retainChildren:function(a,c,f,g){for(var b=2*a;b<2*a+2;b++)for(var E=2*c;E<2*c+2;E++){var R=new z(b,E);R.z=f+1;var F=this._tileCoordsToKey(R),B=this._tiles[F];if(B&&B.active){B.retain=!0;continue}else B&&B.loaded&&(B.retain=!0);f+1<g&&this._retainChildren(b,E,f+1,g)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,f,g){var b=Math.round(c);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var E=this.options.updateWhenZooming&&b!==this._tileZoom;(!g||E)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(a),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var f in this._levels)this._setZoomTransform(this._levels[f],a,c)},_setZoomTransform:function(a,c,f){var g=this._map.getZoomScale(f,a.zoom),b=a.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(c,f)).round();$.any3d?ys(a.el,b,g):Lt(a.el,b)},_resetGrid:function(){var a=this._map,c=a.options.crs,f=this._tileSize=this.getTileSize(),g=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],g).x/f.x),Math.ceil(a.project([0,c.wrapLng[1]],g).x/f.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],g).y/f.x),Math.ceil(a.project([c.wrapLat[1],0],g).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,f=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),g=c.getZoomScale(f,this._tileZoom),b=c.project(a,this._tileZoom).floor(),E=c.getSize().divideBy(g*2);return new ne(b.subtract(E),b.add(E))},_update:function(a){var c=this._map;if(c){var f=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(a),b=this._pxBoundsToTileRange(g),E=b.getCenter(),R=[],F=this.options.keepBuffer,B=new ne(b.getBottomLeft().subtract([F,-F]),b.getTopRight().add([F,-F]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Z in this._tiles){var se=this._tiles[Z].coords;(se.z!==this._tileZoom||!B.contains(new z(se.x,se.y)))&&(this._tiles[Z].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(a,f);return}for(var be=b.min.y;be<=b.max.y;be++)for(var Me=b.min.x;Me<=b.max.x;Me++){var hn=new z(Me,be);if(hn.z=this._tileZoom,!!this._isValidTile(hn)){var Vt=this._tiles[this._tileCoordsToKey(hn)];Vt?Vt.current=!0:R.push(hn)}}if(R.sort(function(vn,To){return vn.distanceTo(E)-To.distanceTo(E)}),R.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Yn=document.createDocumentFragment();for(Me=0;Me<R.length;Me++)this._addTile(R[Me],Yn);this._level.el.appendChild(Yn)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var f=this._globalTileRange;if(!c.wrapLng&&(a.x<f.min.x||a.x>f.max.x)||!c.wrapLat&&(a.y<f.min.y||a.y>f.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(a);return oe(this.options.bounds).overlaps(g)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,f=this.getTileSize(),g=a.scaleBy(f),b=g.add(f),E=c.unproject(g,a.z),R=c.unproject(b,a.z);return[E,R]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),f=new me(c[0],c[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),f=new z(+c[0],+c[1]);return f.z=+c[2],f},_removeTile:function(a){var c=this._tiles[a];c&&(et(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Pe(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=p,a.onmousemove=p,$.ielt9&&this.options.opacity<1&&Un(a,this.options.opacity)},_addTile:function(a,c){var f=this._getTilePos(a),g=this._tileCoordsToKey(a),b=this.createTile(this._wrapCoords(a),o(this._tileReady,this,a));this._initTile(b),this.createTile.length<2&&U(o(this._tileReady,this,a,null,b)),Lt(b,f),this._tiles[g]={el:b,coords:a,current:!0},c.appendChild(b),this.fire("tileloadstart",{tile:b,coords:a})},_tileReady:function(a,c,f){c&&this.fire("tileerror",{error:c,tile:f,coords:a});var g=this._tileCoordsToKey(a);f=this._tiles[g],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Un(f.el,0),G(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),c||(Pe(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new z(this._wrapX?d(a.x,this._wrapX):a.x,this._wrapY?d(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new ne(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function MM(a){return new Wa(a)}var Po=Wa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=v(this,c),c.detectRetina&&$.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var f=document.createElement("img");return Se(f,"load",o(this._tileOnLoad,this,c,f)),Se(f,"error",o(this._tileOnError,this,c,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(a),f},getTileUrl:function(a){var c={r:$.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=f),c["-y"]=f}return w(this._url,r(c,this.options))},_tileOnLoad:function(a,c){$.ielt9?setTimeout(o(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,f){var g=this.options.errorTileUrl;g&&c.getAttribute("src")!==g&&(c.src=g),a(f,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,f=this.options.zoomReverse,g=this.options.zoomOffset;return f&&(a=c-a),a+g},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=p,c.onerror=p,!c.complete)){c.src=k;var f=this._tiles[a].coords;et(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:f})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",k),Wa.prototype._removeTile.call(this,a)},_tileReady:function(a,c,f){if(!(!this._map||f&&f.getAttribute("src")===k))return Wa.prototype._tileReady.call(this,a,c,f)}});function n0(a,c){return new Po(a,c)}var i0=Po.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var f=r({},this.defaultWmsParams);for(var g in c)g in this.options||(f[g]=c[g]);c=v(this,c);var b=c.detectRetina&&$.retina?2:1,E=this.getTileSize();f.width=E.x*b,f.height=E.y*b,this.wmsParams=f},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Po.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),f=this._crs,g=J(f.project(c[0]),f.project(c[1])),b=g.min,E=g.max,R=(this._wmsVersion>=1.3&&this._crs===Ky?[b.y,b.x,E.y,E.x]:[b.x,b.y,E.x,E.y]).join(","),F=Po.prototype.getTileUrl.call(this,a);return F+C(this.wmsParams,F,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+R},setParams:function(a,c){return r(this.wmsParams,a),c||this.redraw(),this}});function LM(a,c){return new i0(a,c)}Po.WMS=i0,n0.wms=LM;var Hi=ri.extend({options:{padding:.1},initialize:function(a){v(this,a),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Pe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var f=this._map.getZoomScale(c,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,c),E=g.multiplyBy(-f).add(b).subtract(this._map._getNewPixelOrigin(a,c));$.any3d?ys(this._container,E,f):Lt(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),f=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new ne(f,f.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),r0=Hi.extend({options:{tolerance:0},getEvents:function(){var a=Hi.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Hi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Se(a,"mousemove",this._onMouseMove,this),Se(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Se(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,et(this._container),tt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Hi.prototype._update.call(this);var a=this._bounds,c=this._container,f=a.getSize(),g=$.retina?2:1;Lt(c,a.min),c.width=g*f.x,c.height=g*f.y,c.style.width=f.x+"px",c.style.height=f.y+"px",$.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Hi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[u(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,f=c.next,g=c.prev;f?f.prev=g:this._drawLast=g,g?g.next=f:this._drawFirst=f,delete a._order,delete this._layers[u(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),f=[],g,b;for(b=0;b<c.length;b++){if(g=Number(c[b]),isNaN(g))return;f.push(g)}a.options._dashArray=f}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ne,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var f=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)a=g.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var f,g,b,E,R=a._parts,F=R.length,B=this._ctx;if(F){for(B.beginPath(),f=0;f<F;f++){for(g=0,b=R[f].length;g<b;g++)E=R[f][g],B[g?"lineTo":"moveTo"](E.x,E.y);c&&B.closePath()}this._fillStroke(B,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,f=this._ctx,g=Math.max(Math.round(a._radius),1),b=(Math.max(Math.round(a._radiusY),1)||g)/g;b!==1&&(f.save(),f.scale(1,b)),f.beginPath(),f.arc(c.x,c.y/b,g,0,Math.PI*2,!1),b!==1&&f.restore(),this._fillStroke(f,a)}},_fillStroke:function(a,c){var f=c.options;f.fill&&(a.globalAlpha=f.fillOpacity,a.fillStyle=f.fillColor||f.color,a.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=f.opacity,a.lineWidth=f.weight,a.strokeStyle=f.color,a.lineCap=f.lineCap,a.lineJoin=f.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),f,g,b=this._drawFirst;b;b=b.next)f=b.layer,f.options.interactive&&f._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(f))&&(g=f);this._fireEvent(g?[g]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var f,g,b=this._drawFirst;b;b=b.next)f=b.layer,f.options.interactive&&f._containsPoint(c)&&(g=f);g!==this._hoveredLayer&&(this._handleMouseOut(a),g&&(Pe(this._container,"leaflet-interactive"),this._fireEvent([g],a,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,f){this._map._fireDOMEvent(c,f||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var f=c.next,g=c.prev;if(f)f.prev=g;else return;g?g.next=f:f&&(this._drawFirst=f),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var f=c.next,g=c.prev;if(g)g.next=f;else return;f?f.prev=g:g&&(this._drawLast=g),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function s0(a){return $.canvas?new r0(a):null}var $a=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),IM={_initContainer:function(){this._container=ke("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Hi.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=$a("shape");Pe(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=$a("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;et(c),a.removeInteractiveTarget(c),delete this._layers[u(a)]},_updateStyle:function(a){var c=a._stroke,f=a._fill,g=a.options,b=a._container;b.stroked=!!g.stroke,b.filled=!!g.fill,g.stroke?(c||(c=a._stroke=$a("stroke")),b.appendChild(c),c.weight=g.weight+"px",c.color=g.color,c.opacity=g.opacity,g.dashArray?c.dashStyle=S(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=g.lineCap.replace("butt","flat"),c.joinstyle=g.lineJoin):c&&(b.removeChild(c),a._stroke=null),g.fill?(f||(f=a._fill=$a("fill")),b.appendChild(f),f.color=g.fillColor||g.color,f.opacity=g.fillOpacity):f&&(b.removeChild(f),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),f=Math.round(a._radius),g=Math.round(a._radiusY||f);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+f+","+g+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){bo(a._container)},_bringToBack:function(a){xo(a._container)}},Pc=$.vml?$a:Wn,Ua=Hi.extend({_initContainer:function(){this._container=Pc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Pc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){et(this._container),tt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Hi.prototype._update.call(this);var a=this._bounds,c=a.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,f.setAttribute("width",c.x),f.setAttribute("height",c.y)),Lt(f,a.min),f.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=Pc("path");a.options.className&&Pe(c,a.options.className),a.options.interactive&&Pe(c,"leaflet-interactive"),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){et(a._path),a.removeInteractiveTarget(a._path),delete this._layers[u(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,f=a.options;c&&(f.stroke?(c.setAttribute("stroke",f.color),c.setAttribute("stroke-opacity",f.opacity),c.setAttribute("stroke-width",f.weight),c.setAttribute("stroke-linecap",f.lineCap),c.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?c.setAttribute("stroke-dasharray",f.dashArray):c.removeAttribute("stroke-dasharray"),f.dashOffset?c.setAttribute("stroke-dashoffset",f.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),f.fill?(c.setAttribute("fill",f.fillColor||f.color),c.setAttribute("fill-opacity",f.fillOpacity),c.setAttribute("fill-rule",f.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,nc(a._parts,c))},_updateCircle:function(a){var c=a._point,f=Math.max(Math.round(a._radius),1),g=Math.max(Math.round(a._radiusY),1)||f,b="a"+f+","+g+" 0 1,0 ",E=a._empty()?"M0 0":"M"+(c.x-f)+","+c.y+b+f*2+",0 "+b+-f*2+",0 ";this._setPath(a,E)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){bo(a._path)},_bringToBack:function(a){xo(a._path)}});$.vml&&Ua.include(IM);function o0(a){return $.svg||$.vml?new Ua(a):null}ze.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&s0(a)||o0(a)}});var a0=Co.extend({initialize:function(a,c){Co.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=oe(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function OM(a,c){return new a0(a,c)}Ua.create=Pc,Ua.pointsToPath=nc,ji.geometryToLayer=yc,ji.coordsToLatLng=vp,ji.coordsToLatLngs=bc,ji.latLngToCoords=yp,ji.latLngsToCoords=xc,ji.getFeature=Eo,ji.asFeature=wc,ze.mergeOptions({boxZoom:!0});var l0=wi.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Se(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){et(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Na(),tp(),this._startPoint=this._map.mouseEventToContainerPoint(a),Se(document,{contextmenu:ws,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=ke("div","leaflet-zoom-box",this._container),Pe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new ne(this._point,this._startPoint),f=c.getSize();Lt(this._box,c.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(et(this._box),Pt(this._container,"leaflet-crosshair")),Fa(),np(),tt(document,{contextmenu:ws,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var c=new me(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ze.addInitHook("addHandler","boxZoom",l0),ze.mergeOptions({doubleClickZoom:!0});var u0=wi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,f=c.getZoom(),g=c.options.zoomDelta,b=a.originalEvent.shiftKey?f-g:f+g;c.options.doubleClickZoom==="center"?c.setZoom(b):c.setZoomAround(a.containerPoint,b)}});ze.addInitHook("addHandler","doubleClickZoom",u0),ze.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var c0=wi.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Sr(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Pe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pt(this._map._container,"leaflet-grab"),Pt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=oe(this._map.options.maxBounds);this._offsetLimit=J(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),f=this._initialWorldOffset,g=this._draggable._newPos.x,b=(g-c+f)%a+c-f,E=(g+c+f)%a-c-f,R=Math.abs(b+f)<Math.abs(E+f)?b:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=R},_onDragEnd:function(a){var c=this._map,f=c.options,g=!f.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),g)c.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,R=f.easeLinearity,F=b.multiplyBy(R/E),B=F.distanceTo([0,0]),Z=Math.min(f.inertiaMaxSpeed,B),se=F.multiplyBy(Z/B),be=Z/(f.inertiaDeceleration*R),Me=se.multiplyBy(-be/2).round();!Me.x&&!Me.y?c.fire("moveend"):(Me=c._limitOffset(Me,c.options.maxBounds),U(function(){c.panBy(Me,{duration:be,easeLinearity:R,noMoveStart:!0,animate:!0})}))}}});ze.addInitHook("addHandler","dragging",c0),ze.mergeOptions({keyboard:!0,keyboardPanDelta:80});var h0=wi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Se(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),tt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,f=a.scrollTop||c.scrollTop,g=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(g,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},f=this.keyCodes,g,b;for(g=0,b=f.left.length;g<b;g++)c[f.left[g]]=[-1*a,0];for(g=0,b=f.right.length;g<b;g++)c[f.right[g]]=[a,0];for(g=0,b=f.down.length;g<b;g++)c[f.down[g]]=[0,a];for(g=0,b=f.up.length;g<b;g++)c[f.up[g]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},f=this.keyCodes,g,b;for(g=0,b=f.zoomIn.length;g<b;g++)c[f.zoomIn[g]]=a;for(g=0,b=f.zoomOut.length;g<b;g++)c[f.zoomOut[g]]=-a},_addHooks:function(){Se(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,f=this._map,g;if(c in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(g=this._panKeys[c],a.shiftKey&&(g=W(g).multiplyBy(3)),f.options.maxBounds&&(g=f._limitOffset(W(g),f.options.maxBounds)),f.options.worldCopyJump){var b=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(g)));f.panTo(b)}else f.panBy(g)}else if(c in this._zoomKeys)f.setZoom(f.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;ws(a)}}});ze.addInitHook("addHandler","keyboard",h0),ze.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var d0=wi.extend({addHooks:function(){Se(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=Ny(a),f=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var g=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),g),ws(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),f=this._map.options.zoomSnap||0;a._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,E=f?Math.ceil(b/f)*f:b,R=a._limitZoom(c+(this._delta>0?E:-E))-c;this._delta=0,this._startTime=null,R&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+R):a.setZoomAround(this._lastMousePos,c+R))}});ze.addInitHook("addHandler","scrollWheelZoom",d0);var RM=600;ze.mergeOptions({tapHold:$.touchNative&&$.safari&&$.mobile,tapTolerance:15});var f0=wi.extend({addHooks:function(){Se(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new z(c.clientX,c.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Se(document,"touchend",Yt),Se(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),RM),Se(document,"touchend touchcancel contextmenu",this._cancel,this),Se(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){tt(document,"touchend",Yt),tt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new z(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var f=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});f._simulated=!0,c.target.dispatchEvent(f)}});ze.addInitHook("addHandler","tapHold",f0),ze.mergeOptions({touchZoom:$.touch,bounceAtZoomLimits:!0});var p0=wi.extend({addHooks:function(){Pe(this._map._container,"leaflet-touch-zoom"),Se(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var f=c.mouseEventToContainerPoint(a.touches[0]),g=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(f.add(g)._divideBy(2))),this._startDist=f.distanceTo(g),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Se(document,"touchmove",this._onTouchMove,this),Se(document,"touchend touchcancel",this._onTouchEnd,this),Yt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,f=c.mouseEventToContainerPoint(a.touches[0]),g=c.mouseEventToContainerPoint(a.touches[1]),b=f.distanceTo(g)/this._startDist;if(this._zoom=c.getScaleZoom(b,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&b<1||this._zoom>c.getMaxZoom()&&b>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var E=f._add(g)._divideBy(2)._subtract(this._centerPoint);if(b===1&&E.x===0&&E.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var R=o(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(R,this,!0),Yt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ze.addInitHook("addHandler","touchZoom",p0),ze.BoxZoom=l0,ze.DoubleClickZoom=u0,ze.Drag=c0,ze.Keyboard=h0,ze.ScrollWheelZoom=d0,ze.TapHold=f0,ze.TouchZoom=p0,n.Bounds=ne,n.Browser=$,n.CRS=Fe,n.Canvas=r0,n.Circle=_p,n.CircleMarker=vc,n.Class=fe,n.Control=ii,n.DivIcon=t0,n.DivOverlay=Si,n.DomEvent=Xk,n.DomUtil=Kk,n.Draggable=Sr,n.Evented=re,n.FeatureGroup=Bi,n.GeoJSON=ji,n.GridLayer=Wa,n.Handler=wi,n.Icon=So,n.ImageOverlay=Sc,n.LatLng=le,n.LatLngBounds=me,n.Layer=ri,n.LayerGroup=wo,n.LineUtil=cM,n.Map=ze,n.Marker=_c,n.Mixin=rM,n.Path=Cr,n.Point=z,n.PolyUtil=sM,n.Polygon=Co,n.Polyline=Vi,n.Popup=Cc,n.PosAnimation=Fy,n.Projection=hM,n.Rectangle=a0,n.Renderer=Hi,n.SVG=Ua,n.SVGOverlay=e0,n.TileLayer=Po,n.Tooltip=Ec,n.Transformation=xt,n.Util=ge,n.VideoOverlay=Jy,n.bind=o,n.bounds=J,n.canvas=s0,n.circle=yM,n.circleMarker=vM,n.control=Va,n.divIcon=kM,n.extend=r,n.featureGroup=mM,n.geoJSON=Qy,n.geoJson=wM,n.gridLayer=MM,n.icon=gM,n.imageOverlay=SM,n.latLng=ee,n.latLngBounds=oe,n.layerGroup=pM,n.map=Qk,n.marker=_M,n.point=W,n.polygon=xM,n.polyline=bM,n.popup=PM,n.rectangle=OM,n.setOptions=v,n.stamp=u,n.svg=o0,n.svgOverlay=EM,n.tileLayer=n0,n.tooltip=TM,n.transformation=un,n.version=i,n.videoOverlay=CM;var DM=window.L;n.noConflict=function(){return window.L=DM,this},window.L=n})})(l_,l_.exports);var ec=l_.exports;const T5=v_(ec);function gy(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function _y(t,e){return e==null?function(i,r){const s=I.useRef();return s.current||(s.current=t(i,r)),s}:function(i,r){const s=I.useRef();s.current||(s.current=t(i,r));const o=I.useRef(i),{instance:l}=s.current;return I.useEffect(function(){o.current!==i&&(e(l,i,o.current),o.current=i)},[l,i,r]),s}}function k5(t,e){I.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function QT(t){return function(n){const i=py(),r=t(my(n,i),i);return GT(i.map,n.attribution),XT(r.current,n.eventHandlers),k5(r.current,i),r}}function M5(t,e){const n=_y(t,e),i=QT(n);return S5(i)}function L5(t,e){const n=_y(t),i=P5(n,e);return C5(i)}function I5(t,e){const n=_y(t,e),i=QT(n);return E5(i)}function O5(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function R5(){return py().map}function u_(){return u_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},u_.apply(this,arguments)}function D5({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:s,placeholder:o,style:l,whenReady:u,zoom:h,...d},p){const[m]=I.useState({className:r,id:s,style:l}),[_,y]=I.useState(null);I.useImperativeHandle(p,()=>(_==null?void 0:_.map)??null,[_]);const v=I.useCallback(x=>{if(x!==null&&_===null){const w=new ec.Map(x,d);n!=null&&h!=null?w.setView(n,h):t!=null&&w.fitBounds(t,e),u!=null&&w.whenReady(u),y(x5(w))}},[]);I.useEffect(()=>()=>{_==null||_.map.remove()},[_]);const C=_?Ue.createElement(qT,{value:_},i):o??null;return Ue.createElement("div",u_({},m,{ref:v}),C)}const JT=I.forwardRef(D5),ek=M5(function({position:e,...n},i){const r=new ec.Marker(e,n);return gy(r,w5(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),tk=L5(function(e,n){const i=new ec.Popup(e,n.overlayContainer);return gy(i,n)},function(e,n,{position:i},r){I.useEffect(function(){const{instance:o}=e;function l(h){h.popup===o&&(o.update(),r(!0))}function u(h){h.popup===o&&r(!1)}return n.map.on({popupopen:l,popupclose:u}),n.overlayContainer==null?(i!=null&&o.setLatLng(i),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){var d;n.map.off({popupopen:l,popupclose:u}),(d=n.overlayContainer)==null||d.unbindPopup(),n.map.removeLayer(o)}},[e,n,r,i])}),nk=I5(function({url:e,...n},i){const r=new ec.TileLayer(e,my(n,i));return gy(r,i)},function(e,n,i){O5(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)}),A5=()=>{const[t,e]=I.useState([]),[n,i]=I.useState(null),[r,s]=I.useState({}),[o,l]=I.useState(!1);I.useEffect(()=>{(async()=>{const w=KP(XP,"devices"),S=await qP(w);S.exists()&&e(S.val())})()},[]);const u=async x=>{const w=x.target.value;l(!0),i(null),s({}),setTimeout(async()=>{if(w){const S=t[w];i(S),s(S.sensor_data)}l(!1)},1e3)};let h={};const d=(x,w,S)=>{h[x]&&h[x].destroy();const P=document.getElementById(x).getContext("2d");h[x]=new ki(P,{type:"line",data:{labels:Object.keys(w),datasets:[{label:S,data:Object.values(w),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)"}]},options:{responsive:!0,maintainAspectRatio:!1}})};I.useEffect(()=>{n&&r&&(d("phChart",r.ph,"pH Levels"),d("tdsChart",r.tds,"TDS Levels"),d("turbidityChart",r.turbidity,"Turbidity Levels"))},[r]);const p=x=>!x||Object.keys(x).length===0?0:(Object.values(x).reduce((S,P)=>S+P,0)/Object.values(x).length).toFixed(2),m=p(r.ph),_=p(r.tds),y=p(r.turbidity),[v,C]=(n==null?void 0:n.location.split(",").map(x=>parseFloat(x)))||[];return H.jsxs("div",{className:"p-4",children:[H.jsx("label",{className:"block text-lg font-semibold",children:"Select Sensor:"}),H.jsxs("select",{onChange:u,className:"mt-2 mb-4 p-2 border rounded shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[H.jsx("option",{value:"",children:"-- Select a Sensor --"}),Object.keys(t).map(x=>H.jsx("option",{value:x,children:x},x))]}),o?H.jsx("div",{className:"flex justify-center items-center h-32",children:H.jsx("div",{className:"loader",children:"Loading..."})}):n&&H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[H.jsxs("div",{className:"border p-4 rounded shadow-lg",children:[H.jsx("h2",{className:"text-xl font-semibold",children:"Sensor Information"}),H.jsxs("div",{className:"flex items-center justify-between mt-2",children:[H.jsx("input",{type:"text",value:n.location,readOnly:!0,className:"border border-gray-300 p-2 rounded w-1/2 mr-2"}),H.jsx("input",{type:"text",value:n.username,readOnly:!0,className:"border border-gray-300 p-2 rounded w-1/2"})]}),H.jsx("h2",{className:"text-xl font-semibold mt-4",children:"Average Values"}),H.jsxs("div",{className:"flex flex-col space-y-2 mt-2",children:[H.jsxs("div",{className:"flex justify-between",children:[H.jsx("span",{className:"font-medium",children:"Average pH:"}),H.jsx("span",{children:m})]}),H.jsxs("div",{className:"flex justify-between",children:[H.jsx("span",{className:"font-medium",children:"Average TDS:"}),H.jsx("span",{children:_})]}),H.jsxs("div",{className:"flex justify-between",children:[H.jsx("span",{className:"font-medium",children:"Average Turbidity:"}),H.jsx("span",{children:y})]})]}),H.jsx("div",{className:"mt-4",children:v&&C&&H.jsxs(JT,{center:[v,C],zoom:13,style:{height:"330px",width:"100%"},children:[H.jsx(nk,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://osm.org/copyright">OpenStreetMap</a> contributors'}),H.jsx(ek,{position:[v,C],children:H.jsxs(tk,{children:["Device Location: ",n.location]})})]})})]}),H.jsxs("div",{className:"flex flex-col gap-4",children:[H.jsx("div",{className:"bg-red-200 p-2 rounded",style:{height:"190px"},children:H.jsx("canvas",{id:"phChart"})}),H.jsx("div",{className:"bg-green-200 p-2 rounded",style:{height:"190px"},children:H.jsx("canvas",{id:"tdsChart"})}),H.jsx("div",{className:"bg-blue-200 p-2 rounded",style:{height:"190px"},children:H.jsx("canvas",{id:"turbidityChart"})})]})]})]})};function ro(t){"@babel/helpers - typeof";return ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ro(t)}function N5(t,e){if(ro(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(ro(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ik(t){var e=N5(t,"string");return ro(e)=="symbol"?e:e+""}function El(t,e,n){return(e=ik(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l1(Object(n),!0).forEach(function(i){El(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function F5(t){if(Array.isArray(t))return t}function z5(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,r,s,o,l=[],u=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=s.call(n)).done)&&(l.push(i.value),l.length!==e);u=!0);}catch(d){h=!0,r=d}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw r}}return l}}function c_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function rk(t,e){if(t){if(typeof t=="string")return c_(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c_(t,e):void 0}}function B5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rr(t,e){return F5(t)||z5(t,e)||rk(t,e)||B5()}function V5(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}function _r(t,e){if(t==null)return{};var n,i,r=V5(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var j5=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function H5(t){var e=t.defaultInputValue,n=e===void 0?"":e,i=t.defaultMenuIsOpen,r=i===void 0?!1:i,s=t.defaultValue,o=s===void 0?null:s,l=t.inputValue,u=t.menuIsOpen,h=t.onChange,d=t.onInputChange,p=t.onMenuClose,m=t.onMenuOpen,_=t.value,y=_r(t,j5),v=I.useState(l!==void 0?l:n),C=rr(v,2),x=C[0],w=C[1],S=I.useState(u!==void 0?u:r),P=rr(S,2),k=P[0],T=P[1],O=I.useState(_!==void 0?_:o),M=rr(O,2),N=M[0],j=M[1],U=I.useCallback(function(z,X){typeof h=="function"&&h(z,X),j(z)},[h]),G=I.useCallback(function(z,X){var W;typeof d=="function"&&(W=d(z,X)),w(W!==void 0?W:z)},[d]),ge=I.useCallback(function(){typeof m=="function"&&m(),T(!0)},[m]),fe=I.useCallback(function(){typeof p=="function"&&p(),T(!1)},[p]),he=l!==void 0?l:x,ie=u!==void 0?u:k,re=_!==void 0?_:N;return ve(ve({},y),{},{inputValue:he,menuIsOpen:ie,onChange:U,onInputChange:G,onMenuClose:fe,onMenuOpen:ge,value:re})}function ye(){return ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ye.apply(null,arguments)}function W5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u1(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,ik(i.key),i)}}function $5(t,e,n){return e&&u1(t.prototype,e),n&&u1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h_(t,e){return h_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h_(t,e)}function U5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h_(t,e)}function Ud(t){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ud(t)}function sk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sk=function(){return!!t})()}function Z5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y5(t,e){if(e&&(ro(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z5(t)}function G5(t){var e=sk();return function(){var n,i=Ud(t);if(e){var r=Ud(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Y5(this,n)}}function K5(t){if(Array.isArray(t))return c_(t)}function q5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vy(t){return K5(t)||q5(t)||rk(t)||X5()}var Q5=!1;function J5(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function ej(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var tj=function(){function t(n){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=n.speedy===void 0?!Q5:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ej(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=J5(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},t}(),tn="-ms-",Zd="-moz-",We="-webkit-",ok="comm",yy="rule",by="decl",nj="@import",ak="@keyframes",ij="@layer",rj=Math.abs,Rf=String.fromCharCode,sj=Object.assign;function oj(t,e){return Kt(t,0)^45?(((e<<2^Kt(t,0))<<2^Kt(t,1))<<2^Kt(t,2))<<2^Kt(t,3):0}function lk(t){return t.trim()}function aj(t,e){return(t=e.exec(t))?t[0]:t}function $e(t,e,n){return t.replace(e,n)}function d_(t,e){return t.indexOf(e)}function Kt(t,e){return t.charCodeAt(e)|0}function Iu(t,e,n){return t.slice(e,n)}function Mi(t){return t.length}function xy(t){return t.length}function hh(t,e){return e.push(t),t}function lj(t,e){return t.map(e).join("")}var Df=1,xa=1,uk=0,Mn=0,Rt=0,Ma="";function Af(t,e,n,i,r,s,o){return{value:t,root:e,parent:n,type:i,props:r,children:s,line:Df,column:xa,length:o,return:""}}function dl(t,e){return sj(Af("",null,null,"",null,null,0),t,{length:-t.length},e)}function uj(){return Rt}function cj(){return Rt=Mn>0?Kt(Ma,--Mn):0,xa--,Rt===10&&(xa=1,Df--),Rt}function zn(){return Rt=Mn<uk?Kt(Ma,Mn++):0,xa++,Rt===10&&(xa=1,Df++),Rt}function Ai(){return Kt(Ma,Mn)}function jh(){return Mn}function tc(t,e){return Iu(Ma,t,e)}function Ou(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ck(t){return Df=xa=1,uk=Mi(Ma=t),Mn=0,[]}function hk(t){return Ma="",t}function Hh(t){return lk(tc(Mn-1,f_(t===91?t+2:t===40?t+1:t)))}function hj(t){for(;(Rt=Ai())&&Rt<33;)zn();return Ou(t)>2||Ou(Rt)>3?"":" "}function dj(t,e){for(;--e&&zn()&&!(Rt<48||Rt>102||Rt>57&&Rt<65||Rt>70&&Rt<97););return tc(t,jh()+(e<6&&Ai()==32&&zn()==32))}function f_(t){for(;zn();)switch(Rt){case t:return Mn;case 34:case 39:t!==34&&t!==39&&f_(Rt);break;case 40:t===41&&f_(t);break;case 92:zn();break}return Mn}function fj(t,e){for(;zn()&&t+Rt!==57;)if(t+Rt===84&&Ai()===47)break;return"/*"+tc(e,Mn-1)+"*"+Rf(t===47?t:zn())}function pj(t){for(;!Ou(Ai());)zn();return tc(t,Mn)}function mj(t){return hk(Wh("",null,null,null,[""],t=ck(t),0,[0],t))}function Wh(t,e,n,i,r,s,o,l,u){for(var h=0,d=0,p=o,m=0,_=0,y=0,v=1,C=1,x=1,w=0,S="",P=r,k=s,T=i,O=S;C;)switch(y=w,w=zn()){case 40:if(y!=108&&Kt(O,p-1)==58){d_(O+=$e(Hh(w),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:O+=Hh(w);break;case 9:case 10:case 13:case 32:O+=hj(y);break;case 92:O+=dj(jh()-1,7);continue;case 47:switch(Ai()){case 42:case 47:hh(gj(fj(zn(),jh()),e,n),u);break;default:O+="/"}break;case 123*v:l[h++]=Mi(O)*x;case 125*v:case 59:case 0:switch(w){case 0:case 125:C=0;case 59+d:x==-1&&(O=$e(O,/\f/g,"")),_>0&&Mi(O)-p&&hh(_>32?h1(O+";",i,n,p-1):h1($e(O," ","")+";",i,n,p-2),u);break;case 59:O+=";";default:if(hh(T=c1(O,e,n,h,d,r,l,S,P=[],k=[],p),s),w===123)if(d===0)Wh(O,e,T,T,P,s,p,l,k);else switch(m===99&&Kt(O,3)===110?100:m){case 100:case 108:case 109:case 115:Wh(t,T,T,i&&hh(c1(t,T,T,0,0,r,l,S,r,P=[],p),k),r,k,p,l,i?P:k);break;default:Wh(O,T,T,T,[""],k,0,l,k)}}h=d=_=0,v=x=1,S=O="",p=o;break;case 58:p=1+Mi(O),_=y;default:if(v<1){if(w==123)--v;else if(w==125&&v++==0&&cj()==125)continue}switch(O+=Rf(w),w*v){case 38:x=d>0?1:(O+="\f",-1);break;case 44:l[h++]=(Mi(O)-1)*x,x=1;break;case 64:Ai()===45&&(O+=Hh(zn())),m=Ai(),d=p=Mi(S=O+=pj(jh())),w++;break;case 45:y===45&&Mi(O)==2&&(v=0)}}return s}function c1(t,e,n,i,r,s,o,l,u,h,d){for(var p=r-1,m=r===0?s:[""],_=xy(m),y=0,v=0,C=0;y<i;++y)for(var x=0,w=Iu(t,p+1,p=rj(v=o[y])),S=t;x<_;++x)(S=lk(v>0?m[x]+" "+w:$e(w,/&\f/g,m[x])))&&(u[C++]=S);return Af(t,e,n,r===0?yy:l,u,h,d)}function gj(t,e,n){return Af(t,e,n,ok,Rf(uj()),Iu(t,2,-2),0)}function h1(t,e,n,i){return Af(t,e,n,by,Iu(t,0,i),Iu(t,i+1,-1),i)}function ra(t,e){for(var n="",i=xy(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function _j(t,e,n,i){switch(t.type){case ij:if(t.children.length)break;case nj:case by:return t.return=t.return||t.value;case ok:return"";case ak:return t.return=t.value+"{"+ra(t.children,i)+"}";case yy:t.value=t.props.join(",")}return Mi(n=ra(t.children,i))?t.return=t.value+"{"+n+"}":""}function vj(t){var e=xy(t);return function(n,i,r,s){for(var o="",l=0;l<e;l++)o+=t[l](n,i,r,s)||"";return o}}function yj(t){return function(e){e.root||(e=e.return)&&t(e)}}function bj(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var xj=function(e,n,i){for(var r=0,s=0;r=s,s=Ai(),r===38&&s===12&&(n[i]=1),!Ou(s);)zn();return tc(e,Mn)},wj=function(e,n){var i=-1,r=44;do switch(Ou(r)){case 0:r===38&&Ai()===12&&(n[i]=1),e[i]+=xj(Mn-1,n,i);break;case 2:e[i]+=Hh(r);break;case 4:if(r===44){e[++i]=Ai()===58?"&\f":"",n[i]=e[i].length;break}default:e[i]+=Rf(r)}while(r=zn());return e},Sj=function(e,n){return hk(wj(ck(e),n))},d1=new WeakMap,Cj=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!d1.get(i))&&!r){d1.set(e,!0);for(var s=[],o=Sj(n,s),l=i.props,u=0,h=0;u<o.length;u++)for(var d=0;d<l.length;d++,h++)e.props[h]=s[u]?o[u].replace(/&\f/g,l[d]):l[d]+" "+o[u]}}},Ej=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function dk(t,e){switch(oj(t,e)){case 5103:return We+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return We+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return We+t+Zd+t+tn+t+t;case 6828:case 4268:return We+t+tn+t+t;case 6165:return We+t+tn+"flex-"+t+t;case 5187:return We+t+$e(t,/(\w+).+(:[^]+)/,We+"box-$1$2"+tn+"flex-$1$2")+t;case 5443:return We+t+tn+"flex-item-"+$e(t,/flex-|-self/,"")+t;case 4675:return We+t+tn+"flex-line-pack"+$e(t,/align-content|flex-|-self/,"")+t;case 5548:return We+t+tn+$e(t,"shrink","negative")+t;case 5292:return We+t+tn+$e(t,"basis","preferred-size")+t;case 6060:return We+"box-"+$e(t,"-grow","")+We+t+tn+$e(t,"grow","positive")+t;case 4554:return We+$e(t,/([^-])(transform)/g,"$1"+We+"$2")+t;case 6187:return $e($e($e(t,/(zoom-|grab)/,We+"$1"),/(image-set)/,We+"$1"),t,"")+t;case 5495:case 3959:return $e(t,/(image-set\([^]*)/,We+"$1$`$1");case 4968:return $e($e(t,/(.+:)(flex-)?(.*)/,We+"box-pack:$3"+tn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+We+t+t;case 4095:case 3583:case 4068:case 2532:return $e(t,/(.+)-inline(.+)/,We+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Mi(t)-1-e>6)switch(Kt(t,e+1)){case 109:if(Kt(t,e+4)!==45)break;case 102:return $e(t,/(.+:)(.+)-([^]+)/,"$1"+We+"$2-$3$1"+Zd+(Kt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~d_(t,"stretch")?dk($e(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Kt(t,e+1)!==115)break;case 6444:switch(Kt(t,Mi(t)-3-(~d_(t,"!important")&&10))){case 107:return $e(t,":",":"+We)+t;case 101:return $e(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+We+(Kt(t,14)===45?"inline-":"")+"box$3$1"+We+"$2$3$1"+tn+"$2box$3")+t}break;case 5936:switch(Kt(t,e+11)){case 114:return We+t+tn+$e(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return We+t+tn+$e(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return We+t+tn+$e(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return We+t+tn+t+t}return t}var Pj=function(e,n,i,r){if(e.length>-1&&!e.return)switch(e.type){case by:e.return=dk(e.value,e.length);break;case ak:return ra([dl(e,{value:$e(e.value,"@","@"+We)})],r);case yy:if(e.length)return lj(e.props,function(s){switch(aj(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ra([dl(e,{props:[$e(s,/:(read-\w+)/,":"+Zd+"$1")]})],r);case"::placeholder":return ra([dl(e,{props:[$e(s,/:(plac\w+)/,":"+We+"input-$1")]}),dl(e,{props:[$e(s,/:(plac\w+)/,":"+Zd+"$1")]}),dl(e,{props:[$e(s,/:(plac\w+)/,tn+"input-$1")]})],r)}return""})}},Tj=[Pj],kj=function(e){var n=e.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(v){var C=v.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var r=e.stylisPlugins||Tj,s={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var C=v.getAttribute("data-emotion").split(" "),x=1;x<C.length;x++)s[C[x]]=!0;l.push(v)});var u,h=[Cj,Ej];{var d,p=[_j,yj(function(v){d.insert(v)})],m=vj(h.concat(r,p)),_=function(C){return ra(mj(C),m)};u=function(C,x,w,S){d=w,_(C?C+"{"+x.styles+"}":x.styles),S&&(y.inserted[x.name]=!0)}}var y={key:n,sheet:new tj({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return y.sheet.hydrate(l),y},fk={exports:{}},Ge={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zt=typeof Symbol=="function"&&Symbol.for,wy=Zt?Symbol.for("react.element"):60103,Sy=Zt?Symbol.for("react.portal"):60106,Nf=Zt?Symbol.for("react.fragment"):60107,Ff=Zt?Symbol.for("react.strict_mode"):60108,zf=Zt?Symbol.for("react.profiler"):60114,Bf=Zt?Symbol.for("react.provider"):60109,Vf=Zt?Symbol.for("react.context"):60110,Cy=Zt?Symbol.for("react.async_mode"):60111,jf=Zt?Symbol.for("react.concurrent_mode"):60111,Hf=Zt?Symbol.for("react.forward_ref"):60112,Wf=Zt?Symbol.for("react.suspense"):60113,Mj=Zt?Symbol.for("react.suspense_list"):60120,$f=Zt?Symbol.for("react.memo"):60115,Uf=Zt?Symbol.for("react.lazy"):60116,Lj=Zt?Symbol.for("react.block"):60121,Ij=Zt?Symbol.for("react.fundamental"):60117,Oj=Zt?Symbol.for("react.responder"):60118,Rj=Zt?Symbol.for("react.scope"):60119;function Hn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wy:switch(t=t.type,t){case Cy:case jf:case Nf:case zf:case Ff:case Wf:return t;default:switch(t=t&&t.$$typeof,t){case Vf:case Hf:case Uf:case $f:case Bf:return t;default:return e}}case Sy:return e}}}function pk(t){return Hn(t)===jf}Ge.AsyncMode=Cy;Ge.ConcurrentMode=jf;Ge.ContextConsumer=Vf;Ge.ContextProvider=Bf;Ge.Element=wy;Ge.ForwardRef=Hf;Ge.Fragment=Nf;Ge.Lazy=Uf;Ge.Memo=$f;Ge.Portal=Sy;Ge.Profiler=zf;Ge.StrictMode=Ff;Ge.Suspense=Wf;Ge.isAsyncMode=function(t){return pk(t)||Hn(t)===Cy};Ge.isConcurrentMode=pk;Ge.isContextConsumer=function(t){return Hn(t)===Vf};Ge.isContextProvider=function(t){return Hn(t)===Bf};Ge.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wy};Ge.isForwardRef=function(t){return Hn(t)===Hf};Ge.isFragment=function(t){return Hn(t)===Nf};Ge.isLazy=function(t){return Hn(t)===Uf};Ge.isMemo=function(t){return Hn(t)===$f};Ge.isPortal=function(t){return Hn(t)===Sy};Ge.isProfiler=function(t){return Hn(t)===zf};Ge.isStrictMode=function(t){return Hn(t)===Ff};Ge.isSuspense=function(t){return Hn(t)===Wf};Ge.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Nf||t===jf||t===zf||t===Ff||t===Wf||t===Mj||typeof t=="object"&&t!==null&&(t.$$typeof===Uf||t.$$typeof===$f||t.$$typeof===Bf||t.$$typeof===Vf||t.$$typeof===Hf||t.$$typeof===Ij||t.$$typeof===Oj||t.$$typeof===Rj||t.$$typeof===Lj)};Ge.typeOf=Hn;fk.exports=Ge;var Dj=fk.exports,mk=Dj,Aj={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Nj={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gk={};gk[mk.ForwardRef]=Aj;gk[mk.Memo]=Nj;var Fj=!0;function zj(t,e,n){var i="";return n.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):r&&(i+=r+" ")}),i}var _k=function(e,n,i){var r=e.key+"-"+n.name;(i===!1||Fj===!1)&&e.registered[r]===void 0&&(e.registered[r]=n.styles)},Bj=function(e,n,i){_k(e,n,i);var r=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function Vj(t){for(var e=0,n,i=0,r=t.length;r>=4;++i,r-=4)n=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var jj={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Hj=!1,Wj=/[A-Z]|^ms/g,$j=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vk=function(e){return e.charCodeAt(1)===45},f1=function(e){return e!=null&&typeof e!="boolean"},wm=bj(function(t){return vk(t)?t:t.replace(Wj,"-$&").toLowerCase()}),p1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace($j,function(i,r,s){return Li={name:r,styles:s,next:Li},r})}return jj[e]!==1&&!vk(e)&&typeof n=="number"&&n!==0?n+"px":n},Uj="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Ru(t,e,n){if(n==null)return"";var i=n;if(i.__emotion_styles!==void 0)return i;switch(typeof n){case"boolean":return"";case"object":{var r=n;if(r.anim===1)return Li={name:r.name,styles:r.styles,next:Li},r.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Li={name:o.name,styles:o.styles,next:Li},o=o.next;var l=s.styles+";";return l}return Zj(t,e,n)}case"function":{if(t!==void 0){var u=Li,h=n(t);return Li=u,Ru(t,e,h)}break}}var d=n;return d}function Zj(t,e,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=Ru(t,e,n[r])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var l=o;f1(l)&&(i+=wm(s)+":"+p1(s,l)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&Hj)throw new Error(Uj);if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var u=0;u<o.length;u++)f1(o[u])&&(i+=wm(s)+":"+p1(s,o[u])+";");else{var h=Ru(t,e,o);switch(s){case"animation":case"animationName":{i+=wm(s)+":"+h+";";break}default:i+=s+"{"+h+"}"}}}}return i}var m1=/label:\s*([^\s;{]+)\s*(;|$)/g,Li;function yk(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,r="";Li=void 0;var s=t[0];if(s==null||s.raw===void 0)i=!1,r+=Ru(n,e,s);else{var o=s;r+=o[0]}for(var l=1;l<t.length;l++)if(r+=Ru(n,e,t[l]),i){var u=s;r+=u[l]}m1.lastIndex=0;for(var h="",d;(d=m1.exec(r))!==null;)h+="-"+d[1];var p=Vj(r)+h;return{name:p,styles:r,next:Li}}var Yj=function(e){return e()},Gj=Mm.useInsertionEffect?Mm.useInsertionEffect:!1,Kj=Gj||Yj,qj=!1,bk=I.createContext(typeof HTMLElement<"u"?kj({key:"css"}):null);bk.Provider;var Xj=function(e){return I.forwardRef(function(n,i){var r=I.useContext(bk);return e(n,r,i)})},Qj=I.createContext({}),Ey={}.hasOwnProperty,p_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Jj=function(e,n){var i={};for(var r in n)Ey.call(n,r)&&(i[r]=n[r]);return i[p_]=e,i},eH=function(e){var n=e.cache,i=e.serialized,r=e.isStringTag;return _k(n,i,r),Kj(function(){return Bj(n,i,r)}),null},tH=Xj(function(t,e,n){var i=t.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=t[p_],s=[i],o="";typeof t.className=="string"?o=zj(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var l=yk(s,void 0,I.useContext(Qj));o+=e.key+"-"+l.name;var u={};for(var h in t)Ey.call(t,h)&&h!=="css"&&h!==p_&&!qj&&(u[h]=t[h]);return u.className=o,n&&(u.ref=n),I.createElement(I.Fragment,null,I.createElement(eH,{cache:e,serialized:l,isStringTag:typeof r=="string"}),I.createElement(r,u))}),nH=tH,_e=function(e,n){var i=arguments;if(n==null||!Ey.call(n,"css"))return I.createElement.apply(void 0,i);var r=i.length,s=new Array(r);s[0]=nH,s[1]=Jj(e,n);for(var o=2;o<r;o++)s[o]=i[o];return I.createElement.apply(null,s)};function Py(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return yk(e)}var iH=function(){var e=Py.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function rH(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const sH=Math.min,oH=Math.max,Yd=Math.round,dh=Math.floor,Gd=t=>({x:t,y:t});function aH(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function Zf(){return typeof window<"u"}function xk(t){return Sk(t)?(t.nodeName||"").toLowerCase():"#document"}function dr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function wk(t){var e;return(e=(Sk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Sk(t){return Zf()?t instanceof Node||t instanceof dr(t).Node:!1}function lH(t){return Zf()?t instanceof Element||t instanceof dr(t).Element:!1}function Ty(t){return Zf()?t instanceof HTMLElement||t instanceof dr(t).HTMLElement:!1}function g1(t){return!Zf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof dr(t).ShadowRoot}function Ck(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=ky(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function uH(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cH(t){return["html","body","#document"].includes(xk(t))}function ky(t){return dr(t).getComputedStyle(t)}function hH(t){if(xk(t)==="html")return t;const e=t.assignedSlot||t.parentNode||g1(t)&&t.host||wk(t);return g1(e)?e.host:e}function Ek(t){const e=hH(t);return cH(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ty(e)&&Ck(e)?e:Ek(e)}function Kd(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=Ek(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),o=dr(r);if(s){const l=m_(o);return e.concat(o,o.visualViewport||[],Ck(r)?r:[],l&&n?Kd(l):[])}return e.concat(r,Kd(r,[],n))}function m_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function dH(t){const e=ky(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Ty(t),s=r?t.offsetWidth:n,o=r?t.offsetHeight:i,l=Yd(n)!==s||Yd(i)!==o;return l&&(n=s,i=o),{width:n,height:i,$:l}}function My(t){return lH(t)?t:t.contextElement}function _1(t){const e=My(t);if(!Ty(e))return Gd(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=dH(e);let o=(s?Yd(n.width):n.width)/i,l=(s?Yd(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const fH=Gd(0);function pH(t){const e=dr(t);return!uH()||!e.visualViewport?fH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mH(t,e,n){return!1}function v1(t,e,n,i){e===void 0&&(e=!1);const r=t.getBoundingClientRect(),s=My(t);let o=Gd(1);e&&(o=_1(t));const l=mH()?pH(s):Gd(0);let u=(r.left+l.x)/o.x,h=(r.top+l.y)/o.y,d=r.width/o.x,p=r.height/o.y;if(s){const m=dr(s),_=i;let y=m,v=m_(y);for(;v&&i&&_!==y;){const C=_1(v),x=v.getBoundingClientRect(),w=ky(v),S=x.left+(v.clientLeft+parseFloat(w.paddingLeft))*C.x,P=x.top+(v.clientTop+parseFloat(w.paddingTop))*C.y;u*=C.x,h*=C.y,d*=C.x,p*=C.y,u+=S,h+=P,y=dr(v),v=m_(y)}}return aH({width:d,height:p,x:u,y:h})}function gH(t,e){let n=null,i;const r=wk(t);function s(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const{left:h,top:d,width:p,height:m}=t.getBoundingClientRect();if(l||e(),!p||!m)return;const _=dh(d),y=dh(r.clientWidth-(h+p)),v=dh(r.clientHeight-(d+m)),C=dh(h),w={rootMargin:-_+"px "+-y+"px "+-v+"px "+-C+"px",threshold:oH(0,sH(1,u))||1};let S=!0;function P(k){const T=k[0].intersectionRatio;if(T!==u){if(!S)return o();T?o(!1,T):i=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{n=new IntersectionObserver(P,{...w,root:r.ownerDocument})}catch{n=new IntersectionObserver(P,w)}n.observe(t)}return o(!0),s}function _H(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,h=My(t),d=r||s?[...h?Kd(h):[],...Kd(e)]:[];d.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const p=h&&l?gH(h,n):null;let m=-1,_=null;o&&(_=new ResizeObserver(x=>{let[w]=x;w&&w.target===h&&_&&(_.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=_)==null||S.observe(e)})),n()}),h&&!u&&_.observe(h),_.observe(e));let y,v=u?v1(t):null;u&&C();function C(){const x=v1(t);v&&(x.x!==v.x||x.y!==v.y||x.width!==v.width||x.height!==v.height)&&n(),v=x,y=requestAnimationFrame(C)}return n(),()=>{var x;d.forEach(w=>{r&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),p==null||p(),(x=_)==null||x.disconnect(),_=null,u&&cancelAnimationFrame(y)}}var g_=I.useLayoutEffect,vH=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],qd=function(){};function yH(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function bH(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=[].concat(i);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(yH(t,o)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var y1=function(e){return MH(e)?e.filter(Boolean):ro(e)==="object"&&e!==null?[e]:[]},Pk=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=_r(e,vH);return ve({},n)},Et=function(e,n,i){var r=e.cx,s=e.getStyles,o=e.getClassNames,l=e.className;return{css:s(n,e),className:r(i??{},o(n,e),l)}};function Yf(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function xH(t){return Yf(t)?window.innerHeight:t.clientHeight}function Tk(t){return Yf(t)?window.pageYOffset:t.scrollTop}function Xd(t,e){if(Yf(t)){window.scrollTo(0,e);return}t.scrollTop=e}function wH(t){var e=getComputedStyle(t),n=e.position==="absolute",i=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var r=t;r=r.parentElement;)if(e=getComputedStyle(r),!(n&&e.position==="static")&&i.test(e.overflow+e.overflowY+e.overflowX))return r;return document.documentElement}function SH(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e}function fh(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:qd,r=Tk(t),s=e-r,o=10,l=0;function u(){l+=o;var h=SH(l,r,s,n);Xd(t,h),l<n?window.requestAnimationFrame(u):i(t)}u()}function b1(t,e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=e.offsetHeight/3;i.bottom+r>n.bottom?Xd(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+r,t.scrollHeight)):i.top-r<n.top&&Xd(t,Math.max(e.offsetTop-r,0))}function CH(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function x1(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function EH(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var kk=!1,PH={get passive(){return kk=!0}},ph=typeof window<"u"?window:{};ph.addEventListener&&ph.removeEventListener&&(ph.addEventListener("p",qd,PH),ph.removeEventListener("p",qd,!1));var TH=kk;function kH(t){return t!=null}function MH(t){return Array.isArray(t)}function mh(t,e,n){return t?e:n}var LH=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var s=Object.entries(e).filter(function(o){var l=rr(o,1),u=l[0];return!i.includes(u)});return s.reduce(function(o,l){var u=rr(l,2),h=u[0],d=u[1];return o[h]=d,o},{})},IH=["children","innerProps"],OH=["children","innerProps"];function RH(t){var e=t.maxHeight,n=t.menuEl,i=t.minHeight,r=t.placement,s=t.shouldScroll,o=t.isFixedPosition,l=t.controlHeight,u=wH(n),h={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return h;var d=u.getBoundingClientRect(),p=d.height,m=n.getBoundingClientRect(),_=m.bottom,y=m.height,v=m.top,C=n.offsetParent.getBoundingClientRect(),x=C.top,w=o?window.innerHeight:xH(u),S=Tk(u),P=parseInt(getComputedStyle(n).marginBottom,10),k=parseInt(getComputedStyle(n).marginTop,10),T=x-k,O=w-v,M=T+S,N=p-S-v,j=_-w+S+P,U=S+v-k,G=160;switch(r){case"auto":case"bottom":if(O>=y)return{placement:"bottom",maxHeight:e};if(N>=y&&!o)return s&&fh(u,j,G),{placement:"bottom",maxHeight:e};if(!o&&N>=i||o&&O>=i){s&&fh(u,j,G);var ge=o?O-P:N-P;return{placement:"bottom",maxHeight:ge}}if(r==="auto"||o){var fe=e,he=o?T:M;return he>=i&&(fe=Math.min(he-P-l,e)),{placement:"top",maxHeight:fe}}if(r==="bottom")return s&&Xd(u,j),{placement:"bottom",maxHeight:e};break;case"top":if(T>=y)return{placement:"top",maxHeight:e};if(M>=y&&!o)return s&&fh(u,U,G),{placement:"top",maxHeight:e};if(!o&&M>=i||o&&T>=i){var ie=e;return(!o&&M>=i||o&&T>=i)&&(ie=o?T-k:M-k),s&&fh(u,U,G),{placement:"top",maxHeight:ie}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return h}function DH(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var Mk=function(e){return e==="auto"?"bottom":e},AH=function(e,n){var i,r=e.placement,s=e.theme,o=s.borderRadius,l=s.spacing,u=s.colors;return ve((i={label:"menu"},El(i,DH(r),"100%"),El(i,"position","absolute"),El(i,"width","100%"),El(i,"zIndex",1),i),n?{}:{backgroundColor:u.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},Lk=I.createContext(null),NH=function(e){var n=e.children,i=e.minMenuHeight,r=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,l=e.menuShouldScrollIntoView,u=e.theme,h=I.useContext(Lk)||{},d=h.setPortalPlacement,p=I.useRef(null),m=I.useState(r),_=rr(m,2),y=_[0],v=_[1],C=I.useState(null),x=rr(C,2),w=x[0],S=x[1],P=u.spacing.controlHeight;return g_(function(){var k=p.current;if(k){var T=o==="fixed",O=l&&!T,M=RH({maxHeight:r,menuEl:k,minHeight:i,placement:s,shouldScroll:O,isFixedPosition:T,controlHeight:P});v(M.maxHeight),S(M.placement),d==null||d(M.placement)}},[r,s,o,l,i,d,P]),n({ref:p,placerProps:ve(ve({},e),{},{placement:w||Mk(s),maxHeight:y})})},FH=function(e){var n=e.children,i=e.innerRef,r=e.innerProps;return _e("div",ye({},Et(e,"menu",{menu:!0}),{ref:i},r),n)},zH=FH,BH=function(e,n){var i=e.maxHeight,r=e.theme.spacing.baseUnit;return ve({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:r,paddingTop:r})},VH=function(e){var n=e.children,i=e.innerProps,r=e.innerRef,s=e.isMulti;return _e("div",ye({},Et(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:r},i),n)},Ik=function(e,n){var i=e.theme,r=i.spacing.baseUnit,s=i.colors;return ve({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(r*2,"px ").concat(r*3,"px")})},jH=Ik,HH=Ik,WH=function(e){var n=e.children,i=n===void 0?"No options":n,r=e.innerProps,s=_r(e,IH);return _e("div",ye({},Et(ve(ve({},s),{},{children:i,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),i)},$H=function(e){var n=e.children,i=n===void 0?"Loading...":n,r=e.innerProps,s=_r(e,OH);return _e("div",ye({},Et(ve(ve({},s),{},{children:i,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),i)},UH=function(e){var n=e.rect,i=e.offset,r=e.position;return{left:n.left,position:r,top:i,width:n.width,zIndex:1}},ZH=function(e){var n=e.appendTo,i=e.children,r=e.controlElement,s=e.innerProps,o=e.menuPlacement,l=e.menuPosition,u=I.useRef(null),h=I.useRef(null),d=I.useState(Mk(o)),p=rr(d,2),m=p[0],_=p[1],y=I.useMemo(function(){return{setPortalPlacement:_}},[]),v=I.useState(null),C=rr(v,2),x=C[0],w=C[1],S=I.useCallback(function(){if(r){var O=CH(r),M=l==="fixed"?0:window.pageYOffset,N=O[m]+M;(N!==(x==null?void 0:x.offset)||O.left!==(x==null?void 0:x.rect.left)||O.width!==(x==null?void 0:x.rect.width))&&w({offset:N,rect:O})}},[r,l,m,x==null?void 0:x.offset,x==null?void 0:x.rect.left,x==null?void 0:x.rect.width]);g_(function(){S()},[S]);var P=I.useCallback(function(){typeof h.current=="function"&&(h.current(),h.current=null),r&&u.current&&(h.current=_H(r,u.current,S,{elementResize:"ResizeObserver"in window}))},[r,S]);g_(function(){P()},[P]);var k=I.useCallback(function(O){u.current=O,P()},[P]);if(!n&&l!=="fixed"||!x)return null;var T=_e("div",ye({ref:k},Et(ve(ve({},e),{},{offset:x.offset,position:l,rect:x.rect}),"menuPortal",{"menu-portal":!0}),s),i);return _e(Lk.Provider,{value:y},n?Bu.createPortal(T,n):T)},YH=function(e){var n=e.isDisabled,i=e.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},GH=function(e){var n=e.children,i=e.innerProps,r=e.isDisabled,s=e.isRtl;return _e("div",ye({},Et(e,"container",{"--is-disabled":r,"--is-rtl":s}),i),n)},KH=function(e,n){var i=e.theme.spacing,r=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return ve({alignItems:"center",display:r&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},qH=function(e){var n=e.children,i=e.innerProps,r=e.isMulti,s=e.hasValue;return _e("div",ye({},Et(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":s}),i),n)},XH=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},QH=function(e){var n=e.children,i=e.innerProps;return _e("div",ye({},Et(e,"indicatorsContainer",{indicators:!0}),i),n)},w1,JH=["size"],eW=["innerProps","isRtl","size"],tW={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Ok=function(e){var n=e.size,i=_r(e,JH);return _e("svg",ye({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:tW},i))},Ly=function(e){return _e(Ok,ye({size:20},e),_e("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Rk=function(e){return _e(Ok,ye({size:20},e),_e("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Dk=function(e,n){var i=e.isFocused,r=e.theme,s=r.spacing.baseUnit,o=r.colors;return ve({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:i?o.neutral60:o.neutral20,padding:s*2,":hover":{color:i?o.neutral80:o.neutral40}})},nW=Dk,iW=function(e){var n=e.children,i=e.innerProps;return _e("div",ye({},Et(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),n||_e(Rk,null))},rW=Dk,sW=function(e){var n=e.children,i=e.innerProps;return _e("div",ye({},Et(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),n||_e(Ly,null))},oW=function(e,n){var i=e.isDisabled,r=e.theme,s=r.spacing.baseUnit,o=r.colors;return ve({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:i?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},aW=function(e){var n=e.innerProps;return _e("span",ye({},n,Et(e,"indicatorSeparator",{"indicator-separator":!0})))},lW=iH(w1||(w1=rH([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),uW=function(e,n){var i=e.isFocused,r=e.size,s=e.theme,o=s.colors,l=s.spacing.baseUnit;return ve({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},n?{}:{color:i?o.neutral60:o.neutral20,padding:l*2})},Sm=function(e){var n=e.delay,i=e.offset;return _e("span",{css:Py({animation:"".concat(lW," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},cW=function(e){var n=e.innerProps,i=e.isRtl,r=e.size,s=r===void 0?4:r,o=_r(e,eW);return _e("div",ye({},Et(ve(ve({},o),{},{innerProps:n,isRtl:i,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),_e(Sm,{delay:0,offset:i}),_e(Sm,{delay:160,offset:!0}),_e(Sm,{delay:320,offset:!i}))},hW=function(e,n){var i=e.isDisabled,r=e.isFocused,s=e.theme,o=s.colors,l=s.borderRadius,u=s.spacing;return ve({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:u.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:i?o.neutral5:o.neutral0,borderColor:i?o.neutral10:r?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:r?o.primary:o.neutral30}})},dW=function(e){var n=e.children,i=e.isDisabled,r=e.isFocused,s=e.innerRef,o=e.innerProps,l=e.menuIsOpen;return _e("div",ye({ref:s},Et(e,"control",{control:!0,"control--is-disabled":i,"control--is-focused":r,"control--menu-is-open":l}),o,{"aria-disabled":i||void 0}),n)},fW=dW,pW=["data"],mW=function(e,n){var i=e.theme.spacing;return n?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},gW=function(e){var n=e.children,i=e.cx,r=e.getStyles,s=e.getClassNames,o=e.Heading,l=e.headingProps,u=e.innerProps,h=e.label,d=e.theme,p=e.selectProps;return _e("div",ye({},Et(e,"group",{group:!0}),u),_e(o,ye({},l,{selectProps:p,theme:d,getStyles:r,getClassNames:s,cx:i}),h),_e("div",null,n))},_W=function(e,n){var i=e.theme,r=i.colors,s=i.spacing;return ve({label:"group",cursor:"default",display:"block"},n?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},vW=function(e){var n=Pk(e);n.data;var i=_r(n,pW);return _e("div",ye({},Et(e,"groupHeading",{"group-heading":!0}),i))},yW=gW,bW=["innerRef","isDisabled","isHidden","inputClassName"],xW=function(e,n){var i=e.isDisabled,r=e.value,s=e.theme,o=s.spacing,l=s.colors;return ve(ve({visibility:i?"hidden":"visible",transform:r?"translateZ(0)":""},wW),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},Ak={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},wW={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ve({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Ak)},SW=function(e){return ve({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Ak)},CW=function(e){var n=e.cx,i=e.value,r=Pk(e),s=r.innerRef,o=r.isDisabled,l=r.isHidden,u=r.inputClassName,h=_r(r,bW);return _e("div",ye({},Et(e,"input",{"input-container":!0}),{"data-value":i||""}),_e("input",ye({className:n({input:!0},u),ref:s,style:SW(l),disabled:o},h)))},EW=CW,PW=function(e,n){var i=e.theme,r=i.spacing,s=i.borderRadius,o=i.colors;return ve({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:r.baseUnit/2})},TW=function(e,n){var i=e.theme,r=i.borderRadius,s=i.colors,o=e.cropWithEllipsis;return ve({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:r/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},kW=function(e,n){var i=e.theme,r=i.spacing,s=i.borderRadius,o=i.colors,l=e.isFocused;return ve({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},Nk=function(e){var n=e.children,i=e.innerProps;return _e("div",i,n)},MW=Nk,LW=Nk;function IW(t){var e=t.children,n=t.innerProps;return _e("div",ye({role:"button"},n),e||_e(Ly,{size:14}))}var OW=function(e){var n=e.children,i=e.components,r=e.data,s=e.innerProps,o=e.isDisabled,l=e.removeProps,u=e.selectProps,h=i.Container,d=i.Label,p=i.Remove;return _e(h,{data:r,innerProps:ve(ve({},Et(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:u},_e(d,{data:r,innerProps:ve({},Et(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:u},n),_e(p,{data:r,innerProps:ve(ve({},Et(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},l),selectProps:u}))},RW=OW,DW=function(e,n){var i=e.isDisabled,r=e.isFocused,s=e.isSelected,o=e.theme,l=o.spacing,u=o.colors;return ve({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?u.primary:r?u.primary25:"transparent",color:i?u.neutral20:s?u.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:s?u.primary:u.primary50}})},AW=function(e){var n=e.children,i=e.isDisabled,r=e.isFocused,s=e.isSelected,o=e.innerRef,l=e.innerProps;return _e("div",ye({},Et(e,"option",{option:!0,"option--is-disabled":i,"option--is-focused":r,"option--is-selected":s}),{ref:o,"aria-disabled":i},l),n)},NW=AW,FW=function(e,n){var i=e.theme,r=i.spacing,s=i.colors;return ve({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},zW=function(e){var n=e.children,i=e.innerProps;return _e("div",ye({},Et(e,"placeholder",{placeholder:!0}),i),n)},BW=zW,VW=function(e,n){var i=e.isDisabled,r=e.theme,s=r.spacing,o=r.colors;return ve({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:i?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},jW=function(e){var n=e.children,i=e.isDisabled,r=e.innerProps;return _e("div",ye({},Et(e,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),r),n)},HW=jW,WW={ClearIndicator:sW,Control:fW,DropdownIndicator:iW,DownChevron:Rk,CrossIcon:Ly,Group:yW,GroupHeading:vW,IndicatorsContainer:QH,IndicatorSeparator:aW,Input:EW,LoadingIndicator:cW,Menu:zH,MenuList:VH,MenuPortal:ZH,LoadingMessage:$H,NoOptionsMessage:WH,MultiValue:RW,MultiValueContainer:MW,MultiValueLabel:LW,MultiValueRemove:IW,Option:NW,Placeholder:BW,SelectContainer:GH,SingleValue:HW,ValueContainer:qH},$W=function(e){return ve(ve({},WW),e.components)},S1=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function UW(t,e){return!!(t===e||S1(t)&&S1(e))}function ZW(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!UW(t[n],e[n]))return!1;return!0}function YW(t,e){e===void 0&&(e=ZW);var n=null;function i(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var o=t.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return i.clear=function(){n=null},i}var GW={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},KW=function(e){return _e("span",ye({css:GW},e))},C1=KW,qW={guidance:function(e){var n=e.isSearchable,i=e.isMulti,r=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,i=e.label,r=i===void 0?"":i,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(r," is disabled. Select another option."):"option ".concat(r,", selected.");default:return""}},onFocus:function(e){var n=e.context,i=e.focused,r=e.options,s=e.label,o=s===void 0?"":s,l=e.selectValue,u=e.isDisabled,h=e.isSelected,d=e.isAppleDevice,p=function(v,C){return v&&v.length?"".concat(v.indexOf(C)+1," of ").concat(v.length):""};if(n==="value"&&l)return"value ".concat(o," focused, ").concat(p(l,i),".");if(n==="menu"&&d){var m=u?" disabled":"",_="".concat(h?" selected":"").concat(m);return"".concat(o).concat(_,", ").concat(p(r,i),".")}return""},onFilter:function(e){var n=e.inputValue,i=e.resultsMessage;return"".concat(i).concat(n?" for search term "+n:"",".")}},XW=function(e){var n=e.ariaSelection,i=e.focusedOption,r=e.focusedValue,s=e.focusableOptions,o=e.isFocused,l=e.selectValue,u=e.selectProps,h=e.id,d=e.isAppleDevice,p=u.ariaLiveMessages,m=u.getOptionLabel,_=u.inputValue,y=u.isMulti,v=u.isOptionDisabled,C=u.isSearchable,x=u.menuIsOpen,w=u.options,S=u.screenReaderStatus,P=u.tabSelectsValue,k=u.isLoading,T=u["aria-label"],O=u["aria-live"],M=I.useMemo(function(){return ve(ve({},qW),p||{})},[p]),N=I.useMemo(function(){var he="";if(n&&M.onChange){var ie=n.option,re=n.options,z=n.removedValue,X=n.removedValues,W=n.value,ne=function(bt){return Array.isArray(bt)?null:bt},J=z||ie||ne(W),me=J?m(J):"",oe=re||X||void 0,le=oe?oe.map(m):[],ee=ve({isDisabled:J&&v(J,l),label:me,labels:le},n);he=M.onChange(ee)}return he},[n,M,v,l,m]),j=I.useMemo(function(){var he="",ie=i||r,re=!!(i&&l&&l.includes(i));if(ie&&M.onFocus){var z={focused:ie,label:m(ie),isDisabled:v(ie,l),isSelected:re,options:s,context:ie===i?"menu":"value",selectValue:l,isAppleDevice:d};he=M.onFocus(z)}return he},[i,r,m,v,M,s,l,d]),U=I.useMemo(function(){var he="";if(x&&w.length&&!k&&M.onFilter){var ie=S({count:s.length});he=M.onFilter({inputValue:_,resultsMessage:ie})}return he},[s,_,x,M,w,S,k]),G=(n==null?void 0:n.action)==="initial-input-focus",ge=I.useMemo(function(){var he="";if(M.guidance){var ie=r?"value":x?"menu":"input";he=M.guidance({"aria-label":T,context:ie,isDisabled:i&&v(i,l),isMulti:y,isSearchable:C,tabSelectsValue:P,isInitialFocus:G})}return he},[T,i,r,y,v,C,x,M,l,P,G]),fe=_e(I.Fragment,null,_e("span",{id:"aria-selection"},N),_e("span",{id:"aria-focused"},j),_e("span",{id:"aria-results"},U),_e("span",{id:"aria-guidance"},ge));return _e(I.Fragment,null,_e(C1,{id:h},G&&fe),_e(C1,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!G&&fe))},QW=XW,__=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],JW=new RegExp("["+__.map(function(t){return t.letters}).join("")+"]","g"),Fk={};for(var Cm=0;Cm<__.length;Cm++)for(var Em=__[Cm],Pm=0;Pm<Em.letters.length;Pm++)Fk[Em.letters[Pm]]=Em.base;var zk=function(e){return e.replace(JW,function(n){return Fk[n]})},e$=YW(zk),E1=function(e){return e.replace(/^\s+|\s+$/g,"")},t$=function(e){return"".concat(e.label," ").concat(e.value)},n$=function(e){return function(n,i){if(n.data.__isNew__)return!0;var r=ve({ignoreCase:!0,ignoreAccents:!0,stringify:t$,trim:!0,matchFrom:"any"},e),s=r.ignoreCase,o=r.ignoreAccents,l=r.stringify,u=r.trim,h=r.matchFrom,d=u?E1(i):i,p=u?E1(l(n)):l(n);return s&&(d=d.toLowerCase(),p=p.toLowerCase()),o&&(d=e$(d),p=zk(p)),h==="start"?p.substr(0,d.length)===d:p.indexOf(d)>-1}},i$=["innerRef"];function r$(t){var e=t.innerRef,n=_r(t,i$),i=LH(n,"onExited","in","enter","exit","appear");return _e("input",ye({ref:e},i,{css:Py({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var s$=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function o$(t){var e=t.isEnabled,n=t.onBottomArrive,i=t.onBottomLeave,r=t.onTopArrive,s=t.onTopLeave,o=I.useRef(!1),l=I.useRef(!1),u=I.useRef(0),h=I.useRef(null),d=I.useCallback(function(C,x){if(h.current!==null){var w=h.current,S=w.scrollTop,P=w.scrollHeight,k=w.clientHeight,T=h.current,O=x>0,M=P-k-S,N=!1;M>x&&o.current&&(i&&i(C),o.current=!1),O&&l.current&&(s&&s(C),l.current=!1),O&&x>M?(n&&!o.current&&n(C),T.scrollTop=P,N=!0,o.current=!0):!O&&-x>S&&(r&&!l.current&&r(C),T.scrollTop=0,N=!0,l.current=!0),N&&s$(C)}},[n,i,r,s]),p=I.useCallback(function(C){d(C,C.deltaY)},[d]),m=I.useCallback(function(C){u.current=C.changedTouches[0].clientY},[]),_=I.useCallback(function(C){var x=u.current-C.changedTouches[0].clientY;d(C,x)},[d]),y=I.useCallback(function(C){if(C){var x=TH?{passive:!1}:!1;C.addEventListener("wheel",p,x),C.addEventListener("touchstart",m,x),C.addEventListener("touchmove",_,x)}},[_,m,p]),v=I.useCallback(function(C){C&&(C.removeEventListener("wheel",p,!1),C.removeEventListener("touchstart",m,!1),C.removeEventListener("touchmove",_,!1))},[_,m,p]);return I.useEffect(function(){if(e){var C=h.current;return y(C),function(){v(C)}}},[e,y,v]),function(C){h.current=C}}var P1=["boxSizing","height","overflow","paddingRight","position"],T1={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function k1(t){t.cancelable&&t.preventDefault()}function M1(t){t.stopPropagation()}function L1(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function I1(){return"ontouchstart"in window||navigator.maxTouchPoints}var O1=!!(typeof window<"u"&&window.document&&window.document.createElement),fl=0,Ro={capture:!1,passive:!1};function a$(t){var e=t.isEnabled,n=t.accountForScrollbars,i=n===void 0?!0:n,r=I.useRef({}),s=I.useRef(null),o=I.useCallback(function(u){if(O1){var h=document.body,d=h&&h.style;if(i&&P1.forEach(function(y){var v=d&&d[y];r.current[y]=v}),i&&fl<1){var p=parseInt(r.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,_=window.innerWidth-m+p||0;Object.keys(T1).forEach(function(y){var v=T1[y];d&&(d[y]=v)}),d&&(d.paddingRight="".concat(_,"px"))}h&&I1()&&(h.addEventListener("touchmove",k1,Ro),u&&(u.addEventListener("touchstart",L1,Ro),u.addEventListener("touchmove",M1,Ro))),fl+=1}},[i]),l=I.useCallback(function(u){if(O1){var h=document.body,d=h&&h.style;fl=Math.max(fl-1,0),i&&fl<1&&P1.forEach(function(p){var m=r.current[p];d&&(d[p]=m)}),h&&I1()&&(h.removeEventListener("touchmove",k1,Ro),u&&(u.removeEventListener("touchstart",L1,Ro),u.removeEventListener("touchmove",M1,Ro)))}},[i]);return I.useEffect(function(){if(e){var u=s.current;return o(u),function(){l(u)}}},[e,o,l]),function(u){s.current=u}}var l$=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},u$={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function c$(t){var e=t.children,n=t.lockEnabled,i=t.captureEnabled,r=i===void 0?!0:i,s=t.onBottomArrive,o=t.onBottomLeave,l=t.onTopArrive,u=t.onTopLeave,h=o$({isEnabled:r,onBottomArrive:s,onBottomLeave:o,onTopArrive:l,onTopLeave:u}),d=a$({isEnabled:n}),p=function(_){h(_),d(_)};return _e(I.Fragment,null,n&&_e("div",{onClick:l$,css:u$}),e(p))}var h$={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},d$=function(e){var n=e.name,i=e.onFocus;return _e("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:h$,value:"",onChange:function(){}})},f$=d$;function Iy(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function p$(){return Iy(/^iPhone/i)}function Bk(){return Iy(/^Mac/i)}function m$(){return Iy(/^iPad/i)||Bk()&&navigator.maxTouchPoints>1}function g$(){return p$()||m$()}function _$(){return Bk()||g$()}var v$=function(e){return e.label},y$=function(e){return e.label},b$=function(e){return e.value},x$=function(e){return!!e.isDisabled},w$={clearIndicator:rW,container:YH,control:hW,dropdownIndicator:nW,group:mW,groupHeading:_W,indicatorsContainer:XH,indicatorSeparator:oW,input:xW,loadingIndicator:uW,loadingMessage:HH,menu:AH,menuList:BH,menuPortal:UH,multiValue:PW,multiValueLabel:TW,multiValueRemove:kW,noOptionsMessage:jH,option:DW,placeholder:FW,singleValue:VW,valueContainer:KH},S$={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},C$=4,Vk=4,E$=38,P$=Vk*2,T$={baseUnit:Vk,controlHeight:E$,menuGutter:P$},Tm={borderRadius:C$,colors:S$,spacing:T$},k$={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:x1(),captureMenuScroll:!x1(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:n$(),formatGroupLabel:v$,getOptionLabel:y$,getOptionValue:b$,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:x$,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!EH(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function R1(t,e,n,i){var r=Wk(t,e,n),s=$k(t,e,n),o=Hk(t,e),l=Qd(t,e);return{type:"option",data:e,isDisabled:r,isSelected:s,label:o,value:l,index:i}}function $h(t,e){return t.options.map(function(n,i){if("options"in n){var r=n.options.map(function(o,l){return R1(t,o,e,l)}).filter(function(o){return A1(t,o)});return r.length>0?{type:"group",data:n,options:r,index:i}:void 0}var s=R1(t,n,e,i);return A1(t,s)?s:void 0}).filter(kH)}function jk(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,vy(n.options.map(function(i){return i.data}))):e.push(n.data),e},[])}function D1(t,e){return t.reduce(function(n,i){return i.type==="group"?n.push.apply(n,vy(i.options.map(function(r){return{data:r.data,id:"".concat(e,"-").concat(i.index,"-").concat(r.index)}}))):n.push({data:i.data,id:"".concat(e,"-").concat(i.index)}),n},[])}function M$(t,e){return jk($h(t,e))}function A1(t,e){var n=t.inputValue,i=n===void 0?"":n,r=e.data,s=e.isSelected,o=e.label,l=e.value;return(!Zk(t)||!s)&&Uk(t,{label:o,value:l,data:r},i)}function L$(t,e){var n=t.focusedValue,i=t.selectValue,r=i.indexOf(n);if(r>-1){var s=e.indexOf(n);if(s>-1)return n;if(r<e.length)return e[r]}return null}function I$(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var km=function(e,n){var i,r=(i=e.find(function(s){return s.data===n}))===null||i===void 0?void 0:i.id;return r||null},Hk=function(e,n){return e.getOptionLabel(n)},Qd=function(e,n){return e.getOptionValue(n)};function Wk(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function $k(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var i=Qd(t,e);return n.some(function(r){return Qd(t,r)===i})}function Uk(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var Zk=function(e){var n=e.hideSelectedOptions,i=e.isMulti;return n===void 0?i:n},O$=1,Yk=function(t){U5(n,t);var e=G5(n);function n(i){var r;if(W5(this,n),r=e.call(this,i),r.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.isAppleDevice=_$(),r.controlRef=null,r.getControlRef=function(u){r.controlRef=u},r.focusedOptionRef=null,r.getFocusedOptionRef=function(u){r.focusedOptionRef=u},r.menuListRef=null,r.getMenuListRef=function(u){r.menuListRef=u},r.inputRef=null,r.getInputRef=function(u){r.inputRef=u},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(u,h){var d=r.props,p=d.onChange,m=d.name;h.name=m,r.ariaOnChange(u,h),p(u,h)},r.setValue=function(u,h,d){var p=r.props,m=p.closeMenuOnSelect,_=p.isMulti,y=p.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:y}),m&&(r.setState({inputIsHiddenAfterUpdate:!_}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(u,{action:h,option:d})},r.selectOption=function(u){var h=r.props,d=h.blurInputOnSelect,p=h.isMulti,m=h.name,_=r.state.selectValue,y=p&&r.isOptionSelected(u,_),v=r.isOptionDisabled(u,_);if(y){var C=r.getOptionValue(u);r.setValue(_.filter(function(x){return r.getOptionValue(x)!==C}),"deselect-option",u)}else if(!v)p?r.setValue([].concat(vy(_),[u]),"select-option",u):r.setValue(u,"select-option");else{r.ariaOnChange(u,{action:"select-option",option:u,name:m});return}d&&r.blurInput()},r.removeValue=function(u){var h=r.props.isMulti,d=r.state.selectValue,p=r.getOptionValue(u),m=d.filter(function(y){return r.getOptionValue(y)!==p}),_=mh(h,m,m[0]||null);r.onChange(_,{action:"remove-value",removedValue:u}),r.focusInput()},r.clearValue=function(){var u=r.state.selectValue;r.onChange(mh(r.props.isMulti,[],null),{action:"clear",removedValues:u})},r.popValue=function(){var u=r.props.isMulti,h=r.state.selectValue,d=h[h.length-1],p=h.slice(0,h.length-1),m=mh(u,p,p[0]||null);d&&r.onChange(m,{action:"pop-value",removedValue:d})},r.getFocusedOptionId=function(u){return km(r.state.focusableOptionsWithIds,u)},r.getFocusableOptionsWithIds=function(){return D1($h(r.props,r.state.selectValue),r.getElementId("option"))},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var u=arguments.length,h=new Array(u),d=0;d<u;d++)h[d]=arguments[d];return bH.apply(void 0,[r.props.classNamePrefix].concat(h))},r.getOptionLabel=function(u){return Hk(r.props,u)},r.getOptionValue=function(u){return Qd(r.props,u)},r.getStyles=function(u,h){var d=r.props.unstyled,p=w$[u](h,d);p.boxSizing="border-box";var m=r.props.styles[u];return m?m(p,h):p},r.getClassNames=function(u,h){var d,p;return(d=(p=r.props.classNames)[u])===null||d===void 0?void 0:d.call(p,h)},r.getElementId=function(u){return"".concat(r.state.instancePrefix,"-").concat(u)},r.getComponents=function(){return $W(r.props)},r.buildCategorizedOptions=function(){return $h(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return jk(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(u,h){r.setState({ariaSelection:ve({value:u},h)})},r.onMenuMouseDown=function(u){u.button===0&&(u.stopPropagation(),u.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(u){r.blockOptionHover=!1},r.onControlMouseDown=function(u){if(!u.defaultPrevented){var h=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&r.onMenuClose():h&&r.openMenu("first"):(h&&(r.openAfterFocus=!0),r.focusInput()),u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&u.preventDefault()}},r.onDropdownIndicatorMouseDown=function(u){if(!(u&&u.type==="mousedown"&&u.button!==0)&&!r.props.isDisabled){var h=r.props,d=h.isMulti,p=h.menuIsOpen;r.focusInput(),p?(r.setState({inputIsHiddenAfterUpdate:!d}),r.onMenuClose()):r.openMenu("first"),u.preventDefault()}},r.onClearIndicatorMouseDown=function(u){u&&u.type==="mousedown"&&u.button!==0||(r.clearValue(),u.preventDefault(),r.openAfterFocus=!1,u.type==="touchend"?r.focusInput():setTimeout(function(){return r.focusInput()}))},r.onScroll=function(u){typeof r.props.closeMenuOnScroll=="boolean"?u.target instanceof HTMLElement&&Yf(u.target)&&r.props.onMenuClose():typeof r.props.closeMenuOnScroll=="function"&&r.props.closeMenuOnScroll(u)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(u){var h=u.touches,d=h&&h.item(0);d&&(r.initialTouchX=d.clientX,r.initialTouchY=d.clientY,r.userIsDragging=!1)},r.onTouchMove=function(u){var h=u.touches,d=h&&h.item(0);if(d){var p=Math.abs(d.clientX-r.initialTouchX),m=Math.abs(d.clientY-r.initialTouchY),_=5;r.userIsDragging=p>_||m>_}},r.onTouchEnd=function(u){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(u.target)&&r.menuListRef&&!r.menuListRef.contains(u.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(u){r.userIsDragging||r.onControlMouseDown(u)},r.onClearIndicatorTouchEnd=function(u){r.userIsDragging||r.onClearIndicatorMouseDown(u)},r.onDropdownIndicatorTouchEnd=function(u){r.userIsDragging||r.onDropdownIndicatorMouseDown(u)},r.handleInputChange=function(u){var h=r.props.inputValue,d=u.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(d,{action:"input-change",prevInputValue:h}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(u){r.props.onFocus&&r.props.onFocus(u),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(u){var h=r.props.inputValue;if(r.menuListRef&&r.menuListRef.contains(document.activeElement)){r.inputRef.focus();return}r.props.onBlur&&r.props.onBlur(u),r.onInputChange("",{action:"input-blur",prevInputValue:h}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1})},r.onOptionHover=function(u){if(!(r.blockOptionHover||r.state.focusedOption===u)){var h=r.getFocusableOptions(),d=h.indexOf(u);r.setState({focusedOption:u,focusedOptionId:d>-1?r.getFocusedOptionId(u):null})}},r.shouldHideSelectedOptions=function(){return Zk(r.props)},r.onValueInputFocus=function(u){u.preventDefault(),u.stopPropagation(),r.focus()},r.onKeyDown=function(u){var h=r.props,d=h.isMulti,p=h.backspaceRemovesValue,m=h.escapeClearsValue,_=h.inputValue,y=h.isClearable,v=h.isDisabled,C=h.menuIsOpen,x=h.onKeyDown,w=h.tabSelectsValue,S=h.openMenuOnFocus,P=r.state,k=P.focusedOption,T=P.focusedValue,O=P.selectValue;if(!v&&!(typeof x=="function"&&(x(u),u.defaultPrevented))){switch(r.blockOptionHover=!0,u.key){case"ArrowLeft":if(!d||_)return;r.focusValue("previous");break;case"ArrowRight":if(!d||_)return;r.focusValue("next");break;case"Delete":case"Backspace":if(_)return;if(T)r.removeValue(T);else{if(!p)return;d?r.popValue():y&&r.clearValue()}break;case"Tab":if(r.isComposing||u.shiftKey||!C||!w||!k||S&&r.isOptionSelected(k,O))return;r.selectOption(k);break;case"Enter":if(u.keyCode===229)break;if(C){if(!k||r.isComposing)return;r.selectOption(k);break}return;case"Escape":C?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:_}),r.onMenuClose()):y&&m&&r.clearValue();break;case" ":if(_)return;if(!C){r.openMenu("first");break}if(!k)return;r.selectOption(k);break;case"ArrowUp":C?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":C?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!C)return;r.focusOption("pageup");break;case"PageDown":if(!C)return;r.focusOption("pagedown");break;case"Home":if(!C)return;r.focusOption("first");break;case"End":if(!C)return;r.focusOption("last");break;default:return}u.preventDefault()}},r.state.instancePrefix="react-select-"+(r.props.instanceId||++O$),r.state.selectValue=y1(i.value),i.menuIsOpen&&r.state.selectValue.length){var s=r.getFocusableOptionsWithIds(),o=r.buildFocusableOptions(),l=o.indexOf(r.state.selectValue[0]);r.state.focusableOptionsWithIds=s,r.state.focusedOption=o[l],r.state.focusedOptionId=km(s,o[l])}return r}return $5(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&b1(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(r){var s=this.props,o=s.isDisabled,l=s.menuIsOpen,u=this.state.isFocused;(u&&!o&&r.isDisabled||u&&l&&!r.menuIsOpen)&&this.focusInput(),u&&o&&!r.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!u&&!o&&r.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(b1(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(r,s){this.props.onInputChange(r,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(r){var s=this,o=this.state,l=o.selectValue,u=o.isFocused,h=this.buildFocusableOptions(),d=r==="first"?0:h.length-1;if(!this.props.isMulti){var p=h.indexOf(l[0]);p>-1&&(d=p)}this.scrollToFocusedOptionOnUpdate=!(u&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:h[d],focusedOptionId:this.getFocusedOptionId(h[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(r){var s=this.state,o=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var u=o.indexOf(l);l||(u=-1);var h=o.length-1,d=-1;if(o.length){switch(r){case"previous":u===0?d=0:u===-1?d=h:d=u-1;break;case"next":u>-1&&u<h&&(d=u+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var u=0,h=l.indexOf(o);o||(h=-1),r==="up"?u=h>0?h-1:l.length-1:r==="down"?u=(h+1)%l.length:r==="pageup"?(u=h-s,u<0&&(u=0)):r==="pagedown"?(u=h+s,u>l.length-1&&(u=l.length-1)):r==="last"&&(u=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[u],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[u])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Tm):ve(ve({},Tm),this.props.theme):Tm}},{key:"getCommonProps",value:function(){var r=this.clearValue,s=this.cx,o=this.getStyles,l=this.getClassNames,u=this.getValue,h=this.selectOption,d=this.setValue,p=this.props,m=p.isMulti,_=p.isRtl,y=p.options,v=this.hasValue();return{clearValue:r,cx:s,getStyles:o,getClassNames:l,getValue:u,hasValue:v,isMulti:m,isRtl:_,options:y,selectOption:h,selectProps:p,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var r=this.state.selectValue;return r.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var r=this.props,s=r.isClearable,o=r.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(r,s){return Wk(this.props,r,s)}},{key:"isOptionSelected",value:function(r,s){return $k(this.props,r,s)}},{key:"filterOption",value:function(r,s){return Uk(this.props,r,s)}},{key:"formatOptionLabel",value:function(r,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(r,{context:s,inputValue:o,selectValue:l})}else return this.getOptionLabel(r)}},{key:"formatGroupLabel",value:function(r){return this.props.formatGroupLabel(r)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var r=this.props,s=r.isDisabled,o=r.isSearchable,l=r.inputId,u=r.inputValue,h=r.tabIndex,d=r.form,p=r.menuIsOpen,m=r.required,_=this.getComponents(),y=_.Input,v=this.state,C=v.inputIsHidden,x=v.ariaSelection,w=this.commonProps,S=l||this.getElementId("input"),P=ve(ve(ve({"aria-autocomplete":"list","aria-expanded":p,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},p&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(x==null?void 0:x.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?I.createElement(y,ye({},w,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:s,isHidden:C,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:h,form:d,type:"text",value:u},P)):I.createElement(r$,ye({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:qd,onFocus:this.onInputFocus,disabled:s,tabIndex:h,inputMode:"none",form:d,value:""},P))}},{key:"renderPlaceholderOrValue",value:function(){var r=this,s=this.getComponents(),o=s.MultiValue,l=s.MultiValueContainer,u=s.MultiValueLabel,h=s.MultiValueRemove,d=s.SingleValue,p=s.Placeholder,m=this.commonProps,_=this.props,y=_.controlShouldRenderValue,v=_.isDisabled,C=_.isMulti,x=_.inputValue,w=_.placeholder,S=this.state,P=S.selectValue,k=S.focusedValue,T=S.isFocused;if(!this.hasValue()||!y)return x?null:I.createElement(p,ye({},m,{key:"placeholder",isDisabled:v,isFocused:T,innerProps:{id:this.getElementId("placeholder")}}),w);if(C)return P.map(function(M,N){var j=M===k,U="".concat(r.getOptionLabel(M),"-").concat(r.getOptionValue(M));return I.createElement(o,ye({},m,{components:{Container:l,Label:u,Remove:h},isFocused:j,isDisabled:v,key:U,index:N,removeProps:{onClick:function(){return r.removeValue(M)},onTouchEnd:function(){return r.removeValue(M)},onMouseDown:function(ge){ge.preventDefault()}},data:M}),r.formatOptionLabel(M,"value"))});if(x)return null;var O=P[0];return I.createElement(d,ye({},m,{data:O,isDisabled:v}),this.formatOptionLabel(O,"value"))}},{key:"renderClearIndicator",value:function(){var r=this.getComponents(),s=r.ClearIndicator,o=this.commonProps,l=this.props,u=l.isDisabled,h=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||u||!this.hasValue()||h)return null;var p={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return I.createElement(s,ye({},o,{innerProps:p,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var r=this.getComponents(),s=r.LoadingIndicator,o=this.commonProps,l=this.props,u=l.isDisabled,h=l.isLoading,d=this.state.isFocused;if(!s||!h)return null;var p={"aria-hidden":"true"};return I.createElement(s,ye({},o,{innerProps:p,isDisabled:u,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator,o=r.IndicatorSeparator;if(!s||!o)return null;var l=this.commonProps,u=this.props.isDisabled,h=this.state.isFocused;return I.createElement(o,ye({},l,{isDisabled:u,isFocused:h}))}},{key:"renderDropdownIndicator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator;if(!s)return null;var o=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused,h={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return I.createElement(s,ye({},o,{innerProps:h,isDisabled:l,isFocused:u}))}},{key:"renderMenu",value:function(){var r=this,s=this.getComponents(),o=s.Group,l=s.GroupHeading,u=s.Menu,h=s.MenuList,d=s.MenuPortal,p=s.LoadingMessage,m=s.NoOptionsMessage,_=s.Option,y=this.commonProps,v=this.state.focusedOption,C=this.props,x=C.captureMenuScroll,w=C.inputValue,S=C.isLoading,P=C.loadingMessage,k=C.minMenuHeight,T=C.maxMenuHeight,O=C.menuIsOpen,M=C.menuPlacement,N=C.menuPosition,j=C.menuPortalTarget,U=C.menuShouldBlockScroll,G=C.menuShouldScrollIntoView,ge=C.noOptionsMessage,fe=C.onMenuScrollToTop,he=C.onMenuScrollToBottom;if(!O)return null;var ie=function(me,oe){var le=me.type,ee=me.data,Fe=me.isDisabled,bt=me.isSelected,Ni=me.label,fs=me.value,xt=v===ee,un=Fe?void 0:function(){return r.onOptionHover(ee)},vr=Fe?void 0:function(){return r.selectOption(ee)},uo="".concat(r.getElementId("option"),"-").concat(oe),Wn={id:uo,onClick:vr,onMouseMove:un,onMouseOver:un,tabIndex:-1,role:"option","aria-selected":r.isAppleDevice?void 0:bt};return I.createElement(_,ye({},y,{innerProps:Wn,data:ee,isDisabled:Fe,isSelected:bt,key:uo,label:Ni,type:le,value:fs,isFocused:xt,innerRef:xt?r.getFocusedOptionRef:void 0}),r.formatOptionLabel(me.data,"menu"))},re;if(this.hasOptions())re=this.getCategorizedOptions().map(function(J){if(J.type==="group"){var me=J.data,oe=J.options,le=J.index,ee="".concat(r.getElementId("group"),"-").concat(le),Fe="".concat(ee,"-heading");return I.createElement(o,ye({},y,{key:ee,data:me,options:oe,Heading:l,headingProps:{id:Fe,data:J.data},label:r.formatGroupLabel(J.data)}),J.options.map(function(bt){return ie(bt,"".concat(le,"-").concat(bt.index))}))}else if(J.type==="option")return ie(J,"".concat(J.index))});else if(S){var z=P({inputValue:w});if(z===null)return null;re=I.createElement(p,y,z)}else{var X=ge({inputValue:w});if(X===null)return null;re=I.createElement(m,y,X)}var W={minMenuHeight:k,maxMenuHeight:T,menuPlacement:M,menuPosition:N,menuShouldScrollIntoView:G},ne=I.createElement(NH,ye({},y,W),function(J){var me=J.ref,oe=J.placerProps,le=oe.placement,ee=oe.maxHeight;return I.createElement(u,ye({},y,W,{innerRef:me,innerProps:{onMouseDown:r.onMenuMouseDown,onMouseMove:r.onMenuMouseMove},isLoading:S,placement:le}),I.createElement(c$,{captureEnabled:x,onTopArrive:fe,onBottomArrive:he,lockEnabled:U},function(Fe){return I.createElement(h,ye({},y,{innerRef:function(Ni){r.getMenuListRef(Ni),Fe(Ni)},innerProps:{role:"listbox","aria-multiselectable":y.isMulti,id:r.getElementId("listbox")},isLoading:S,maxHeight:ee,focusedOption:v}),re)}))});return j||N==="fixed"?I.createElement(d,ye({},y,{appendTo:j,controlElement:this.controlRef,menuPlacement:M,menuPosition:N}),ne):ne}},{key:"renderFormField",value:function(){var r=this,s=this.props,o=s.delimiter,l=s.isDisabled,u=s.isMulti,h=s.name,d=s.required,p=this.state.selectValue;if(d&&!this.hasValue()&&!l)return I.createElement(f$,{name:h,onFocus:this.onValueInputFocus});if(!(!h||l))if(u)if(o){var m=p.map(function(v){return r.getOptionValue(v)}).join(o);return I.createElement("input",{name:h,type:"hidden",value:m})}else{var _=p.length>0?p.map(function(v,C){return I.createElement("input",{key:"i-".concat(C),name:h,type:"hidden",value:r.getOptionValue(v)})}):I.createElement("input",{name:h,type:"hidden",value:""});return I.createElement("div",null,_)}else{var y=p[0]?this.getOptionValue(p[0]):"";return I.createElement("input",{name:h,type:"hidden",value:y})}}},{key:"renderLiveRegion",value:function(){var r=this.commonProps,s=this.state,o=s.ariaSelection,l=s.focusedOption,u=s.focusedValue,h=s.isFocused,d=s.selectValue,p=this.getFocusableOptions();return I.createElement(QW,ye({},r,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:u,isFocused:h,selectValue:d,focusableOptions:p,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var r=this.getComponents(),s=r.Control,o=r.IndicatorsContainer,l=r.SelectContainer,u=r.ValueContainer,h=this.props,d=h.className,p=h.id,m=h.isDisabled,_=h.menuIsOpen,y=this.state.isFocused,v=this.commonProps=this.getCommonProps();return I.createElement(l,ye({},v,{className:d,innerProps:{id:p,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:y}),this.renderLiveRegion(),I.createElement(s,ye({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:y,menuIsOpen:_}),I.createElement(u,ye({},v,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),I.createElement(o,ye({},v,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(r,s){var o=s.prevProps,l=s.clearFocusValueOnUpdate,u=s.inputIsHiddenAfterUpdate,h=s.ariaSelection,d=s.isFocused,p=s.prevWasFocused,m=s.instancePrefix,_=r.options,y=r.value,v=r.menuIsOpen,C=r.inputValue,x=r.isMulti,w=y1(y),S={};if(o&&(y!==o.value||_!==o.options||v!==o.menuIsOpen||C!==o.inputValue)){var P=v?M$(r,w):[],k=v?D1($h(r,w),"".concat(m,"-option")):[],T=l?L$(s,w):null,O=I$(s,P),M=km(k,O);S={selectValue:w,focusedOption:O,focusedOptionId:M,focusableOptionsWithIds:k,focusedValue:T,clearFocusValueOnUpdate:!1}}var N=u!=null&&r!==o?{inputIsHidden:u,inputIsHiddenAfterUpdate:void 0}:{},j=h,U=d&&p;return d&&!U&&(j={value:mh(x,w,w[0]||null),options:w,action:"initial-input-focus"},U=!p),(h==null?void 0:h.action)==="initial-input-focus"&&(j=null),ve(ve(ve({},S),N),{},{prevProps:r,ariaSelection:j,prevWasFocused:U})}}]),n}(I.Component);Yk.defaultProps=k$;var R$=I.forwardRef(function(t,e){var n=H5(t);return I.createElement(Yk,ye({ref:e},n))}),D$=R$;const A$=()=>{const[t,e]=I.useState([]),[n,i]=I.useState([]),[r,s]=I.useState({}),[o,l]=I.useState(!1),[u,h]=I.useState(!1);I.useEffect(()=>{(async()=>{const P=KP(XP,"devices"),k=await qP(P);k.exists()&&e(k.val())})()},[]);const d=S=>{const P=S.map(k=>k.value);i(P)},p=async()=>{l(!0),h(!1);const S=n.map(async k=>{const T=t[k];return{...T,sensor_data:T.sensor_data||{}}}),P=await Promise.all(S);s(m(P)),l(!1),h(!0)},m=S=>{const P={ph:{},tds:{},turbidity:{}};return S.forEach(k=>{for(const T in P)for(const[O,M]of Object.entries(k.sensor_data[T]||{}))P[T][O]||(P[T][O]=0),P[T][O]+=M}),P},_=(S,P,k)=>{var O;const T=(O=document.getElementById(S))==null?void 0:O.getContext("2d");T&&new ki(T,{type:"line",data:{labels:Object.keys(P),datasets:[{label:k,data:Object.values(P),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)"}]},options:{responsive:!0,maintainAspectRatio:!1}})},y=S=>!S||Object.keys(S).length===0?0:(Object.values(S).reduce((k,T)=>k+T,0)/Object.keys(S).length).toFixed(2),v=y(r.ph),C=y(r.tds),x=y(r.turbidity);I.useEffect(()=>{u&&r&&(_("phChart",r.ph||{},"Average pH Levels"),_("tdsChart",r.tds||{},"Average TDS Levels"),_("turbidityChart",r.turbidity||{},"Average Turbidity Levels"))},[r,u]);const w=Object.keys(t).map(S=>({value:S,label:S}));return H.jsxs("div",{className:"p-4",children:[H.jsxs("div",{className:"flex",children:[H.jsx("label",{className:"block text-lg font-semibold",children:"Select Sensors:"}),H.jsx("div",{className:"col-6",children:H.jsx(D$,{isMulti:!0,options:w,onChange:d,className:"mt-2 mb-4 p-2",placeholder:"Select devices..."})}),H.jsx("button",{onClick:p,className:"h-9 px-4 mt-4 bg-blue-500 text-white rounded shadow-md hover:bg-blue-600",children:"Get Data"})]}),o?H.jsx("div",{className:"flex justify-center items-center h-32",children:H.jsx("div",{className:"loader",children:"Loading..."})}):u&&n.length>0&&H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[H.jsxs("div",{className:"border p-4 rounded shadow-lg",children:[H.jsx("h2",{className:"text-xl font-semibold",children:"Sensor Information"}),H.jsx("h2",{className:"text-xl font-semibold mt-4",children:"Average Values (All Selected Devices)"}),H.jsxs("div",{className:"flex flex-col space-y-2 mt-2",children:[H.jsxs("div",{className:"flex justify-between",children:[H.jsx("span",{className:"font-medium",children:"Average pH:"}),H.jsx("span",{children:v})]}),H.jsxs("div",{className:"flex justify-between",children:[H.jsx("span",{className:"font-medium",children:"Average TDS:"}),H.jsx("span",{children:C})]}),H.jsxs("div",{className:"flex justify-between",children:[H.jsx("span",{className:"font-medium",children:"Average Turbidity:"}),H.jsx("span",{children:x})]})]}),H.jsx("div",{className:"mt-4",children:H.jsxs(JT,{center:[20.5937,78.9629],zoom:5,style:{height:"330px",width:"100%"},children:[H.jsx(nk,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://osm.org/copyright">OpenStreetMap</a> contributors'}),H.jsx(F$,{selectedDevices:n,devices:t})]})})]}),H.jsxs("div",{className:"flex flex-col gap-4",children:[H.jsx("div",{className:"bg-red-200 p-2 rounded",style:{height:"190px"},children:H.jsx("canvas",{id:"phChart"})}),H.jsx("div",{className:"bg-green-200 p-2 rounded",style:{height:"190px"},children:H.jsx("canvas",{id:"tdsChart"})}),H.jsx("div",{className:"bg-blue-200 p-2 rounded",style:{height:"190px"},children:H.jsx("canvas",{id:"turbidityChart"})})]})]})]})},N$=new T5.Icon({iconUrl:"https://img.icons8.com/color/48/map-pin.png",iconSize:[48,48],iconAnchor:[24,48],popupAnchor:[0,-48]}),F$=({selectedDevices:t,devices:e})=>{const n=R5();return I.useEffect(()=>{if(t.length){const i=[];t.forEach(r=>{var o;const s=(o=e[r])==null?void 0:o.location;if(s){const[l,u]=s.split(",").map(h=>parseFloat(h));i.push([l,u])}}),i.length&&n.fitBounds(i)}},[t,e,n]),H.jsx(H.Fragment,{children:t.map(i=>{var s;const r=(s=e[i])==null?void 0:s.location;if(r){const[o,l]=r.split(",").map(u=>parseFloat(u));return H.jsx(ek,{position:[o,l],icon:N$,children:H.jsxs(tk,{children:["Device Location: ",r]})},i)}return null})})},z$=BR([{path:"/",element:H.jsx(mD,{})},{path:"/",element:H.jsx(vD,{}),children:[{path:"/dashboard",element:H.jsx(bD,{})},{path:"/data-visualization",element:H.jsx(A5,{})},{path:"/company-data",element:H.jsx(A$,{})}]}],{basename:"/water_quality_system"});function B$(){return H.jsx(YR,{router:z$})}KC(document.getElementById("root")).render(H.jsx(I.StrictMode,{children:H.jsx(B$,{})}));
