var Hb=Object.defineProperty;var Ub=(t,e,n)=>e in t?Hb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var L=(t,e,n)=>Ub(t,typeof e!="symbol"?e+"":e,n);function _v(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in t)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function yv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vv={exports:{}},tu={},xv={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ca=Symbol.for("react.element"),$b=Symbol.for("react.portal"),Yb=Symbol.for("react.fragment"),Kb=Symbol.for("react.strict_mode"),Gb=Symbol.for("react.profiler"),Qb=Symbol.for("react.provider"),Xb=Symbol.for("react.context"),qb=Symbol.for("react.forward_ref"),Jb=Symbol.for("react.suspense"),Zb=Symbol.for("react.memo"),eS=Symbol.for("react.lazy"),Tg=Symbol.iterator;function tS(t){return t===null||typeof t!="object"?null:(t=Tg&&t[Tg]||t["@@iterator"],typeof t=="function"?t:null)}var wv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bv=Object.assign,Sv={};function Ir(t,e,n){this.props=t,this.context=e,this.refs=Sv,this.updater=n||wv}Ir.prototype.isReactComponent={};Ir.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ir.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cv(){}Cv.prototype=Ir.prototype;function vf(t,e,n){this.props=t,this.context=e,this.refs=Sv,this.updater=n||wv}var xf=vf.prototype=new Cv;xf.constructor=vf;bv(xf,Ir.prototype);xf.isPureReactComponent=!0;var Pg=Array.isArray,Ev=Object.prototype.hasOwnProperty,wf={current:null},kv={key:!0,ref:!0,__self:!0,__source:!0};function Tv(t,e,n){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)Ev.call(e,i)&&!kv.hasOwnProperty(i)&&(s[i]=e[i]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:Ca,type:t,key:r,ref:o,props:s,_owner:wf.current}}function nS(t,e){return{$$typeof:Ca,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ca}function iS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Mg=/\/+/g;function Bu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iS(""+t.key):e.toString(36)}function Rl(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ca:case $b:o=!0}}if(o)return o=t,s=s(o),t=i===""?"."+Bu(o,0):i,Pg(s)?(n="",t!=null&&(n=t.replace(Mg,"$&/")+"/"),Rl(s,e,n,"",function(c){return c})):s!=null&&(bf(s)&&(s=nS(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Mg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,i=i===""?".":i+":",Pg(t))for(var a=0;a<t.length;a++){r=t[a];var l=i+Bu(r,a);o+=Rl(r,e,n,l,s)}else if(l=tS(t),typeof l=="function")for(t=l.call(t),a=0;!(r=t.next()).done;)r=r.value,l=i+Bu(r,a++),o+=Rl(r,e,n,l,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qa(t,e,n){if(t==null)return t;var i=[],s=0;return Rl(t,i,"","",function(r){return e.call(n,r,s++)}),i}function sS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},Dl={transition:null},rS={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:Dl,ReactCurrentOwner:wf};function Pv(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Qa,forEach:function(t,e,n){Qa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qa(t,function(){e++}),e},toArray:function(t){return Qa(t,function(e){return e})||[]},only:function(t){if(!bf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Ir;le.Fragment=Yb;le.Profiler=Gb;le.PureComponent=vf;le.StrictMode=Kb;le.Suspense=Jb;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rS;le.act=Pv;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=bv({},t.props),s=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=wf.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ev.call(e,l)&&!kv.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Ca,type:t.type,key:s,ref:r,props:i,_owner:o}};le.createContext=function(t){return t={$$typeof:Xb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qb,_context:t},t.Consumer=t};le.createElement=Tv;le.createFactory=function(t){var e=Tv.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:qb,render:t}};le.isValidElement=bf;le.lazy=function(t){return{$$typeof:eS,_payload:{_status:-1,_result:t},_init:sS}};le.memo=function(t,e){return{$$typeof:Zb,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=Dl.transition;Dl.transition={};try{t()}finally{Dl.transition=e}};le.unstable_act=Pv;le.useCallback=function(t,e){return Mt.current.useCallback(t,e)};le.useContext=function(t){return Mt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};le.useEffect=function(t,e){return Mt.current.useEffect(t,e)};le.useId=function(){return Mt.current.useId()};le.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return Mt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};le.useRef=function(t){return Mt.current.useRef(t)};le.useState=function(t){return Mt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return Mt.current.useTransition()};le.version="18.3.1";xv.exports=le;var M=xv.exports;const Ce=yv(M),oS=_v({__proto__:null,default:Ce},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aS=M,lS=Symbol.for("react.element"),cS=Symbol.for("react.fragment"),uS=Object.prototype.hasOwnProperty,dS=aS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hS={key:!0,ref:!0,__self:!0,__source:!0};function Mv(t,e,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)uS.call(e,i)&&!hS.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:lS,type:t,key:r,ref:o,props:s,_owner:dS.current}}tu.Fragment=cS;tu.jsx=Mv;tu.jsxs=Mv;vv.exports=tu;var F=vv.exports,Iv={exports:{}},Xt={},Rv={exports:{}},Dv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,z){var $=N.length;N.push(z);e:for(;0<$;){var J=$-1>>>1,te=N[J];if(0<s(te,z))N[J]=z,N[$]=te,$=J;else break e}}function n(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var z=N[0],$=N.pop();if($!==z){N[0]=$;e:for(var J=0,te=N.length,ve=te>>>1;J<ve;){var oe=2*(J+1)-1,be=N[oe],_e=oe+1,St=N[_e];if(0>s(be,$))_e<te&&0>s(St,be)?(N[J]=St,N[_e]=$,J=_e):(N[J]=be,N[oe]=$,J=oe);else if(_e<te&&0>s(St,$))N[J]=St,N[_e]=$,J=_e;else break e}}return z}function s(N,z){var $=N.sortIndex-z.sortIndex;return $!==0?$:N.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var z=n(c);z!==null;){if(z.callback===null)i(c);else if(z.startTime<=N)i(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function w(N){if(m=!1,y(N),!p)if(n(l)!==null)p=!0,ie(S);else{var z=n(c);z!==null&&G(w,z.startTime-N)}}function S(N,z){p=!1,m&&(m=!1,_(b),b=-1),f=!0;var $=h;try{for(y(z),d=n(l);d!==null&&(!(d.expirationTime>z)||N&&!A());){var J=d.callback;if(typeof J=="function"){d.callback=null,h=d.priorityLevel;var te=J(d.expirationTime<=z);z=t.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&i(l),y(z)}else i(l);d=n(l)}if(d!==null)var ve=!0;else{var oe=n(c);oe!==null&&G(w,oe.startTime-z),ve=!1}return ve}finally{d=null,h=$,f=!1}}var x=!1,E=null,b=-1,P=5,I=-1;function A(){return!(t.unstable_now()-I<P)}function B(){if(E!==null){var N=t.unstable_now();I=N;var z=!0;try{z=E(!0,N)}finally{z?X():(x=!1,E=null)}}else x=!1}var X;if(typeof g=="function")X=function(){g(B)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,q=ee.port2;ee.port1.onmessage=B,X=function(){q.postMessage(null)}}else X=function(){v(B,0)};function ie(N){E=N,x||(x=!0,X())}function G(N,z){b=v(function(){N(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,ie(S))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var $=h;h=z;try{return N()}finally{h=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,z){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=h;h=N;try{return z()}finally{h=$}},t.unstable_scheduleCallback=function(N,z,$){var J=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?J+$:J):$=J,N){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=$+te,N={id:u++,callback:z,priorityLevel:N,startTime:$,expirationTime:te,sortIndex:-1},$>J?(N.sortIndex=$,e(c,N),n(l)===null&&N===n(c)&&(m?(_(b),b=-1):m=!0,G(w,$-J))):(N.sortIndex=te,e(l,N),p||f||(p=!0,ie(S))),N},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(N){var z=h;return function(){var $=h;h=z;try{return N.apply(this,arguments)}finally{h=$}}}})(Dv);Rv.exports=Dv;var fS=Rv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pS=M,Qt=fS;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nv=new Set,Bo={};function Rs(t,e){pr(t,e),pr(t+"Capture",e)}function pr(t,e){for(Bo[t]=e,t=0;t<e.length;t++)Nv.add(e[t])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jd=Object.prototype.hasOwnProperty,gS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ig={},Rg={};function mS(t){return jd.call(Rg,t)?!0:jd.call(Ig,t)?!1:gS.test(t)?Rg[t]=!0:(Ig[t]=!0,!1)}function _S(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yS(t,e,n,i){if(e===null||typeof e>"u"||_S(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function It(t,e,n,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new It(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new It(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new It(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new It(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new It(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new It(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new It(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new It(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new It(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sf=/[\-:]([a-z])/g;function Cf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sf,Cf);pt[e]=new It(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sf,Cf);pt[e]=new It(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sf,Cf);pt[e]=new It(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new It(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new It("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new It(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ef(t,e,n,i){var s=pt.hasOwnProperty(e)?pt[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yS(e,n,s,i)&&(n=null),i||s===null?mS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var ti=pS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xa=Symbol.for("react.element"),Us=Symbol.for("react.portal"),$s=Symbol.for("react.fragment"),kf=Symbol.for("react.strict_mode"),Wd=Symbol.for("react.profiler"),Ov=Symbol.for("react.provider"),Lv=Symbol.for("react.context"),Tf=Symbol.for("react.forward_ref"),Vd=Symbol.for("react.suspense"),Hd=Symbol.for("react.suspense_list"),Pf=Symbol.for("react.memo"),li=Symbol.for("react.lazy"),Av=Symbol.for("react.offscreen"),Dg=Symbol.iterator;function Wr(t){return t===null||typeof t!="object"?null:(t=Dg&&t[Dg]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,ju;function ao(t){if(ju===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ju=e&&e[1]||""}return`
`+ju+t}var Wu=!1;function Vu(t,e){if(!t||Wu)return"";Wu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ao(t):""}function vS(t){switch(t.tag){case 5:return ao(t.type);case 16:return ao("Lazy");case 13:return ao("Suspense");case 19:return ao("SuspenseList");case 0:case 2:case 15:return t=Vu(t.type,!1),t;case 11:return t=Vu(t.type.render,!1),t;case 1:return t=Vu(t.type,!0),t;default:return""}}function Ud(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $s:return"Fragment";case Us:return"Portal";case Wd:return"Profiler";case kf:return"StrictMode";case Vd:return"Suspense";case Hd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lv:return(t.displayName||"Context")+".Consumer";case Ov:return(t._context.displayName||"Context")+".Provider";case Tf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pf:return e=t.displayName||null,e!==null?e:Ud(t.type)||"Memo";case li:e=t._payload,t=t._init;try{return Ud(t(e))}catch{}}return null}function xS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ud(e);case 8:return e===kf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ni(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wS(t){var e=Fv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qa(t){t._valueTracker||(t._valueTracker=wS(t))}function zv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Fv(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function tc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $d(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ng(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Ni(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bv(t,e){e=e.checked,e!=null&&Ef(t,"checked",e,!1)}function Yd(t,e){Bv(t,e);var n=Ni(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Kd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Kd(t,e.type,Ni(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Og(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Kd(t,e,n){(e!=="number"||tc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lo=Array.isArray;function sr(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ni(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Gd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(lo(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ni(n)}}function jv(t,e){var n=Ni(e.value),i=Ni(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Ag(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ja,Vv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ja=Ja||document.createElement("div"),Ja.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ja.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bS=["Webkit","ms","Moz","O"];Object.keys(vo).forEach(function(t){bS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vo[e]=vo[t]})});function Hv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vo.hasOwnProperty(t)&&vo[t]?(""+e).trim():e+"px"}function Uv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=Hv(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var SS=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xd(t,e){if(e){if(SS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function qd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jd=null;function Mf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zd=null,rr=null,or=null;function Fg(t){if(t=Ta(t)){if(typeof Zd!="function")throw Error(D(280));var e=t.stateNode;e&&(e=ou(e),Zd(t.stateNode,t.type,e))}}function $v(t){rr?or?or.push(t):or=[t]:rr=t}function Yv(){if(rr){var t=rr,e=or;if(or=rr=null,Fg(t),e)for(t=0;t<e.length;t++)Fg(e[t])}}function Kv(t,e){return t(e)}function Gv(){}var Hu=!1;function Qv(t,e,n){if(Hu)return t(e,n);Hu=!0;try{return Kv(t,e,n)}finally{Hu=!1,(rr!==null||or!==null)&&(Gv(),Yv())}}function Wo(t,e){var n=t.stateNode;if(n===null)return null;var i=ou(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var eh=!1;if(Gn)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){eh=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{eh=!1}function CS(t,e,n,i,s,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var xo=!1,nc=null,ic=!1,th=null,ES={onError:function(t){xo=!0,nc=t}};function kS(t,e,n,i,s,r,o,a,l){xo=!1,nc=null,CS.apply(ES,arguments)}function TS(t,e,n,i,s,r,o,a,l){if(kS.apply(this,arguments),xo){if(xo){var c=nc;xo=!1,nc=null}else throw Error(D(198));ic||(ic=!0,th=c)}}function Ds(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zg(t){if(Ds(t)!==t)throw Error(D(188))}function PS(t){var e=t.alternate;if(!e){if(e=Ds(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return zg(s),t;if(r===i)return zg(s),e;r=r.sibling}throw Error(D(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==i)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function qv(t){return t=PS(t),t!==null?Jv(t):null}function Jv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jv(t);if(e!==null)return e;t=t.sibling}return null}var Zv=Qt.unstable_scheduleCallback,Bg=Qt.unstable_cancelCallback,MS=Qt.unstable_shouldYield,IS=Qt.unstable_requestPaint,Qe=Qt.unstable_now,RS=Qt.unstable_getCurrentPriorityLevel,If=Qt.unstable_ImmediatePriority,e0=Qt.unstable_UserBlockingPriority,sc=Qt.unstable_NormalPriority,DS=Qt.unstable_LowPriority,t0=Qt.unstable_IdlePriority,nu=null,Tn=null;function NS(t){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(nu,t,void 0,(t.current.flags&128)===128)}catch{}}var gn=Math.clz32?Math.clz32:AS,OS=Math.log,LS=Math.LN2;function AS(t){return t>>>=0,t===0?32:31-(OS(t)/LS|0)|0}var Za=64,el=4194304;function co(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rc(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?i=co(a):(r&=o,r!==0&&(i=co(r)))}else o=n&~s,o!==0?i=co(o):r!==0&&(i=co(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-gn(e),s=1<<n,i|=t[n],e&=~s;return i}function FS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zS(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-gn(r),a=1<<o,l=s[o];l===-1?(!(a&n)||a&i)&&(s[o]=FS(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}function nh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function n0(){var t=Za;return Za<<=1,!(Za&4194240)&&(Za=64),t}function Uu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ea(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gn(e),t[e]=n}function BS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-gn(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function Rf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-gn(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var we=0;function i0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var s0,Df,r0,o0,a0,ih=!1,tl=[],xi=null,wi=null,bi=null,Vo=new Map,Ho=new Map,ui=[],jS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jg(t,e){switch(t){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":Vo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ho.delete(e.pointerId)}}function Hr(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Ta(e),e!==null&&Df(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function WS(t,e,n,i,s){switch(e){case"focusin":return xi=Hr(xi,t,e,n,i,s),!0;case"dragenter":return wi=Hr(wi,t,e,n,i,s),!0;case"mouseover":return bi=Hr(bi,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return Vo.set(r,Hr(Vo.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Ho.set(r,Hr(Ho.get(r)||null,t,e,n,i,s)),!0}return!1}function l0(t){var e=cs(t.target);if(e!==null){var n=Ds(e);if(n!==null){if(e=n.tag,e===13){if(e=Xv(n),e!==null){t.blockedOn=e,a0(t.priority,function(){r0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Jd=i,n.target.dispatchEvent(i),Jd=null}else return e=Ta(n),e!==null&&Df(e),t.blockedOn=n,!1;e.shift()}return!0}function Wg(t,e,n){Nl(t)&&n.delete(e)}function VS(){ih=!1,xi!==null&&Nl(xi)&&(xi=null),wi!==null&&Nl(wi)&&(wi=null),bi!==null&&Nl(bi)&&(bi=null),Vo.forEach(Wg),Ho.forEach(Wg)}function Ur(t,e){t.blockedOn===e&&(t.blockedOn=null,ih||(ih=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,VS)))}function Uo(t){function e(s){return Ur(s,t)}if(0<tl.length){Ur(tl[0],t);for(var n=1;n<tl.length;n++){var i=tl[n];i.blockedOn===t&&(i.blockedOn=null)}}for(xi!==null&&Ur(xi,t),wi!==null&&Ur(wi,t),bi!==null&&Ur(bi,t),Vo.forEach(e),Ho.forEach(e),n=0;n<ui.length;n++)i=ui[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<ui.length&&(n=ui[0],n.blockedOn===null);)l0(n),n.blockedOn===null&&ui.shift()}var ar=ti.ReactCurrentBatchConfig,oc=!0;function HS(t,e,n,i){var s=we,r=ar.transition;ar.transition=null;try{we=1,Nf(t,e,n,i)}finally{we=s,ar.transition=r}}function US(t,e,n,i){var s=we,r=ar.transition;ar.transition=null;try{we=4,Nf(t,e,n,i)}finally{we=s,ar.transition=r}}function Nf(t,e,n,i){if(oc){var s=sh(t,e,n,i);if(s===null)ed(t,e,i,ac,n),jg(t,i);else if(WS(s,t,e,n,i))i.stopPropagation();else if(jg(t,i),e&4&&-1<jS.indexOf(t)){for(;s!==null;){var r=Ta(s);if(r!==null&&s0(r),r=sh(t,e,n,i),r===null&&ed(t,e,i,ac,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else ed(t,e,i,null,n)}}var ac=null;function sh(t,e,n,i){if(ac=null,t=Mf(i),t=cs(t),t!==null)if(e=Ds(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ac=t,null}function c0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RS()){case If:return 1;case e0:return 4;case sc:case DS:return 16;case t0:return 536870912;default:return 16}default:return 16}}var hi=null,Of=null,Ol=null;function u0(){if(Ol)return Ol;var t,e=Of,n=e.length,i,s="value"in hi?hi.value:hi.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===s[r-i];i++);return Ol=s.slice(t,1<i?1-i:void 0)}function Ll(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nl(){return!0}function Vg(){return!1}function qt(t){function e(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?nl:Vg,this.isPropagationStopped=Vg,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),e}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lf=qt(Rr),ka=He({},Rr,{view:0,detail:0}),$S=qt(ka),$u,Yu,$r,iu=He({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Af,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$r&&($r&&t.type==="mousemove"?($u=t.screenX-$r.screenX,Yu=t.screenY-$r.screenY):Yu=$u=0,$r=t),$u)},movementY:function(t){return"movementY"in t?t.movementY:Yu}}),Hg=qt(iu),YS=He({},iu,{dataTransfer:0}),KS=qt(YS),GS=He({},ka,{relatedTarget:0}),Ku=qt(GS),QS=He({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),XS=qt(QS),qS=He({},Rr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JS=qt(qS),ZS=He({},Rr,{data:0}),Ug=qt(ZS),eC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nC[t])?!!e[t]:!1}function Af(){return iC}var sC=He({},ka,{key:function(t){if(t.key){var e=eC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ll(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Af,charCode:function(t){return t.type==="keypress"?Ll(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ll(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rC=qt(sC),oC=He({},iu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$g=qt(oC),aC=He({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Af}),lC=qt(aC),cC=He({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),uC=qt(cC),dC=He({},iu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hC=qt(dC),fC=[9,13,27,32],Ff=Gn&&"CompositionEvent"in window,wo=null;Gn&&"documentMode"in document&&(wo=document.documentMode);var pC=Gn&&"TextEvent"in window&&!wo,d0=Gn&&(!Ff||wo&&8<wo&&11>=wo),Yg=" ",Kg=!1;function h0(t,e){switch(t){case"keyup":return fC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function gC(t,e){switch(t){case"compositionend":return f0(e);case"keypress":return e.which!==32?null:(Kg=!0,Yg);case"textInput":return t=e.data,t===Yg&&Kg?null:t;default:return null}}function mC(t,e){if(Ys)return t==="compositionend"||!Ff&&h0(t,e)?(t=u0(),Ol=Of=hi=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return d0&&e.locale!=="ko"?null:e.data;default:return null}}var _C={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_C[t.type]:e==="textarea"}function p0(t,e,n,i){$v(i),e=lc(e,"onChange"),0<e.length&&(n=new Lf("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var bo=null,$o=null;function yC(t){E0(t,0)}function su(t){var e=Qs(t);if(zv(e))return t}function vC(t,e){if(t==="change")return e}var g0=!1;if(Gn){var Gu;if(Gn){var Qu="oninput"in document;if(!Qu){var Qg=document.createElement("div");Qg.setAttribute("oninput","return;"),Qu=typeof Qg.oninput=="function"}Gu=Qu}else Gu=!1;g0=Gu&&(!document.documentMode||9<document.documentMode)}function Xg(){bo&&(bo.detachEvent("onpropertychange",m0),$o=bo=null)}function m0(t){if(t.propertyName==="value"&&su($o)){var e=[];p0(e,$o,t,Mf(t)),Qv(yC,e)}}function xC(t,e,n){t==="focusin"?(Xg(),bo=e,$o=n,bo.attachEvent("onpropertychange",m0)):t==="focusout"&&Xg()}function wC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return su($o)}function bC(t,e){if(t==="click")return su(e)}function SC(t,e){if(t==="input"||t==="change")return su(e)}function CC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vn=typeof Object.is=="function"?Object.is:CC;function Yo(t,e){if(vn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!jd.call(e,s)||!vn(t[s],e[s]))return!1}return!0}function qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jg(t,e){var n=qg(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qg(n)}}function _0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function y0(){for(var t=window,e=tc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tc(t.document)}return e}function zf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EC(t){var e=y0(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_0(n.ownerDocument.documentElement,n)){if(i!==null&&zf(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=Jg(n,r);var o=Jg(n,i);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kC=Gn&&"documentMode"in document&&11>=document.documentMode,Ks=null,rh=null,So=null,oh=!1;function Zg(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;oh||Ks==null||Ks!==tc(i)||(i=Ks,"selectionStart"in i&&zf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),So&&Yo(So,i)||(So=i,i=lc(rh,"onSelect"),0<i.length&&(e=new Lf("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ks)))}function il(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gs={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionend:il("Transition","TransitionEnd")},Xu={},v0={};Gn&&(v0=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function ru(t){if(Xu[t])return Xu[t];if(!Gs[t])return t;var e=Gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v0)return Xu[t]=e[n];return t}var x0=ru("animationend"),w0=ru("animationiteration"),b0=ru("animationstart"),S0=ru("transitionend"),C0=new Map,em="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(t,e){C0.set(t,e),Rs(e,[t])}for(var qu=0;qu<em.length;qu++){var Ju=em[qu],TC=Ju.toLowerCase(),PC=Ju[0].toUpperCase()+Ju.slice(1);ji(TC,"on"+PC)}ji(x0,"onAnimationEnd");ji(w0,"onAnimationIteration");ji(b0,"onAnimationStart");ji("dblclick","onDoubleClick");ji("focusin","onFocus");ji("focusout","onBlur");ji(S0,"onTransitionEnd");pr("onMouseEnter",["mouseout","mouseover"]);pr("onMouseLeave",["mouseout","mouseover"]);pr("onPointerEnter",["pointerout","pointerover"]);pr("onPointerLeave",["pointerout","pointerover"]);Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MC=new Set("cancel close invalid load scroll toggle".split(" ").concat(uo));function tm(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,TS(i,e,void 0,t),t.currentTarget=null}function E0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break e;tm(s,a,c),r=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break e;tm(s,a,c),r=l}}}if(ic)throw t=th,ic=!1,th=null,t}function De(t,e){var n=e[dh];n===void 0&&(n=e[dh]=new Set);var i=t+"__bubble";n.has(i)||(k0(e,t,2,!1),n.add(i))}function Zu(t,e,n){var i=0;e&&(i|=4),k0(n,t,i,e)}var sl="_reactListening"+Math.random().toString(36).slice(2);function Ko(t){if(!t[sl]){t[sl]=!0,Nv.forEach(function(n){n!=="selectionchange"&&(MC.has(n)||Zu(n,!1,t),Zu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sl]||(e[sl]=!0,Zu("selectionchange",!1,e))}}function k0(t,e,n,i){switch(c0(e)){case 1:var s=HS;break;case 4:s=US;break;default:s=Nf}n=s.bind(null,e,n,t),s=void 0,!eh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ed(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=cs(a),o===null)return;if(l=o.tag,l===5||l===6){i=r=o;continue e}a=a.parentNode}}i=i.return}Qv(function(){var c=r,u=Mf(n),d=[];e:{var h=C0.get(t);if(h!==void 0){var f=Lf,p=t;switch(t){case"keypress":if(Ll(n)===0)break e;case"keydown":case"keyup":f=rC;break;case"focusin":p="focus",f=Ku;break;case"focusout":p="blur",f=Ku;break;case"beforeblur":case"afterblur":f=Ku;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=KS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=lC;break;case x0:case w0:case b0:f=XS;break;case S0:f=uC;break;case"scroll":f=$S;break;case"wheel":f=hC;break;case"copy":case"cut":case"paste":f=JS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=$g}var m=(e&4)!==0,v=!m&&t==="scroll",_=m?h!==null?h+"Capture":null:h;m=[];for(var g=c,y;g!==null;){y=g;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,_!==null&&(w=Wo(g,_),w!=null&&m.push(Go(g,w,y)))),v)break;g=g.return}0<m.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Jd&&(p=n.relatedTarget||n.fromElement)&&(cs(p)||p[Qn]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?cs(p):null,p!==null&&(v=Ds(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=Hg,w="onMouseLeave",_="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(m=$g,w="onPointerLeave",_="onPointerEnter",g="pointer"),v=f==null?h:Qs(f),y=p==null?h:Qs(p),h=new m(w,g+"leave",f,n,u),h.target=v,h.relatedTarget=y,w=null,cs(u)===c&&(m=new m(_,g+"enter",p,n,u),m.target=y,m.relatedTarget=v,w=m),v=w,f&&p)t:{for(m=f,_=p,g=0,y=m;y;y=Bs(y))g++;for(y=0,w=_;w;w=Bs(w))y++;for(;0<g-y;)m=Bs(m),g--;for(;0<y-g;)_=Bs(_),y--;for(;g--;){if(m===_||_!==null&&m===_.alternate)break t;m=Bs(m),_=Bs(_)}m=null}else m=null;f!==null&&nm(d,h,f,m,!1),p!==null&&v!==null&&nm(d,v,p,m,!0)}}e:{if(h=c?Qs(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var S=vC;else if(Gg(h))if(g0)S=SC;else{S=wC;var x=xC}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=bC);if(S&&(S=S(t,c))){p0(d,S,n,u);break e}x&&x(t,h,c),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&Kd(h,"number",h.value)}switch(x=c?Qs(c):window,t){case"focusin":(Gg(x)||x.contentEditable==="true")&&(Ks=x,rh=c,So=null);break;case"focusout":So=rh=Ks=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,Zg(d,n,u);break;case"selectionchange":if(kC)break;case"keydown":case"keyup":Zg(d,n,u)}var E;if(Ff)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ys?h0(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(d0&&n.locale!=="ko"&&(Ys||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ys&&(E=u0()):(hi=u,Of="value"in hi?hi.value:hi.textContent,Ys=!0)),x=lc(c,b),0<x.length&&(b=new Ug(b,t,null,n,u),d.push({event:b,listeners:x}),E?b.data=E:(E=f0(n),E!==null&&(b.data=E)))),(E=pC?gC(t,n):mC(t,n))&&(c=lc(c,"onBeforeInput"),0<c.length&&(u=new Ug("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}E0(d,e)})}function Go(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lc(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Wo(t,n),r!=null&&i.unshift(Go(t,r,s)),r=Wo(t,e),r!=null&&i.push(Go(t,r,s))),t=t.return}return i}function Bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nm(t,e,n,i,s){for(var r=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,s?(l=Wo(n,r),l!=null&&o.unshift(Go(n,l,a))):s||(l=Wo(n,r),l!=null&&o.push(Go(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var IC=/\r\n?/g,RC=/\u0000|\uFFFD/g;function im(t){return(typeof t=="string"?t:""+t).replace(IC,`
`).replace(RC,"")}function rl(t,e,n){if(e=im(e),im(t)!==e&&n)throw Error(D(425))}function cc(){}var ah=null,lh=null;function ch(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var uh=typeof setTimeout=="function"?setTimeout:void 0,DC=typeof clearTimeout=="function"?clearTimeout:void 0,sm=typeof Promise=="function"?Promise:void 0,NC=typeof queueMicrotask=="function"?queueMicrotask:typeof sm<"u"?function(t){return sm.resolve(null).then(t).catch(OC)}:uh;function OC(t){setTimeout(function(){throw t})}function td(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),Uo(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);Uo(e)}function Si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Dr=Math.random().toString(36).slice(2),kn="__reactFiber$"+Dr,Qo="__reactProps$"+Dr,Qn="__reactContainer$"+Dr,dh="__reactEvents$"+Dr,LC="__reactListeners$"+Dr,AC="__reactHandles$"+Dr;function cs(t){var e=t[kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qn]||n[kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rm(t);t!==null;){if(n=t[kn])return n;t=rm(t)}return e}t=n,n=t.parentNode}return null}function Ta(t){return t=t[kn]||t[Qn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function ou(t){return t[Qo]||null}var hh=[],Xs=-1;function Wi(t){return{current:t}}function Oe(t){0>Xs||(t.current=hh[Xs],hh[Xs]=null,Xs--)}function Re(t,e){Xs++,hh[Xs]=t.current,t.current=e}var Oi={},wt=Wi(Oi),Ft=Wi(!1),xs=Oi;function gr(t,e){var n=t.type.contextTypes;if(!n)return Oi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function zt(t){return t=t.childContextTypes,t!=null}function uc(){Oe(Ft),Oe(wt)}function om(t,e,n){if(wt.current!==Oi)throw Error(D(168));Re(wt,e),Re(Ft,n)}function T0(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(D(108,xS(t)||"Unknown",s));return He({},n,i)}function dc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oi,xs=wt.current,Re(wt,t),Re(Ft,Ft.current),!0}function am(t,e,n){var i=t.stateNode;if(!i)throw Error(D(169));n?(t=T0(t,e,xs),i.__reactInternalMemoizedMergedChildContext=t,Oe(Ft),Oe(wt),Re(wt,t)):Oe(Ft),Re(Ft,n)}var An=null,au=!1,nd=!1;function P0(t){An===null?An=[t]:An.push(t)}function FC(t){au=!0,P0(t)}function Vi(){if(!nd&&An!==null){nd=!0;var t=0,e=we;try{var n=An;for(we=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}An=null,au=!1}catch(s){throw An!==null&&(An=An.slice(t+1)),Zv(If,Vi),s}finally{we=e,nd=!1}}return null}var qs=[],Js=0,hc=null,fc=0,Zt=[],en=0,ws=null,Bn=1,jn="";function ts(t,e){qs[Js++]=fc,qs[Js++]=hc,hc=t,fc=e}function M0(t,e,n){Zt[en++]=Bn,Zt[en++]=jn,Zt[en++]=ws,ws=t;var i=Bn;t=jn;var s=32-gn(i)-1;i&=~(1<<s),n+=1;var r=32-gn(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Bn=1<<32-gn(e)+s|n<<s|i,jn=r+t}else Bn=1<<r|n<<s|i,jn=t}function Bf(t){t.return!==null&&(ts(t,1),M0(t,1,0))}function jf(t){for(;t===hc;)hc=qs[--Js],qs[Js]=null,fc=qs[--Js],qs[Js]=null;for(;t===ws;)ws=Zt[--en],Zt[en]=null,jn=Zt[--en],Zt[en]=null,Bn=Zt[--en],Zt[en]=null}var Kt=null,$t=null,ze=!1,un=null;function I0(t,e){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kt=t,$t=Si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kt=t,$t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ws!==null?{id:Bn,overflow:jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kt=t,$t=null,!0):!1;default:return!1}}function fh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ph(t){if(ze){var e=$t;if(e){var n=e;if(!lm(t,e)){if(fh(t))throw Error(D(418));e=Si(n.nextSibling);var i=Kt;e&&lm(t,e)?I0(i,n):(t.flags=t.flags&-4097|2,ze=!1,Kt=t)}}else{if(fh(t))throw Error(D(418));t.flags=t.flags&-4097|2,ze=!1,Kt=t}}}function cm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kt=t}function ol(t){if(t!==Kt)return!1;if(!ze)return cm(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ch(t.type,t.memoizedProps)),e&&(e=$t)){if(fh(t))throw R0(),Error(D(418));for(;e;)I0(t,e),e=Si(e.nextSibling)}if(cm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$t=Si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$t=null}}else $t=Kt?Si(t.stateNode.nextSibling):null;return!0}function R0(){for(var t=$t;t;)t=Si(t.nextSibling)}function mr(){$t=Kt=null,ze=!1}function Wf(t){un===null?un=[t]:un.push(t)}var zC=ti.ReactCurrentBatchConfig;function Yr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var i=n.stateNode}if(!i)throw Error(D(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=s.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function al(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function um(t){var e=t._init;return e(t._payload)}function D0(t){function e(_,g){if(t){var y=_.deletions;y===null?(_.deletions=[g],_.flags|=16):y.push(g)}}function n(_,g){if(!t)return null;for(;g!==null;)e(_,g),g=g.sibling;return null}function i(_,g){for(_=new Map;g!==null;)g.key!==null?_.set(g.key,g):_.set(g.index,g),g=g.sibling;return _}function s(_,g){return _=Ti(_,g),_.index=0,_.sibling=null,_}function r(_,g,y){return _.index=y,t?(y=_.alternate,y!==null?(y=y.index,y<g?(_.flags|=2,g):y):(_.flags|=2,g)):(_.flags|=1048576,g)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,g,y,w){return g===null||g.tag!==6?(g=cd(y,_.mode,w),g.return=_,g):(g=s(g,y),g.return=_,g)}function l(_,g,y,w){var S=y.type;return S===$s?u(_,g,y.props.children,w,y.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===li&&um(S)===g.type)?(w=s(g,y.props),w.ref=Yr(_,g,y),w.return=_,w):(w=Vl(y.type,y.key,y.props,null,_.mode,w),w.ref=Yr(_,g,y),w.return=_,w)}function c(_,g,y,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=ud(y,_.mode,w),g.return=_,g):(g=s(g,y.children||[]),g.return=_,g)}function u(_,g,y,w,S){return g===null||g.tag!==7?(g=ms(y,_.mode,w,S),g.return=_,g):(g=s(g,y),g.return=_,g)}function d(_,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=cd(""+g,_.mode,y),g.return=_,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Xa:return y=Vl(g.type,g.key,g.props,null,_.mode,y),y.ref=Yr(_,null,g),y.return=_,y;case Us:return g=ud(g,_.mode,y),g.return=_,g;case li:var w=g._init;return d(_,w(g._payload),y)}if(lo(g)||Wr(g))return g=ms(g,_.mode,y,null),g.return=_,g;al(_,g)}return null}function h(_,g,y,w){var S=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(_,g,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xa:return y.key===S?l(_,g,y,w):null;case Us:return y.key===S?c(_,g,y,w):null;case li:return S=y._init,h(_,g,S(y._payload),w)}if(lo(y)||Wr(y))return S!==null?null:u(_,g,y,w,null);al(_,y)}return null}function f(_,g,y,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return _=_.get(y)||null,a(g,_,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Xa:return _=_.get(w.key===null?y:w.key)||null,l(g,_,w,S);case Us:return _=_.get(w.key===null?y:w.key)||null,c(g,_,w,S);case li:var x=w._init;return f(_,g,y,x(w._payload),S)}if(lo(w)||Wr(w))return _=_.get(y)||null,u(g,_,w,S,null);al(g,w)}return null}function p(_,g,y,w){for(var S=null,x=null,E=g,b=g=0,P=null;E!==null&&b<y.length;b++){E.index>b?(P=E,E=null):P=E.sibling;var I=h(_,E,y[b],w);if(I===null){E===null&&(E=P);break}t&&E&&I.alternate===null&&e(_,E),g=r(I,g,b),x===null?S=I:x.sibling=I,x=I,E=P}if(b===y.length)return n(_,E),ze&&ts(_,b),S;if(E===null){for(;b<y.length;b++)E=d(_,y[b],w),E!==null&&(g=r(E,g,b),x===null?S=E:x.sibling=E,x=E);return ze&&ts(_,b),S}for(E=i(_,E);b<y.length;b++)P=f(E,_,b,y[b],w),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?b:P.key),g=r(P,g,b),x===null?S=P:x.sibling=P,x=P);return t&&E.forEach(function(A){return e(_,A)}),ze&&ts(_,b),S}function m(_,g,y,w){var S=Wr(y);if(typeof S!="function")throw Error(D(150));if(y=S.call(y),y==null)throw Error(D(151));for(var x=S=null,E=g,b=g=0,P=null,I=y.next();E!==null&&!I.done;b++,I=y.next()){E.index>b?(P=E,E=null):P=E.sibling;var A=h(_,E,I.value,w);if(A===null){E===null&&(E=P);break}t&&E&&A.alternate===null&&e(_,E),g=r(A,g,b),x===null?S=A:x.sibling=A,x=A,E=P}if(I.done)return n(_,E),ze&&ts(_,b),S;if(E===null){for(;!I.done;b++,I=y.next())I=d(_,I.value,w),I!==null&&(g=r(I,g,b),x===null?S=I:x.sibling=I,x=I);return ze&&ts(_,b),S}for(E=i(_,E);!I.done;b++,I=y.next())I=f(E,_,b,I.value,w),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?b:I.key),g=r(I,g,b),x===null?S=I:x.sibling=I,x=I);return t&&E.forEach(function(B){return e(_,B)}),ze&&ts(_,b),S}function v(_,g,y,w){if(typeof y=="object"&&y!==null&&y.type===$s&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Xa:e:{for(var S=y.key,x=g;x!==null;){if(x.key===S){if(S=y.type,S===$s){if(x.tag===7){n(_,x.sibling),g=s(x,y.props.children),g.return=_,_=g;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===li&&um(S)===x.type){n(_,x.sibling),g=s(x,y.props),g.ref=Yr(_,x,y),g.return=_,_=g;break e}n(_,x);break}else e(_,x);x=x.sibling}y.type===$s?(g=ms(y.props.children,_.mode,w,y.key),g.return=_,_=g):(w=Vl(y.type,y.key,y.props,null,_.mode,w),w.ref=Yr(_,g,y),w.return=_,_=w)}return o(_);case Us:e:{for(x=y.key;g!==null;){if(g.key===x)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(_,g.sibling),g=s(g,y.children||[]),g.return=_,_=g;break e}else{n(_,g);break}else e(_,g);g=g.sibling}g=ud(y,_.mode,w),g.return=_,_=g}return o(_);case li:return x=y._init,v(_,g,x(y._payload),w)}if(lo(y))return p(_,g,y,w);if(Wr(y))return m(_,g,y,w);al(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(_,g.sibling),g=s(g,y),g.return=_,_=g):(n(_,g),g=cd(y,_.mode,w),g.return=_,_=g),o(_)):n(_,g)}return v}var _r=D0(!0),N0=D0(!1),pc=Wi(null),gc=null,Zs=null,Vf=null;function Hf(){Vf=Zs=gc=null}function Uf(t){var e=pc.current;Oe(pc),t._currentValue=e}function gh(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function lr(t,e){gc=t,Vf=Zs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Lt=!0),t.firstContext=null)}function sn(t){var e=t._currentValue;if(Vf!==t)if(t={context:t,memoizedValue:e,next:null},Zs===null){if(gc===null)throw Error(D(308));Zs=t,gc.dependencies={lanes:0,firstContext:t}}else Zs=Zs.next=t;return e}var us=null;function $f(t){us===null?us=[t]:us.push(t)}function O0(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,$f(e)):(n.next=s.next,s.next=n),e.interleaved=n,Xn(t,i)}function Xn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ci=!1;function Yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ci(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,fe&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Xn(t,n)}return s=i.interleaved,s===null?(e.next=e,$f(i)):(e.next=s.next,s.next=e),i.interleaved=e,Xn(t,n)}function Al(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Rf(t,n)}}function dm(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mc(t,e,n,i){var s=t.updateQueue;ci=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(r!==null){var d=s.baseState;o=0,u=c=l=null,a=r;do{var h=a.lane,f=a.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(h=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=He({},d,h);break e;case 2:ci=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);Ss|=o,t.lanes=o,t.memoizedState=d}}function hm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(D(191,s));s.call(i)}}}var Pa={},Pn=Wi(Pa),Xo=Wi(Pa),qo=Wi(Pa);function ds(t){if(t===Pa)throw Error(D(174));return t}function Kf(t,e){switch(Re(qo,e),Re(Xo,t),Re(Pn,Pa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qd(e,t)}Oe(Pn),Re(Pn,e)}function yr(){Oe(Pn),Oe(Xo),Oe(qo)}function A0(t){ds(qo.current);var e=ds(Pn.current),n=Qd(e,t.type);e!==n&&(Re(Xo,t),Re(Pn,n))}function Gf(t){Xo.current===t&&(Oe(Pn),Oe(Xo))}var We=Wi(0);function _c(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var id=[];function Qf(){for(var t=0;t<id.length;t++)id[t]._workInProgressVersionPrimary=null;id.length=0}var Fl=ti.ReactCurrentDispatcher,sd=ti.ReactCurrentBatchConfig,bs=0,Ve=null,et=null,ot=null,yc=!1,Co=!1,Jo=0,BC=0;function gt(){throw Error(D(321))}function Xf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vn(t[n],e[n]))return!1;return!0}function qf(t,e,n,i,s,r){if(bs=r,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fl.current=t===null||t.memoizedState===null?HC:UC,t=n(i,s),Co){r=0;do{if(Co=!1,Jo=0,25<=r)throw Error(D(301));r+=1,ot=et=null,e.updateQueue=null,Fl.current=$C,t=n(i,s)}while(Co)}if(Fl.current=vc,e=et!==null&&et.next!==null,bs=0,ot=et=Ve=null,yc=!1,e)throw Error(D(300));return t}function Jf(){var t=Jo!==0;return Jo=0,t}function Cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ve.memoizedState=ot=t:ot=ot.next=t,ot}function rn(){if(et===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var e=ot===null?Ve.memoizedState:ot.next;if(e!==null)ot=e,et=t;else{if(t===null)throw Error(D(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},ot===null?Ve.memoizedState=ot=t:ot=ot.next=t}return ot}function Zo(t,e){return typeof e=="function"?e(t):e}function rd(t){var e=rn(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var i=et,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var a=o=null,l=null,c=r;do{var u=c.lane;if((bs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Ve.lanes|=u,Ss|=u}c=c.next}while(c!==null&&c!==r);l===null?o=i:l.next=a,vn(i,e.memoizedState)||(Lt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,Ve.lanes|=r,Ss|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function od(t){var e=rn(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=t(r,o.action),o=o.next;while(o!==s);vn(r,e.memoizedState)||(Lt=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function F0(){}function z0(t,e){var n=Ve,i=rn(),s=e(),r=!vn(i.memoizedState,s);if(r&&(i.memoizedState=s,Lt=!0),i=i.queue,Zf(W0.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,ea(9,j0.bind(null,n,i,s,e),void 0,null),ct===null)throw Error(D(349));bs&30||B0(n,e,s)}return s}function B0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function j0(t,e,n,i){e.value=n,e.getSnapshot=i,V0(e)&&H0(t)}function W0(t,e,n){return n(function(){V0(e)&&H0(t)})}function V0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vn(t,n)}catch{return!0}}function H0(t){var e=Xn(t,1);e!==null&&mn(e,t,1,-1)}function fm(t){var e=Cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t},e.queue=t,t=t.dispatch=VC.bind(null,Ve,t),[e.memoizedState,t]}function ea(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function U0(){return rn().memoizedState}function zl(t,e,n,i){var s=Cn();Ve.flags|=t,s.memoizedState=ea(1|e,n,void 0,i===void 0?null:i)}function lu(t,e,n,i){var s=rn();i=i===void 0?null:i;var r=void 0;if(et!==null){var o=et.memoizedState;if(r=o.destroy,i!==null&&Xf(i,o.deps)){s.memoizedState=ea(e,n,r,i);return}}Ve.flags|=t,s.memoizedState=ea(1|e,n,r,i)}function pm(t,e){return zl(8390656,8,t,e)}function Zf(t,e){return lu(2048,8,t,e)}function $0(t,e){return lu(4,2,t,e)}function Y0(t,e){return lu(4,4,t,e)}function K0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function G0(t,e,n){return n=n!=null?n.concat([t]):null,lu(4,4,K0.bind(null,e,t),n)}function ep(){}function Q0(t,e){var n=rn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Xf(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function X0(t,e){var n=rn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Xf(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function q0(t,e,n){return bs&21?(vn(n,e)||(n=n0(),Ve.lanes|=n,Ss|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Lt=!0),t.memoizedState=n)}function jC(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var i=sd.transition;sd.transition={};try{t(!1),e()}finally{we=n,sd.transition=i}}function J0(){return rn().memoizedState}function WC(t,e,n){var i=ki(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Z0(t))ex(e,n);else if(n=O0(t,e,n,i),n!==null){var s=Pt();mn(n,t,i,s),tx(n,e,i)}}function VC(t,e,n){var i=ki(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Z0(t))ex(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(s.hasEagerState=!0,s.eagerState=a,vn(a,o)){var l=e.interleaved;l===null?(s.next=s,$f(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=O0(t,e,s,i),n!==null&&(s=Pt(),mn(n,t,i,s),tx(n,e,i))}}function Z0(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function ex(t,e){Co=yc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tx(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Rf(t,n)}}var vc={readContext:sn,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},HC={readContext:sn,useCallback:function(t,e){return Cn().memoizedState=[t,e===void 0?null:e],t},useContext:sn,useEffect:pm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zl(4194308,4,K0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zl(4194308,4,t,e)},useInsertionEffect:function(t,e){return zl(4,2,t,e)},useMemo:function(t,e){var n=Cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Cn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=WC.bind(null,Ve,t),[i.memoizedState,t]},useRef:function(t){var e=Cn();return t={current:t},e.memoizedState=t},useState:fm,useDebugValue:ep,useDeferredValue:function(t){return Cn().memoizedState=t},useTransition:function(){var t=fm(!1),e=t[0];return t=jC.bind(null,t[1]),Cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ve,s=Cn();if(ze){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),ct===null)throw Error(D(349));bs&30||B0(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,pm(W0.bind(null,i,r,t),[t]),i.flags|=2048,ea(9,j0.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=Cn(),e=ct.identifierPrefix;if(ze){var n=jn,i=Bn;n=(i&~(1<<32-gn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Jo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UC={readContext:sn,useCallback:Q0,useContext:sn,useEffect:Zf,useImperativeHandle:G0,useInsertionEffect:$0,useLayoutEffect:Y0,useMemo:X0,useReducer:rd,useRef:U0,useState:function(){return rd(Zo)},useDebugValue:ep,useDeferredValue:function(t){var e=rn();return q0(e,et.memoizedState,t)},useTransition:function(){var t=rd(Zo)[0],e=rn().memoizedState;return[t,e]},useMutableSource:F0,useSyncExternalStore:z0,useId:J0,unstable_isNewReconciler:!1},$C={readContext:sn,useCallback:Q0,useContext:sn,useEffect:Zf,useImperativeHandle:G0,useInsertionEffect:$0,useLayoutEffect:Y0,useMemo:X0,useReducer:od,useRef:U0,useState:function(){return od(Zo)},useDebugValue:ep,useDeferredValue:function(t){var e=rn();return et===null?e.memoizedState=t:q0(e,et.memoizedState,t)},useTransition:function(){var t=od(Zo)[0],e=rn().memoizedState;return[t,e]},useMutableSource:F0,useSyncExternalStore:z0,useId:J0,unstable_isNewReconciler:!1};function an(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mh(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cu={isMounted:function(t){return(t=t._reactInternals)?Ds(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Pt(),s=ki(t),r=$n(i,s);r.payload=e,n!=null&&(r.callback=n),e=Ci(t,r,s),e!==null&&(mn(e,t,s,i),Al(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Pt(),s=ki(t),r=$n(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Ci(t,r,s),e!==null&&(mn(e,t,s,i),Al(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),i=ki(t),s=$n(n,i);s.tag=2,e!=null&&(s.callback=e),e=Ci(t,s,i),e!==null&&(mn(e,t,i,n),Al(e,t,i))}};function gm(t,e,n,i,s,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!Yo(n,i)||!Yo(s,r):!0}function nx(t,e,n){var i=!1,s=Oi,r=e.contextType;return typeof r=="object"&&r!==null?r=sn(r):(s=zt(e)?xs:wt.current,i=e.contextTypes,r=(i=i!=null)?gr(t,s):Oi),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cu,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function mm(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&cu.enqueueReplaceState(e,e.state,null)}function _h(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Yf(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=sn(r):(r=zt(e)?xs:wt.current,s.context=gr(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(mh(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&cu.enqueueReplaceState(s,s.state,null),mc(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function vr(t,e){try{var n="",i=e;do n+=vS(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function ad(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YC=typeof WeakMap=="function"?WeakMap:Map;function ix(t,e,n){n=$n(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){wc||(wc=!0,Ph=i),yh(t,e)},n}function sx(t,e,n){n=$n(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){yh(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){yh(t,e),typeof i!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function _m(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new YC;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=oE.bind(null,t,e,n),e.then(t,t))}function ym(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vm(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$n(-1,1),e.tag=2,Ci(n,e,1))),n.lanes|=1),t)}var KC=ti.ReactCurrentOwner,Lt=!1;function Et(t,e,n,i){e.child=t===null?N0(e,null,n,i):_r(e,t.child,n,i)}function xm(t,e,n,i,s){n=n.render;var r=e.ref;return lr(e,s),i=qf(t,e,n,i,r,s),n=Jf(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qn(t,e,s)):(ze&&n&&Bf(e),e.flags|=1,Et(t,e,i,s),e.child)}function wm(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!lp(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,rx(t,e,r,i,s)):(t=Vl(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:Yo,n(o,i)&&t.ref===e.ref)return qn(t,e,s)}return e.flags|=1,t=Ti(r,i),t.ref=e.ref,t.return=e,e.child=t}function rx(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(Yo(r,i)&&t.ref===e.ref)if(Lt=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(Lt=!0);else return e.lanes=t.lanes,qn(t,e,s)}return vh(t,e,n,i,s)}function ox(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(tr,Vt),Vt|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(tr,Vt),Vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,Re(tr,Vt),Vt|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,Re(tr,Vt),Vt|=i;return Et(t,e,s,n),e.child}function ax(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vh(t,e,n,i,s){var r=zt(n)?xs:wt.current;return r=gr(e,r),lr(e,s),n=qf(t,e,n,i,r,s),i=Jf(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,qn(t,e,s)):(ze&&i&&Bf(e),e.flags|=1,Et(t,e,n,s),e.child)}function bm(t,e,n,i,s){if(zt(n)){var r=!0;dc(e)}else r=!1;if(lr(e,s),e.stateNode===null)Bl(t,e),nx(e,n,i),_h(e,n,i,s),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=sn(c):(c=zt(n)?xs:wt.current,c=gr(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&mm(e,o,i,c),ci=!1;var h=e.memoizedState;o.state=h,mc(e,i,o,s),l=e.memoizedState,a!==i||h!==l||Ft.current||ci?(typeof u=="function"&&(mh(e,n,u,i),l=e.memoizedState),(a=ci||gm(e,n,a,i,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,L0(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:an(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=sn(l):(l=zt(n)?xs:wt.current,l=gr(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&mm(e,o,i,l),ci=!1,h=e.memoizedState,o.state=h,mc(e,i,o,s);var p=e.memoizedState;a!==d||h!==p||Ft.current||ci?(typeof f=="function"&&(mh(e,n,f,i),p=e.memoizedState),(c=ci||gm(e,n,c,i,h,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),o.props=i,o.state=p,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return xh(t,e,n,i,r,s)}function xh(t,e,n,i,s,r){ax(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&am(e,n,!1),qn(t,e,r);i=e.stateNode,KC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=_r(e,t.child,null,r),e.child=_r(e,null,a,r)):Et(t,e,a,r),e.memoizedState=i.state,s&&am(e,n,!0),e.child}function lx(t){var e=t.stateNode;e.pendingContext?om(t,e.pendingContext,e.pendingContext!==e.context):e.context&&om(t,e.context,!1),Kf(t,e.containerInfo)}function Sm(t,e,n,i,s){return mr(),Wf(s),e.flags|=256,Et(t,e,n,i),e.child}var wh={dehydrated:null,treeContext:null,retryLane:0};function bh(t){return{baseLanes:t,cachePool:null,transitions:null}}function cx(t,e,n){var i=e.pendingProps,s=We.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Re(We,s&1),t===null)return ph(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=hu(o,i,0,null),t=ms(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=bh(n),e.memoizedState=wh,t):tp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return GC(t,e,o,i,a,s,n);if(r){r=i.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ti(s,l),i.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=Ti(a,r):(r=ms(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?bh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=wh,i}return r=t.child,t=r.sibling,i=Ti(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function tp(t,e){return e=hu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ll(t,e,n,i){return i!==null&&Wf(i),_r(e,t.child,null,n),t=tp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GC(t,e,n,i,s,r,o){if(n)return e.flags&256?(e.flags&=-257,i=ad(Error(D(422))),ll(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=hu({mode:"visible",children:i.children},s,0,null),r=ms(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&_r(e,t.child,null,o),e.child.memoizedState=bh(o),e.memoizedState=wh,r);if(!(e.mode&1))return ll(t,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var a=i.dgst;return i=a,r=Error(D(419)),i=ad(r,i,void 0),ll(t,e,o,i)}if(a=(o&t.childLanes)!==0,Lt||a){if(i=ct,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Xn(t,s),mn(i,t,s,-1))}return ap(),i=ad(Error(D(421))),ll(t,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=aE.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,$t=Si(s.nextSibling),Kt=e,ze=!0,un=null,t!==null&&(Zt[en++]=Bn,Zt[en++]=jn,Zt[en++]=ws,Bn=t.id,jn=t.overflow,ws=e),e=tp(e,i.children),e.flags|=4096,e)}function Cm(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),gh(t.return,e,n)}function ld(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function ux(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(Et(t,e,i.children,n),i=We.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cm(t,n,e);else if(t.tag===19)Cm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Re(We,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&_c(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ld(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&_c(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ld(e,!0,n,null,r);break;case"together":ld(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ss|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=Ti(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ti(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QC(t,e,n){switch(e.tag){case 3:lx(e),mr();break;case 5:A0(e);break;case 1:zt(e.type)&&dc(e);break;case 4:Kf(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Re(pc,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Re(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?cx(t,e,n):(Re(We,We.current&1),t=qn(t,e,n),t!==null?t.sibling:null);Re(We,We.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return ux(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(We,We.current),i)break;return null;case 22:case 23:return e.lanes=0,ox(t,e,n)}return qn(t,e,n)}var dx,Sh,hx,fx;dx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sh=function(){};hx=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,ds(Pn.current);var r=null;switch(n){case"input":s=$d(t,s),i=$d(t,i),r=[];break;case"select":s=He({},s,{value:void 0}),i=He({},i,{value:void 0}),r=[];break;case"textarea":s=Gd(t,s),i=Gd(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=cc)}Xd(n,i);var o;n=null;for(c in s)if(!i.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bo.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in i){var l=i[c];if(a=s!=null?s[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&De("scroll",t),r||a===l||(r=[])):(r=r||[]).push(c,l))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};fx=function(t,e,n,i){n!==i&&(e.flags|=4)};function Kr(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function mt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function XC(t,e,n){var i=e.pendingProps;switch(jf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(e),null;case 1:return zt(e.type)&&uc(),mt(e),null;case 3:return i=e.stateNode,yr(),Oe(Ft),Oe(wt),Qf(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(ol(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,un!==null&&(Rh(un),un=null))),Sh(t,e),mt(e),null;case 5:Gf(e);var s=ds(qo.current);if(n=e.type,t!==null&&e.stateNode!=null)hx(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(D(166));return mt(e),null}if(t=ds(Pn.current),ol(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[kn]=e,i[Qo]=r,t=(e.mode&1)!==0,n){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(s=0;s<uo.length;s++)De(uo[s],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":Ng(i,r),De("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},De("invalid",i);break;case"textarea":Lg(i,r),De("invalid",i)}Xd(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?i.textContent!==a&&(r.suppressHydrationWarning!==!0&&rl(i.textContent,a,t),s=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&rl(i.textContent,a,t),s=["children",""+a]):Bo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",i)}switch(n){case"input":qa(i),Og(i,r,!0);break;case"textarea":qa(i),Ag(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=cc)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[kn]=e,t[Qo]=i,dx(t,e,!1,!1),e.stateNode=t;e:{switch(o=qd(n,i),n){case"dialog":De("cancel",t),De("close",t),s=i;break;case"iframe":case"object":case"embed":De("load",t),s=i;break;case"video":case"audio":for(s=0;s<uo.length;s++)De(uo[s],t);s=i;break;case"source":De("error",t),s=i;break;case"img":case"image":case"link":De("error",t),De("load",t),s=i;break;case"details":De("toggle",t),s=i;break;case"input":Ng(t,i),s=$d(t,i),De("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=He({},i,{value:void 0}),De("invalid",t);break;case"textarea":Lg(t,i),s=Gd(t,i),De("invalid",t);break;default:s=i}Xd(n,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?Uv(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vv(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&jo(t,l):typeof l=="number"&&jo(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Bo.hasOwnProperty(r)?l!=null&&r==="onScroll"&&De("scroll",t):l!=null&&Ef(t,r,l,o))}switch(n){case"input":qa(t),Og(t,i,!1);break;case"textarea":qa(t),Ag(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Ni(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?sr(t,!!i.multiple,r,!1):i.defaultValue!=null&&sr(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=cc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mt(e),null;case 6:if(t&&e.stateNode!=null)fx(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(D(166));if(n=ds(qo.current),ds(Pn.current),ol(e)){if(i=e.stateNode,n=e.memoizedProps,i[kn]=e,(r=i.nodeValue!==n)&&(t=Kt,t!==null))switch(t.tag){case 3:rl(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rl(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[kn]=e,e.stateNode=i}return mt(e),null;case 13:if(Oe(We),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&$t!==null&&e.mode&1&&!(e.flags&128))R0(),mr(),e.flags|=98560,r=!1;else if(r=ol(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(D(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(D(317));r[kn]=e}else mr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mt(e),r=!1}else un!==null&&(Rh(un),un=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?it===0&&(it=3):ap())),e.updateQueue!==null&&(e.flags|=4),mt(e),null);case 4:return yr(),Sh(t,e),t===null&&Ko(e.stateNode.containerInfo),mt(e),null;case 10:return Uf(e.type._context),mt(e),null;case 17:return zt(e.type)&&uc(),mt(e),null;case 19:if(Oe(We),r=e.memoizedState,r===null)return mt(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)Kr(r,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_c(t),o!==null){for(e.flags|=128,Kr(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(We,We.current&1|2),e.child}t=t.sibling}r.tail!==null&&Qe()>xr&&(e.flags|=128,i=!0,Kr(r,!1),e.lanes=4194304)}else{if(!i)if(t=_c(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Kr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!ze)return mt(e),null}else 2*Qe()-r.renderingStartTime>xr&&n!==1073741824&&(e.flags|=128,i=!0,Kr(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Qe(),e.sibling=null,n=We.current,Re(We,i?n&1|2:n&1),e):(mt(e),null);case 22:case 23:return op(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Vt&1073741824&&(mt(e),e.subtreeFlags&6&&(e.flags|=8192)):mt(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function qC(t,e){switch(jf(e),e.tag){case 1:return zt(e.type)&&uc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yr(),Oe(Ft),Oe(wt),Qf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gf(e),null;case 13:if(Oe(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));mr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(We),null;case 4:return yr(),null;case 10:return Uf(e.type._context),null;case 22:case 23:return op(),null;case 24:return null;default:return null}}var cl=!1,yt=!1,JC=typeof WeakSet=="function"?WeakSet:Set,j=null;function er(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ye(t,e,i)}else n.current=null}function Ch(t,e,n){try{n()}catch(i){Ye(t,e,i)}}var Em=!1;function ZC(t,e){if(ah=oc,t=y0(),zf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==r||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===s&&(a=o),h===r&&++u===i&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(lh={focusedElem:t,selectionRange:n},oc=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,_=e.stateNode,g=_.getSnapshotBeforeUpdate(e.elementType===e.type?m:an(e.type,m),v);_.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(w){Ye(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return p=Em,Em=!1,p}function Eo(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&Ch(e,n,r)}s=s.next}while(s!==i)}}function uu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Eh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function px(t){var e=t.alternate;e!==null&&(t.alternate=null,px(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kn],delete e[Qo],delete e[dh],delete e[LC],delete e[AC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gx(t){return t.tag===5||t.tag===3||t.tag===4}function km(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kh(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cc));else if(i!==4&&(t=t.child,t!==null))for(kh(t,e,n),t=t.sibling;t!==null;)kh(t,e,n),t=t.sibling}function Th(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Th(t,e,n),t=t.sibling;t!==null;)Th(t,e,n),t=t.sibling}var dt=null,ln=!1;function oi(t,e,n){for(n=n.child;n!==null;)mx(t,e,n),n=n.sibling}function mx(t,e,n){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(nu,n)}catch{}switch(n.tag){case 5:yt||er(n,e);case 6:var i=dt,s=ln;dt=null,oi(t,e,n),dt=i,ln=s,dt!==null&&(ln?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(ln?(t=dt,n=n.stateNode,t.nodeType===8?td(t.parentNode,n):t.nodeType===1&&td(t,n),Uo(t)):td(dt,n.stateNode));break;case 4:i=dt,s=ln,dt=n.stateNode.containerInfo,ln=!0,oi(t,e,n),dt=i,ln=s;break;case 0:case 11:case 14:case 15:if(!yt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Ch(n,e,o),s=s.next}while(s!==i)}oi(t,e,n);break;case 1:if(!yt&&(er(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ye(n,e,a)}oi(t,e,n);break;case 21:oi(t,e,n);break;case 22:n.mode&1?(yt=(i=yt)||n.memoizedState!==null,oi(t,e,n),yt=i):oi(t,e,n);break;default:oi(t,e,n)}}function Tm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JC),e.forEach(function(i){var s=lE.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function on(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,ln=!1;break e;case 3:dt=a.stateNode.containerInfo,ln=!0;break e;case 4:dt=a.stateNode.containerInfo,ln=!0;break e}a=a.return}if(dt===null)throw Error(D(160));mx(r,o,s),dt=null,ln=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ye(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_x(e,t),e=e.sibling}function _x(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(on(e,t),bn(t),i&4){try{Eo(3,t,t.return),uu(3,t)}catch(m){Ye(t,t.return,m)}try{Eo(5,t,t.return)}catch(m){Ye(t,t.return,m)}}break;case 1:on(e,t),bn(t),i&512&&n!==null&&er(n,n.return);break;case 5:if(on(e,t),bn(t),i&512&&n!==null&&er(n,n.return),t.flags&32){var s=t.stateNode;try{jo(s,"")}catch(m){Ye(t,t.return,m)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&Bv(s,r),qd(a,o);var c=qd(a,r);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Uv(s,d):u==="dangerouslySetInnerHTML"?Vv(s,d):u==="children"?jo(s,d):Ef(s,u,d,c)}switch(a){case"input":Yd(s,r);break;case"textarea":jv(s,r);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var f=r.value;f!=null?sr(s,!!r.multiple,f,!1):h!==!!r.multiple&&(r.defaultValue!=null?sr(s,!!r.multiple,r.defaultValue,!0):sr(s,!!r.multiple,r.multiple?[]:"",!1))}s[Qo]=r}catch(m){Ye(t,t.return,m)}}break;case 6:if(on(e,t),bn(t),i&4){if(t.stateNode===null)throw Error(D(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(m){Ye(t,t.return,m)}}break;case 3:if(on(e,t),bn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Uo(e.containerInfo)}catch(m){Ye(t,t.return,m)}break;case 4:on(e,t),bn(t);break;case 13:on(e,t),bn(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(sp=Qe())),i&4&&Tm(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(yt=(c=yt)||u,on(e,t),yt=c):on(e,t),bn(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(j=t,u=t.child;u!==null;){for(d=j=u;j!==null;){switch(h=j,f=h.child,h.tag){case 0:case 11:case 14:case 15:Eo(4,h,h.return);break;case 1:er(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Ye(i,n,m)}}break;case 5:er(h,h.return);break;case 22:if(h.memoizedState!==null){Mm(d);continue}}f!==null?(f.return=h,j=f):Mm(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Hv("display",o))}catch(m){Ye(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Ye(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:on(e,t),bn(t),i&4&&Tm(t);break;case 21:break;default:on(e,t),bn(t)}}function bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gx(n)){var i=n;break e}n=n.return}throw Error(D(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(jo(s,""),i.flags&=-33);var r=km(t);Th(t,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,a=km(t);kh(t,a,o);break;default:throw Error(D(161))}}catch(l){Ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eE(t,e,n){j=t,yx(t)}function yx(t,e,n){for(var i=(t.mode&1)!==0;j!==null;){var s=j,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||cl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||yt;a=cl;var c=yt;if(cl=o,(yt=l)&&!c)for(j=s;j!==null;)o=j,l=o.child,o.tag===22&&o.memoizedState!==null?Im(s):l!==null?(l.return=o,j=l):Im(s);for(;r!==null;)j=r,yx(r),r=r.sibling;j=s,cl=a,yt=c}Pm(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,j=r):Pm(t)}}function Pm(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yt||uu(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!yt)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:an(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&hm(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}hm(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Uo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}yt||e.flags&512&&Eh(e)}catch(h){Ye(e,e.return,h)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function Mm(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function Im(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{uu(4,e)}catch(l){Ye(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(l){Ye(e,s,l)}}var r=e.return;try{Eh(e)}catch(l){Ye(e,r,l)}break;case 5:var o=e.return;try{Eh(e)}catch(l){Ye(e,o,l)}}}catch(l){Ye(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var tE=Math.ceil,xc=ti.ReactCurrentDispatcher,np=ti.ReactCurrentOwner,nn=ti.ReactCurrentBatchConfig,fe=0,ct=null,Ze=null,ft=0,Vt=0,tr=Wi(0),it=0,ta=null,Ss=0,du=0,ip=0,ko=null,Nt=null,sp=0,xr=1/0,Ln=null,wc=!1,Ph=null,Ei=null,ul=!1,fi=null,bc=0,To=0,Mh=null,jl=-1,Wl=0;function Pt(){return fe&6?Qe():jl!==-1?jl:jl=Qe()}function ki(t){return t.mode&1?fe&2&&ft!==0?ft&-ft:zC.transition!==null?(Wl===0&&(Wl=n0()),Wl):(t=we,t!==0||(t=window.event,t=t===void 0?16:c0(t.type)),t):1}function mn(t,e,n,i){if(50<To)throw To=0,Mh=null,Error(D(185));Ea(t,n,i),(!(fe&2)||t!==ct)&&(t===ct&&(!(fe&2)&&(du|=n),it===4&&di(t,ft)),Bt(t,i),n===1&&fe===0&&!(e.mode&1)&&(xr=Qe()+500,au&&Vi()))}function Bt(t,e){var n=t.callbackNode;zS(t,e);var i=rc(t,t===ct?ft:0);if(i===0)n!==null&&Bg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Bg(n),e===1)t.tag===0?FC(Rm.bind(null,t)):P0(Rm.bind(null,t)),NC(function(){!(fe&6)&&Vi()}),n=null;else{switch(i0(i)){case 1:n=If;break;case 4:n=e0;break;case 16:n=sc;break;case 536870912:n=t0;break;default:n=sc}n=kx(n,vx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vx(t,e){if(jl=-1,Wl=0,fe&6)throw Error(D(327));var n=t.callbackNode;if(cr()&&t.callbackNode!==n)return null;var i=rc(t,t===ct?ft:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Sc(t,i);else{e=i;var s=fe;fe|=2;var r=wx();(ct!==t||ft!==e)&&(Ln=null,xr=Qe()+500,gs(t,e));do try{sE();break}catch(a){xx(t,a)}while(!0);Hf(),xc.current=r,fe=s,Ze!==null?e=0:(ct=null,ft=0,e=it)}if(e!==0){if(e===2&&(s=nh(t),s!==0&&(i=s,e=Ih(t,s))),e===1)throw n=ta,gs(t,0),di(t,i),Bt(t,Qe()),n;if(e===6)di(t,i);else{if(s=t.current.alternate,!(i&30)&&!nE(s)&&(e=Sc(t,i),e===2&&(r=nh(t),r!==0&&(i=r,e=Ih(t,r))),e===1))throw n=ta,gs(t,0),di(t,i),Bt(t,Qe()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(D(345));case 2:ns(t,Nt,Ln);break;case 3:if(di(t,i),(i&130023424)===i&&(e=sp+500-Qe(),10<e)){if(rc(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){Pt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=uh(ns.bind(null,t,Nt,Ln),e);break}ns(t,Nt,Ln);break;case 4:if(di(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-gn(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=Qe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*tE(i/1960))-i,10<i){t.timeoutHandle=uh(ns.bind(null,t,Nt,Ln),i);break}ns(t,Nt,Ln);break;case 5:ns(t,Nt,Ln);break;default:throw Error(D(329))}}}return Bt(t,Qe()),t.callbackNode===n?vx.bind(null,t):null}function Ih(t,e){var n=ko;return t.current.memoizedState.isDehydrated&&(gs(t,e).flags|=256),t=Sc(t,e),t!==2&&(e=Nt,Nt=n,e!==null&&Rh(e)),t}function Rh(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function nE(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!vn(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function di(t,e){for(e&=~ip,e&=~du,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gn(e),i=1<<n;t[n]=-1,e&=~i}}function Rm(t){if(fe&6)throw Error(D(327));cr();var e=rc(t,0);if(!(e&1))return Bt(t,Qe()),null;var n=Sc(t,e);if(t.tag!==0&&n===2){var i=nh(t);i!==0&&(e=i,n=Ih(t,i))}if(n===1)throw n=ta,gs(t,0),di(t,e),Bt(t,Qe()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ns(t,Nt,Ln),Bt(t,Qe()),null}function rp(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(xr=Qe()+500,au&&Vi())}}function Cs(t){fi!==null&&fi.tag===0&&!(fe&6)&&cr();var e=fe;fe|=1;var n=nn.transition,i=we;try{if(nn.transition=null,we=1,t)return t()}finally{we=i,nn.transition=n,fe=e,!(fe&6)&&Vi()}}function op(){Vt=tr.current,Oe(tr)}function gs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,DC(n)),Ze!==null)for(n=Ze.return;n!==null;){var i=n;switch(jf(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&uc();break;case 3:yr(),Oe(Ft),Oe(wt),Qf();break;case 5:Gf(i);break;case 4:yr();break;case 13:Oe(We);break;case 19:Oe(We);break;case 10:Uf(i.type._context);break;case 22:case 23:op()}n=n.return}if(ct=t,Ze=t=Ti(t.current,null),ft=Vt=e,it=0,ta=null,ip=du=Ss=0,Nt=ko=null,us!==null){for(e=0;e<us.length;e++)if(n=us[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}us=null}return t}function xx(t,e){do{var n=Ze;try{if(Hf(),Fl.current=vc,yc){for(var i=Ve.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}yc=!1}if(bs=0,ot=et=Ve=null,Co=!1,Jo=0,np.current=null,n===null||n.return===null){it=1,ta=e,Ze=null;break}e:{var r=t,o=n.return,a=n,l=e;if(e=ft,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=ym(o);if(f!==null){f.flags&=-257,vm(f,o,a,r,e),f.mode&1&&_m(r,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){_m(r,c,e),ap();break e}l=Error(D(426))}}else if(ze&&a.mode&1){var v=ym(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),vm(v,o,a,r,e),Wf(vr(l,a));break e}}r=l=vr(l,a),it!==4&&(it=2),ko===null?ko=[r]:ko.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var _=ix(r,l,e);dm(r,_);break e;case 1:a=l;var g=r.type,y=r.stateNode;if(!(r.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ei===null||!Ei.has(y)))){r.flags|=65536,e&=-e,r.lanes|=e;var w=sx(r,a,e);dm(r,w);break e}}r=r.return}while(r!==null)}Sx(n)}catch(S){e=S,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function wx(){var t=xc.current;return xc.current=vc,t===null?vc:t}function ap(){(it===0||it===3||it===2)&&(it=4),ct===null||!(Ss&268435455)&&!(du&268435455)||di(ct,ft)}function Sc(t,e){var n=fe;fe|=2;var i=wx();(ct!==t||ft!==e)&&(Ln=null,gs(t,e));do try{iE();break}catch(s){xx(t,s)}while(!0);if(Hf(),fe=n,xc.current=i,Ze!==null)throw Error(D(261));return ct=null,ft=0,it}function iE(){for(;Ze!==null;)bx(Ze)}function sE(){for(;Ze!==null&&!MS();)bx(Ze)}function bx(t){var e=Ex(t.alternate,t,Vt);t.memoizedProps=t.pendingProps,e===null?Sx(t):Ze=e,np.current=null}function Sx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qC(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,Ze=null;return}}else if(n=XC(n,e,Vt),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);it===0&&(it=5)}function ns(t,e,n){var i=we,s=nn.transition;try{nn.transition=null,we=1,rE(t,e,n,i)}finally{nn.transition=s,we=i}return null}function rE(t,e,n,i){do cr();while(fi!==null);if(fe&6)throw Error(D(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(BS(t,r),t===ct&&(Ze=ct=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ul||(ul=!0,kx(sc,function(){return cr(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=nn.transition,nn.transition=null;var o=we;we=1;var a=fe;fe|=4,np.current=null,ZC(t,n),_x(n,t),EC(lh),oc=!!ah,lh=ah=null,t.current=n,eE(n),IS(),fe=a,we=o,nn.transition=r}else t.current=n;if(ul&&(ul=!1,fi=t,bc=s),r=t.pendingLanes,r===0&&(Ei=null),NS(n.stateNode),Bt(t,Qe()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(wc)throw wc=!1,t=Ph,Ph=null,t;return bc&1&&t.tag!==0&&cr(),r=t.pendingLanes,r&1?t===Mh?To++:(To=0,Mh=t):To=0,Vi(),null}function cr(){if(fi!==null){var t=i0(bc),e=nn.transition,n=we;try{if(nn.transition=null,we=16>t?16:t,fi===null)var i=!1;else{if(t=fi,fi=null,bc=0,fe&6)throw Error(D(331));var s=fe;for(fe|=4,j=t.current;j!==null;){var r=j,o=r.child;if(j.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(j=c;j!==null;){var u=j;switch(u.tag){case 0:case 11:case 15:Eo(8,u,r)}var d=u.child;if(d!==null)d.return=u,j=d;else for(;j!==null;){u=j;var h=u.sibling,f=u.return;if(px(u),u===c){j=null;break}if(h!==null){h.return=f,j=h;break}j=f}}}var p=r.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}j=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,j=o;else e:for(;j!==null;){if(r=j,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Eo(9,r,r.return)}var _=r.sibling;if(_!==null){_.return=r.return,j=_;break e}j=r.return}}var g=t.current;for(j=g;j!==null;){o=j;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,j=y;else e:for(o=g;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:uu(9,a)}}catch(S){Ye(a,a.return,S)}if(a===o){j=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,j=w;break e}j=a.return}}if(fe=s,Vi(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(nu,t)}catch{}i=!0}return i}finally{we=n,nn.transition=e}}return!1}function Dm(t,e,n){e=vr(n,e),e=ix(t,e,1),t=Ci(t,e,1),e=Pt(),t!==null&&(Ea(t,1,e),Bt(t,e))}function Ye(t,e,n){if(t.tag===3)Dm(t,t,n);else for(;e!==null;){if(e.tag===3){Dm(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ei===null||!Ei.has(i))){t=vr(n,t),t=sx(e,t,1),e=Ci(e,t,1),t=Pt(),e!==null&&(Ea(e,1,t),Bt(e,t));break}}e=e.return}}function oE(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,ct===t&&(ft&n)===n&&(it===4||it===3&&(ft&130023424)===ft&&500>Qe()-sp?gs(t,0):ip|=n),Bt(t,e)}function Cx(t,e){e===0&&(t.mode&1?(e=el,el<<=1,!(el&130023424)&&(el=4194304)):e=1);var n=Pt();t=Xn(t,e),t!==null&&(Ea(t,e,n),Bt(t,n))}function aE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Cx(t,n)}function lE(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(D(314))}i!==null&&i.delete(e),Cx(t,n)}var Ex;Ex=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ft.current)Lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Lt=!1,QC(t,e,n);Lt=!!(t.flags&131072)}else Lt=!1,ze&&e.flags&1048576&&M0(e,fc,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Bl(t,e),t=e.pendingProps;var s=gr(e,wt.current);lr(e,n),s=qf(null,e,i,t,s,n);var r=Jf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(i)?(r=!0,dc(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yf(e),s.updater=cu,e.stateNode=s,s._reactInternals=e,_h(e,i,t,n),e=xh(null,e,i,!0,r,n)):(e.tag=0,ze&&r&&Bf(e),Et(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Bl(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=uE(i),t=an(i,t),s){case 0:e=vh(null,e,i,t,n);break e;case 1:e=bm(null,e,i,t,n);break e;case 11:e=xm(null,e,i,t,n);break e;case 14:e=wm(null,e,i,an(i.type,t),n);break e}throw Error(D(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:an(i,s),vh(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:an(i,s),bm(t,e,i,s,n);case 3:e:{if(lx(e),t===null)throw Error(D(387));i=e.pendingProps,r=e.memoizedState,s=r.element,L0(t,e),mc(e,i,null,n);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=vr(Error(D(423)),e),e=Sm(t,e,i,n,s);break e}else if(i!==s){s=vr(Error(D(424)),e),e=Sm(t,e,i,n,s);break e}else for($t=Si(e.stateNode.containerInfo.firstChild),Kt=e,ze=!0,un=null,n=N0(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mr(),i===s){e=qn(t,e,n);break e}Et(t,e,i,n)}e=e.child}return e;case 5:return A0(e),t===null&&ph(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,o=s.children,ch(i,s)?o=null:r!==null&&ch(i,r)&&(e.flags|=32),ax(t,e),Et(t,e,o,n),e.child;case 6:return t===null&&ph(e),null;case 13:return cx(t,e,n);case 4:return Kf(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=_r(e,null,i,n):Et(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:an(i,s),xm(t,e,i,s,n);case 7:return Et(t,e,e.pendingProps,n),e.child;case 8:return Et(t,e,e.pendingProps.children,n),e.child;case 12:return Et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,Re(pc,i._currentValue),i._currentValue=o,r!==null)if(vn(r.value,o)){if(r.children===s.children&&!Ft.current){e=qn(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(r.tag===1){l=$n(-1,n&-n),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),gh(r.return,n,e),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),gh(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Et(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,lr(e,n),s=sn(s),i=i(s),e.flags|=1,Et(t,e,i,n),e.child;case 14:return i=e.type,s=an(i,e.pendingProps),s=an(i.type,s),wm(t,e,i,s,n);case 15:return rx(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:an(i,s),Bl(t,e),e.tag=1,zt(i)?(t=!0,dc(e)):t=!1,lr(e,n),nx(e,i,s),_h(e,i,s,n),xh(null,e,i,!0,t,n);case 19:return ux(t,e,n);case 22:return ox(t,e,n)}throw Error(D(156,e.tag))};function kx(t,e){return Zv(t,e)}function cE(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,e,n,i){return new cE(t,e,n,i)}function lp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uE(t){if(typeof t=="function")return lp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tf)return 11;if(t===Pf)return 14}return 2}function Ti(t,e){var n=t.alternate;return n===null?(n=tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vl(t,e,n,i,s,r){var o=2;if(i=t,typeof t=="function")lp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $s:return ms(n.children,s,r,e);case kf:o=8,s|=8;break;case Wd:return t=tn(12,n,e,s|2),t.elementType=Wd,t.lanes=r,t;case Vd:return t=tn(13,n,e,s),t.elementType=Vd,t.lanes=r,t;case Hd:return t=tn(19,n,e,s),t.elementType=Hd,t.lanes=r,t;case Av:return hu(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ov:o=10;break e;case Lv:o=9;break e;case Tf:o=11;break e;case Pf:o=14;break e;case li:o=16,i=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=tn(o,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function ms(t,e,n,i){return t=tn(7,t,i,e),t.lanes=n,t}function hu(t,e,n,i){return t=tn(22,t,i,e),t.elementType=Av,t.lanes=n,t.stateNode={isHidden:!1},t}function cd(t,e,n){return t=tn(6,t,null,e),t.lanes=n,t}function ud(t,e,n){return e=tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dE(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uu(0),this.expirationTimes=Uu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uu(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function cp(t,e,n,i,s,r,o,a,l){return t=new dE(t,e,n,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=tn(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yf(r),t}function hE(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Tx(t){if(!t)return Oi;t=t._reactInternals;e:{if(Ds(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(zt(n))return T0(t,n,e)}return e}function Px(t,e,n,i,s,r,o,a,l){return t=cp(n,i,!0,t,s,r,o,a,l),t.context=Tx(null),n=t.current,i=Pt(),s=ki(n),r=$n(i,s),r.callback=e??null,Ci(n,r,s),t.current.lanes=s,Ea(t,s,i),Bt(t,i),t}function fu(t,e,n,i){var s=e.current,r=Pt(),o=ki(s);return n=Tx(n),e.context===null?e.context=n:e.pendingContext=n,e=$n(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Ci(s,e,o),t!==null&&(mn(t,s,o,r),Al(t,s,o)),o}function Cc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function up(t,e){Nm(t,e),(t=t.alternate)&&Nm(t,e)}function fE(){return null}var Mx=typeof reportError=="function"?reportError:function(t){console.error(t)};function dp(t){this._internalRoot=t}pu.prototype.render=dp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));fu(t,e,null,null)};pu.prototype.unmount=dp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Cs(function(){fu(null,t,null,null)}),e[Qn]=null}};function pu(t){this._internalRoot=t}pu.prototype.unstable_scheduleHydration=function(t){if(t){var e=o0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ui.length&&e!==0&&e<ui[n].priority;n++);ui.splice(n,0,t),n===0&&l0(t)}};function hp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Om(){}function pE(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var c=Cc(o);r.call(c)}}var o=Px(e,i,t,0,null,!1,!1,"",Om);return t._reactRootContainer=o,t[Qn]=o.current,Ko(t.nodeType===8?t.parentNode:t),Cs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var a=i;i=function(){var c=Cc(l);a.call(c)}}var l=cp(t,0,!1,null,null,!1,!1,"",Om);return t._reactRootContainer=l,t[Qn]=l.current,Ko(t.nodeType===8?t.parentNode:t),Cs(function(){fu(e,l,n,i)}),l}function mu(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var a=s;s=function(){var l=Cc(o);a.call(l)}}fu(e,o,t,s)}else o=pE(n,e,t,s,i);return Cc(o)}s0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=co(e.pendingLanes);n!==0&&(Rf(e,n|1),Bt(e,Qe()),!(fe&6)&&(xr=Qe()+500,Vi()))}break;case 13:Cs(function(){var i=Xn(t,1);if(i!==null){var s=Pt();mn(i,t,1,s)}}),up(t,1)}};Df=function(t){if(t.tag===13){var e=Xn(t,134217728);if(e!==null){var n=Pt();mn(e,t,134217728,n)}up(t,134217728)}};r0=function(t){if(t.tag===13){var e=ki(t),n=Xn(t,e);if(n!==null){var i=Pt();mn(n,t,e,i)}up(t,e)}};o0=function(){return we};a0=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};Zd=function(t,e,n){switch(e){case"input":if(Yd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=ou(i);if(!s)throw Error(D(90));zv(i),Yd(i,s)}}}break;case"textarea":jv(t,n);break;case"select":e=n.value,e!=null&&sr(t,!!n.multiple,e,!1)}};Kv=rp;Gv=Cs;var gE={usingClientEntryPoint:!1,Events:[Ta,Qs,ou,$v,Yv,rp]},Gr={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mE={bundleType:Gr.bundleType,version:Gr.version,rendererPackageName:Gr.rendererPackageName,rendererConfig:Gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qv(t),t===null?null:t.stateNode},findFiberByHostInstance:Gr.findFiberByHostInstance||fE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{nu=dl.inject(mE),Tn=dl}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gE;Xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hp(e))throw Error(D(200));return hE(t,e,null,n)};Xt.createRoot=function(t,e){if(!hp(t))throw Error(D(299));var n=!1,i="",s=Mx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=cp(t,1,!1,null,null,n,!1,i,s),t[Qn]=e.current,Ko(t.nodeType===8?t.parentNode:t),new dp(e)};Xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=qv(e),t=t===null?null:t.stateNode,t};Xt.flushSync=function(t){return Cs(t)};Xt.hydrate=function(t,e,n){if(!gu(e))throw Error(D(200));return mu(null,t,e,!0,n)};Xt.hydrateRoot=function(t,e,n){if(!hp(t))throw Error(D(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=Mx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Px(e,null,t,1,n??null,s,!1,r,o),t[Qn]=e.current,Ko(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new pu(e)};Xt.render=function(t,e,n){if(!gu(e))throw Error(D(200));return mu(null,t,e,!1,n)};Xt.unmountComponentAtNode=function(t){if(!gu(t))throw Error(D(40));return t._reactRootContainer?(Cs(function(){mu(null,null,t,!1,function(){t._reactRootContainer=null,t[Qn]=null})}),!0):!1};Xt.unstable_batchedUpdates=rp;Xt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!gu(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return mu(t,e,n,!1,i)};Xt.version="18.3.1-next-f1338f8080-20240426";function Ix(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ix)}catch(t){console.error(t)}}Ix(),Iv.exports=Xt;var fp=Iv.exports;const _E=yv(fp),yE=_v({__proto__:null,default:_E},[fp]);var Rx,Lm=fp;Rx=Lm.createRoot,Lm.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fe(){return Fe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fe.apply(this,arguments)}var Je;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Je||(Je={}));const Am="popstate";function vE(t){t===void 0&&(t={});function e(i,s){let{pathname:r,search:o,hash:a}=i.location;return na("",{pathname:r,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:Es(s)}return wE(e,n,null,t)}function se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xE(){return Math.random().toString(36).substr(2,8)}function Fm(t,e){return{usr:t.state,key:t.key,idx:e}}function na(t,e,n,i){return n===void 0&&(n=null),Fe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hi(e):e,{state:n,key:e&&e.key||i||xE()})}function Es(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Hi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function wE(t,e,n,i){i===void 0&&(i={});let{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,a=Je.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Fe({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Je.Pop;let v=u(),_=v==null?null:v-c;c=v,l&&l({action:a,location:m.location,delta:_})}function h(v,_){a=Je.Push;let g=na(m.location,v,_);c=u()+1;let y=Fm(g,c),w=m.createHref(g);try{o.pushState(y,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(w)}r&&l&&l({action:a,location:m.location,delta:1})}function f(v,_){a=Je.Replace;let g=na(m.location,v,_);c=u();let y=Fm(g,c),w=m.createHref(g);o.replaceState(y,"",w),r&&l&&l({action:a,location:m.location,delta:0})}function p(v){let _=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof v=="string"?v:Es(v);return g=g.replace(/ $/,"%20"),se(_,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,_)}let m={get action(){return a},get location(){return t(s,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Am,d),l=v,()=>{s.removeEventListener(Am,d),l=null}},createHref(v){return e(s,v)},createURL:p,encodeLocation(v){let _=p(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:f,go(v){return o.go(v)}};return m}var Se;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Se||(Se={}));const bE=new Set(["lazy","caseSensitive","path","id","index","children"]);function SE(t){return t.index===!0}function Ec(t,e,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),t.map((s,r)=>{let o=[...n,String(r)],a=typeof s.id=="string"?s.id:o.join("-");if(se(s.index!==!0||!s.children,"Cannot specify children on an index route"),se(!i[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),SE(s)){let l=Fe({},s,e(s),{id:a});return i[a]=l,l}else{let l=Fe({},s,e(s),{id:a,children:void 0});return i[a]=l,s.children&&(l.children=Ec(s.children,e,o,i)),l}})}function as(t,e,n){return n===void 0&&(n="/"),Hl(t,e,n,!1)}function Hl(t,e,n,i){let s=typeof e=="string"?Hi(e):e,r=Jn(s.pathname||"/",n);if(r==null)return null;let o=Dx(t);EE(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=AE(r);a=OE(o[l],c,i)}return a}function CE(t,e){let{route:n,pathname:i,params:s}=t;return{id:n.id,pathname:i,params:s,data:e[n.id],handle:n.handle}}function Dx(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let s=(r,o,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&(se(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Yn([i,l.relativePath]),u=n.concat(l);r.children&&r.children.length>0&&(se(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Dx(r.children,e,u,c)),!(r.path==null&&!r.index)&&e.push({path:c,score:DE(c,r.index),routesMeta:u})};return t.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))s(r,o);else for(let l of Nx(r.path))s(r,o,l)}),e}function Nx(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let o=Nx(i.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function EE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NE(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const kE=/^:[\w-]+$/,TE=3,PE=2,ME=1,IE=10,RE=-2,zm=t=>t==="*";function DE(t,e){let n=t.split("/"),i=n.length;return n.some(zm)&&(i+=RE),e&&(i+=PE),n.filter(s=>!zm(s)).reduce((s,r)=>s+(kE.test(r)?TE:r===""?ME:IE),i)}function NE(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function OE(t,e,n){n===void 0&&(n=!1);let{routesMeta:i}=t,s={},r="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,u=r==="/"?e:e.slice(r.length)||"/",d=kc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!i[i.length-1].route.index&&(d=kc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Yn([r,d.pathname]),pathnameBase:BE(Yn([r,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(r=Yn([r,d.pathnameBase]))}return o}function kc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=LE(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:i.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let m=a[d]||"";o=r.slice(0,r.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:r,pathnameBase:o,pattern:t}}function LE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),wr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function AE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wr(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Jn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function FE(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?Hi(t):t;return{pathname:n?n.startsWith("/")?n:zE(n,e):e,search:jE(i),hash:WE(s)}}function zE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function dd(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ox(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pp(t,e){let n=Ox(t);return e?n.map((i,s)=>s===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function gp(t,e,n,i){i===void 0&&(i=!1);let s;typeof t=="string"?s=Hi(t):(s=Fe({},t),se(!s.pathname||!s.pathname.includes("?"),dd("?","pathname","search",s)),se(!s.pathname||!s.pathname.includes("#"),dd("#","pathname","hash",s)),se(!s.search||!s.search.includes("#"),dd("#","search","hash",s)));let r=t===""||s.pathname==="",o=r?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!i&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=FE(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(r||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Yn=t=>t.join("/").replace(/\/\/+/g,"/"),BE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Tc{constructor(e,n,i,s){s===void 0&&(s=!1),this.status=e,this.statusText=n||"",this.internal=s,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function _u(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Lx=["post","put","patch","delete"],VE=new Set(Lx),HE=["get",...Lx],UE=new Set(HE),$E=new Set([301,302,303,307,308]),YE=new Set([307,308]),hd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},KE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Qr={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},mp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GE=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Ax="remix-router-transitions";function QE(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!n;se(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let C=t.detectErrorBoundary;s=k=>({hasErrorBoundary:C(k)})}else s=GE;let r={},o=Ec(t.routes,s,void 0,r),a,l=t.basename||"/",c=t.dataStrategy||ZE,u=t.patchRoutesOnNavigation,d=Fe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),h=null,f=new Set,p=null,m=null,v=null,_=t.hydrationData!=null,g=as(o,t.history.location,l),y=null;if(g==null&&!u){let C=Dt(404,{pathname:t.history.location.pathname}),{matches:k,route:T}=Qm(o);g=k,y={[T.id]:C}}g&&!t.hydrationData&&$a(g,o,t.history.location.pathname).active&&(g=null);let w;if(g)if(g.some(C=>C.route.lazy))w=!1;else if(!g.some(C=>C.route.loader))w=!0;else if(d.v7_partialHydration){let C=t.hydrationData?t.hydrationData.loaderData:null,k=t.hydrationData?t.hydrationData.errors:null;if(k){let T=g.findIndex(R=>k[R.route.id]!==void 0);w=g.slice(0,T+1).every(R=>!Nh(R.route,C,k))}else w=g.every(T=>!Nh(T.route,C,k))}else w=t.hydrationData!=null;else if(w=!1,g=[],d.v7_partialHydration){let C=$a(null,o,t.history.location.pathname);C.active&&C.matches&&(g=C.matches)}let S,x={historyAction:t.history.action,location:t.history.location,matches:g,initialized:w,navigation:hd,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},E=Je.Pop,b=!1,P,I=!1,A=new Map,B=null,X=!1,ee=!1,q=[],ie=new Set,G=new Map,N=0,z=-1,$=new Map,J=new Set,te=new Map,ve=new Map,oe=new Set,be=new Map,_e=new Map,St;function Ou(){if(h=t.history.listen(C=>{let{action:k,location:T,delta:R}=C;if(St){St(),St=void 0;return}wr(_e.size===0||R!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let W=Sg({currentLocation:x.location,nextLocation:T,historyAction:k});if(W&&R!=null){let Y=new Promise(Z=>{St=Z});t.history.go(R*-1),Ua(W,{state:"blocked",location:T,proceed(){Ua(W,{state:"proceeding",proceed:void 0,reset:void 0,location:T}),Y.then(()=>t.history.go(R))},reset(){let Z=new Map(x.blockers);Z.set(W,Qr),Ct({blockers:Z})}});return}return Gi(k,T)}),n){fk(e,A);let C=()=>pk(e,A);e.addEventListener("pagehide",C),B=()=>e.removeEventListener("pagehide",C)}return x.initialized||Gi(Je.Pop,x.location,{initialHydration:!0}),S}function Tb(){h&&h(),B&&B(),f.clear(),P&&P.abort(),x.fetchers.forEach((C,k)=>Ha(k)),x.blockers.forEach((C,k)=>bg(k))}function Pb(C){return f.add(C),()=>f.delete(C)}function Ct(C,k){k===void 0&&(k={}),x=Fe({},x,C);let T=[],R=[];d.v7_fetcherPersist&&x.fetchers.forEach((W,Y)=>{W.state==="idle"&&(oe.has(Y)?R.push(Y):T.push(Y))}),[...f].forEach(W=>W(x,{deletedFetchers:R,viewTransitionOpts:k.viewTransitionOpts,flushSync:k.flushSync===!0})),d.v7_fetcherPersist&&(T.forEach(W=>x.fetchers.delete(W)),R.forEach(W=>Ha(W)))}function Ls(C,k,T){var R,W;let{flushSync:Y}=T===void 0?{}:T,Z=x.actionData!=null&&x.navigation.formMethod!=null&&cn(x.navigation.formMethod)&&x.navigation.state==="loading"&&((R=C.state)==null?void 0:R._isRedirect)!==!0,H;k.actionData?Object.keys(k.actionData).length>0?H=k.actionData:H=null:Z?H=x.actionData:H=null;let U=k.loaderData?Km(x.loaderData,k.loaderData,k.matches||[],k.errors):x.loaderData,V=x.blockers;V.size>0&&(V=new Map(V),V.forEach((he,ut)=>V.set(ut,Qr)));let K=b===!0||x.navigation.formMethod!=null&&cn(x.navigation.formMethod)&&((W=C.state)==null?void 0:W._isRedirect)!==!0;a&&(o=a,a=void 0),X||E===Je.Pop||(E===Je.Push?t.history.push(C,C.state):E===Je.Replace&&t.history.replace(C,C.state));let ce;if(E===Je.Pop){let he=A.get(x.location.pathname);he&&he.has(C.pathname)?ce={currentLocation:x.location,nextLocation:C}:A.has(C.pathname)&&(ce={currentLocation:C,nextLocation:x.location})}else if(I){let he=A.get(x.location.pathname);he?he.add(C.pathname):(he=new Set([C.pathname]),A.set(x.location.pathname,he)),ce={currentLocation:x.location,nextLocation:C}}Ct(Fe({},k,{actionData:H,loaderData:U,historyAction:E,location:C,initialized:!0,navigation:hd,revalidation:"idle",restoreScrollPosition:Eg(C,k.matches||x.matches),preventScrollReset:K,blockers:V}),{viewTransitionOpts:ce,flushSync:Y===!0}),E=Je.Pop,b=!1,I=!1,X=!1,ee=!1,q=[]}async function gg(C,k){if(typeof C=="number"){t.history.go(C);return}let T=Dh(x.location,x.matches,l,d.v7_prependBasename,C,d.v7_relativeSplatPath,k==null?void 0:k.fromRouteId,k==null?void 0:k.relative),{path:R,submission:W,error:Y}=Bm(d.v7_normalizeFormMethod,!1,T,k),Z=x.location,H=na(x.location,R,k&&k.state);H=Fe({},H,t.history.encodeLocation(H));let U=k&&k.replace!=null?k.replace:void 0,V=Je.Push;U===!0?V=Je.Replace:U===!1||W!=null&&cn(W.formMethod)&&W.formAction===x.location.pathname+x.location.search&&(V=Je.Replace);let K=k&&"preventScrollReset"in k?k.preventScrollReset===!0:void 0,ce=(k&&k.flushSync)===!0,he=Sg({currentLocation:Z,nextLocation:H,historyAction:V});if(he){Ua(he,{state:"blocked",location:H,proceed(){Ua(he,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),gg(C,k)},reset(){let ut=new Map(x.blockers);ut.set(he,Qr),Ct({blockers:ut})}});return}return await Gi(V,H,{submission:W,pendingError:Y,preventScrollReset:K,replace:k&&k.replace,enableViewTransition:k&&k.viewTransition,flushSync:ce})}function Mb(){if(Lu(),Ct({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){Gi(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}Gi(E||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:I===!0})}}async function Gi(C,k,T){P&&P.abort(),P=null,E=C,X=(T&&T.startUninterruptedRevalidation)===!0,Bb(x.location,x.matches),b=(T&&T.preventScrollReset)===!0,I=(T&&T.enableViewTransition)===!0;let R=a||o,W=T&&T.overrideNavigation,Y=as(R,k,l),Z=(T&&T.flushSync)===!0,H=$a(Y,R,k.pathname);if(H.active&&H.matches&&(Y=H.matches),!Y){let{error:ke,notFoundMatches:ye,route:Ue}=Au(k.pathname);Ls(k,{matches:ye,loaderData:{},errors:{[Ue.id]:ke}},{flushSync:Z});return}if(x.initialized&&!ee&&rk(x.location,k)&&!(T&&T.submission&&cn(T.submission.formMethod))){Ls(k,{matches:Y},{flushSync:Z});return}P=new AbortController;let U=js(t.history,k,P.signal,T&&T.submission),V;if(T&&T.pendingError)V=[ls(Y).route.id,{type:Se.error,error:T.pendingError}];else if(T&&T.submission&&cn(T.submission.formMethod)){let ke=await Ib(U,k,T.submission,Y,H.active,{replace:T.replace,flushSync:Z});if(ke.shortCircuited)return;if(ke.pendingActionResult){let[ye,Ue]=ke.pendingActionResult;if(Ht(Ue)&&_u(Ue.error)&&Ue.error.status===404){P=null,Ls(k,{matches:ke.matches,loaderData:{},errors:{[ye]:Ue.error}});return}}Y=ke.matches||Y,V=ke.pendingActionResult,W=fd(k,T.submission),Z=!1,H.active=!1,U=js(t.history,U.url,U.signal)}let{shortCircuited:K,matches:ce,loaderData:he,errors:ut}=await Rb(U,k,Y,H.active,W,T&&T.submission,T&&T.fetcherSubmission,T&&T.replace,T&&T.initialHydration===!0,Z,V);K||(P=null,Ls(k,Fe({matches:ce||Y},Gm(V),{loaderData:he,errors:ut})))}async function Ib(C,k,T,R,W,Y){Y===void 0&&(Y={}),Lu();let Z=dk(k,T);if(Ct({navigation:Z},{flushSync:Y.flushSync===!0}),W){let V=await Ya(R,k.pathname,C.signal);if(V.type==="aborted")return{shortCircuited:!0};if(V.type==="error"){let K=ls(V.partialMatches).route.id;return{matches:V.partialMatches,pendingActionResult:[K,{type:Se.error,error:V.error}]}}else if(V.matches)R=V.matches;else{let{notFoundMatches:K,error:ce,route:he}=Au(k.pathname);return{matches:K,pendingActionResult:[he.id,{type:Se.error,error:ce}]}}}let H,U=ho(R,k);if(!U.route.action&&!U.route.lazy)H={type:Se.error,error:Dt(405,{method:C.method,pathname:k.pathname,routeId:U.route.id})};else if(H=(await Fr("action",x,C,[U],R,null))[U.route.id],C.signal.aborted)return{shortCircuited:!0};if(hs(H)){let V;return Y&&Y.replace!=null?V=Y.replace:V=Um(H.response.headers.get("Location"),new URL(C.url),l)===x.location.pathname+x.location.search,await Qi(C,H,!0,{submission:T,replace:V}),{shortCircuited:!0}}if(pi(H))throw Dt(400,{type:"defer-action"});if(Ht(H)){let V=ls(R,U.route.id);return(Y&&Y.replace)!==!0&&(E=Je.Push),{matches:R,pendingActionResult:[V.route.id,H]}}return{matches:R,pendingActionResult:[U.route.id,H]}}async function Rb(C,k,T,R,W,Y,Z,H,U,V,K){let ce=W||fd(k,Y),he=Y||Z||qm(ce),ut=!X&&(!d.v7_partialHydration||!U);if(R){if(ut){let $e=mg(K);Ct(Fe({navigation:ce},$e!==void 0?{actionData:$e}:{}),{flushSync:V})}let ge=await Ya(T,k.pathname,C.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){let $e=ls(ge.partialMatches).route.id;return{matches:ge.partialMatches,loaderData:{},errors:{[$e]:ge.error}}}else if(ge.matches)T=ge.matches;else{let{error:$e,notFoundMatches:Fs,route:jr}=Au(k.pathname);return{matches:Fs,loaderData:{},errors:{[jr.id]:$e}}}}let ke=a||o,[ye,Ue]=Wm(t.history,x,T,he,k,d.v7_partialHydration&&U===!0,d.v7_skipActionErrorRevalidation,ee,q,ie,oe,te,J,ke,l,K);if(Fu(ge=>!(T&&T.some($e=>$e.route.id===ge))||ye&&ye.some($e=>$e.route.id===ge)),z=++N,ye.length===0&&Ue.length===0){let ge=xg();return Ls(k,Fe({matches:T,loaderData:{},errors:K&&Ht(K[1])?{[K[0]]:K[1].error}:null},Gm(K),ge?{fetchers:new Map(x.fetchers)}:{}),{flushSync:V}),{shortCircuited:!0}}if(ut){let ge={};if(!R){ge.navigation=ce;let $e=mg(K);$e!==void 0&&(ge.actionData=$e)}Ue.length>0&&(ge.fetchers=Db(Ue)),Ct(ge,{flushSync:V})}Ue.forEach(ge=>{ri(ge.key),ge.controller&&G.set(ge.key,ge.controller)});let As=()=>Ue.forEach(ge=>ri(ge.key));P&&P.signal.addEventListener("abort",As);let{loaderResults:zr,fetcherResults:Rn}=await _g(x,T,ye,Ue,C);if(C.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",As),Ue.forEach(ge=>G.delete(ge.key));let wn=hl(zr);if(wn)return await Qi(C,wn.result,!0,{replace:H}),{shortCircuited:!0};if(wn=hl(Rn),wn)return J.add(wn.key),await Qi(C,wn.result,!0,{replace:H}),{shortCircuited:!0};let{loaderData:zu,errors:Br}=Ym(x,T,zr,K,Ue,Rn,be);be.forEach((ge,$e)=>{ge.subscribe(Fs=>{(Fs||ge.done)&&be.delete($e)})}),d.v7_partialHydration&&U&&x.errors&&(Br=Fe({},x.errors,Br));let Xi=xg(),Ka=wg(z),Ga=Xi||Ka||Ue.length>0;return Fe({matches:T,loaderData:zu,errors:Br},Ga?{fetchers:new Map(x.fetchers)}:{})}function mg(C){if(C&&!Ht(C[1]))return{[C[0]]:C[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function Db(C){return C.forEach(k=>{let T=x.fetchers.get(k.key),R=Xr(void 0,T?T.data:void 0);x.fetchers.set(k.key,R)}),new Map(x.fetchers)}function Nb(C,k,T,R){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ri(C);let W=(R&&R.flushSync)===!0,Y=a||o,Z=Dh(x.location,x.matches,l,d.v7_prependBasename,T,d.v7_relativeSplatPath,k,R==null?void 0:R.relative),H=as(Y,Z,l),U=$a(H,Y,Z);if(U.active&&U.matches&&(H=U.matches),!H){In(C,k,Dt(404,{pathname:Z}),{flushSync:W});return}let{path:V,submission:K,error:ce}=Bm(d.v7_normalizeFormMethod,!0,Z,R);if(ce){In(C,k,ce,{flushSync:W});return}let he=ho(H,V),ut=(R&&R.preventScrollReset)===!0;if(K&&cn(K.formMethod)){Ob(C,k,V,he,H,U.active,W,ut,K);return}te.set(C,{routeId:k,path:V}),Lb(C,k,V,he,H,U.active,W,ut,K)}async function Ob(C,k,T,R,W,Y,Z,H,U){Lu(),te.delete(C);function V(qe){if(!qe.route.action&&!qe.route.lazy){let zs=Dt(405,{method:U.formMethod,pathname:T,routeId:k});return In(C,k,zs,{flushSync:Z}),!0}return!1}if(!Y&&V(R))return;let K=x.fetchers.get(C);si(C,hk(U,K),{flushSync:Z});let ce=new AbortController,he=js(t.history,T,ce.signal,U);if(Y){let qe=await Ya(W,T,he.signal);if(qe.type==="aborted")return;if(qe.type==="error"){In(C,k,qe.error,{flushSync:Z});return}else if(qe.matches){if(W=qe.matches,R=ho(W,T),V(R))return}else{In(C,k,Dt(404,{pathname:T}),{flushSync:Z});return}}G.set(C,ce);let ut=N,ye=(await Fr("action",x,he,[R],W,C))[R.route.id];if(he.signal.aborted){G.get(C)===ce&&G.delete(C);return}if(d.v7_fetcherPersist&&oe.has(C)){if(hs(ye)||Ht(ye)){si(C,ai(void 0));return}}else{if(hs(ye))if(G.delete(C),z>ut){si(C,ai(void 0));return}else return J.add(C),si(C,Xr(U)),Qi(he,ye,!1,{fetcherSubmission:U,preventScrollReset:H});if(Ht(ye)){In(C,k,ye.error);return}}if(pi(ye))throw Dt(400,{type:"defer-action"});let Ue=x.navigation.location||x.location,As=js(t.history,Ue,ce.signal),zr=a||o,Rn=x.navigation.state!=="idle"?as(zr,x.navigation.location,l):x.matches;se(Rn,"Didn't find any matches after fetcher action");let wn=++N;$.set(C,wn);let zu=Xr(U,ye.data);x.fetchers.set(C,zu);let[Br,Xi]=Wm(t.history,x,Rn,U,Ue,!1,d.v7_skipActionErrorRevalidation,ee,q,ie,oe,te,J,zr,l,[R.route.id,ye]);Xi.filter(qe=>qe.key!==C).forEach(qe=>{let zs=qe.key,kg=x.fetchers.get(zs),Vb=Xr(void 0,kg?kg.data:void 0);x.fetchers.set(zs,Vb),ri(zs),qe.controller&&G.set(zs,qe.controller)}),Ct({fetchers:new Map(x.fetchers)});let Ka=()=>Xi.forEach(qe=>ri(qe.key));ce.signal.addEventListener("abort",Ka);let{loaderResults:Ga,fetcherResults:ge}=await _g(x,Rn,Br,Xi,As);if(ce.signal.aborted)return;ce.signal.removeEventListener("abort",Ka),$.delete(C),G.delete(C),Xi.forEach(qe=>G.delete(qe.key));let $e=hl(Ga);if($e)return Qi(As,$e.result,!1,{preventScrollReset:H});if($e=hl(ge),$e)return J.add($e.key),Qi(As,$e.result,!1,{preventScrollReset:H});let{loaderData:Fs,errors:jr}=Ym(x,Rn,Ga,void 0,Xi,ge,be);if(x.fetchers.has(C)){let qe=ai(ye.data);x.fetchers.set(C,qe)}wg(wn),x.navigation.state==="loading"&&wn>z?(se(E,"Expected pending action"),P&&P.abort(),Ls(x.navigation.location,{matches:Rn,loaderData:Fs,errors:jr,fetchers:new Map(x.fetchers)})):(Ct({errors:jr,loaderData:Km(x.loaderData,Fs,Rn,jr),fetchers:new Map(x.fetchers)}),ee=!1)}async function Lb(C,k,T,R,W,Y,Z,H,U){let V=x.fetchers.get(C);si(C,Xr(U,V?V.data:void 0),{flushSync:Z});let K=new AbortController,ce=js(t.history,T,K.signal);if(Y){let ye=await Ya(W,T,ce.signal);if(ye.type==="aborted")return;if(ye.type==="error"){In(C,k,ye.error,{flushSync:Z});return}else if(ye.matches)W=ye.matches,R=ho(W,T);else{In(C,k,Dt(404,{pathname:T}),{flushSync:Z});return}}G.set(C,K);let he=N,ke=(await Fr("loader",x,ce,[R],W,C))[R.route.id];if(pi(ke)&&(ke=await _p(ke,ce.signal,!0)||ke),G.get(C)===K&&G.delete(C),!ce.signal.aborted){if(oe.has(C)){si(C,ai(void 0));return}if(hs(ke))if(z>he){si(C,ai(void 0));return}else{J.add(C),await Qi(ce,ke,!1,{preventScrollReset:H});return}if(Ht(ke)){In(C,k,ke.error);return}se(!pi(ke),"Unhandled fetcher deferred data"),si(C,ai(ke.data))}}async function Qi(C,k,T,R){let{submission:W,fetcherSubmission:Y,preventScrollReset:Z,replace:H}=R===void 0?{}:R;k.response.headers.has("X-Remix-Revalidate")&&(ee=!0);let U=k.response.headers.get("Location");se(U,"Expected a Location header on the redirect Response"),U=Um(U,new URL(C.url),l);let V=na(x.location,U,{_isRedirect:!0});if(n){let ye=!1;if(k.response.headers.has("X-Remix-Reload-Document"))ye=!0;else if(mp.test(U)){const Ue=t.history.createURL(U);ye=Ue.origin!==e.location.origin||Jn(Ue.pathname,l)==null}if(ye){H?e.location.replace(U):e.location.assign(U);return}}P=null;let K=H===!0||k.response.headers.has("X-Remix-Replace")?Je.Replace:Je.Push,{formMethod:ce,formAction:he,formEncType:ut}=x.navigation;!W&&!Y&&ce&&he&&ut&&(W=qm(x.navigation));let ke=W||Y;if(YE.has(k.response.status)&&ke&&cn(ke.formMethod))await Gi(K,V,{submission:Fe({},ke,{formAction:U}),preventScrollReset:Z||b,enableViewTransition:T?I:void 0});else{let ye=fd(V,W);await Gi(K,V,{overrideNavigation:ye,fetcherSubmission:Y,preventScrollReset:Z||b,enableViewTransition:T?I:void 0})}}async function Fr(C,k,T,R,W,Y){let Z,H={};try{Z=await ek(c,C,k,T,R,W,Y,r,s)}catch(U){return R.forEach(V=>{H[V.route.id]={type:Se.error,error:U}}),H}for(let[U,V]of Object.entries(Z))if(ok(V)){let K=V.result;H[U]={type:Se.redirect,response:ik(K,T,U,W,l,d.v7_relativeSplatPath)}}else H[U]=await nk(V);return H}async function _g(C,k,T,R,W){let Y=C.matches,Z=Fr("loader",C,W,T,k,null),H=Promise.all(R.map(async K=>{if(K.matches&&K.match&&K.controller){let he=(await Fr("loader",C,js(t.history,K.path,K.controller.signal),[K.match],K.matches,K.key))[K.match.route.id];return{[K.key]:he}}else return Promise.resolve({[K.key]:{type:Se.error,error:Dt(404,{pathname:K.path})}})})),U=await Z,V=(await H).reduce((K,ce)=>Object.assign(K,ce),{});return await Promise.all([ck(k,U,W.signal,Y,C.loaderData),uk(k,V,R)]),{loaderResults:U,fetcherResults:V}}function Lu(){ee=!0,q.push(...Fu()),te.forEach((C,k)=>{G.has(k)&&ie.add(k),ri(k)})}function si(C,k,T){T===void 0&&(T={}),x.fetchers.set(C,k),Ct({fetchers:new Map(x.fetchers)},{flushSync:(T&&T.flushSync)===!0})}function In(C,k,T,R){R===void 0&&(R={});let W=ls(x.matches,k);Ha(C),Ct({errors:{[W.route.id]:T},fetchers:new Map(x.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function yg(C){return d.v7_fetcherPersist&&(ve.set(C,(ve.get(C)||0)+1),oe.has(C)&&oe.delete(C)),x.fetchers.get(C)||KE}function Ha(C){let k=x.fetchers.get(C);G.has(C)&&!(k&&k.state==="loading"&&$.has(C))&&ri(C),te.delete(C),$.delete(C),J.delete(C),oe.delete(C),ie.delete(C),x.fetchers.delete(C)}function Ab(C){if(d.v7_fetcherPersist){let k=(ve.get(C)||0)-1;k<=0?(ve.delete(C),oe.add(C)):ve.set(C,k)}else Ha(C);Ct({fetchers:new Map(x.fetchers)})}function ri(C){let k=G.get(C);k&&(k.abort(),G.delete(C))}function vg(C){for(let k of C){let T=yg(k),R=ai(T.data);x.fetchers.set(k,R)}}function xg(){let C=[],k=!1;for(let T of J){let R=x.fetchers.get(T);se(R,"Expected fetcher: "+T),R.state==="loading"&&(J.delete(T),C.push(T),k=!0)}return vg(C),k}function wg(C){let k=[];for(let[T,R]of $)if(R<C){let W=x.fetchers.get(T);se(W,"Expected fetcher: "+T),W.state==="loading"&&(ri(T),$.delete(T),k.push(T))}return vg(k),k.length>0}function Fb(C,k){let T=x.blockers.get(C)||Qr;return _e.get(C)!==k&&_e.set(C,k),T}function bg(C){x.blockers.delete(C),_e.delete(C)}function Ua(C,k){let T=x.blockers.get(C)||Qr;se(T.state==="unblocked"&&k.state==="blocked"||T.state==="blocked"&&k.state==="blocked"||T.state==="blocked"&&k.state==="proceeding"||T.state==="blocked"&&k.state==="unblocked"||T.state==="proceeding"&&k.state==="unblocked","Invalid blocker state transition: "+T.state+" -> "+k.state);let R=new Map(x.blockers);R.set(C,k),Ct({blockers:R})}function Sg(C){let{currentLocation:k,nextLocation:T,historyAction:R}=C;if(_e.size===0)return;_e.size>1&&wr(!1,"A router only supports one blocker at a time");let W=Array.from(_e.entries()),[Y,Z]=W[W.length-1],H=x.blockers.get(Y);if(!(H&&H.state==="proceeding")&&Z({currentLocation:k,nextLocation:T,historyAction:R}))return Y}function Au(C){let k=Dt(404,{pathname:C}),T=a||o,{matches:R,route:W}=Qm(T);return Fu(),{notFoundMatches:R,route:W,error:k}}function Fu(C){let k=[];return be.forEach((T,R)=>{(!C||C(R))&&(T.cancel(),k.push(R),be.delete(R))}),k}function zb(C,k,T){if(p=C,v=k,m=T||null,!_&&x.navigation===hd){_=!0;let R=Eg(x.location,x.matches);R!=null&&Ct({restoreScrollPosition:R})}return()=>{p=null,v=null,m=null}}function Cg(C,k){return m&&m(C,k.map(R=>CE(R,x.loaderData)))||C.key}function Bb(C,k){if(p&&v){let T=Cg(C,k);p[T]=v()}}function Eg(C,k){if(p){let T=Cg(C,k),R=p[T];if(typeof R=="number")return R}return null}function $a(C,k,T){if(u)if(C){if(Object.keys(C[0].params).length>0)return{active:!0,matches:Hl(k,T,l,!0)}}else return{active:!0,matches:Hl(k,T,l,!0)||[]};return{active:!1,matches:null}}async function Ya(C,k,T){if(!u)return{type:"success",matches:C};let R=C;for(;;){let W=a==null,Y=a||o,Z=r;try{await u({path:k,matches:R,patch:(V,K)=>{T.aborted||Hm(V,K,Y,Z,s)}})}catch(V){return{type:"error",error:V,partialMatches:R}}finally{W&&!T.aborted&&(o=[...o])}if(T.aborted)return{type:"aborted"};let H=as(Y,k,l);if(H)return{type:"success",matches:H};let U=Hl(Y,k,l,!0);if(!U||R.length===U.length&&R.every((V,K)=>V.route.id===U[K].route.id))return{type:"success",matches:null};R=U}}function jb(C){r={},a=Ec(C,s,void 0,r)}function Wb(C,k){let T=a==null;Hm(C,k,a||o,r,s),T&&(o=[...o],Ct({}))}return S={get basename(){return l},get future(){return d},get state(){return x},get routes(){return o},get window(){return e},initialize:Ou,subscribe:Pb,enableScrollRestoration:zb,navigate:gg,fetch:Nb,revalidate:Mb,createHref:C=>t.history.createHref(C),encodeLocation:C=>t.history.encodeLocation(C),getFetcher:yg,deleteFetcher:Ab,dispose:Tb,getBlocker:Fb,deleteBlocker:bg,patchRoutes:Wb,_internalFetchControllers:G,_internalActiveDeferreds:be,_internalSetRoutes:jb},S}function XE(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Dh(t,e,n,i,s,r,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=gp(s||".",pp(l,r),Jn(t.pathname,n)||t.pathname,a==="path");if(s==null&&(u.search=t.search,u.hash=t.hash),(s==null||s===""||s===".")&&c){let d=yp(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let h=new URLSearchParams(u.search),f=h.getAll("index");h.delete("index"),f.filter(m=>m).forEach(m=>h.append("index",m));let p=h.toString();u.search=p?"?"+p:""}}return i&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Yn([n,u.pathname])),Es(u)}function Bm(t,e,n,i){if(!i||!XE(i))return{path:n};if(i.formMethod&&!lk(i.formMethod))return{path:n,error:Dt(405,{method:i.formMethod})};let s=()=>({path:n,error:Dt(400,{type:"invalid-body"})}),r=i.formMethod||"get",o=t?r.toUpperCase():r.toLowerCase(),a=Bx(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!cn(o))return s();let h=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((f,p)=>{let[m,v]=p;return""+f+m+"="+v+`
`},""):String(i.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:void 0,text:h}}}else if(i.formEncType==="application/json"){if(!cn(o))return s();try{let h=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:i.formEncType,formData:void 0,json:h,text:void 0}}}catch{return s()}}}se(typeof FormData=="function","FormData is not available in this environment");let l,c;if(i.formData)l=Oh(i.formData),c=i.formData;else if(i.body instanceof FormData)l=Oh(i.body),c=i.body;else if(i.body instanceof URLSearchParams)l=i.body,c=$m(l);else if(i.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(i.body),c=$m(l)}catch{return s()}let u={formMethod:o,formAction:a,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(cn(u.formMethod))return{path:n,submission:u};let d=Hi(n);return e&&d.search&&yp(d.search)&&l.append("index",""),d.search="?"+l,{path:Es(d),submission:u}}function jm(t,e,n){n===void 0&&(n=!1);let i=t.findIndex(s=>s.route.id===e);return i>=0?t.slice(0,n?i+1:i):t}function Wm(t,e,n,i,s,r,o,a,l,c,u,d,h,f,p,m){let v=m?Ht(m[1])?m[1].error:m[1].data:void 0,_=t.createURL(e.location),g=t.createURL(s),y=n;r&&e.errors?y=jm(n,Object.keys(e.errors)[0],!0):m&&Ht(m[1])&&(y=jm(n,m[0]));let w=m?m[1].statusCode:void 0,S=o&&w&&w>=400,x=y.filter((b,P)=>{let{route:I}=b;if(I.lazy)return!0;if(I.loader==null)return!1;if(r)return Nh(I,e.loaderData,e.errors);if(qE(e.loaderData,e.matches[P],b)||l.some(X=>X===b.route.id))return!0;let A=e.matches[P],B=b;return Vm(b,Fe({currentUrl:_,currentParams:A.params,nextUrl:g,nextParams:B.params},i,{actionResult:v,actionStatus:w,defaultShouldRevalidate:S?!1:a||_.pathname+_.search===g.pathname+g.search||_.search!==g.search||Fx(A,B)}))}),E=[];return d.forEach((b,P)=>{if(r||!n.some(ee=>ee.route.id===b.routeId)||u.has(P))return;let I=as(f,b.path,p);if(!I){E.push({key:P,routeId:b.routeId,path:b.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(P),B=ho(I,b.path),X=!1;h.has(P)?X=!1:c.has(P)?(c.delete(P),X=!0):A&&A.state!=="idle"&&A.data===void 0?X=a:X=Vm(B,Fe({currentUrl:_,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params},i,{actionResult:v,actionStatus:w,defaultShouldRevalidate:S?!1:a})),X&&E.push({key:P,routeId:b.routeId,path:b.path,matches:I,match:B,controller:new AbortController})}),[x,E]}function Nh(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&e[t.id]!==void 0,s=n!=null&&n[t.id]!==void 0;return!i&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!s}function qE(t,e,n){let i=!e||n.route.id!==e.route.id,s=t[n.route.id]===void 0;return i||s}function Fx(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Vm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Hm(t,e,n,i,s){var r;let o;if(t){let c=i[t];se(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(u=>zx(c,u))),l=Ec(a,s,[t||"_","patch",String(((r=o)==null?void 0:r.length)||"0")],i);o.push(...l)}function zx(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>{var s;return(s=e.children)==null?void 0:s.some(r=>zx(n,r))}):!1}async function JE(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let s=n[t.id];se(s,"No route found in manifest");let r={};for(let o in i){let l=s[o]!==void 0&&o!=="hasErrorBoundary";wr(!l,'Route "'+s.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!bE.has(o)&&(r[o]=i[o])}Object.assign(s,r),Object.assign(s,Fe({},e(s),{lazy:void 0}))}async function ZE(t){let{matches:e}=t,n=e.filter(s=>s.shouldLoad);return(await Promise.all(n.map(s=>s.resolve()))).reduce((s,r,o)=>Object.assign(s,{[n[o].route.id]:r}),{})}async function ek(t,e,n,i,s,r,o,a,l,c){let u=r.map(f=>f.route.lazy?JE(f.route,l,a):void 0),d=r.map((f,p)=>{let m=u[p],v=s.some(g=>g.route.id===f.route.id);return Fe({},f,{shouldLoad:v,resolve:async g=>(g&&i.method==="GET"&&(f.route.lazy||f.route.loader)&&(v=!0),v?tk(e,i,f,m,g,c):Promise.resolve({type:Se.data,result:void 0}))})}),h=await t({matches:d,request:i,params:r[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return h}async function tk(t,e,n,i,s,r){let o,a,l=c=>{let u,d=new Promise((p,m)=>u=m);a=()=>u(),e.signal.addEventListener("abort",a);let h=p=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:r},...p!==void 0?[p]:[]),f=(async()=>{try{return{type:"data",result:await(s?s(m=>h(m)):h())}}catch(p){return{type:"error",result:p}}})();return Promise.race([f,d])};try{let c=n.route[t];if(i)if(c){let u,[d]=await Promise.all([l(c).catch(h=>{u=h}),i]);if(u!==void 0)throw u;o=d}else if(await i,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw Dt(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:Se.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw Dt(404,{pathname:d})}se(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Se.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function nk(t){let{result:e,type:n}=t;if(jx(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:Se.error,error:u}}return n===Se.error?{type:Se.error,error:new Tc(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Se.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Se.error){if(Xm(e)){var i;if(e.data instanceof Error){var s;return{type:Se.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status}}e=new Tc(((i=e.init)==null?void 0:i.status)||500,void 0,e.data)}return{type:Se.error,error:e,statusCode:_u(e)?e.status:void 0}}if(ak(e)){var r,o;return{type:Se.deferred,deferredData:e,statusCode:(r=e.init)==null?void 0:r.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Xm(e)){var a,l;return{type:Se.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Se.data,data:e}}function ik(t,e,n,i,s,r){let o=t.headers.get("Location");if(se(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!mp.test(o)){let a=i.slice(0,i.findIndex(l=>l.route.id===n)+1);o=Dh(new URL(e.url),a,s,!0,o,r),t.headers.set("Location",o)}return t}function Um(t,e,n){if(mp.test(t)){let i=t,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),r=Jn(s.pathname,n)!=null;if(s.origin===e.origin&&r)return s.pathname+s.search+s.hash}return t}function js(t,e,n,i){let s=t.createURL(Bx(e)).toString(),r={signal:n};if(i&&cn(i.formMethod)){let{formMethod:o,formEncType:a}=i;r.method=o.toUpperCase(),a==="application/json"?(r.headers=new Headers({"Content-Type":a}),r.body=JSON.stringify(i.json)):a==="text/plain"?r.body=i.text:a==="application/x-www-form-urlencoded"&&i.formData?r.body=Oh(i.formData):r.body=i.formData}return new Request(s,r)}function Oh(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function $m(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function sk(t,e,n,i,s){let r={},o=null,a,l=!1,c={},u=n&&Ht(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let h=d.route.id,f=e[h];if(se(!hs(f),"Cannot handle redirect results in processLoaderData"),Ht(f)){let p=f.error;u!==void 0&&(p=u,u=void 0),o=o||{};{let m=ls(t,h);o[m.route.id]==null&&(o[m.route.id]=p)}r[h]=void 0,l||(l=!0,a=_u(f.error)?f.error.status:500),f.headers&&(c[h]=f.headers)}else pi(f)?(i.set(h,f.deferredData),r[h]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(c[h]=f.headers)):(r[h]=f.data,f.statusCode&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(c[h]=f.headers))}),u!==void 0&&n&&(o={[n[0]]:u},r[n[0]]=void 0),{loaderData:r,errors:o,statusCode:a||200,loaderHeaders:c}}function Ym(t,e,n,i,s,r,o){let{loaderData:a,errors:l}=sk(e,n,i,o);return s.forEach(c=>{let{key:u,match:d,controller:h}=c,f=r[u];if(se(f,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Ht(f)){let p=ls(t.matches,d==null?void 0:d.route.id);l&&l[p.route.id]||(l=Fe({},l,{[p.route.id]:f.error})),t.fetchers.delete(u)}else if(hs(f))se(!1,"Unhandled fetcher revalidation redirect");else if(pi(f))se(!1,"Unhandled fetcher deferred data");else{let p=ai(f.data);t.fetchers.set(u,p)}}),{loaderData:a,errors:l}}function Km(t,e,n,i){let s=Fe({},e);for(let r of n){let o=r.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(s[o]=e[o]):t[o]!==void 0&&r.route.loader&&(s[o]=t[o]),i&&i.hasOwnProperty(o))break}return s}function Gm(t){return t?Ht(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function ls(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function Qm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Dt(t,e){let{pathname:n,routeId:i,method:s,type:r,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",s&&n&&i?l="You made a "+s+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":r==="defer-action"?l="defer() is not supported in actions":r==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+i+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",s&&n&&i?l="You made a "+s.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":s&&(l='Invalid request method "'+s.toUpperCase()+'"')),new Tc(t||500,a,new Error(l),!0)}function hl(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,s]=e[n];if(hs(s))return{key:i,result:s}}}function Bx(t){let e=typeof t=="string"?Hi(t):t;return Es(Fe({},e,{hash:""}))}function rk(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ok(t){return jx(t.result)&&$E.has(t.result.status)}function pi(t){return t.type===Se.deferred}function Ht(t){return t.type===Se.error}function hs(t){return(t&&t.type)===Se.redirect}function Xm(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function ak(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function jx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function lk(t){return UE.has(t.toLowerCase())}function cn(t){return VE.has(t.toLowerCase())}async function ck(t,e,n,i,s){let r=Object.entries(e);for(let o=0;o<r.length;o++){let[a,l]=r[o],c=t.find(h=>(h==null?void 0:h.route.id)===a);if(!c)continue;let u=i.find(h=>h.route.id===c.route.id),d=u!=null&&!Fx(u,c)&&(s&&s[c.route.id])!==void 0;pi(l)&&d&&await _p(l,n,!1).then(h=>{h&&(e[a]=h)})}}async function uk(t,e,n){for(let i=0;i<n.length;i++){let{key:s,routeId:r,controller:o}=n[i],a=e[s];t.find(c=>(c==null?void 0:c.route.id)===r)&&pi(a)&&(se(o,"Expected an AbortController for revalidating fetcher deferred result"),await _p(a,o.signal,!0).then(c=>{c&&(e[s]=c)}))}}async function _p(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Se.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Se.error,error:s}}return{type:Se.data,data:t.deferredData.data}}}function yp(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ho(t,e){let n=typeof e=="string"?Hi(e).search:e.search;if(t[t.length-1].route.index&&yp(n||""))return t[t.length-1];let i=Ox(t);return i[i.length-1]}function qm(t){let{formMethod:e,formAction:n,formEncType:i,text:s,formData:r,json:o}=t;if(!(!e||!n||!i)){if(s!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:s};if(r!=null)return{formMethod:e,formAction:n,formEncType:i,formData:r,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:o,text:void 0}}}function fd(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function dk(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Xr(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function hk(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ai(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function fk(t,e){try{let n=t.sessionStorage.getItem(Ax);if(n){let i=JSON.parse(n);for(let[s,r]of Object.entries(i||{}))r&&Array.isArray(r)&&e.set(s,new Set(r||[]))}}catch{}}function pk(t,e){if(e.size>0){let n={};for(let[i,s]of e)n[i]=[...s];try{t.sessionStorage.setItem(Ax,JSON.stringify(n))}catch(i){wr(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pc.apply(this,arguments)}const Ma=M.createContext(null),vp=M.createContext(null),Ui=M.createContext(null),xp=M.createContext(null),$i=M.createContext({outlet:null,matches:[],isDataRoute:!1}),Wx=M.createContext(null);function gk(t,e){let{relative:n}=e===void 0?{}:e;Ia()||se(!1);let{basename:i,navigator:s}=M.useContext(Ui),{hash:r,pathname:o,search:a}=yu(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Yn([i,o])),s.createHref({pathname:l,search:a,hash:r})}function Ia(){return M.useContext(xp)!=null}function Nr(){return Ia()||se(!1),M.useContext(xp).location}function Vx(t){M.useContext(Ui).static||M.useLayoutEffect(t)}function Hx(){let{isDataRoute:t}=M.useContext($i);return t?Mk():mk()}function mk(){Ia()||se(!1);let t=M.useContext(Ma),{basename:e,future:n,navigator:i}=M.useContext(Ui),{matches:s}=M.useContext($i),{pathname:r}=Nr(),o=JSON.stringify(pp(s,n.v7_relativeSplatPath)),a=M.useRef(!1);return Vx(()=>{a.current=!0}),M.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let d=gp(c,JSON.parse(o),r,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Yn([e,d.pathname])),(u.replace?i.replace:i.push)(d,u.state,u)},[e,i,o,r,t])}const _k=M.createContext(null);function yk(t){let e=M.useContext($i).outlet;return e&&M.createElement(_k.Provider,{value:t},e)}function yu(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=M.useContext(Ui),{matches:s}=M.useContext($i),{pathname:r}=Nr(),o=JSON.stringify(pp(s,i.v7_relativeSplatPath));return M.useMemo(()=>gp(t,JSON.parse(o),r,n==="path"),[t,o,r,n])}function vk(t,e,n,i){Ia()||se(!1);let{navigator:s}=M.useContext(Ui),{matches:r}=M.useContext($i),o=r[r.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Nr(),u;u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let m=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(m.length).join("/")}let f=as(t,{pathname:h});return Ck(f&&f.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:Yn([l,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:Yn([l,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),r,n,i)}function xk(){let t=Pk(),e=_u(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:s},n):null,null)}const wk=M.createElement(xk,null);class bk extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement($i.Provider,{value:this.props.routeContext},M.createElement(Wx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sk(t){let{routeContext:e,match:n,children:i}=t,s=M.useContext(Ma);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement($i.Provider,{value:e},i)}function Ck(t,e,n,i){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var r;if(!n)return null;if(n.errors)t=n.matches;else if((r=i)!=null&&r.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||se(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,p=!1,m=null,v=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||wk,l&&(c<0&&h===0?(Ik("route-fallback"),p=!0,v=null):c===h&&(p=!0,v=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,h+1)),g=()=>{let y;return f?y=m:p?y=v:d.route.Component?y=M.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=u,M.createElement(Sk,{match:d,routeContext:{outlet:u,matches:_,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?M.createElement(bk,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:g(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):g()},null)}var Ux=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Ux||{}),Mc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Mc||{});function Ek(t){let e=M.useContext(Ma);return e||se(!1),e}function kk(t){let e=M.useContext(vp);return e||se(!1),e}function Tk(t){let e=M.useContext($i);return e||se(!1),e}function $x(t){let e=Tk(),n=e.matches[e.matches.length-1];return n.route.id||se(!1),n.route.id}function Pk(){var t;let e=M.useContext(Wx),n=kk(Mc.UseRouteError),i=$x(Mc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function Mk(){let{router:t}=Ek(Ux.UseNavigateStable),e=$x(Mc.UseNavigateStable),n=M.useRef(!1);return Vx(()=>{n.current=!0}),M.useCallback(function(s,r){r===void 0&&(r={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Pc({fromRouteId:e},r)))},[t,e])}const Jm={};function Ik(t,e,n){Jm[t]||(Jm[t]=!0)}function Rk(t){return yk(t.context)}function Dk(t){let{basename:e="/",children:n=null,location:i,navigationType:s=Je.Pop,navigator:r,static:o=!1,future:a}=t;Ia()&&se(!1);let l=e.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:l,navigator:r,static:o,future:Pc({v7_relativeSplatPath:!1},a)}),[l,a,r,o]);typeof i=="string"&&(i=Hi(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=i,m=M.useMemo(()=>{let v=Jn(u,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:p},navigationType:s}},[l,u,d,h,f,p,s]);return m==null?null:M.createElement(Ui.Provider,{value:c},M.createElement(xp.Provider,{children:n,value:m}))}new Promise(()=>{});function Nk(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:M.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:M.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:M.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function br(){return br=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},br.apply(this,arguments)}function Yx(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,r;for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Ok(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Lk(t,e){return t.button===0&&(!e||e==="_self")&&!Ok(t)}const Ak=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Fk=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],zk="6";try{window.__reactRouterVersion=zk}catch{}function Bk(t,e){return QE({basename:e==null?void 0:e.basename,future:br({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:vE({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||jk(),routes:t,mapRouteProperties:Nk,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function jk(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=br({},e,{errors:Wk(e.errors)})),e}function Wk(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")n[i]=new Tc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let r=window[s.__subType];if(typeof r=="function")try{let o=new r(s.message);o.stack="",n[i]=o}catch{}}if(n[i]==null){let r=new Error(s.message);r.stack="",n[i]=r}}else n[i]=s;return n}const Kx=M.createContext({isTransitioning:!1}),Vk=M.createContext(new Map),Hk="startTransition",Zm=oS[Hk],Uk="flushSync",e_=yE[Uk];function $k(t){Zm?Zm(t):t()}function qr(t){e_?e_(t):t()}let Yk=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function Kk(t){let{fallbackElement:e,router:n,future:i}=t,[s,r]=M.useState(n.state),[o,a]=M.useState(),[l,c]=M.useState({isTransitioning:!1}),[u,d]=M.useState(),[h,f]=M.useState(),[p,m]=M.useState(),v=M.useRef(new Map),{v7_startTransition:_}=i||{},g=M.useCallback(b=>{_?$k(b):b()},[_]),y=M.useCallback((b,P)=>{let{deletedFetchers:I,flushSync:A,viewTransitionOpts:B}=P;I.forEach(ee=>v.current.delete(ee)),b.fetchers.forEach((ee,q)=>{ee.data!==void 0&&v.current.set(q,ee.data)});let X=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!B||X){A?qr(()=>r(b)):g(()=>r(b));return}if(A){qr(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let ee=n.window.document.startViewTransition(()=>{qr(()=>r(b))});ee.finished.finally(()=>{qr(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})})}),qr(()=>f(ee));return}h?(u&&u.resolve(),h.skipTransition(),m({state:b,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(a(b),c({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[n.window,h,u,v,g]);M.useLayoutEffect(()=>n.subscribe(y),[n,y]),M.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new Yk)},[l]),M.useEffect(()=>{if(u&&o&&n.window){let b=o,P=u.promise,I=n.window.document.startViewTransition(async()=>{g(()=>r(b)),await P});I.finished.finally(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})}),f(I)}},[g,o,u,n.window]),M.useEffect(()=>{u&&o&&s.location.key===o.location.key&&u.resolve()},[u,h,s.location,o]),M.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[l.isTransitioning,p]),M.useEffect(()=>{},[]);let w=M.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:b=>n.navigate(b),push:(b,P,I)=>n.navigate(b,{state:P,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(b,P,I)=>n.navigate(b,{replace:!0,state:P,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),S=n.basename||"/",x=M.useMemo(()=>({router:n,navigator:w,static:!1,basename:S}),[n,w,S]),E=M.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return M.createElement(M.Fragment,null,M.createElement(Ma.Provider,{value:x},M.createElement(vp.Provider,{value:s},M.createElement(Vk.Provider,{value:v.current},M.createElement(Kx.Provider,{value:l},M.createElement(Dk,{basename:S,location:s.location,navigationType:s.historyAction,navigator:w,future:E},s.initialized||n.future.v7_partialHydration?M.createElement(Gk,{routes:n.routes,future:n.future,state:s}):e))))),null)}const Gk=M.memo(Qk);function Qk(t){let{routes:e,future:n,state:i}=t;return vk(e,void 0,i,n)}const Xk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jk=M.forwardRef(function(e,n){let{onClick:i,relative:s,reloadDocument:r,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=Yx(e,Ak),{basename:f}=M.useContext(Ui),p,m=!1;if(typeof c=="string"&&qk.test(c)&&(p=c,Xk))try{let y=new URL(window.location.href),w=c.startsWith("//")?new URL(y.protocol+c):new URL(c),S=Jn(w.pathname,f);w.origin===y.origin&&S!=null?c=S+w.search+w.hash:m=!0}catch{}let v=gk(c,{relative:s}),_=eT(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,viewTransition:d});function g(y){i&&i(y),y.defaultPrevented||_(y)}return M.createElement("a",br({},h,{href:p||v,onClick:m||r?i:g,ref:n,target:l}))}),pd=M.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:s=!1,className:r="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,d=Yx(e,Fk),h=yu(l,{relative:d.relative}),f=Nr(),p=M.useContext(vp),{navigator:m,basename:v}=M.useContext(Ui),_=p!=null&&tT(h)&&c===!0,g=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,y=f.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(y=y.toLowerCase(),w=w?w.toLowerCase():null,g=g.toLowerCase()),w&&v&&(w=Jn(w,v)||w);const S=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let x=y===g||!o&&y.startsWith(g)&&y.charAt(S)==="/",E=w!=null&&(w===g||!o&&w.startsWith(g)&&w.charAt(g.length)==="/"),b={isActive:x,isPending:E,isTransitioning:_},P=x?i:void 0,I;typeof r=="function"?I=r(b):I=[r,x?"active":null,E?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let A=typeof a=="function"?a(b):a;return M.createElement(Jk,br({},d,{"aria-current":P,className:I,ref:n,style:A,to:l,viewTransition:c}),typeof u=="function"?u(b):u)});var Lh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Lh||(Lh={}));var t_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(t_||(t_={}));function Zk(t){let e=M.useContext(Ma);return e||se(!1),e}function eT(t,e){let{target:n,replace:i,state:s,preventScrollReset:r,relative:o,viewTransition:a}=e===void 0?{}:e,l=Hx(),c=Nr(),u=yu(t,{relative:o});return M.useCallback(d=>{if(Lk(d,n)){d.preventDefault();let h=i!==void 0?i:Es(c)===Es(u);l(t,{replace:h,state:s,preventScrollReset:r,relative:o,viewTransition:a})}},[c,l,u,i,s,n,t,r,o,a])}function tT(t,e){e===void 0&&(e={});let n=M.useContext(Kx);n==null&&se(!1);let{basename:i}=Zk(Lh.useViewTransitionState),s=yu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let r=Jn(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Jn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return kc(s.pathname,o)!=null||kc(s.pathname,r)!=null}const nT="/water_quality_system/assets/image1-B331zOGP.png";function Gx(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Gx(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function gi(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Gx(t))&&(i&&(i+=" "),i+=e);return i}const ia=t=>typeof t=="number"&&!isNaN(t),_s=t=>typeof t=="string",Yt=t=>typeof t=="function",Ul=t=>_s(t)||Yt(t)?t:null,Ah=t=>M.isValidElement(t)||_s(t)||Yt(t)||ia(t);function iT(t,e,n){n===void 0&&(n=300);const{scrollHeight:i,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=i+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function vu(t){let{enter:e,exit:n,appendPosition:i=!1,collapse:s=!0,collapseDuration:r=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:f}=o;const p=i?`${e}--${l}`:e,m=i?`${n}--${l}`:n,v=M.useRef(0);return M.useLayoutEffect(()=>{const _=d.current,g=p.split(" "),y=w=>{w.target===d.current&&(f(),_.removeEventListener("animationend",y),_.removeEventListener("animationcancel",y),v.current===0&&w.type!=="animationcancel"&&_.classList.remove(...g))};_.classList.add(...g),_.addEventListener("animationend",y),_.addEventListener("animationcancel",y)},[]),M.useEffect(()=>{const _=d.current,g=()=>{_.removeEventListener("animationend",g),s?iT(_,u,r):u()};h||(c?g():(v.current=1,_.className+=` ${m}`,_.addEventListener("animationend",g)))},[h]),Ce.createElement(Ce.Fragment,null,a)}}function n_(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const kt=new Map;let sa=[];const Fh=new Set,sT=t=>Fh.forEach(e=>e(t)),Qx=()=>kt.size>0;function Xx(t,e){var n;if(e)return!((n=kt.get(e))==null||!n.isToastActive(t));let i=!1;return kt.forEach(s=>{s.isToastActive(t)&&(i=!0)}),i}function qx(t,e){Ah(t)&&(Qx()||sa.push({content:t,options:e}),kt.forEach(n=>{n.buildToast(t,e)}))}function i_(t,e){kt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function rT(t){const{subscribe:e,getSnapshot:n,setProps:i}=M.useRef(function(r){const o=r.containerId||1;return{subscribe(a){const l=function(u,d,h){let f=1,p=0,m=[],v=[],_=[],g=d;const y=new Map,w=new Set,S=()=>{_=Array.from(y.values()),w.forEach(b=>b())},x=b=>{v=b==null?[]:v.filter(P=>P!==b),S()},E=b=>{const{toastId:P,onOpen:I,updateId:A,children:B}=b.props,X=A==null;b.staleId&&y.delete(b.staleId),y.set(P,b),v=[...v,b.props.toastId].filter(ee=>ee!==b.staleId),S(),h(n_(b,X?"added":"updated")),X&&Yt(I)&&I(M.isValidElement(B)&&B.props)};return{id:u,props:g,observe:b=>(w.add(b),()=>w.delete(b)),toggle:(b,P)=>{y.forEach(I=>{P!=null&&P!==I.props.toastId||Yt(I.toggle)&&I.toggle(b)})},removeToast:x,toasts:y,clearQueue:()=>{p-=m.length,m=[]},buildToast:(b,P)=>{if((te=>{let{containerId:ve,toastId:oe,updateId:be}=te;const _e=ve?ve!==u:u!==1,St=y.has(oe)&&be==null;return _e||St})(P))return;const{toastId:I,updateId:A,data:B,staleId:X,delay:ee}=P,q=()=>{x(I)},ie=A==null;ie&&p++;const G={...g,style:g.toastStyle,key:f++,...Object.fromEntries(Object.entries(P).filter(te=>{let[ve,oe]=te;return oe!=null})),toastId:I,updateId:A,data:B,closeToast:q,isIn:!1,className:Ul(P.className||g.toastClassName),bodyClassName:Ul(P.bodyClassName||g.bodyClassName),progressClassName:Ul(P.progressClassName||g.progressClassName),autoClose:!P.isLoading&&(N=P.autoClose,z=g.autoClose,N===!1||ia(N)&&N>0?N:z),deleteToast(){const te=y.get(I),{onClose:ve,children:oe}=te.props;Yt(ve)&&ve(M.isValidElement(oe)&&oe.props),h(n_(te,"removed")),y.delete(I),p--,p<0&&(p=0),m.length>0?E(m.shift()):S()}};var N,z;G.closeButton=g.closeButton,P.closeButton===!1||Ah(P.closeButton)?G.closeButton=P.closeButton:P.closeButton===!0&&(G.closeButton=!Ah(g.closeButton)||g.closeButton);let $=b;M.isValidElement(b)&&!_s(b.type)?$=M.cloneElement(b,{closeToast:q,toastProps:G,data:B}):Yt(b)&&($=b({closeToast:q,toastProps:G,data:B}));const J={content:$,props:G,staleId:X};g.limit&&g.limit>0&&p>g.limit&&ie?m.push(J):ia(ee)?setTimeout(()=>{E(J)},ee):E(J)},setProps(b){g=b},setToggle:(b,P)=>{y.get(b).toggle=P},isToastActive:b=>v.some(P=>P===b),getSnapshot:()=>_}}(o,r,sT);kt.set(o,l);const c=l.observe(a);return sa.forEach(u=>qx(u.content,u.options)),sa=[],()=>{c(),kt.delete(o)}},setProps(a){var l;(l=kt.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=kt.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;i(t);const s=M.useSyncExternalStore(e,n,n);return{getToastToRender:function(r){if(!s)return[];const o=new Map;return t.newestOnTop&&s.reverse(),s.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>r(a[0],a[1]))},isToastActive:Xx,count:s==null?void 0:s.length}}function oT(t){const[e,n]=M.useState(!1),[i,s]=M.useState(!1),r=M.useRef(null),o=M.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:d}=t;var h,f;function p(){n(!0)}function m(){n(!1)}function v(y){const w=r.current;o.canDrag&&w&&(o.didMove=!0,e&&m(),o.delta=t.draggableDirection==="x"?y.clientX-o.start:y.clientY-o.start,o.start!==y.clientX&&(o.canCloseOnClick=!1),w.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,w.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function _(){document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",_);const y=r.current;if(o.canDrag&&o.didMove&&y){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),t.closeToast(),void t.collapseAll();y.style.transition="transform 0.2s, opacity 0.2s",y.style.removeProperty("transform"),y.style.removeProperty("opacity")}}(f=kt.get((h={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||f.setToggle(h.id,h.fn),M.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||m(),window.addEventListener("focus",p),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",m)}},[t.pauseOnFocusLoss]);const g={onPointerDown:function(y){if(t.draggable===!0||t.draggable===y.pointerType){o.didMove=!1,document.addEventListener("pointermove",v),document.addEventListener("pointerup",_);const w=r.current;o.canCloseOnClick=!0,o.canDrag=!0,w.style.transition="none",t.draggableDirection==="x"?(o.start=y.clientX,o.removalDistance=w.offsetWidth*(t.draggablePercent/100)):(o.start=y.clientY,o.removalDistance=w.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(y){const{top:w,bottom:S,left:x,right:E}=r.current.getBoundingClientRect();y.nativeEvent.type!=="touchend"&&t.pauseOnHover&&y.clientX>=x&&y.clientX<=E&&y.clientY>=w&&y.clientY<=S?m():p()}};return a&&l&&(g.onMouseEnter=m,t.stacked||(g.onMouseLeave=p)),d&&(g.onClick=y=>{u&&u(y),o.canCloseOnClick&&c()}),{playToast:p,pauseToast:m,isRunning:e,preventExitTransition:i,toastRef:r,eventHandlers:g}}function aT(t){let{delay:e,isRunning:n,closeToast:i,type:s="default",hide:r,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:h}=t;const f=r||l&&c===0,p={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(p.transform=`scaleX(${c})`);const m=gi("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":u}),v=Yt(o)?o({rtl:u,type:s,defaultClassName:m}):gi(m,o),_={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&i()}};return Ce.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},Ce.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${s}`}),Ce.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:v,style:p,..._}))}let lT=1;const Jx=()=>""+lT++;function cT(t){return t&&(_s(t.toastId)||ia(t.toastId))?t.toastId:Jx()}function Po(t,e){return qx(t,e),e.toastId}function Ic(t,e){return{...e,type:e&&e.type||t,toastId:cT(e)}}function fl(t){return(e,n)=>Po(e,Ic(t,n))}function Te(t,e){return Po(t,Ic("default",e))}Te.loading=(t,e)=>Po(t,Ic("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Te.promise=function(t,e,n){let i,{pending:s,error:r,success:o}=e;s&&(i=_s(s)?Te.loading(s,n):Te.loading(s.render,{...n,...s}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,h)=>{if(d==null)return void Te.dismiss(i);const f={type:u,...a,...n,data:h},p=_s(d)?{render:d}:d;return i?Te.update(i,{...f,...p}):Te(p.render,{...f,...p}),h},c=Yt(t)?t():t;return c.then(u=>l("success",o,u)).catch(u=>l("error",r,u)),c},Te.success=fl("success"),Te.info=fl("info"),Te.error=fl("error"),Te.warning=fl("warning"),Te.warn=Te.warning,Te.dark=(t,e)=>Po(t,Ic("default",{theme:"dark",...e})),Te.dismiss=function(t){(function(e){var n;if(Qx()){if(e==null||_s(n=e)||ia(n))kt.forEach(i=>{i.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const i=kt.get(e.containerId);i?i.removeToast(e.id):kt.forEach(s=>{s.removeToast(e.id)})}}else sa=sa.filter(i=>e!=null&&i.options.toastId!==e)})(t)},Te.clearWaitingQueue=function(t){t===void 0&&(t={}),kt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Te.isActive=Xx,Te.update=function(t,e){e===void 0&&(e={});const n=((i,s)=>{var r;let{containerId:o}=s;return(r=kt.get(o||1))==null?void 0:r.toasts.get(i)})(t,e);if(n){const{props:i,content:s}=n,r={delay:100,...i,...e,toastId:e.toastId||t,updateId:Jx()};r.toastId!==t&&(r.staleId=t);const o=r.render||s;delete r.render,Po(o,r)}},Te.done=t=>{Te.update(t,{progress:1})},Te.onChange=function(t){return Fh.add(t),()=>{Fh.delete(t)}},Te.play=t=>i_(!0,t),Te.pause=t=>i_(!1,t);const uT=typeof window<"u"?M.useLayoutEffect:M.useEffect,pl=t=>{let{theme:e,type:n,isLoading:i,...s}=t;return Ce.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...s})},gd={info:function(t){return Ce.createElement(pl,{...t},Ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Ce.createElement(pl,{...t},Ce.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Ce.createElement(pl,{...t},Ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Ce.createElement(pl,{...t},Ce.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ce.createElement("div",{className:"Toastify__spinner"})}},dT=t=>{const{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:s,playToast:r}=oT(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:h,transition:f,position:p,className:m,style:v,bodyClassName:_,bodyStyle:g,progressClassName:y,progressStyle:w,updateId:S,role:x,progress:E,rtl:b,toastId:P,deleteToast:I,isIn:A,isLoading:B,closeOnClick:X,theme:ee}=t,q=gi("Toastify__toast",`Toastify__toast-theme--${ee}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":b},{"Toastify__toast--close-on-click":X}),ie=Yt(m)?m({rtl:b,position:p,type:u,defaultClassName:q}):gi(q,m),G=function(J){let{theme:te,type:ve,isLoading:oe,icon:be}=J,_e=null;const St={theme:te,type:ve};return be===!1||(Yt(be)?_e=be({...St,isLoading:oe}):M.isValidElement(be)?_e=M.cloneElement(be,St):oe?_e=gd.spinner():(Ou=>Ou in gd)(ve)&&(_e=gd[ve](St))),_e}(t),N=!!E||!l,z={closeToast:h,type:u,theme:ee};let $=null;return o===!1||($=Yt(o)?o(z):M.isValidElement(o)?M.cloneElement(o,z):function(J){let{closeToast:te,theme:ve,ariaLabel:oe="close"}=J;return Ce.createElement("button",{className:`Toastify__close-button Toastify__close-button--${ve}`,type:"button",onClick:be=>{be.stopPropagation(),te(be)},"aria-label":oe},Ce.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ce.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(z)),Ce.createElement(f,{isIn:A,done:I,position:p,preventExitTransition:n,nodeRef:i,playToast:r},Ce.createElement("div",{id:P,onClick:c,"data-in":A,className:ie,...s,style:v,ref:i},Ce.createElement("div",{...A&&{role:x},className:Yt(_)?_({type:u}):gi("Toastify__toast-body",_),style:g},G!=null&&Ce.createElement("div",{className:gi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!B})},G),Ce.createElement("div",null,a)),$,Ce.createElement(aT,{...S&&!N?{key:`pb-${S}`}:{},rtl:b,theme:ee,delay:l,isRunning:e,isIn:A,closeToast:h,hide:d,type:u,style:w,className:y,controlledProgress:N,progress:E||0})))},xu=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},hT=vu(xu("bounce",!0));vu(xu("slide",!0));vu(xu("zoom"));vu(xu("flip"));const fT={position:"top-right",transition:hT,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function pT(t){let e={...fT,...t};const n=t.stacked,[i,s]=M.useState(!0),r=M.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=rT(e),{className:c,style:u,rtl:d,containerId:h}=e;function f(m){const v=gi("Toastify__toast-container",`Toastify__toast-container--${m}`,{"Toastify__toast-container--rtl":d});return Yt(c)?c({position:m,rtl:d,defaultClassName:v}):gi(v,Ul(c))}function p(){n&&(s(!0),Te.play())}return uT(()=>{if(n){var m;const v=r.current.querySelectorAll('[data-in="true"]'),_=12,g=(m=e.position)==null?void 0:m.includes("top");let y=0,w=0;Array.from(v).reverse().forEach((S,x)=>{const E=S;E.classList.add("Toastify__toast--stacked"),x>0&&(E.dataset.collapsed=`${i}`),E.dataset.pos||(E.dataset.pos=g?"top":"bot");const b=y*(i?.2:1)+(i?0:_*x);E.style.setProperty("--y",`${g?b:-1*b}px`),E.style.setProperty("--g",`${_}`),E.style.setProperty("--s",""+(1-(i?w:0))),y+=E.offsetHeight,w+=.025})}},[i,l,n]),Ce.createElement("div",{ref:r,className:"Toastify",id:h,onMouseEnter:()=>{n&&(s(!1),Te.pause())},onMouseLeave:p},o((m,v)=>{const _=v.length?{...u}:{...u,pointerEvents:"none"};return Ce.createElement("div",{className:f(m),style:_,key:`container-${m}`},v.map(g=>{let{content:y,props:w}=g;return Ce.createElement(dT,{...w,stacked:n,collapseAll:p,isIn:a(w.toastId,w.containerId),style:w.style,key:`toast-${w.key}`},y)}))}))}const gT=()=>{const t=Hx(),e=n=>{n.preventDefault(),Te.success("Login successful"),setTimeout(()=>{t("/dashboard")},3e3)};return F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"font-[sans-serif] h-screen grid lg:grid-cols-2 md:grid-cols-2 items-center gap-4",children:[F.jsx("div",{className:"order-2 md:order-1 h-screen hidden md:block",children:F.jsx("img",{src:nT,className:"w-full h-full object-cover object-right",alt:"login"})}),F.jsxs("div",{className:"order-1 md:order-2 p-8",children:[F.jsxs("div",{className:"mb-6",children:[F.jsx("h2",{className:"text-2xl font-bold",children:"Welcome Back"}),F.jsx("p",{className:"text-gray-500",children:"Login to your account"})]}),F.jsxs("form",{children:[F.jsxs("div",{className:"mb-4",children:[F.jsx("label",{htmlFor:"email",className:"text-sm",children:"Email"}),F.jsx("input",{type:"email",id:"email",className:"border border-gray-200 rounded-lg p-2 w-full mt-1",placeholder:"Enter your email","aria-label":"Email"})]}),F.jsxs("div",{className:"mb-4",children:[F.jsx("label",{htmlFor:"password",className:"text-sm",children:"Password"}),F.jsx("input",{type:"password",id:"password",className:"border border-gray-200 rounded-lg p-2 w-full mt-1",placeholder:"Enter your password","aria-label":"Password"})]}),F.jsx("div",{children:F.jsx("button",{className:"bg-blue-500 text-white w-full py-2 rounded-lg",onClick:e,children:"Login"})})]})]})]}),F.jsx(pT,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},mT=({title:t})=>F.jsx("header",{className:"bg-gray-200 p-4",children:F.jsx("h1",{className:"text-3xl font-semibold text-gray-700",children:t})}),_T=()=>F.jsxs("nav",{className:"flex flex-col h-full p-4 bg-gray-800 text-white",children:[F.jsxs("div",{className:"flex-1",children:[F.jsx("h1",{className:"text-xl font-bold",children:"Water Quality"}),F.jsx("h2",{className:"text-sm text-end",children:" System"}),F.jsxs("ul",{children:[F.jsx("li",{className:"mt-12 mb-4",children:F.jsx(pd,{to:"/dashboard",className:({isActive:t})=>t?"text-blue-300":"hover:text-gray-300",children:"Dashboard"})}),F.jsx("li",{className:"mb-4",children:F.jsx(pd,{to:"/data-visualization",className:({isActive:t})=>t?"text-blue-300":"hover:text-gray-300",children:"Data Visualization"})})]})]}),F.jsx("div",{children:F.jsx(pd,{to:"/",className:"hover:text-gray-300",children:"Logout"})})]}),yT=()=>{const t=Nr();let e="Dashboard";return t.pathname==="/dashboard"?e="Dashboard":t.pathname==="/data-visualization"&&(e="Data Visualization"),F.jsxs("div",{className:"flex h-screen",children:[F.jsx("div",{className:"w-[180px]",children:F.jsx(_T,{})}),F.jsxs("div",{className:"flex-1",children:[F.jsx(mT,{title:e}),F.jsx("div",{className:"p-2",children:F.jsx(Rk,{})})]})]})},vT="/water_quality_system/assets/under_construction-BJmI_rru.png",xT=()=>F.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[F.jsx("img",{src:vT,className:"h-[350px] object-cover object-center",alt:"under construction"}),F.jsx("p",{className:"mt-4 text-center",children:"Under Development"})]});var s_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O=function(t,e){if(!t)throw Or(e)},Or=function(t){return new Error("Firebase Database ("+Zx.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},wT=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},wp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=r>>2,d=(r&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),i.push(n[u],n[d],n[h],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ew(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wT(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||a==null||c==null||d==null)throw new bT;const h=r<<2|a>>4;if(i.push(h),c!==64){const f=a<<4&240|c>>2;if(i.push(f),d!==64){const p=c<<6&192|d;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tw=function(t){const e=ew(t);return wp.encodeByteArray(e,!0)},Rc=function(t){return tw(t).replace(/\./g,"")},zh=function(t){try{return wp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t){return nw(void 0,t)}function nw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!CT(n)||(t[n]=nw(t[n],e[n]));return t}function CT(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=()=>ET().__FIREBASE_DEFAULTS__,TT=()=>{if(typeof process>"u"||typeof s_>"u")return;const t=s_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PT=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zh(t[1]);return e&&JSON.parse(e)},iw=()=>{try{return kT()||TT()||PT()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},MT=t=>{var e,n;return(n=(e=iw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IT=t=>{const e=MT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},sw=()=>{var t;return(t=iw())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rc(JSON.stringify(n)),Rc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(DT())}function NT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ow(){return Zx.NODE_ADMIN===!0}function OT(){try{return typeof indexedDB=="object"}catch{return!1}}function LT(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="FirebaseError";class Ra extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=AT,Object.setPrototypeOf(this,Ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,aw.prototype.create)}}class aw{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?FT(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ra(s,a,i)}}function FT(t,e){return t.replace(zT,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const zT=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(t){return JSON.parse(t)}function tt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=ra(zh(r[0])||""),n=ra(zh(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},BT=function(t){const e=lw(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},jT=function(t){const e=lw(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Sr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function r_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dc(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function Bh(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(o_(r)&&o_(o)){if(!Bh(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function o_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)i[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^r&(o^a),u=1518500249):(c=r^o^a,u=1859775393):d<60?(c=r&o|a&(r|o),u=2400959708):(c=r^o^a,u=3395469782);const h=(s<<5|s>>>27)+c+l+u+i[d]&4294967295;l=a,a=o,o=(r<<30|r>>>2)&4294967295,r=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<n;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function cw(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,O(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},wu=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(t){return t&&t._delegate?t._delegate:t}class oa{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new bp;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YT(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:$T(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $T(t){return t===is?void 0:t}function YT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const GT={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},QT=Me.INFO,XT={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},qT=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=XT[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uw{constructor(e){this.name=e,this._logLevel=QT,this._logHandler=qT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const JT=(t,e)=>e.some(n=>t instanceof n);let a_,l_;function ZT(){return a_||(a_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eP(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dw=new WeakMap,jh=new WeakMap,hw=new WeakMap,md=new WeakMap,Sp=new WeakMap;function tP(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Pi(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&dw.set(n,t)}).catch(()=>{}),Sp.set(e,t),e}function nP(t){if(jh.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});jh.set(t,e)}let Wh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iP(t){Wh=t(Wh)}function sP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(_d(this),e,...n);return hw.set(i,e.sort?e.sort():[e]),Pi(i)}:eP().includes(t)?function(...e){return t.apply(_d(this),e),Pi(dw.get(this))}:function(...e){return Pi(t.apply(_d(this),e))}}function rP(t){return typeof t=="function"?sP(t):(t instanceof IDBTransaction&&nP(t),JT(t,ZT())?new Proxy(t,Wh):t)}function Pi(t){if(t instanceof IDBRequest)return tP(t);if(md.has(t))return md.get(t);const e=rP(t);return e!==t&&(md.set(t,e),Sp.set(e,t)),e}const _d=t=>Sp.get(t);function oP(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=Pi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Pi(o.result),l.oldVersion,l.newVersion,Pi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const aP=["get","getKey","getAll","getAllKeys","count"],lP=["put","add","delete","clear"],yd=new Map;function c_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yd.get(e))return yd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=lP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||aP.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return yd.set(e,r),r}iP(t=>({...t,get:(e,n,i)=>c_(e,n)||t.get(e,n,i),has:(e,n)=>!!c_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uP(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function uP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vh="@firebase/app",u_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn=new uw("@firebase/app"),dP="@firebase/app-compat",hP="@firebase/analytics-compat",fP="@firebase/analytics",pP="@firebase/app-check-compat",gP="@firebase/app-check",mP="@firebase/auth",_P="@firebase/auth-compat",yP="@firebase/database",vP="@firebase/data-connect",xP="@firebase/database-compat",wP="@firebase/functions",bP="@firebase/functions-compat",SP="@firebase/installations",CP="@firebase/installations-compat",EP="@firebase/messaging",kP="@firebase/messaging-compat",TP="@firebase/performance",PP="@firebase/performance-compat",MP="@firebase/remote-config",IP="@firebase/remote-config-compat",RP="@firebase/storage",DP="@firebase/storage-compat",NP="@firebase/firestore",OP="@firebase/vertexai-preview",LP="@firebase/firestore-compat",AP="firebase",FP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="[DEFAULT]",zP={[Vh]:"fire-core",[dP]:"fire-core-compat",[fP]:"fire-analytics",[hP]:"fire-analytics-compat",[gP]:"fire-app-check",[pP]:"fire-app-check-compat",[mP]:"fire-auth",[_P]:"fire-auth-compat",[yP]:"fire-rtdb",[vP]:"fire-data-connect",[xP]:"fire-rtdb-compat",[wP]:"fire-fn",[bP]:"fire-fn-compat",[SP]:"fire-iid",[CP]:"fire-iid-compat",[EP]:"fire-fcm",[kP]:"fire-fcm-compat",[TP]:"fire-perf",[PP]:"fire-perf-compat",[MP]:"fire-rc",[IP]:"fire-rc-compat",[RP]:"fire-gcs",[DP]:"fire-gcs-compat",[NP]:"fire-fst",[LP]:"fire-fst-compat",[OP]:"fire-vertex","fire-js":"fire-js",[AP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Map,BP=new Map,Uh=new Map;function d_(t,e){try{t.container.addComponent(e)}catch(n){Zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oc(t){const e=t.name;if(Uh.has(e))return Zn.debug(`There were multiple attempts to register component ${e}.`),!1;Uh.set(e,t);for(const n of Nc.values())d_(n,t);for(const n of BP.values())d_(n,t);return!0}function jP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new aw("app","Firebase",WP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=FP;function fw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Hh,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Mi.create("bad-app-name",{appName:String(s)});if(n||(n=sw()),!n)throw Mi.create("no-options");const r=Nc.get(s);if(r){if(Bh(n,r.options)&&Bh(i,r.config))return r;throw Mi.create("duplicate-app",{appName:s})}const o=new KT(s);for(const l of Uh.values())o.addComponent(l);const a=new VP(n,i,o);return Nc.set(s,a),a}function UP(t=Hh){const e=Nc.get(t);if(!e&&t===Hh&&sw())return fw();if(!e)throw Mi.create("no-app",{appName:t});return e}function ur(t,e,n){var i;let s=(i=zP[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zn.warn(a.join(" "));return}Oc(new oa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="firebase-heartbeat-database",YP=1,aa="firebase-heartbeat-store";let vd=null;function pw(){return vd||(vd=oP($P,YP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(aa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mi.create("idb-open",{originalErrorMessage:t.message})})),vd}async function KP(t){try{const n=(await pw()).transaction(aa),i=await n.objectStore(aa).get(gw(t));return await n.done,i}catch(e){if(e instanceof Ra)Zn.warn(e.message);else{const n=Mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zn.warn(n.message)}}}async function h_(t,e){try{const i=(await pw()).transaction(aa,"readwrite");await i.objectStore(aa).put(e,gw(t)),await i.done}catch(n){if(n instanceof Ra)Zn.warn(n.message);else{const i=Mi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zn.warn(i.message)}}}function gw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=1024,QP=30*24*60*60*1e3;class XP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JP(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=f_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=QP}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Zn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=f_(),{heartbeatsToSend:i,unsentEntries:s}=qP(this._heartbeatsCache.heartbeats),r=Rc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Zn.warn(n),""}}}function f_(){return new Date().toISOString().substring(0,10)}function qP(t,e=GP){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),p_(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),p_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class JP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OT()?LT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return h_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return h_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function p_(t){return Rc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(t){Oc(new oa("platform-logger",e=>new cP(e),"PRIVATE")),Oc(new oa("heartbeat",e=>new XP(e),"PRIVATE")),ur(Vh,u_,t),ur(Vh,u_,"esm2017"),ur("fire-js","")}ZP("");var eM="firebase",tM="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(eM,tM,"app");var g_={};const m_="@firebase/database",__="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mw="";function nM(t){mw=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ra(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ni(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new iM(e)}}catch{}return new sM},fs=_w("localStorage"),rM=_w("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new uw("@firebase/database"),oM=function(){let t=1;return function(){return t++}}(),yw=function(t){const e=HT(t),n=new VT;n.update(e);const i=n.digest();return wp.encodeByteArray(i)},Na=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Na.apply(null,i):typeof i=="object"?e+=tt(i):e+=i,e+=" "}return e};let Mo=null,y_=!0;const aM=function(t,e){O(!e,"Can't turn on custom loggers persistently."),dr.logLevel=Me.VERBOSE,Mo=dr.log.bind(dr)},vt=function(...t){if(y_===!0&&(y_=!1,Mo===null&&rM.get("logging_enabled")===!0&&aM()),Mo){const e=Na.apply(null,t);Mo(e)}},Oa=function(t){return function(...e){vt(t,...e)}},$h=function(...t){const e="FIREBASE INTERNAL ERROR: "+Na(...t);dr.error(e)},ei=function(...t){const e=`FIREBASE FATAL ERROR: ${Na(...t)}`;throw dr.error(e),new Error(e)},Gt=function(...t){const e="FIREBASE WARNING: "+Na(...t);dr.warn(e)},lM=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},cM=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Cr="[MIN_NAME]",ks="[MAX_NAME]",Lr=function(t,e){if(t===e)return 0;if(t===Cr||e===ks)return-1;if(e===Cr||t===ks)return 1;{const n=v_(t),i=v_(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},uM=function(t,e){return t===e?0:t<e?-1:1},Jr=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+tt(e))},Cp=function(t){if(typeof t!="object"||t===null)return tt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=tt(e[i]),n+=":",n+=Cp(t[e[i]]);return n+="}",n},xw=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function jt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const ww=function(t){O(!vw(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,o,a,l;t===0?(r=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-i-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(r%2?1:0),r=Math.floor(r/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},dM=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},hM=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function fM(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const pM=new RegExp("^-?(0*)\\d{1,10}$"),gM=-2147483648,mM=2147483647,v_=function(t){if(pM.test(t)){const e=Number(t);if(e>=gM&&e<=mM)return e}return null},La=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Gt("Exception was thrown by user callback.",n),e},Math.floor(0))}},_M=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Io=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Gt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Gt(e)}}class $l{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}$l.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="5",bw="v",Sw="s",Cw="r",Ew="f",kw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Tw="ls",Pw="p",Yh="ac",Mw="websocket",Iw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n,i,s,r=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function xM(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Dw(t,e,n){O(typeof e=="string","typeof type must == string"),O(typeof n=="object","typeof params must == object");let i;if(e===Mw)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Iw)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);xM(t)&&(n.ns=t.namespace);const s=[];return jt(n,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.counters_={}}incrementCounter(e,n=1){ni(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return ST(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd={},wd={};function kp(t){const e=t.toString();return xd[e]||(xd[e]=new wM),xd[e]}function bM(t,e){const n=t.toString();return wd[n]||(wd[n]=e()),wd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&La(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="start",CM="close",EM="pLPCommand",kM="pRTLPCB",Nw="id",Ow="pw",Lw="ser",TM="cb",PM="seg",MM="ts",IM="d",RM="dframe",Aw=1870,Fw=30,DM=Aw-Fw,NM=25e3,OM=3e4;class nr{constructor(e,n,i,s,r,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Oa(e),this.stats_=kp(n),this.urlFn=l=>(this.appCheckToken&&(l[Yh]=this.appCheckToken),Dw(n,Iw,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new SM(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(OM)),cM(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Tp((...r)=>{const[o,a,l,c,u]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===x_)this.id=a,this.password=l;else if(o===CM)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,a]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const i={};i[x_]="t",i[Lw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[TM]=this.scriptTagHolder.uniqueCallbackIdentifier),i[bw]=Ep,this.transportSessionId&&(i[Sw]=this.transportSessionId),this.lastSessionId&&(i[Tw]=this.lastSessionId),this.applicationId&&(i[Pw]=this.applicationId),this.appCheckToken&&(i[Yh]=this.appCheckToken),typeof location<"u"&&location.hostname&&kw.test(location.hostname)&&(i[Cw]=Ew);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){nr.forceAllow_=!0}static forceDisallow(){nr.forceDisallow_=!0}static isAvailable(){return nr.forceAllow_?!0:!nr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!dM()&&!hM()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=tw(n),s=xw(i,DM);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[RM]="t",i[Nw]=e,i[Ow]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=tt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Tp{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=oM(),window[EM+this.uniqueCallbackIdentifier]=e,window[kM+this.uniqueCallbackIdentifier]=n,this.myIFrame=Tp.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){vt("frame writing exception"),a.stack&&vt(a.stack),vt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||vt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Nw]=this.myID,e[Ow]=this.myPW,e[Lw]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Fw+i.length<=Aw;){const o=this.pendingSegs.shift();i=i+"&"+PM+s+"="+o.seg+"&"+MM+s+"="+o.ts+"&"+IM+s+"="+o.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(NM)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{vt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=16384,AM=45e3;let Lc=null;typeof MozWebSocket<"u"?Lc=MozWebSocket:typeof WebSocket<"u"&&(Lc=WebSocket);class dn{constructor(e,n,i,s,r,o,a){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Oa(this.connId),this.stats_=kp(n),this.connURL=dn.connectionURL_(n,o,a,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const o={};return o[bw]=Ep,typeof location<"u"&&location.hostname&&kw.test(location.hostname)&&(o[Cw]=Ew),n&&(o[Sw]=n),i&&(o[Tw]=i),s&&(o[Yh]=s),r&&(o[Pw]=r),Dw(e,Mw,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fs.set("previous_websocket_failure",!0);try{let i;ow(),this.mySock=new Lc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){dn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Lc!==null&&!dn.forceDisallow_}static previouslyFailed(){return fs.isInMemoryStorage||fs.get("previous_websocket_failure")===!0}markConnectionHealthy(){fs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=ra(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(O(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=xw(n,LM);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(AM))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}dn.responsesRequiredToBeHealthy=2;dn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[nr,dn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=dn&&dn.isAvailable();let i=n&&!dn.previouslyFailed();if(e.webSocketOnly&&(n||Gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[dn];else{const s=this.transports_=[];for(const r of la.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);la.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}la.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=6e4,zM=5e3,BM=10*1024,jM=100*1024,bd="t",w_="d",WM="s",b_="r",VM="e",S_="o",C_="a",E_="n",k_="p",HM="h";class UM{constructor(e,n,i,s,r,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Oa("c:"+this.id+":"),this.transportManager_=new la(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Io(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>jM?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BM?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(bd in e){const n=e[bd];n===C_?this.upgradeIfSecondaryHealthy_():n===b_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===S_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Jr("t",e),i=Jr("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:k_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:C_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:E_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Jr("t",e),i=Jr("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Jr(bd,e);if(w_ in e){const i=e[w_];if(n===HM){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===E_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===WM?this.onConnectionShutdown_(i):n===b_?this.onReset_(i):n===VM?$h("Server Error: "+i):n===S_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$h("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ep!==i&&Gt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Io(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(FM))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Io(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zM))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:k_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){O(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends Bw{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!rw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ac}getInitialEvent(e){return O(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=32,P_=768;class Ee{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function me(){return new Ee("")}function de(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Li(t){return t.pieces_.length-t.pieceNum_}function Ie(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ee(t.pieces_,e)}function jw(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function $M(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ww(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Vw(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ee(e,0)}function nt(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Ee)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new Ee(n,0)}function ae(t){return t.pieceNum_>=t.pieces_.length}function Tt(t,e){const n=de(t),i=de(e);if(n===null)return e;if(n===i)return Tt(Ie(t),Ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Hw(t,e){if(Li(t)!==Li(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function hn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Li(t)>Li(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class YM{constructor(e,n){this.errorPrefix_=n,this.parts_=Ww(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=wu(this.parts_[i]);Uw(this)}}function KM(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=wu(e),Uw(t)}function GM(t){const e=t.parts_.pop();t.byteLength_-=wu(e),t.parts_.length>0&&(t.byteLength_-=1)}function Uw(t){if(t.byteLength_>P_)throw new Error(t.errorPrefix_+"has a key path longer than "+P_+" bytes ("+t.byteLength_+").");if(t.parts_.length>T_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+T_+") or object contains a cycle "+ss(t))}function ss(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends Bw{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Pp}getInitialEvent(e){return O(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=1e3,QM=60*5*1e3,M_=30*1e3,XM=1.3,qM=3e4,JM="server_kill",I_=3;class Kn extends zw{constructor(e,n,i,s,r,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Kn.nextPersistentConnectionId_++,this.log_=Oa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zr,this.maxReconnectDelay_=QM,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!ow())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Pp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ac.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(tt(r)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new bp,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(o).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,a=>{const l=a.d,c=a.s;Kn.warnOnListenWarnings_(l,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ni(e,"w")){const i=Sr(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();Gt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||jT(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=M_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=BT(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),O(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const o={p:n,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+tt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):$h("Unrecognized action received from server: "+tt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Zr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>qM&&(this.reconnectDelay_=Zr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*XM)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Kn.nextConnectionId_++,r=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,i())},c=function(d){O(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?vt("getToken() completed but was canceled"):(vt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new UM(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,f=>{Gt(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(JM)},r))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Gt(d),l())}}}interrupt(e){vt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){vt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],r_(this.interruptReasons_)&&(this.reconnectDelay_=Zr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>Cp(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new Ee(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){vt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=I_&&(this.reconnectDelay_=M_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){vt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=I_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+mw.replace(/\./g,"-")]=1,rw()?e["framework.cordova"]=1:NT()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ac.getInstance().currentlyOnline();return r_(this.interruptReasons_)&&e}}Kn.nextPersistentConnectionId_=0;Kn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new re(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new re(Cr,e),s=new re(Cr,n);return this.compare(i,s)!==0}minPost(){return re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl;class $w extends bu{static get __EMPTY_NODE(){return gl}static set __EMPTY_NODE(e){gl=e}compare(e,n){return Lr(e.name,n.name)}isDefinedOn(e){throw Or("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return re.MIN}maxPost(){return new re(ks,gl)}makePost(e,n){return O(typeof e=="string","KeyIndex indexValue must always be a string."),new re(e,gl)}toString(){return".key"}}const hr=new $w;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class at{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??at.RED,this.left=s??At.EMPTY_NODE,this.right=r??At.EMPTY_NODE}copy(e,n,i,s,r){return new at(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return At.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return At.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class ZM{copy(e,n,i,s,r){return this}insert(e,n,i){return new at(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class At{constructor(e,n=At.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new At(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(e){return new At(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,at.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ml(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ml(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ml(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ml(this.root_,null,this.comparator_,!0,e)}}At.EMPTY_NODE=new ZM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t,e){return Lr(t.name,e.name)}function Mp(t,e){return Lr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh;function tI(t){Kh=t}const Yw=function(t){return typeof t=="number"?"number:"+ww(t):"string:"+t},Kw=function(t){if(t.isLeafNode()){const e=t.val();O(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ni(e,".sv"),"Priority must be a string or number.")}else O(t===Kh||t.isEmpty(),"priority of unexpected type.");O(t===Kh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R_;class rt{constructor(e,n=rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,O(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Kw(this.priorityNode_)}static set __childrenNodeConstructor(e){R_=e}static get __childrenNodeConstructor(){return R_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new rt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ae(e)?this:de(e)===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=de(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(O(i!==".priority"||Li(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Yw(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=ww(this.value_):e+=this.value_,this.lazyHash_=yw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===rt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof rt.__childrenNodeConstructor?-1:(O(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=rt.VALUE_TYPE_ORDER.indexOf(n),r=rt.VALUE_TYPE_ORDER.indexOf(i);return O(s>=0,"Unknown leaf type: "+n),O(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gw,Qw;function nI(t){Gw=t}function iI(t){Qw=t}class sI extends bu{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?Lr(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return re.MIN}maxPost(){return new re(ks,new rt("[PRIORITY-POST]",Qw))}makePost(e,n){const i=Gw(e);return new re(n,new rt("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ke=new sI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=Math.log(2);class oI{constructor(e){const n=r=>parseInt(Math.log(r)/rI,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Fc=function(t,e,n,i){t.sort(e);const s=function(l,c){const u=c-l;let d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new at(h,d.node,at.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=s(l,f),m=s(f+1,c);return d=t[f],h=n?n(d):d,new at(h,d.node,at.BLACK,p,m)}},r=function(l){let c=null,u=null,d=t.length;const h=function(p,m){const v=d-p,_=d;d-=p;const g=s(v+1,_),y=t[v],w=n?n(y):y;f(new at(w,y.node,m,null,g))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),v=Math.pow(2,l.count-(p+1));m?h(v,at.BLACK):(h(v,at.BLACK),h(v,at.RED))}return u},o=new oI(t.length),a=r(o);return new At(i||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sd;const Ws={};class Wn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return O(Ws&&Ke,"ChildrenNode.ts has not been loaded"),Sd=Sd||new Wn({".priority":Ws},{".priority":Ke}),Sd}get(e){const n=Sr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof At?n:null}hasIndex(e){return ni(this.indexSet_,e.toString())}addIndex(e,n){O(e!==hr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(re.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let a;s?a=Fc(i,e.getCompare()):a=Ws;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Wn(u,c)}addToIndexes(e,n){const i=Dc(this.indexes_,(s,r)=>{const o=Sr(this.indexSet_,r);if(O(o,"Missing index implementation for "+r),s===Ws)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(re.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Fc(a,o.getCompare())}else return Ws;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new re(e.name,a))),l.insert(e,e.node)}});return new Wn(i,this.indexSet_)}removeFromIndexes(e,n){const i=Dc(this.indexes_,s=>{if(s===Ws)return s;{const r=n.get(e.name);return r?s.remove(new re(e.name,r)):s}});return new Wn(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo;class Q{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Kw(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return eo||(eo=new Q(new At(Mp),null,Wn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||eo}updatePriority(e){return this.children_.isEmpty()?this:new Q(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?eo:n}}getChild(e){const n=de(e);return n===null?this:this.getImmediateChild(n).getChild(Ie(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(O(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new re(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?eo:this.priorityNode_;return new Q(s,o,r)}}updateChild(e,n){const i=de(e);if(i===null)return n;{O(de(e)!==".priority"||Li(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Ie(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(Ke,(o,a)=>{n[o]=a.val(e),i++,r&&Q.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Yw(this.getPriority().val())+":"),this.forEachChild(Ke,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":yw(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new re(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new re(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new re(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,re.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,re.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Aa?-1:0}withIndex(e){if(e===hr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Q(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===hr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ke),s=n.getIterator(Ke);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===hr?null:this.indexMap_.get(e.toString())}}Q.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aI extends Q{constructor(){super(new At(Mp),Q.EMPTY_NODE,Wn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Q.EMPTY_NODE}isEmpty(){return!1}}const Aa=new aI;Object.defineProperties(re,{MIN:{value:new re(Cr,Q.EMPTY_NODE)},MAX:{value:new re(ks,Aa)}});$w.__EMPTY_NODE=Q.EMPTY_NODE;rt.__childrenNodeConstructor=Q;tI(Aa);iI(Aa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=!0;function ht(t,e=null){if(t===null)return Q.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),O(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new rt(n,ht(e))}if(!(t instanceof Array)&&lI){const n=[];let i=!1;if(jt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=ht(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new re(o,l)))}}),n.length===0)return Q.EMPTY_NODE;const r=Fc(n,eI,o=>o.name,Mp);if(i){const o=Fc(n,Ke.getCompare());return new Q(r,ht(e),new Wn({".priority":o},{".priority":Ke}))}else return new Q(r,ht(e),Wn.Default)}else{let n=Q.EMPTY_NODE;return jt(t,(i,s)=>{if(ni(t,i)&&i.substring(0,1)!=="."){const r=ht(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(ht(e))}}nI(ht);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI extends bu{constructor(e){super(),this.indexPath_=e,O(!ae(e)&&de(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?Lr(e.name,n.name):r}makePost(e,n){const i=ht(e),s=Q.EMPTY_NODE.updateChild(this.indexPath_,i);return new re(n,s)}maxPost(){const e=Q.EMPTY_NODE.updateChild(this.indexPath_,Aa);return new re(ks,e)}toString(){return Ww(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI extends bu{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Lr(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return re.MIN}maxPost(){return re.MAX}makePost(e,n){const i=ht(e);return new re(n,i)}toString(){return".value"}}const dI=new uI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t){return{type:"value",snapshotNode:t}}function Er(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ca(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ua(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function hI(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this.index_=e}updateChild(e,n,i,s,r,o){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(s).equals(i.getChild(s))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(ca(n,a)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Er(n,i)):o.trackChildChange(ua(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ke,(s,r)=>{n.hasChild(s)||i.trackChildChange(ca(s,r))}),n.isLeafNode()||n.forEachChild(Ke,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(ua(s,r,o))}else i.trackChildChange(Er(s,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Q.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.indexedFilter_=new Ip(e.getIndex()),this.index_=e.getIndex(),this.startPost_=da.getStartPost_(e),this.endPost_=da.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,r,o){return this.matches(new re(n,i))||(i=Q.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,r,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=Q.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(Q.EMPTY_NODE);const r=this;return n.forEachChild(Ke,(o,a)=>{r.matches(new re(o,a))||(s=s.updateImmediateChild(o,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new da(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,r,o){return this.rangedFilter_.matches(new re(n,i))||(i=Q.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,r,o):this.fullLimitUpdateChild_(e,n,i,r,o)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=Q.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Q.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const a=r.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))s=s.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(Q.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let o=0;for(;r.hasNext();){const a=r.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:s=s.updateImmediateChild(a.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,r){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;O(a.numChildren()===this.limit_,"");const l=new re(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,l);if(u&&!i.isEmpty()&&f>=0)return r!=null&&r.trackChildChange(ua(n,i,d)),a.updateImmediateChild(n,i);{r!=null&&r.trackChildChange(ca(n,d));const m=a.updateImmediateChild(n,Q.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(r!=null&&r.trackChildChange(Er(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}else return i.isEmpty()?e:u&&o(c,l)>=0?(r!=null&&(r.trackChildChange(ca(c.name,c.node)),r.trackChildChange(Er(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,Q.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Cr}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ks}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ke}copy(){const e=new Rp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pI(t){return t.loadsAllData()?new Ip(t.getIndex()):t.hasLimit()?new fI(t):new da(t)}function D_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ke?n="$priority":t.index_===dI?n="$value":t.index_===hr?n="$key":(O(t.index_ instanceof cI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=tt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=tt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+tt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=tt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+tt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function N_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ke&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc extends zw{constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Oa("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=zc.getListenId_(e,i),a={};this.listens_[o]=a;const l=D_(e._queryParams);this.restRequest_(r+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(r,d,!1,i),Sr(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",s(h,null)}})}unlisten(e,n){const i=zc.getListenId_(e,n);delete this.listens_[i]}get(e){const n=D_(e._queryParams),i=e._path.toString(),s=new bp;return this.restRequest_(i+".json",n,(r,o)=>{let a=o;r===404&&(a=null,r=null),r===null?(this.onDataUpdate_(i,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+WT(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ra(a.responseText)}catch{Gt("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Gt("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bc(){return{value:null,children:new Map}}function qw(t,e,n){if(ae(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=de(e);t.children.has(i)||t.children.set(i,Bc());const s=t.children.get(i);e=Ie(e),qw(s,e,n)}}function Gh(t,e,n){t.value!==null?n(e,t.value):mI(t,(i,s)=>{const r=new Ee(e.toString()+"/"+i);Gh(s,r,n)})}function mI(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&jt(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=10*1e3,yI=30*1e3,vI=5*60*1e3;class xI{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new _I(e);const i=O_+(yI-O_)*Math.random();Io(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;jt(e,(s,r)=>{r>0&&ni(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),Io(this.reportStats_.bind(this),Math.floor(Math.random()*2*vI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(fn||(fn={}));function Jw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Dp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Np(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=fn.ACK_USER_WRITE,this.source=Jw()}operationForChild(e){if(ae(this.path)){if(this.affectedTree.value!=null)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ee(e));return new jc(me(),n,this.revert)}}else return O(de(this.path)===e,"operationForChild called for unrelated child."),new jc(Ie(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.source=e,this.path=n,this.type=fn.LISTEN_COMPLETE}operationForChild(e){return ae(this.path)?new ha(this.source,me()):new ha(this.source,Ie(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=fn.OVERWRITE}operationForChild(e){return ae(this.path)?new Ts(this.source,me(),this.snap.getImmediateChild(e)):new Ts(this.source,Ie(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=fn.MERGE}operationForChild(e){if(ae(this.path)){const n=this.children.subtree(new Ee(e));return n.isEmpty()?null:n.value?new Ts(this.source,me(),n.value):new fa(this.source,me(),n)}else return O(de(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new fa(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ae(e))return this.isFullyInitialized()&&!this.filtered_;const n=de(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function bI(t,e,n,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(hI(o.childName,o.snapshotNode))}),to(t,s,"child_removed",e,i,n),to(t,s,"child_added",e,i,n),to(t,s,"child_moved",r,i,n),to(t,s,"child_changed",e,i,n),to(t,s,"value",e,i,n),s}function to(t,e,n,i,s,r){const o=i.filter(a=>a.type===n);o.sort((a,l)=>CI(t,a,l)),o.forEach(a=>{const l=SI(t,a,r);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function SI(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function CI(t,e,n){if(e.childName==null||n.childName==null)throw Or("Should only compare child_ events.");const i=new re(e.childName,e.snapshotNode),s=new re(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t,e){return{eventCache:t,serverCache:e}}function Ro(t,e,n,i){return Su(new Ai(e,n,i),t.serverCache)}function Zw(t,e,n,i){return Su(t.eventCache,new Ai(e,n,i))}function Wc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ps(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cd;const EI=()=>(Cd||(Cd=new At(uM)),Cd);class Ne{constructor(e,n=EI()){this.value=e,this.children=n}static fromObject(e){let n=new Ne(null);return jt(e,(i,s)=>{n=n.set(new Ee(i),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:me(),value:this.value};if(ae(e))return null;{const i=de(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(Ie(e),n);return r!=null?{path:nt(new Ee(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ae(e))return this;{const n=de(e),i=this.children.get(n);return i!==null?i.subtree(Ie(e)):new Ne(null)}}set(e,n){if(ae(e))return new Ne(n,this.children);{const i=de(e),r=(this.children.get(i)||new Ne(null)).set(Ie(e),n),o=this.children.insert(i,r);return new Ne(this.value,o)}}remove(e){if(ae(e))return this.children.isEmpty()?new Ne(null):new Ne(null,this.children);{const n=de(e),i=this.children.get(n);if(i){const s=i.remove(Ie(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new Ne(null):new Ne(this.value,r)}else return this}}get(e){if(ae(e))return this.value;{const n=de(e),i=this.children.get(n);return i?i.get(Ie(e)):null}}setTree(e,n){if(ae(e))return n;{const i=de(e),r=(this.children.get(i)||new Ne(null)).setTree(Ie(e),n);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new Ne(this.value,o)}}fold(e){return this.fold_(me(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(nt(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,me(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(ae(e))return null;{const r=de(e),o=this.children.get(r);return o?o.findOnPath_(Ie(e),nt(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,me(),n)}foreachOnPath_(e,n,i){if(ae(e))return this;{this.value&&i(n,this.value);const s=de(e),r=this.children.get(s);return r?r.foreachOnPath_(Ie(e),nt(n,s),i):new Ne(null)}}foreach(e){this.foreach_(me(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(nt(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.writeTree_=e}static empty(){return new _n(new Ne(null))}}function Do(t,e,n){if(ae(e))return new _n(new Ne(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=Tt(s,e);return r=r.updateChild(o,n),new _n(t.writeTree_.set(s,r))}else{const s=new Ne(n),r=t.writeTree_.setTree(e,s);return new _n(r)}}}function L_(t,e,n){let i=t;return jt(n,(s,r)=>{i=Do(i,nt(e,s),r)}),i}function A_(t,e){if(ae(e))return _n.empty();{const n=t.writeTree_.setTree(e,new Ne(null));return new _n(n)}}function Qh(t,e){return Ns(t,e)!=null}function Ns(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Tt(n.path,e)):null}function F_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ke,(i,s)=>{e.push(new re(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new re(i,s.value))}),e}function Ii(t,e){if(ae(e))return t;{const n=Ns(t,e);return n!=null?new _n(new Ne(n)):new _n(t.writeTree_.subtree(e))}}function Xh(t){return t.writeTree_.isEmpty()}function kr(t,e){return e1(me(),t.writeTree_,e)}function e1(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(O(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=e1(nt(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(nt(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t,e){return s1(e,t)}function kI(t,e,n,i,s){O(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=Do(t.visibleWrites,e,n)),t.lastWriteId=i}function TI(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function PI(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);O(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&MI(a,i.path)?s=!1:hn(i.path,a.path)&&(r=!0)),o--}if(s){if(r)return II(t),!0;if(i.snap)t.visibleWrites=A_(t.visibleWrites,i.path);else{const a=i.children;jt(a,l=>{t.visibleWrites=A_(t.visibleWrites,nt(i.path,l))})}return!0}else return!1}function MI(t,e){if(t.snap)return hn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&hn(nt(t.path,n),e))return!0;return!1}function II(t){t.visibleWrites=t1(t.allWrites,RI,me()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function RI(t){return t.visible}function t1(t,e,n){let i=_n.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const o=r.path;let a;if(r.snap)hn(n,o)?(a=Tt(n,o),i=Do(i,a,r.snap)):hn(o,n)&&(a=Tt(o,n),i=Do(i,me(),r.snap.getChild(a)));else if(r.children){if(hn(n,o))a=Tt(n,o),i=L_(i,a,r.children);else if(hn(o,n))if(a=Tt(o,n),ae(a))i=L_(i,me(),r.children);else{const l=Sr(r.children,de(a));if(l){const c=l.getChild(Ie(a));i=Do(i,me(),c)}}}else throw Or("WriteRecord should have .snap or .children")}}return i}function n1(t,e,n,i,s){if(!i&&!s){const r=Ns(t.visibleWrites,e);if(r!=null)return r;{const o=Ii(t.visibleWrites,e);if(Xh(o))return n;if(n==null&&!Qh(o,me()))return null;{const a=n||Q.EMPTY_NODE;return kr(o,a)}}}else{const r=Ii(t.visibleWrites,e);if(!s&&Xh(r))return n;if(!s&&n==null&&!Qh(r,me()))return null;{const o=function(c){return(c.visible||s)&&(!i||!~i.indexOf(c.writeId))&&(hn(c.path,e)||hn(e,c.path))},a=t1(t.allWrites,o,e),l=n||Q.EMPTY_NODE;return kr(a,l)}}}function DI(t,e,n){let i=Q.EMPTY_NODE;const s=Ns(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Ke,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(n){const r=Ii(t.visibleWrites,e);return n.forEachChild(Ke,(o,a)=>{const l=kr(Ii(r,new Ee(o)),a);i=i.updateImmediateChild(o,l)}),F_(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=Ii(t.visibleWrites,e);return F_(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function NI(t,e,n,i,s){O(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=nt(e,n);if(Qh(t.visibleWrites,r))return null;{const o=Ii(t.visibleWrites,r);return Xh(o)?s.getChild(n):kr(o,s.getChild(n))}}function OI(t,e,n,i){const s=nt(e,n),r=Ns(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const o=Ii(t.visibleWrites,s);return kr(o,i.getNode().getImmediateChild(n))}else return null}function LI(t,e){return Ns(t.visibleWrites,e)}function AI(t,e,n,i,s,r,o){let a;const l=Ii(t.visibleWrites,e),c=Ns(l,me());if(c!=null)a=c;else if(n!=null)a=kr(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),h=r?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o);let f=h.getNext();for(;f&&u.length<s;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function FI(){return{visibleWrites:_n.empty(),allWrites:[],lastWriteId:-1}}function Vc(t,e,n,i){return n1(t.writeTree,t.treePath,e,n,i)}function Op(t,e){return DI(t.writeTree,t.treePath,e)}function z_(t,e,n,i){return NI(t.writeTree,t.treePath,e,n,i)}function Hc(t,e){return LI(t.writeTree,nt(t.treePath,e))}function zI(t,e,n,i,s,r){return AI(t.writeTree,t.treePath,e,n,i,s,r)}function Lp(t,e,n){return OI(t.writeTree,t.treePath,e,n)}function i1(t,e){return s1(nt(t.treePath,e),t.writeTree)}function s1(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;O(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),O(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,ua(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,ca(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,Er(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,ua(i,e.snapshotNode,s.oldSnap));else throw Or("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const r1=new jI;class Ap{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Ai(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Lp(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ps(this.viewCache_),r=zI(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t){return{filter:t}}function VI(t,e){O(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function HI(t,e,n,i,s){const r=new BI;let o,a;if(n.type===fn.OVERWRITE){const c=n;c.source.fromUser?o=qh(t,e,c.path,c.snap,i,s,r):(O(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ae(c.path),o=Uc(t,e,c.path,c.snap,i,s,a,r))}else if(n.type===fn.MERGE){const c=n;c.source.fromUser?o=$I(t,e,c.path,c.children,i,s,r):(O(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Jh(t,e,c.path,c.children,i,s,a,r))}else if(n.type===fn.ACK_USER_WRITE){const c=n;c.revert?o=GI(t,e,c.path,i,s,r):o=YI(t,e,c.path,c.affectedTree,i,s,r)}else if(n.type===fn.LISTEN_COMPLETE)o=KI(t,e,n.path,i,r);else throw Or("Unknown operation type: "+n.type);const l=r.getChanges();return UI(e,o,l),{viewCache:o,changes:l}}function UI(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=Wc(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(Xw(Wc(e)))}}function o1(t,e,n,i,s,r){const o=e.eventCache;if(Hc(i,n)!=null)return e;{let a,l;if(ae(n))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ps(e),u=c instanceof Q?c:Q.EMPTY_NODE,d=Op(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,r)}else{const c=Vc(i,Ps(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const c=de(n);if(c===".priority"){O(Li(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=z_(i,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=Ie(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=z_(i,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=Lp(i,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,s,r):a=o.getNode()}}return Ro(e,a,o.isFullyInitialized()||ae(n),t.filter.filtersNodes())}}function Uc(t,e,n,i,s,r,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ae(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{const f=de(n);if(!l.isCompleteForPath(n)&&Li(n)>1)return e;const p=Ie(n),v=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),v):c=u.updateChild(l.getNode(),f,v,p,r1,null)}const d=Zw(e,c,l.isFullyInitialized()||ae(n),u.filtersNodes()),h=new Ap(s,d,r);return o1(t,d,n,s,h,a)}function qh(t,e,n,i,s,r,o){const a=e.eventCache;let l,c;const u=new Ap(s,e,r);if(ae(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Ro(e,c,!0,t.filter.filtersNodes());else{const d=de(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Ro(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=Ie(n),f=a.getNode().getImmediateChild(d);let p;if(ae(h))p=i;else{const m=u.getCompleteChild(d);m!=null?jw(h)===".priority"&&m.getChild(Vw(h)).isEmpty()?p=m:p=m.updateChild(h,i):p=Q.EMPTY_NODE}if(f.equals(p))l=e;else{const m=t.filter.updateChild(a.getNode(),d,p,h,u,o);l=Ro(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function B_(t,e){return t.eventCache.isCompleteForChild(e)}function $I(t,e,n,i,s,r,o){let a=e;return i.foreach((l,c)=>{const u=nt(n,l);B_(e,de(u))&&(a=qh(t,a,u,c,s,r,o))}),i.foreach((l,c)=>{const u=nt(n,l);B_(e,de(u))||(a=qh(t,a,u,c,s,r,o))}),a}function j_(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function Jh(t,e,n,i,s,r,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ae(n)?c=i:c=new Ne(null).setTree(n,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=j_(t,f,h);l=Uc(t,l,new Ee(d),p,s,r,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),m=j_(t,p,h);l=Uc(t,l,new Ee(d),m,s,r,o,a)}}),l}function YI(t,e,n,i,s,r,o){if(Hc(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(ae(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Uc(t,e,n,l.getNode().getChild(n),s,r,a,o);if(ae(n)){let c=new Ne(null);return l.getNode().forEachChild(hr,(u,d)=>{c=c.set(new Ee(u),d)}),Jh(t,e,n,c,s,r,a,o)}else return e}else{let c=new Ne(null);return i.foreach((u,d)=>{const h=nt(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Jh(t,e,n,c,s,r,a,o)}}function KI(t,e,n,i,s){const r=e.serverCache,o=Zw(e,r.getNode(),r.isFullyInitialized()||ae(n),r.isFiltered());return o1(t,o,n,i,r1,s)}function GI(t,e,n,i,s,r){let o;if(Hc(i,n)!=null)return e;{const a=new Ap(i,e,s),l=e.eventCache.getNode();let c;if(ae(n)||de(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Vc(i,Ps(e));else{const d=e.serverCache.getNode();O(d instanceof Q,"serverChildren would be complete if leaf node"),u=Op(i,d)}u=u,c=t.filter.updateFullNode(l,u,r)}else{const u=de(n);let d=Lp(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Ie(n),a,r):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,Q.EMPTY_NODE,Ie(n),a,r):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Vc(i,Ps(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,r)))}return o=e.serverCache.isFullyInitialized()||Hc(i,me())!=null,Ro(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new Ip(i.getIndex()),r=pI(i);this.processor_=WI(r);const o=n.serverCache,a=n.eventCache,l=s.updateFullNode(Q.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(Q.EMPTY_NODE,a.getNode(),null),u=new Ai(l,o.isFullyInitialized(),s.filtersNodes()),d=new Ai(c,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=Su(d,u),this.eventGenerator_=new wI(this.query_)}get query(){return this.query_}}function XI(t){return t.viewCache_.serverCache.getNode()}function qI(t){return Wc(t.viewCache_)}function JI(t,e){const n=Ps(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ae(e)&&!n.getImmediateChild(de(e)).isEmpty())?n.getChild(e):null}function W_(t){return t.eventRegistrations_.length===0}function ZI(t,e){t.eventRegistrations_.push(e)}function V_(t,e,n){const i=[];if(n){O(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function H_(t,e,n,i){e.type===fn.MERGE&&e.source.queryId!==null&&(O(Ps(t.viewCache_),"We should always have a full cache before handling merges"),O(Wc(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=HI(t.processor_,s,e,n,i);return VI(t.processor_,r.viewCache),O(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,a1(t,r.changes,r.viewCache.eventCache.getNode(),null)}function eR(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ke,(r,o)=>{i.push(Er(r,o))}),n.isFullyInitialized()&&i.push(Xw(n.getNode())),a1(t,i,n.getNode(),e)}function a1(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return bI(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c;class l1{constructor(){this.views=new Map}}function tR(t){O(!$c,"__referenceConstructor has already been defined"),$c=t}function nR(){return O($c,"Reference.ts has not been loaded"),$c}function iR(t){return t.views.size===0}function Fp(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return O(r!=null,"SyncTree gave us an op for an invalid query."),H_(r,e,n,i)}else{let r=[];for(const o of t.views.values())r=r.concat(H_(o,e,n,i));return r}}function c1(t,e,n,i,s){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let a=Vc(n,s?i:null),l=!1;a?l=!0:i instanceof Q?(a=Op(n,i),l=!1):(a=Q.EMPTY_NODE,l=!1);const c=Su(new Ai(a,l,!1),new Ai(i,s,!1));return new QI(e,c)}return o}function sR(t,e,n,i,s,r){const o=c1(t,e,i,s,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),ZI(o,n),eR(o,n)}function rR(t,e,n,i){const s=e._queryIdentifier,r=[];let o=[];const a=Fi(t);if(s==="default")for(const[l,c]of t.views.entries())o=o.concat(V_(c,n,i)),W_(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||r.push(c.query));else{const l=t.views.get(s);l&&(o=o.concat(V_(l,n,i)),W_(l)&&(t.views.delete(s),l.query._queryParams.loadsAllData()||r.push(l.query)))}return a&&!Fi(t)&&r.push(new(nR())(e._repo,e._path)),{removed:r,events:o}}function u1(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ri(t,e){let n=null;for(const i of t.views.values())n=n||JI(i,e);return n}function d1(t,e){if(e._queryParams.loadsAllData())return Eu(t);{const i=e._queryIdentifier;return t.views.get(i)}}function h1(t,e){return d1(t,e)!=null}function Fi(t){return Eu(t)!=null}function Eu(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc;function oR(t){O(!Yc,"__referenceConstructor has already been defined"),Yc=t}function aR(){return O(Yc,"Reference.ts has not been loaded"),Yc}let lR=1;class U_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ne(null),this.pendingWriteTree_=FI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cR(t,e,n,i,s){return kI(t.pendingWriteTree_,e,n,i,s),s?za(t,new Ts(Jw(),e,n)):[]}function ir(t,e,n=!1){const i=TI(t.pendingWriteTree_,e);if(PI(t.pendingWriteTree_,e)){let r=new Ne(null);return i.snap!=null?r=r.set(me(),!0):jt(i.children,o=>{r=r.set(new Ee(o),!0)}),za(t,new jc(i.path,r,n))}else return[]}function Fa(t,e,n){return za(t,new Ts(Dp(),e,n))}function uR(t,e,n){const i=Ne.fromObject(n);return za(t,new fa(Dp(),e,i))}function dR(t,e){return za(t,new ha(Dp(),e))}function hR(t,e,n){const i=zp(t,n);if(i){const s=Bp(i),r=s.path,o=s.queryId,a=Tt(r,e),l=new ha(Np(o),a);return jp(t,r,l)}else return[]}function f1(t,e,n,i,s=!1){const r=e._path,o=t.syncPointTree_.get(r);let a=[];if(o&&(e._queryIdentifier==="default"||h1(o,e))){const l=rR(o,e,n,i);iR(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const c=l.removed;if(a=l.events,!s){const u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(r,(h,f)=>Fi(f));if(u&&!d){const h=t.syncPointTree_.subtree(r);if(!h.isEmpty()){const f=mR(h);for(let p=0;p<f.length;++p){const m=f[p],v=m.query,_=y1(t,m);t.listenProvider_.startListening(No(v),pa(t,v),_.hashFn,_.onComplete)}}}!d&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(No(e),null):c.forEach(h=>{const f=t.queryToTagMap.get(ku(h));t.listenProvider_.stopListening(No(h),f)}))}_R(t,c)}return a}function p1(t,e,n,i){const s=zp(t,i);if(s!=null){const r=Bp(s),o=r.path,a=r.queryId,l=Tt(o,e),c=new Ts(Np(a),l,n);return jp(t,o,c)}else return[]}function fR(t,e,n,i){const s=zp(t,i);if(s){const r=Bp(s),o=r.path,a=r.queryId,l=Tt(o,e),c=Ne.fromObject(n),u=new fa(Np(a),l,c);return jp(t,o,u)}else return[]}function pR(t,e,n,i=!1){const s=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(s,(h,f)=>{const p=Tt(h,s);r=r||Ri(f,p),o=o||Fi(f)});let a=t.syncPointTree_.get(s);a?(o=o||Fi(a),r=r||Ri(a,me())):(a=new l1,t.syncPointTree_=t.syncPointTree_.set(s,a));let l;r!=null?l=!0:(l=!1,r=Q.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((f,p)=>{const m=Ri(p,me());m&&(r=r.updateImmediateChild(f,m))}));const c=h1(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=ku(e);O(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=yR();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const u=Cu(t.pendingWriteTree_,s);let d=sR(a,e,n,u,r,l);if(!c&&!o&&!i){const h=d1(a,e);d=d.concat(vR(t,e,h))}return d}function g1(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Tt(o,e),c=Ri(a,l);if(c)return c});return n1(s,e,r,n,!0)}function gR(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=Tt(c,n);i=i||Ri(u,d)});let s=t.syncPointTree_.get(n);s?i=i||Ri(s,me()):(s=new l1,t.syncPointTree_=t.syncPointTree_.set(n,s));const r=i!=null,o=r?new Ai(i,!0,!1):null,a=Cu(t.pendingWriteTree_,e._path),l=c1(s,e,a,r?o.getNode():Q.EMPTY_NODE,r);return qI(l)}function za(t,e){return m1(e,t.syncPointTree_,null,Cu(t.pendingWriteTree_,me()))}function m1(t,e,n,i){if(ae(t.path))return _1(t,e,n,i);{const s=e.get(me());n==null&&s!=null&&(n=Ri(s,me()));let r=[];const o=de(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=i1(i,o);r=r.concat(m1(a,l,c,u))}return s&&(r=r.concat(Fp(s,t,i,n))),r}}function _1(t,e,n,i){const s=e.get(me());n==null&&s!=null&&(n=Ri(s,me()));let r=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=i1(i,o),u=t.operationForChild(o);u&&(r=r.concat(_1(u,a,l,c)))}),s&&(r=r.concat(Fp(s,t,i,n))),r}function y1(t,e){const n=e.query,i=pa(t,n);return{hashFn:()=>(XI(e)||Q.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?hR(t,n._path,i):dR(t,n._path);{const r=fM(s,n);return f1(t,n,null,r)}}}}function pa(t,e){const n=ku(e);return t.queryToTagMap.get(n)}function ku(t){return t._path.toString()+"$"+t._queryIdentifier}function zp(t,e){return t.tagToQueryMap.get(e)}function Bp(t){const e=t.indexOf("$");return O(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ee(t.substr(0,e))}}function jp(t,e,n){const i=t.syncPointTree_.get(e);O(i,"Missing sync point for query tag that we're tracking");const s=Cu(t.pendingWriteTree_,e);return Fp(i,n,s,null)}function mR(t){return t.fold((e,n,i)=>{if(n&&Fi(n))return[Eu(n)];{let s=[];return n&&(s=u1(n)),jt(i,(r,o)=>{s=s.concat(o)}),s}})}function No(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(aR())(t._repo,t._path):t}function _R(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=ku(i),r=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(r)}}}function yR(){return lR++}function vR(t,e,n){const i=e._path,s=pa(t,e),r=y1(t,n),o=t.listenProvider_.startListening(No(e),s,r.hashFn,r.onComplete),a=t.syncPointTree_.subtree(i);if(s)O(!Fi(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!ae(c)&&u&&Fi(u))return[Eu(u).query];{let h=[];return u&&(h=h.concat(u1(u).map(f=>f.query))),jt(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(No(u),pa(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Wp(n)}node(){return this.node_}}class Vp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=nt(this.path_,e);return new Vp(this.syncTree_,n)}node(){return g1(this.syncTree_,this.path_)}}const xR=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},$_=function(t,e,n){if(!t||typeof t!="object")return t;if(O(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return wR(t[".sv"],e,n);if(typeof t[".sv"]=="object")return bR(t[".sv"],e);O(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},wR=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:O(!1,"Unexpected server value: "+t)}},bR=function(t,e,n){t.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&O(!1,"Unexpected increment value: "+i);const s=e.node();if(O(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},SR=function(t,e,n,i){return Hp(e,new Vp(n,t),i)},CR=function(t,e,n){return Hp(t,new Wp(e),n)};function Hp(t,e,n){const i=t.getPriority().val(),s=$_(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,a=$_(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new rt(a,ht(s)):t}else{const o=t;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new rt(s))),o.forEachChild(Ke,(a,l)=>{const c=Hp(l,e.getImmediateChild(a),n);c!==l&&(r=r.updateImmediateChild(a,c))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function $p(t,e){let n=e instanceof Ee?e:new Ee(e),i=t,s=de(n);for(;s!==null;){const r=Sr(i.node.children,s)||{children:{},childCount:0};i=new Up(s,i,r),n=Ie(n),s=de(n)}return i}function Ar(t){return t.node.value}function v1(t,e){t.node.value=e,Zh(t)}function x1(t){return t.node.childCount>0}function ER(t){return Ar(t)===void 0&&!x1(t)}function Tu(t,e){jt(t.node.children,(n,i)=>{e(new Up(n,t,i))})}function w1(t,e,n,i){n&&!i&&e(t),Tu(t,s=>{w1(s,e,!0,i)}),n&&i&&e(t)}function kR(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Ba(t){return new Ee(t.parent===null?t.name:Ba(t.parent)+"/"+t.name)}function Zh(t){t.parent!==null&&TR(t.parent,t.name,t)}function TR(t,e,n){const i=ER(n),s=ni(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,Zh(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Zh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=/[\[\].#$\/\u0000-\u001F\u007F]/,MR=/[\[\].#$\u0000-\u001F\u007F]/,Ed=10*1024*1024,b1=function(t){return typeof t=="string"&&t.length!==0&&!PR.test(t)},S1=function(t){return typeof t=="string"&&t.length!==0&&!MR.test(t)},IR=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),S1(t)},C1=function(t,e,n){const i=n instanceof Ee?new YM(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ss(i));if(typeof e=="function")throw new Error(t+"contains a function "+ss(i)+" with contents = "+e.toString());if(vw(e))throw new Error(t+"contains "+e.toString()+" "+ss(i));if(typeof e=="string"&&e.length>Ed/3&&wu(e)>Ed)throw new Error(t+"contains a string greater than "+Ed+" utf8 bytes "+ss(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(jt(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!b1(o)))throw new Error(t+" contains an invalid key ("+o+") "+ss(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);KM(i,o),C1(t,a,i),GM(i)}),s&&r)throw new Error(t+' contains ".value" child '+ss(i)+" in addition to actual children.")}},E1=function(t,e,n,i){if(!S1(n))throw new Error(cw(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},RR=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),E1(t,e,n)},DR=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!b1(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!IR(n))throw new Error(cw(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function OR(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!Hw(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function Yi(t,e,n){OR(t,n),LR(t,i=>hn(i,e)||hn(e,i))}function LR(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(AR(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function AR(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Mo&&vt("event: "+n.toString()),La(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="repo_interrupt",zR=25;class BR{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new NR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bc(),this.transactionQueueTree_=new Up,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jR(t,e,n){if(t.stats_=kp(t.repoInfo_),t.forceRestClient_||_M())t.server_=new zc(t.repoInfo_,(i,s,r,o)=>{Y_(t,i,s,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>K_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Kn(t.repoInfo_,e,(i,s,r,o)=>{Y_(t,i,s,r,o)},i=>{K_(t,i)},i=>{VR(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=bM(t.repoInfo_,()=>new xI(t.stats_,t.server_)),t.infoData_=new gI,t.infoSyncTree_=new U_({startListening:(i,s,r,o)=>{let a=[];const l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Fa(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Yp(t,"connected",!1),t.serverSyncTree_=new U_({startListening:(i,s,r,o)=>(t.server_.listen(i,r,s,(a,l)=>{const c=o(a,l);Yi(t.eventQueue_,i._path,c)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function WR(t){const n=t.infoData_.getNode(new Ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function k1(t){return xR({timestamp:WR(t)})}function Y_(t,e,n,i,s){t.dataUpdateCount++;const r=new Ee(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(i){const l=Dc(n,c=>ht(c));o=fR(t.serverSyncTree_,r,l,s)}else{const l=ht(n);o=p1(t.serverSyncTree_,r,l,s)}else if(i){const l=Dc(n,c=>ht(c));o=uR(t.serverSyncTree_,r,l)}else{const l=ht(n);o=Fa(t.serverSyncTree_,r,l)}let a=r;o.length>0&&(a=Qp(t,r)),Yi(t.eventQueue_,a,o)}function K_(t,e){Yp(t,"connected",e),e===!1&&$R(t)}function VR(t,e){jt(e,(n,i)=>{Yp(t,n,i)})}function Yp(t,e,n){const i=new Ee("/.info/"+e),s=ht(n);t.infoData_.updateSnapshot(i,s);const r=Fa(t.infoSyncTree_,i,s);Yi(t.eventQueue_,i,r)}function HR(t){return t.nextWriteId_++}function UR(t,e,n){const i=gR(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(s=>{const r=ht(s).withIndex(e._queryParams.getIndex());pR(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Fa(t.serverSyncTree_,e._path,r);else{const a=pa(t.serverSyncTree_,e);o=p1(t.serverSyncTree_,e._path,r,a)}return Yi(t.eventQueue_,e._path,o),f1(t.serverSyncTree_,e,n,null,!0),r},s=>(Kp(t,"get for query "+tt(e)+" failed: "+s),Promise.reject(new Error(s))))}function $R(t){Kp(t,"onDisconnectEvents");const e=k1(t),n=Bc();Gh(t.onDisconnect_,me(),(s,r)=>{const o=SR(s,r,t.serverSyncTree_,e);qw(n,s,o)});let i=[];Gh(n,me(),(s,r)=>{i=i.concat(Fa(t.serverSyncTree_,s,r));const o=QR(t,s);Qp(t,o)}),t.onDisconnect_=Bc(),Yi(t.eventQueue_,me(),i)}function YR(t){t.persistentConnection_&&t.persistentConnection_.interrupt(FR)}function Kp(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),vt(n,...e)}function T1(t,e,n){return g1(t.serverSyncTree_,e,n)||Q.EMPTY_NODE}function Gp(t,e=t.transactionQueueTree_){if(e||Pu(t,e),Ar(e)){const n=M1(t,e);O(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&KR(t,Ba(e),n)}else x1(e)&&Tu(e,n=>{Gp(t,n)})}function KR(t,e,n){const i=n.map(c=>c.currentWriteId),s=T1(t,e,i);let r=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];O(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Tt(e,u.path);r=r.updateChild(d,u.currentOutputSnapshotRaw)}const a=r.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Kp(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(ir(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Pu(t,$p(t.transactionQueueTree_,e)),Gp(t,t.transactionQueueTree_),Yi(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)La(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Gt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Qp(t,e)}},o)}function Qp(t,e){const n=P1(t,e),i=Ba(n),s=M1(t,n);return GR(t,s,i),i}function GR(t,e,n){if(e.length===0)return;const i=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Tt(n,l.path);let u=!1,d;if(O(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(ir(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=zR)u=!0,d="maxretry",s=s.concat(ir(t.serverSyncTree_,l.currentWriteId,!0));else{const h=T1(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){C1("transaction failed: Data returned ",f,l.path);let p=ht(f);typeof f=="object"&&f!=null&&ni(f,".priority")||(p=p.updatePriority(h.getPriority()));const v=l.currentWriteId,_=k1(t),g=CR(p,h,_);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=g,l.currentWriteId=HR(t),o.splice(o.indexOf(v),1),s=s.concat(cR(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),s=s.concat(ir(t.serverSyncTree_,v,!0))}else u=!0,d="nodata",s=s.concat(ir(t.serverSyncTree_,l.currentWriteId,!0))}Yi(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}Pu(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)La(i[a]);Gp(t,t.transactionQueueTree_)}function P1(t,e){let n,i=t.transactionQueueTree_;for(n=de(e);n!==null&&Ar(i)===void 0;)i=$p(i,n),e=Ie(e),n=de(e);return i}function M1(t,e){const n=[];return I1(t,e,n),n.sort((i,s)=>i.order-s.order),n}function I1(t,e,n){const i=Ar(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);Tu(e,s=>{I1(t,s,n)})}function Pu(t,e){const n=Ar(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,v1(e,n.length>0?n:void 0)}Tu(e,i=>{Pu(t,i)})}function QR(t,e){const n=Ba(P1(t,e)),i=$p(t.transactionQueueTree_,e);return kR(i,s=>{kd(t,s)}),kd(t,i),w1(i,s=>{kd(t,s)}),n}function kd(t,e){const n=Ar(e);if(n){const i=[];let s=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(O(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(O(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(ir(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?v1(e,void 0):n.length=r+1,Yi(t.eventQueue_,Ba(e),s);for(let o=0;o<i.length;o++)La(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function qR(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Gt(`Invalid query segment '${n}' in query '${t}'`)}return e}const G_=function(t,e){const n=JR(t),i=n.namespace;n.domain==="firebase.com"&&ei(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&ei("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||lM();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Rw(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new Ee(n.pathString)}},JR=function(t){let e="",n="",i="",s="",r="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(s=XR(t.substring(u,d)));const h=qR(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),r=i}"ns"in h&&(r=h.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tt(this.snapshot.exportVal())}}class eD{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return ae(this._path)?null:jw(this._path)}get ref(){return new ii(this._repo,this._path)}get _queryIdentifier(){const e=N_(this._queryParams),n=Cp(e);return n==="{}"?"default":n}get _queryObject(){return N_(this._queryParams)}isEqual(e){if(e=Da(e),!(e instanceof Xp))return!1;const n=this._repo===e._repo,i=Hw(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+$M(this._path)}}class ii extends Xp{constructor(e,n){super(e,n,new Rp,!1)}get parent(){const e=Vw(this._path);return e===null?null:new ii(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ga{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Ee(e),i=ef(this.ref,e);return new ga(this._node.getChild(n),i,Ke)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new ga(s,ef(this.ref,i),Ke)))}hasChild(e){const n=new Ee(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function nD(t,e){return t=Da(t),t._checkNotDeleted("ref"),ef(t._root,e)}function ef(t,e){return t=Da(t),de(t._path)===null?RR("child","path",e):E1("child","path",e),new ii(t._repo,nt(t._path,e))}function iD(t){t=Da(t);const e=new tD(()=>{}),n=new qp(e);return UR(t._repo,t,n).then(i=>new ga(i,new ii(t._repo,t._path),t._queryParams.getIndex()))}class qp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new ZR("value",this,new ga(e.snapshotNode,new ii(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new eD(this,e,n):null}matches(e){return e instanceof qp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}tR(ii);oR(ii);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="FIREBASE_DATABASE_EMULATOR_HOST",tf={};let rD=!1;function oD(t,e,n,i){t.repoInfo_=new Rw(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function aD(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||ei("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vt("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=G_(r,s),a=o.repoInfo,l;typeof process<"u"&&g_&&(l=g_[sD]),l?(r=`http://${l}?ns=${a.namespace}`,o=G_(r,s),a=o.repoInfo):o.repoInfo.secure;const c=new vM(t.name,t.options,e);DR("Invalid Firebase Database URL",o),ae(o.path)||ei("Database URL must point to the root of a Firebase Database (not including a child path).");const u=cD(a,t,c,new yM(t.name,n));return new uD(u,t)}function lD(t,e){const n=tf[e];(!n||n[t.key]!==t)&&ei(`Database ${e}(${t.repoInfo_}) has already been deleted.`),YR(t),delete n[t.key]}function cD(t,e,n,i){let s=tf[e.name];s||(s={},tf[e.name]=s);let r=s[t.toURLString()];return r&&ei("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new BR(t,rD,n,i),s[t.toURLString()]=r,r}class uD{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(jR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ii(this._repo,me())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ei("Cannot call "+e+" on a deleted database.")}}function dD(t=UP(),e){const n=jP(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=IT("database");i&&hD(n,...i)}return n}function hD(t,e,n,i={}){t=Da(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ei("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let r;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&ei('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new $l($l.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:RT(i.mockUserToken,t.app.options.projectId);r=new $l(o)}oD(s,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t){nM(HP),Oc(new oa("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return aD(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),ur(m_,__,t),ur(m_,__,"esm2017")}Kn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Kn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};fD();const pD={apiKey:"AIzaSyDYUsVIgr7gCL3D1S5dhwyDc6K-aP31sXA",authDomain:"waterquality-ba0bb.firebaseapp.com",databaseURL:"https://waterquality-ba0bb-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"waterquality-ba0bb",storageBucket:"waterquality-ba0bb.appspot.com",messagingSenderId:"654440423465",appId:"1:654440423465:web:8e7694398bd773f3343c38",measurementId:"G-QSVJTQQ3RD"},gD=fw(pD),mD=dD(gD);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function ja(t){return t+.5|0}const mi=(t,e,n)=>Math.max(Math.min(t,n),e);function fo(t){return mi(ja(t*2.55),0,255)}function Di(t){return mi(ja(t*255),0,255)}function Fn(t){return mi(ja(t/2.55)/100,0,1)}function Q_(t){return mi(ja(t*100),0,100)}const Jt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},nf=[..."0123456789ABCDEF"],_D=t=>nf[t&15],yD=t=>nf[(t&240)>>4]+nf[t&15],_l=t=>(t&240)>>4===(t&15),vD=t=>_l(t.r)&&_l(t.g)&&_l(t.b)&&_l(t.a);function xD(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Jt[t[1]]*17,g:255&Jt[t[2]]*17,b:255&Jt[t[3]]*17,a:e===5?Jt[t[4]]*17:255}:(e===7||e===9)&&(n={r:Jt[t[1]]<<4|Jt[t[2]],g:Jt[t[3]]<<4|Jt[t[4]],b:Jt[t[5]]<<4|Jt[t[6]],a:e===9?Jt[t[7]]<<4|Jt[t[8]]:255})),n}const wD=(t,e)=>t<255?e(t):"";function bD(t){var e=vD(t)?_D:yD;return t?"#"+e(t.r)+e(t.g)+e(t.b)+wD(t.a,e):void 0}const SD=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function R1(t,e,n){const i=e*Math.min(n,1-n),s=(r,o=(r+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function CD(t,e,n){const i=(s,r=(s+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function ED(t,e,n){const i=R1(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)i[s]*=1-e-n,i[s]+=e;return i}function kD(t,e,n,i,s){return t===s?(e-n)/i+(e<n?6:0):e===s?(n-t)/i+2:(t-e)/i+4}function Jp(t){const n=t.r/255,i=t.g/255,s=t.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=kD(n,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function Zp(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Di)}function eg(t,e,n){return Zp(R1,t,e,n)}function TD(t,e,n){return Zp(ED,t,e,n)}function PD(t,e,n){return Zp(CD,t,e,n)}function D1(t){return(t%360+360)%360}function MD(t){const e=SD.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?fo(+e[5]):Di(+e[5]));const s=D1(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=TD(s,r,o):e[1]==="hsv"?i=PD(s,r,o):i=eg(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function ID(t,e){var n=Jp(t);n[0]=D1(n[0]+e),n=eg(n),t.r=n[0],t.g=n[1],t.b=n[2]}function RD(t){if(!t)return;const e=Jp(t),n=e[0],i=Q_(e[1]),s=Q_(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${s}%, ${Fn(t.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const X_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},q_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function DD(){const t={},e=Object.keys(q_),n=Object.keys(X_);let i,s,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,X_[r]);r=parseInt(q_[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let yl;function ND(t){yl||(yl=DD(),yl.transparent=[0,0,0,0]);const e=yl[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const OD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function LD(t){const e=OD.exec(t);let n=255,i,s,r;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?fo(o):mi(o*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?fo(i):mi(i,0,255)),s=255&(e[4]?fo(s):mi(s,0,255)),r=255&(e[6]?fo(r):mi(r,0,255)),{r:i,g:s,b:r,a:n}}}function AD(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Fn(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Td=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Vs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function FD(t,e,n){const i=Vs(Fn(t.r)),s=Vs(Fn(t.g)),r=Vs(Fn(t.b));return{r:Di(Td(i+n*(Vs(Fn(e.r))-i))),g:Di(Td(s+n*(Vs(Fn(e.g))-s))),b:Di(Td(r+n*(Vs(Fn(e.b))-r))),a:t.a+n*(e.a-t.a)}}function vl(t,e,n){if(t){let i=Jp(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=eg(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function N1(t,e){return t&&Object.assign(e||{},t)}function J_(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Di(t[3]))):(e=N1(t,{r:0,g:0,b:0,a:1}),e.a=Di(e.a)),e}function zD(t){return t.charAt(0)==="r"?LD(t):MD(t)}class ma{constructor(e){if(e instanceof ma)return e;const n=typeof e;let i;n==="object"?i=J_(e):n==="string"&&(i=xD(e)||ND(e)||zD(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=N1(this._rgb);return e&&(e.a=Fn(e.a)),e}set rgb(e){this._rgb=J_(e)}rgbString(){return this._valid?AD(this._rgb):void 0}hexString(){return this._valid?bD(this._rgb):void 0}hslString(){return this._valid?RD(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,s=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=FD(this._rgb,e._rgb,n)),this}clone(){return new ma(this.rgb)}alpha(e){return this._rgb.a=Di(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ja(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return vl(this._rgb,2,e),this}darken(e){return vl(this._rgb,2,-e),this}saturate(e){return vl(this._rgb,1,e),this}desaturate(e){return vl(this._rgb,1,-e),this}rotate(e){return ID(this._rgb,e),this}}/*!
 * Chart.js v4.4.5
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Dn(){}const BD=(()=>{let t=0;return()=>t++})();function pe(t){return t===null||typeof t>"u"}function Be(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ue(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ge(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Wt(t,e){return Ge(t)?t:e}function ne(t,e){return typeof t>"u"?e:t}const jD=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,O1=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Pe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function xe(t,e,n,i){let s,r,o;if(Be(t))for(r=t.length,s=0;s<r;s++)e.call(n,t[s],s);else if(ue(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(n,t[o[s]],o[s])}function Kc(t,e){let n,i,s,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(s=t[n],r=e[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Gc(t){if(Be(t))return t.map(Gc);if(ue(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let s=0;for(;s<i;++s)e[n[s]]=Gc(t[n[s]]);return e}return t}function L1(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function WD(t,e,n,i){if(!L1(t))return;const s=e[t],r=n[t];ue(s)&&ue(r)?_a(s,r,i):e[t]=Gc(r)}function _a(t,e,n){const i=Be(e)?e:[e],s=i.length;if(!ue(t))return t;n=n||{};const r=n.merger||WD;let o;for(let a=0;a<s;++a){if(o=i[a],!ue(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,n)}return t}function Oo(t,e){return _a(t,e,{merger:VD})}function VD(t,e,n){if(!L1(t))return;const i=e[t],s=n[t];ue(i)&&ue(s)?Oo(i,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Gc(s))}const Z_={"":t=>t,x:t=>t.x,y:t=>t.y};function HD(t){const e=t.split("."),n=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function UD(t){const e=HD(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function zi(t,e){return(Z_[e]||(Z_[e]=UD(e)))(t)}function tg(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ya=t=>typeof t<"u",Bi=t=>typeof t=="function",ey=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function $D(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ae=Math.PI,Le=2*Ae,YD=Le+Ae,Qc=Number.POSITIVE_INFINITY,KD=Ae/180,Xe=Ae/2,qi=Ae/4,ty=Ae*2/3,_i=Math.log10,Mn=Math.sign;function Lo(t,e,n){return Math.abs(t-e)<n}function ny(t){const e=Math.round(t);t=Lo(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(_i(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function GD(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((s,r)=>s-r).pop(),e}function Tr(t){return!isNaN(parseFloat(t))&&isFinite(t)}function QD(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function A1(t,e,n){let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function pn(t){return t*(Ae/180)}function ng(t){return t*(180/Ae)}function iy(t){if(!Ge(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function F1(t,e){const n=e.x-t.x,i=e.y-t.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Ae&&(r+=Le),{angle:r,distance:s}}function sf(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function XD(t,e){return(t-e+YD)%Le-Ae}function Ut(t){return(t%Le+Le)%Le}function va(t,e,n,i){const s=Ut(t),r=Ut(e),o=Ut(n),a=Ut(r-s),l=Ut(o-s),c=Ut(s-r),u=Ut(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function lt(t,e,n){return Math.max(e,Math.min(n,t))}function qD(t){return lt(t,-32768,32767)}function Vn(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function ig(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const Hn=(t,e,n,i)=>ig(t,n,i?s=>{const r=t[s][e];return r<n||r===n&&t[s+1][e]===n}:s=>t[s][e]<n),JD=(t,e,n)=>ig(t,n,i=>t[i][e]>=n);function ZD(t,e,n){let i=0,s=t.length;for(;i<s&&t[i]<e;)i++;for(;s>i&&t[s-1]>n;)s--;return i>0||s<t.length?t.slice(i,s):t}const z1=["push","pop","shift","splice","unshift"];function eN(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),z1.forEach(n=>{const i="_onData"+tg(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function sy(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(z1.forEach(r=>{delete t[r]}),delete t._chartjs)}function B1(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const j1=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function W1(t,e){let n=[],i=!1;return function(...s){n=s,i||(i=!0,j1.call(window,()=>{i=!1,t.apply(e,n)}))}}function tN(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const sg=t=>t==="start"?"left":t==="end"?"right":"center",_t=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,nN=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function V1(t,e,n){const i=e.length;let s=0,r=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:h}=o.getUserBounds();d&&(s=lt(Math.min(Hn(a,l,c).lo,n?i:Hn(e,l,o.getPixelForValue(c)).lo),0,i-1)),h?r=lt(Math.max(Hn(a,o.axis,u,!0).hi+1,n?0:Hn(e,l,o.getPixelForValue(u),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function H1(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const xl=t=>t===0||t===1,ry=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Le/n)),oy=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Le/n)+1,Ao={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Xe)+1,easeOutSine:t=>Math.sin(t*Xe),easeInOutSine:t=>-.5*(Math.cos(Ae*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>xl(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>xl(t)?t:ry(t,.075,.3),easeOutElastic:t=>xl(t)?t:oy(t,.075,.3),easeInOutElastic(t){return xl(t)?t:t<.5?.5*ry(t*2,.1125,.45):.5+.5*oy(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ao.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ao.easeInBounce(t*2)*.5:Ao.easeOutBounce(t*2-1)*.5+.5};function rg(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ay(t){return rg(t)?t:new ma(t)}function Pd(t){return rg(t)?t:new ma(t).saturate(.5).darken(.1).hexString()}const iN=["x","y","borderWidth","radius","tension"],sN=["color","borderColor","backgroundColor"];function rN(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:sN},numbers:{type:"number",properties:iN}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function oN(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ly=new Map;function aN(t,e){e=e||{};const n=t+JSON.stringify(e);let i=ly.get(n);return i||(i=new Intl.NumberFormat(t,e),ly.set(n,i)),i}function Wa(t,e,n){return aN(e,n).format(t)}const U1={values(t){return Be(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let s,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=lN(t,n)}const o=_i(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Wa(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(_i(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?U1.numeric.call(this,t,e,n):""}};function lN(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Mu={formatters:U1};function cN(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Mu.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Ms=Object.create(null),rf=Object.create(null);function Fo(t,e){if(!e)return t;const n=e.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];t=t[r]||(t[r]=Object.create(null))}return t}function Md(t,e,n){return typeof e=="string"?_a(Fo(t,e),n):_a(Fo(t,""),e)}class uN{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Pd(s.backgroundColor),this.hoverBorderColor=(i,s)=>Pd(s.borderColor),this.hoverColor=(i,s)=>Pd(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Md(this,e,n)}get(e){return Fo(this,e)}describe(e,n){return Md(rf,e,n)}override(e,n){return Md(Ms,e,n)}route(e,n,i,s){const r=Fo(this,e),o=Fo(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return ue(l)?Object.assign({},c,l):ne(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var je=new uN({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[rN,oN,cN]);function dN(t){return!t||pe(t.size)||pe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Xc(t,e,n,i,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,n.push(s)),r>i&&(i=r),i}function hN(t,e,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(s=i.data={},r=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,d,h;for(l=0;l<a;l++)if(d=n[l],d!=null&&!Be(d))o=Xc(t,s,r,o,d);else if(Be(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!Be(h)&&(o=Xc(t,s,r,o,h));t.restore();const f=r.length/2;if(f>n.length){for(l=0;l<f;l++)delete s[r[l]];r.splice(0,f)}return o}function Ji(t,e,n){const i=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*i)/i+s}function cy(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function of(t,e,n,i){$1(t,e,n,i,null)}function $1(t,e,n,i,s){let r,o,a,l,c,u,d,h;const f=e.pointStyle,p=e.rotation,m=e.radius;let v=(p||0)*KD;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),f){default:s?t.ellipse(n,i,s/2,m,0,0,Le):t.arc(n,i,m,0,Le),t.closePath();break;case"triangle":u=s?s/2:m,t.moveTo(n+Math.sin(v)*u,i-Math.cos(v)*m),v+=ty,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*m),v+=ty,t.lineTo(n+Math.sin(v)*u,i-Math.cos(v)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(v+qi)*l,d=Math.cos(v+qi)*(s?s/2-c:l),a=Math.sin(v+qi)*l,h=Math.sin(v+qi)*(s?s/2-c:l),t.arc(n-d,i-a,c,v-Ae,v-Xe),t.arc(n+h,i-o,c,v-Xe,v),t.arc(n+d,i+a,c,v,v+Xe),t.arc(n-h,i+o,c,v+Xe,v+Ae),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*m,u=s?s/2:l,t.rect(n-u,i-l,2*u,2*l);break}v+=qi;case"rectRot":d=Math.cos(v)*(s?s/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,h=Math.sin(v)*(s?s/2:m),t.moveTo(n-d,i-a),t.lineTo(n+h,i-o),t.lineTo(n+d,i+a),t.lineTo(n-h,i+o),t.closePath();break;case"crossRot":v+=qi;case"cross":d=Math.cos(v)*(s?s/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,h=Math.sin(v)*(s?s/2:m),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o);break;case"star":d=Math.cos(v)*(s?s/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,h=Math.sin(v)*(s?s/2:m),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o),v+=qi,d=Math.cos(v)*(s?s/2:m),o=Math.cos(v)*m,a=Math.sin(v)*m,h=Math.sin(v)*(s?s/2:m),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o);break;case"line":o=s?s/2:Math.cos(v)*m,a=Math.sin(v)*m,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(v)*(s?s/2:m),i+Math.sin(v)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Un(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Iu(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ru(t){t.restore()}function fN(t,e,n,i,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else s==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function pN(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function gN(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),pe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function mN(t,e,n,i,s){if(s.strikethrough||s.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function _N(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Is(t,e,n,i,s,r={}){const o=Be(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=s.string,gN(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&_N(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),pe(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,i,r.maxWidth)),t.fillText(c,n,i,r.maxWidth),mN(t,n,i,c,r),i+=Number(s.lineHeight);t.restore()}function xa(t,e){const{x:n,y:i,w:s,h:r,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Ae,Ae,!0),t.lineTo(n,i+r-o.bottomLeft),t.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Ae,Xe,!0),t.lineTo(n+s-o.bottomRight,i+r),t.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Xe,0,!0),t.lineTo(n+s,i+o.topRight),t.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-Xe,!0),t.lineTo(n+o.topLeft,i)}const yN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,vN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xN(t,e){const n=(""+t).match(yN);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const wN=t=>+t||0;function og(t,e){const n={},i=ue(e),s=i?Object.keys(e):e,r=ue(t)?i?o=>ne(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of s)n[o]=wN(r(o));return n}function Y1(t){return og(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ys(t){return og(t,["topLeft","topRight","bottomLeft","bottomRight"])}function bt(t){const e=Y1(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function st(t,e){t=t||{},e=e||je.font;let n=ne(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=ne(t.style,e.style);i&&!(""+i).match(vN)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:ne(t.family,e.family),lineHeight:xN(ne(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:ne(t.weight,e.weight),string:""};return s.string=dN(s),s}function po(t,e,n,i){let s,r,o;for(s=0,r=t.length;s<r;++s)if(o=t[s],o!==void 0&&o!==void 0)return o}function bN(t,e,n){const{min:i,max:s}=t,r=O1(e,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function Ki(t,e){return Object.assign(Object.create(t),e)}function ag(t,e=[""],n,i,s=()=>t[0]){const r=n||t;typeof i>"u"&&(i=X1("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>ag([a,...t],e,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return G1(a,l,()=>IN(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return dy(a).includes(l)},ownKeys(a){return dy(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function Pr(t,e,n,i){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:K1(t,i),setContext:r=>Pr(t,r,n,i),override:r=>Pr(t.override(r),e,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return G1(r,o,()=>CN(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function K1(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Bi(n)?n:()=>n,isIndexable:Bi(i)?i:()=>i}}const SN=(t,e)=>t?t+tg(e):e,lg=(t,e)=>ue(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function G1(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function CN(t,e,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=t;let a=i[e];return Bi(a)&&o.isScriptable(e)&&(a=EN(e,a,t,n)),Be(a)&&a.length&&(a=kN(e,a,t,o.isIndexable)),lg(e,a)&&(a=Pr(a,s,r&&r[e],o)),a}function EN(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||i);return a.delete(t),lg(t,l)&&(l=cg(s._scopes,s,t,l)),l}function kN(t,e,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(ue(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=cg(c,s,t,u);e.push(Pr(d,r,o&&o[t],a))}}return e}function Q1(t,e,n){return Bi(t)?t(e,n):t}const TN=(t,e)=>t===!0?e:typeof t=="string"?zi(e,t):void 0;function PN(t,e,n,i,s){for(const r of e){const o=TN(n,r);if(o){t.add(o);const a=Q1(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function cg(t,e,n,i){const s=e._rootScopes,r=Q1(e._fallback,n,i),o=[...t,...s],a=new Set;a.add(i);let l=uy(a,o,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=uy(a,o,r,l,i),l===null)?!1:ag(Array.from(a),[""],s,r,()=>MN(e,n,i))}function uy(t,e,n,i,s){for(;n;)n=PN(t,e,n,i,s);return n}function MN(t,e,n){const i=t._getTarget();e in i||(i[e]={});const s=i[e];return Be(s)&&ue(n)?n:s||{}}function IN(t,e,n,i){let s;for(const r of e)if(s=X1(SN(r,t),n),typeof s<"u")return lg(t,s)?cg(n,i,t,s):s}function X1(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function dy(t){let e=t._keys;return e||(e=t._keys=RN(t._scopes)),e}function RN(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}function q1(t,e,n,i){const{iScale:s}=t,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:s.parse(zi(u,r),c)};return o}const DN=Number.EPSILON||1e-14,Mr=(t,e)=>e<t.length&&!t[e].skip&&t[e],J1=t=>t==="x"?"y":"x";function NN(t,e,n,i){const s=t.skip?e:t,r=e,o=n.skip?e:n,a=sf(r,s),l=sf(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,h=i*u;return{previous:{x:r.x-d*(o.x-s.x),y:r.y-d*(o.y-s.y)},next:{x:r.x+h*(o.x-s.x),y:r.y+h*(o.y-s.y)}}}function ON(t,e,n){const i=t.length;let s,r,o,a,l,c=Mr(t,0);for(let u=0;u<i-1;++u)if(l=c,c=Mr(t,u+1),!(!l||!c)){if(Lo(e[u],0,DN)){n[u]=n[u+1]=0;continue}s=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*e[u],n[u+1]=r*o*e[u])}}function LN(t,e,n="x"){const i=J1(n),s=t.length;let r,o,a,l=Mr(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=Mr(t,c+1),!a)continue;const u=a[n],d=a[i];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${i}`]=d-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${i}`]=d+r*e[c])}}function AN(t,e="x"){const n=J1(e),i=t.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=Mr(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=Mr(t,o+1),!!l){if(c){const u=c[e]-l[e];s[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?Mn(s[o-1])!==Mn(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}ON(t,s,r),LN(t,r,e)}function wl(t,e,n){return Math.max(Math.min(t,n),e)}function FN(t,e){let n,i,s,r,o,a=Un(t[0],e);for(n=0,i=t.length;n<i;++n)o=r,r=a,a=n<i-1&&Un(t[n+1],e),r&&(s=t[n],o&&(s.cp1x=wl(s.cp1x,e.left,e.right),s.cp1y=wl(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=wl(s.cp2x,e.left,e.right),s.cp2y=wl(s.cp2y,e.top,e.bottom)))}function zN(t,e,n,i,s){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")AN(t,s);else{let c=i?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=NN(c,a,t[Math.min(r+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&FN(t,n)}function ug(){return typeof window<"u"&&typeof document<"u"}function dg(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function qc(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Du=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function BN(t,e){return Du(t).getPropertyValue(e)}const jN=["top","right","bottom","left"];function vs(t,e,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=jN[s];i[r]=parseFloat(t[e+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const WN=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function VN(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(WN(s,r,t.target))a=s,l=r;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function rs(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,s=Du(n),r=s.boxSizing==="border-box",o=vs(s,"padding"),a=vs(s,"border","width"),{x:l,y:c,box:u}=VN(t,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top);let{width:f,height:p}=e;return r&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-d)/f*n.width/i),y:Math.round((c-h)/p*n.height/i)}}function HN(t,e,n){let i,s;if(e===void 0||n===void 0){const r=t&&dg(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=Du(r),l=vs(a,"border","width"),c=vs(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=qc(a.maxWidth,r,"clientWidth"),s=qc(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:i||Qc,maxHeight:s||Qc}}const bl=t=>Math.round(t*10)/10;function UN(t,e,n,i){const s=Du(t),r=vs(s,"margin"),o=qc(s.maxWidth,t,"clientWidth")||Qc,a=qc(s.maxHeight,t,"clientHeight")||Qc,l=HN(t,e,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const h=vs(s,"border","width"),f=vs(s,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=bl(Math.min(c,o,l.maxWidth)),u=bl(Math.min(u,a,l.maxHeight)),c&&!u&&(u=bl(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=bl(Math.floor(u*i))),{width:c,height:u}}function hy(t,e,n){const i=e||1,s=Math.floor(t.height*i),r=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(t.currentDevicePixelRatio=i,o.height=s,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const $N=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ug()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function fy(t,e){const n=BN(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function os(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function YN(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function KN(t,e,n,i){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=os(t,s,n),a=os(s,r,n),l=os(r,e,n),c=os(o,a,n),u=os(a,l,n);return os(c,u,n)}const GN=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},QN=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function fr(t,e,n){return t?GN(e,n):QN()}function Z1(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function eb(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function tb(t){return t==="angle"?{between:va,compare:XD,normalize:Ut}:{between:Vn,compare:(e,n)=>e-n,normalize:e=>e}}function py({start:t,end:e,count:n,loop:i,style:s}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:s}}function XN(t,e,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=tb(i),l=e.length;let{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(e[c%l][i]),s,r);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function nb(t,e,n){if(!n)return[t];const{property:i,start:s,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=tb(i),{start:u,end:d,loop:h,style:f}=XN(t,e,n),p=[];let m=!1,v=null,_,g,y;const w=()=>l(s,y,_)&&a(s,y)!==0,S=()=>a(r,_)===0||l(r,y,_),x=()=>m||w(),E=()=>!m||S();for(let b=u,P=u;b<=d;++b)g=e[b%o],!g.skip&&(_=c(g[i]),_!==y&&(m=l(_,s,r),v===null&&x()&&(v=a(_,s)===0?b:P),v!==null&&E()&&(p.push(py({start:v,end:b,loop:h,count:o,style:f})),v=null),P=b,y=_));return v!==null&&p.push(py({start:v,end:d,loop:h,count:o,style:f})),p}function ib(t,e){const n=[],i=t.segments;for(let s=0;s<i.length;s++){const r=nb(i[s],t.points,e);r.length&&n.push(...r)}return n}function qN(t,e,n,i){let s=0,r=e-1;if(n&&!i)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}function JN(t,e,n,i){const s=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:e%s,end:(l-1)%s,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%s,end:o%s,loop:i}),r}function ZN(t,e){const n=t.points,i=t.options.spanGaps,s=n.length;if(!s)return[];const r=!!t._loop,{start:o,end:a}=qN(n,s,r,i);if(i===!0)return gy(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+s:a,c=!!t._fullLoop&&o===0&&a===s-1;return gy(t,JN(n,o,l,c),n,e)}function gy(t,e,n,i){return!i||!i.setContext||!n?e:eO(t,e,n,i)}function eO(t,e,n,i){const s=t._chart.getContext(),r=my(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,d=e[0].start,h=d;function f(p,m,v,_){const g=a?-1:1;if(p!==m){for(p+=l;n[p%l].skip;)p-=g;for(;n[m%l].skip;)m+=g;p%l!==m%l&&(c.push({start:p%l,end:m%l,loop:v,style:_}),u=_,d=m%l)}}for(const p of e){d=a?d:p.start;let m=n[d%l],v;for(h=d+1;h<=p.end;h++){const _=n[h%l];v=my(i.setContext(Ki(s,{type:"segment",p0:m,p1:_,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),tO(v,u)&&f(d,h-1,p.loop,u),m=_,u=v}d<h-1&&f(d,h-1,p.loop,u)}return c}function my(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function tO(t,e){if(!e)return!1;const n=[],i=function(s,r){return rg(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.5
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class nO{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=j1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Nn=new nO;const _y="transparent",iO={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=ay(t||_y),s=i.valid&&ay(e||_y);return s&&s.valid?s.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class sO{constructor(e,n,i,s){const r=n[i];s=po([e.to,s,r,e.from]);const o=po([e.from,r,s]);this._active=!0,this._fn=e.fn||iO[e.type||typeof o],this._easing=Ao[e.easing]||Ao.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=po([e.to,n,s,e.from]),this._from=po([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class sb{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ue(e))return;const n=Object.keys(je.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!ue(r))return;const o={};for(const a of n)o[a]=r[a];(Be(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,s=oO(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&rO(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,n){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,n));continue}const u=n[c];let d=r[c];const h=i.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}r[c]=d=new sO(h,e,c,u),s.push(d)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return Nn.add(this._chart,i),!0}}function rO(t,e){const n=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=t[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function oO(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function yy(t,e){const n=t&&t.options||{},i=n.reverse,s=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function aO(t,e,n){if(n===!1)return!1;const i=yy(t,n),s=yy(e,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function lO(t){let e,n,i,s;return ue(t)?(e=t.top,n=t.right,i=t.bottom,s=t.left):e=n=i=s=t,{top:e,right:n,bottom:i,left:s,disabled:t===!1}}function rb(t,e){const n=[],i=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function vy(t,e,n,i={}){const s=t.keys,r=i.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(i.all)continue;break}c=t.values[l],Ge(c)&&(r||e===0||Mn(e)===Mn(c))&&(e+=c)}return e}}function cO(t,e){const{iScale:n,vScale:i}=e,s=n.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[r]:t[u]};return a}function Id(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function uO(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function dO(t){const{min:e,max:n,minDefined:i,maxDefined:s}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function hO(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function xy(t,e,n,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=t[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function wy(t,e){const{chart:n,_cachedMeta:i}=t,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=uO(r,o,i),d=e.length;let h;for(let f=0;f<d;++f){const p=e[f],{[l]:m,[c]:v}=p,_=p._stacks||(p._stacks={});h=_[c]=hO(s,u,m),h[a]=v,h._top=xy(h,o,!0,i.type),h._bottom=xy(h,o,!1,i.type);const g=h._visualValues||(h._visualValues={});g[a]=v}}function Rd(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function fO(t,e){return Ki(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function pO(t,e,n){return Ki(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function no(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Dd=t=>t==="reset"||t==="none",by=(t,e)=>e?t:Object.assign({},t),gO=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:rb(n,!0),values:null};class yn{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Id(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&no(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(d,h,f,p)=>d==="x"?h:d==="r"?p:f,r=n.xAxisID=ne(i.xAxisID,Rd(e,"x")),o=n.yAxisID=ne(i.yAxisID,Rd(e,"y")),a=n.rAxisID=ne(i.rAxisID,Rd(e,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),u=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&sy(this._data,this),e._stacked&&no(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(ue(n)){const s=this._cachedMeta;this._data=cO(n,s)}else if(i!==n){if(i){sy(i,this);const s=this._cachedMeta;no(s),s._parsed=[]}n&&Object.isExtensible(n)&&eN(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Id(n.vScale,n),n.stack!==i.stack&&(s=!0,no(n),n.stack=i.stack),this._resyncElements(e),(s||r!==n._stacked)&&(wy(this,n._parsed),n._stacked=Id(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=e===0&&n===s.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,d,h;if(this._parsing===!1)i._parsed=s,i._sorted=!0,h=s;else{Be(s[e])?h=this.parseArrayData(i,s,e,n):ue(s[e])?h=this.parseObjectData(i,s,e,n):h=this.parsePrimitiveData(i,s,e,n);const f=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)i._parsed[u+e]=d=h[u],l&&(f()&&(l=!1),c=d);i._sorted=l}o&&wy(this,h)}parsePrimitiveData(e,n,i,s){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,d=new Array(s);let h,f,p;for(h=0,f=s;h<f;++h)p=h+i,d[h]={[a]:u||r.parse(c[p],p),[l]:o.parse(n[p],p)};return d}parseArrayData(e,n,i,s){const{xScale:r,yScale:o}=e,a=new Array(s);let l,c,u,d;for(l=0,c=s;l<c;++l)u=l+i,d=n[u],a[l]={x:r.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,i,s){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,d,h,f;for(u=0,d=s;u<d;++u)h=u+i,f=n[h],c[u]={x:r.parse(zi(f,a),h),y:o.parse(zi(f,l),h)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const s=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:rb(s,!0),values:n._stacks[e.axis]._visualValues};return vy(a,o,r.index,{mode:i})}updateRangeFromParsed(e,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=vy(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,o=s.length,a=this._getOtherScale(e),l=gO(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=dO(a);let h,f;function p(){f=s[h];const m=f[a.axis];return!Ge(f[e.axis])||u>m||d<m}for(h=0;h<o&&!(!p()&&(this.updateRangeFromParsed(c,e,f,l),r));++h);if(r){for(h=o-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][e.axis],Ge(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=lO(ne(this.options.clip,aO(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const d=s[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=pO(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=fO(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&ya(i);if(a)return by(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],h=c.getOptionScopes(this.getDataset(),u),f=Object.keys(je.elements[e]),p=()=>this.getContext(i,s,n),m=c.resolveNamedOptions(h,f,p,d);return m.$shared&&(m.$shared=l,r[o]=Object.freeze(by(m,l))),m}_resolveAnimations(e,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),h=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(h,this.getContext(e,i,n))}const c=new sb(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Dd(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(e,n,i,s){Dd(s)?Object.assign(e,i):this._resolveAnimations(n,s).update(e,i)}updateSharedOptions(e,n,i){e&&!Dd(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,s){e.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,n,i=!0){const s=this._cachedMeta,r=s.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,n),i&&this.updateElements(r,e,n,"reset")}updateElements(e,n,i,s){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,n);i._stacked&&no(i,s)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,s]=e;this[n](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}L(yn,"defaults",{}),L(yn,"datasetElementType",null),L(yn,"dataElementType",null);function mO(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=B1(i.sort((s,r)=>s-r))}return t._cache.$bar}function _O(t){const e=t.iScale,n=mO(e,t.type);let i=e._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(ya(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=e.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=e.ticks.length;s<r;++s)o=e.getPixelForTick(s),l();return i}function yO(t,e,n,i){const s=n.barThickness;let r,o;return pe(s)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function vO(t,e,n,i){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function xO(t,e,n,i){const s=n.parse(t[0],i),r=n.parse(t[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function ob(t,e,n,i){return Be(t)?xO(t,e,n,i):e[n.axis]=n.parse(t,i),e}function Sy(t,e,n,i){const s=t.iScale,r=t.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,d,h;for(c=n,u=n+i;c<u;++c)h=e[c],d={},d[s.axis]=a||s.parse(o[c],c),l.push(ob(h,d,r,c));return l}function Nd(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function wO(t,e,n){return t!==0?Mn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function bO(t){let e,n,i,s,r;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:e,top:s,bottom:r}}function SO(t,e,n,i){let s=e.borderSkipped;const r={};if(!s){t.borderSkipped=r;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=bO(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[Cy(u,o,a,l)]=!0,s=c)),r[Cy(s,o,a,l)]=!0,t.borderSkipped=r}function Cy(t,e,n,i){return i?(t=CO(t,e,n),t=Ey(t,n,e)):t=Ey(t,e,n),t}function CO(t,e,n){return t===e?n:t===n?e:t}function Ey(t,e,n){return t==="start"?e:t==="end"?n:t}function EO(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Yl extends yn{parsePrimitiveData(e,n,i,s){return Sy(e,n,i,s)}parseArrayData(e,n,i,s){return Sy(e,n,i,s)}parseObjectData(e,n,i,s){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let h,f,p,m;for(h=i,f=i+s;h<f;++h)m=n[h],p={},p[r.axis]=r.parse(zi(m,c),h),d.push(ob(zi(m,u),p,o,h));return d}updateRangeFromParsed(e,n,i,s){super.updateRangeFromParsed(e,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(e),o=r._custom,a=Nd(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(n,s);for(let f=n;f<n+i;f++){const p=this.getParsed(f),m=r||pe(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),v=this._calculateBarIndexPixels(f,u),_=(p._stacks||{})[a.axis],g={horizontal:c,base:m.base,enableBorderRadius:!_||Nd(p._custom)||o===_._top||o===_._bottom,x:c?m.head:v.center,y:c?v.center:m.head,height:c?v.size:Math.abs(m.size),width:c?Math.abs(m.size):v.size};h&&(g.options=d||this.resolveDataElementOptions(f,e[f].active?"active":s));const y=g.options||e[f].options;SO(g,y,_,o),EO(g,y,u.ratio),this.updateElement(e[f],f,g,s)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[i.axis],c=u=>{const d=u._parsed.find(f=>f[i.axis]===l),h=d&&d[u.vScale.axis];if(pe(h)||isNaN(h))return!0};for(const u of s)if(!(n!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const s=this._getStacks(e,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||_O(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=Nd(c);let d=l[n.axis],h=0,f=i?this.applyStack(n,l,i):d,p,m;f!==d&&(h=f-d,f=d),u&&(d=c.barStart,f=c.barEnd-c.barStart,d!==0&&Mn(d)!==Mn(c.barEnd)&&(h=0),h+=d);const v=!pe(r)&&!u?r:h;let _=n.getPixelForValue(v);if(this.chart.getDataVisibility(e)?p=n.getPixelForValue(h+f):p=_,m=p-_,Math.abs(m)<o){m=wO(m,n,a)*o,d===a&&(_-=m/2);const g=n.getPixelForDecimal(0),y=n.getPixelForDecimal(1),w=Math.min(g,y),S=Math.max(g,y);_=Math.max(Math.min(_,S),w),p=_+m,i&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(_))}if(_===n.getPixelForValue(a)){const g=Mn(m)*n.getLineWidthForValue(a)/2;_+=g,m-=g}return{size:m,base:_,head:p,center:p+m/2}}_calculateBarIndexPixels(e,n){const i=n.scale,s=this.options,r=s.skipNull,o=ne(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(e):n.stackCount,u=s.barThickness==="flex"?vO(e,n,s,c):yO(e,n,s,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}L(Yl,"id","bar"),L(Yl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),L(Yl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Kl extends yn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,s){const r=super.parsePrimitiveData(e,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(e,n,i,s){const r=super.parseArrayData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=ne(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(e,n,i,s){const r=super.parseObjectData(e,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=ne(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),u=o.axis,d=a.axis;for(let h=n;h<n+i;h++){const f=e[h],p=!r&&this.getParsed(h),m={},v=m[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),_=m[d]=r?a.getBasePixel():a.getPixelForValue(p[d]);m.skip=isNaN(v)||isNaN(_),c&&(m.options=l||this.resolveDataElementOptions(h,f.active?"active":s),r&&(m.options.radius=0)),this.updateElement(f,h,m,s)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=ne(i&&i._custom,r),s}}L(Kl,"id","bubble"),L(Kl,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),L(Kl,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function kO(t,e,n){let i=1,s=1,r=0,o=0;if(e<Le){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(y,w,S)=>va(y,a,l,!0)?1:Math.max(w,w*n,S,S*n),p=(y,w,S)=>va(y,a,l,!0)?-1:Math.min(w,w*n,S,S*n),m=f(0,c,d),v=f(Xe,u,h),_=p(Ae,c,d),g=p(Ae+Xe,u,h);i=(m-_)/2,s=(v-g)/2,r=-(m+_)/2,o=-(v+g)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class ps extends yn{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(ue(i[e])){const{key:l="value"}=this._parsing;r=c=>+zi(i[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return pn(this.options.rotation-90)}_getCircumference(){return pn(this.options.circumference)}_getRotationExtents(){let e=Le,n=-Le;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(jD(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:h,ratioY:f,offsetX:p,offsetY:m}=kO(d,u,l),v=(i.width-o)/h,_=(i.height-o)/f,g=Math.max(Math.min(v,_)/2,0),y=O1(this.options.radius,g),w=Math.max(y*l,0),S=(y-w)/this._getVisibleDatasetWeightTotal();this.offsetX=p*y,this.offsetY=m*y,s.total=this.calculateTotal(),this.outerRadius=y-S*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-S*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*r/Le)}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,h=r&&c.animateScale,f=h?0:this.innerRadius,p=h?0:this.outerRadius,{sharedOptions:m,includeOptions:v}=this._getSharedOptions(n,s);let _=this._getRotation(),g;for(g=0;g<n;++g)_+=this._circumference(g,r);for(g=n;g<n+i;++g){const y=this._circumference(g,r),w=e[g],S={x:u+this.offsetX,y:d+this.offsetY,startAngle:_,endAngle:_+y,circumference:y,outerRadius:p,innerRadius:f};v&&(S.options=m||this.resolveDataElementOptions(g,w.active?"active":s)),_+=y,this.updateElement(w,g,S,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,s;for(s=0;s<n.length;s++){const r=e._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?Le*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Wa(n._parsed[e],i.options.locale);return{label:s[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const i=this.chart;let s,r,o,a,l;if(!e){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,r=e.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,s=e.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(ne(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}L(ps,"id","doughnut"),L(ps,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),L(ps,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),L(ps,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Gl extends yn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=V1(n,s,o);this._drawStart=a,this._drawCount=l,H1(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(n,s),h=o.axis,f=a.axis,{spanGaps:p,segment:m}=this.options,v=Tr(p)?p:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||r||s==="none",g=n+i,y=e.length;let w=n>0&&this.getParsed(n-1);for(let S=0;S<y;++S){const x=e[S],E=_?x:{};if(S<n||S>=g){E.skip=!0;continue}const b=this.getParsed(S),P=pe(b[f]),I=E[h]=o.getPixelForValue(b[h],S),A=E[f]=r||P?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,b,l):b[f],S);E.skip=isNaN(I)||isNaN(A)||P,E.stop=S>0&&Math.abs(b[h]-w[h])>v,m&&(E.parsed=b,E.raw=c.data[S]),d&&(E.options=u||this.resolveDataElementOptions(S,x.active?"active":s)),_||this.updateElement(x,S,E,s),w=b}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}L(Gl,"id","line"),L(Gl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),L(Gl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class zo extends yn{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Wa(n._parsed[e].r,i.options.locale);return{label:s[e]||"",value:r}}parseObjectData(e,n,i,s){return q1.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,h=c.getIndexAngle(0)-.5*Ae;let f=h,p;const m=360/this.countVisibleElements();for(p=0;p<n;++p)f+=this._computeAngle(p,s,m);for(p=n;p<n+i;p++){const v=e[p];let _=f,g=f+this._computeAngle(p,s,m),y=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;f=g,r&&(l.animateScale&&(y=0),l.animateRotate&&(_=g=h));const w={x:u,y:d,innerRadius:0,outerRadius:y,startAngle:_,endAngle:g,options:this.resolveDataElementOptions(p,v.active?"active":s)};this.updateElement(v,p,w,s)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?pn(this.resolveDataElementOptions(e,n).angle||i):0}}L(zo,"id","polarArea"),L(zo,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),L(zo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class af extends ps{}L(af,"id","pie"),L(af,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ql extends yn{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,s){return q1.bind(this)(e,n,i,s)}update(e){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),d=o?r.xCenter:u.x,h=o?r.yCenter:u.y,f={x:d,y:h,angle:u.angle,skip:isNaN(d)||isNaN(h),options:c};this.updateElement(l,a,f,s)}}}L(Ql,"id","radar"),L(Ql,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),L(Ql,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Xl extends yn{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[e]||"",value:"("+a+", "+l+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=V1(n,i,s);if(this._drawStart=r,this._drawCount=o,H1(n)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),d=this.getSharedOptions(u),h=this.includeOptions(s,d),f=o.axis,p=a.axis,{spanGaps:m,segment:v}=this.options,_=Tr(m)?m:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||s==="none";let y=n>0&&this.getParsed(n-1);for(let w=n;w<n+i;++w){const S=e[w],x=this.getParsed(w),E=g?S:{},b=pe(x[p]),P=E[f]=o.getPixelForValue(x[f],w),I=E[p]=r||b?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[p],w);E.skip=isNaN(P)||isNaN(I)||b,E.stop=w>0&&Math.abs(x[f]-y[f])>_,v&&(E.parsed=x,E.raw=c.data[w]),h&&(E.options=d||this.resolveDataElementOptions(w,S.active?"active":s)),g||this.updateElement(S,w,E,s),y=x}this.updateSharedOptions(d,s,u)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}L(Xl,"id","scatter"),L(Xl,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),L(Xl,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var TO=Object.freeze({__proto__:null,BarController:Yl,BubbleController:Kl,DoughnutController:ps,LineController:Gl,PieController:af,PolarAreaController:zo,RadarController:Ql,ScatterController:Xl});function Zi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hg{constructor(e){L(this,"options");this.options=e||{}}static override(e){Object.assign(hg.prototype,e)}init(){}formats(){return Zi()}parse(){return Zi()}format(){return Zi()}add(){return Zi()}diff(){return Zi()}startOf(){return Zi()}endOf(){return Zi()}}var PO={_date:hg};function MO(t,e,n,i){const{controller:s,data:r,_sorted:o}=t,a=s._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const l=a._reversePixels?JD:Hn;if(i){if(s._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(r,e,n-u),h=l(r,e,n+u);return{lo:d.lo,hi:h.hi}}}}else return l(r,e,n)}return{lo:0,hi:r.length-1}}function Va(t,e,n,i,s){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:d,hi:h}=MO(r[a],e,o,s);for(let f=d;f<=h;++f){const p=u[f];p.skip||i(p,c,f)}}}function IO(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Od(t,e,n,i,s){const r=[];return!s&&!t.isPointInArea(e)||Va(t,n,e,function(a,l,c){!s&&!Un(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function RO(t,e,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:d}=F1(o,{x:e.x,y:e.y});va(d,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return Va(t,n,e,r),s}function DO(t,e,n,i,s,r){let o=[];const a=IO(n);let l=Number.POSITIVE_INFINITY;function c(u,d,h){const f=u.inRange(e.x,e.y,s);if(i&&!f)return;const p=u.getCenterPoint(s);if(!(!!r||t.isPointInArea(p))&&!f)return;const v=a(e,p);v<l?(o=[{element:u,datasetIndex:d,index:h}],l=v):v===l&&o.push({element:u,datasetIndex:d,index:h})}return Va(t,n,e,c),o}function Ld(t,e,n,i,s,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!i?RO(t,e,n,s):DO(t,e,n,i,s,r)}function ky(t,e,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Va(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),i&&!a?[]:r}var NO={evaluateInteractionItems:Va,modes:{index(t,e,n,i){const s=rs(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Od(t,s,r,i,o):Ld(t,s,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){const s=rs(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Od(t,s,r,i,o):Ld(t,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){const s=rs(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Od(t,s,r,i,o)},nearest(t,e,n,i){const s=rs(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Ld(t,s,r,n.intersect,i,o)},x(t,e,n,i){const s=rs(e,t);return ky(t,s,"x",n.intersect,i)},y(t,e,n,i){const s=rs(e,t);return ky(t,s,"y",n.intersect,i)}}};const ab=["left","top","right","bottom"];function io(t,e){return t.filter(n=>n.pos===e)}function Ty(t,e){return t.filter(n=>ab.indexOf(n.pos)===-1&&n.box.axis===e)}function so(t,e){return t.sort((n,i)=>{const s=e?i:n,r=e?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function OO(t){const e=[];let n,i,s,r,o,a;for(n=0,i=(t||[]).length;n<i;++n)s=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,e.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}function LO(t){const e={};for(const n of t){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!ab.includes(s))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function AO(t,e){const n=LO(t),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&e.availableHeight)}return n}function FO(t){const e=OO(t),n=so(e.filter(c=>c.box.fullSize),!0),i=so(io(e,"left"),!0),s=so(io(e,"right")),r=so(io(e,"top"),!0),o=so(io(e,"bottom")),a=Ty(e,"x"),l=Ty(e,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:io(e,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function Py(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function lb(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function zO(t,e,n,i){const{pos:s,box:r}=n,o=t.maxPadding;if(!ue(s)){n.size&&(t[s]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?r.height:r.width),n.size=d.size/d.count,t[s]+=n.size}r.getPadding&&lb(o,r.getPadding());const a=Math.max(0,e.outerWidth-Py(o,t,"left","right")),l=Math.max(0,e.outerHeight-Py(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function BO(t){const e=t.maxPadding;function n(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function jO(t,e){const n=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return i(t?["left","right"]:["top","bottom"])}function go(t,e,n,i){const s=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,jO(a.horizontal,e));const{same:d,other:h}=zO(e,n,a,i);c|=d&&s.length,u=u||h,l.fullSize||s.push(a)}return c&&go(s,e,n,i)||u}function Sl(t,e,n,i,s){t.top=n,t.left=e,t.right=e+i,t.bottom=n+s,t.width=i,t.height=s}function My(t,e,n,i){const s=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,h=c.size||l.height;ya(c.start)&&(o=c.start),l.fullSize?Sl(l,s.left,o,n.outerWidth-s.right-s.left,h):Sl(l,e.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,h=c.size||l.width;ya(c.start)&&(r=c.start),l.fullSize?Sl(l,r,s.top,h,n.outerHeight-s.bottom-s.top):Sl(l,r,e.top+c.placed,h,d),c.start=r,c.placed+=d,r=l.right}}e.x=r,e.y=o}var xt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const s=bt(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(n-s.height,0),a=FO(t.boxes),l=a.vertical,c=a.horizontal;xe(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,v)=>v.box.options&&v.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},s);lb(h,bt(i));const f=Object.assign({maxPadding:h,w:r,h:o,x:s.left,y:s.top},s),p=AO(l.concat(c),d);go(a.fullSize,f,d,p),go(l,f,d,p),go(c,f,d,p)&&go(l,f,d,p),BO(f),My(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,My(a.rightAndBottom,f,d,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},xe(a.chartArea,m=>{const v=m.box;Object.assign(v,t.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class cb{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,s){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(e){return!0}updateConfig(e){}}class WO extends cb{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ql="$chartjs",VO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Iy=t=>t===null||t==="";function HO(t,e){const n=t.style,i=t.getAttribute("height"),s=t.getAttribute("width");if(t[ql]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Iy(s)){const r=fy(t,"width");r!==void 0&&(t.width=r)}if(Iy(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=fy(t,"height");r!==void 0&&(t.height=r)}return t}const ub=$N?{passive:!0}:!1;function UO(t,e,n){t&&t.addEventListener(e,n,ub)}function $O(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,ub)}function YO(t,e){const n=VO[t.type]||t.type,{x:i,y:s}=rs(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Jc(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function KO(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Jc(a.addedNodes,i),o=o&&!Jc(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function GO(t,e,n){const i=t.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Jc(a.removedNodes,i),o=o&&!Jc(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const wa=new Map;let Ry=0;function db(){const t=window.devicePixelRatio;t!==Ry&&(Ry=t,wa.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function QO(t,e){wa.size||window.addEventListener("resize",db),wa.set(t,e)}function XO(t){wa.delete(t),wa.size||window.removeEventListener("resize",db)}function qO(t,e,n){const i=t.canvas,s=i&&dg(i);if(!s)return;const r=W1((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),QO(t,r),o}function Ad(t,e,n){n&&n.disconnect(),e==="resize"&&XO(t)}function JO(t,e,n){const i=t.canvas,s=W1(r=>{t.ctx!==null&&n(YO(r,t))},t);return UO(i,e,s),s}class ZO extends cb{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(HO(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[ql])return!1;const i=n[ql].initial;["height","width"].forEach(r=>{const o=i[r];pe(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[ql],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),o={attach:KO,detach:GO,resize:qO}[n]||JO;s[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),s=i[n];if(!s)return;({attach:Ad,detach:Ad,resize:Ad}[n]||$O)(e,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,s){return UN(e,n,i,s)}isAttached(e){const n=e&&dg(e);return!!(n&&n.isConnected)}}function eL(t){return!ug()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?WO:ZO}class xn{constructor(){L(this,"x");L(this,"y");L(this,"active",!1);L(this,"options");L(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Tr(this.x)&&Tr(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}L(xn,"defaults",{}),L(xn,"defaultRoutes");function tL(t,e){const n=t.options.ticks,i=nL(t),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?sL(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return rL(e,c,r,o/s),c;const u=iL(r,e,s);if(o>0){let d,h;const f=o>1?Math.round((l-a)/(o-1)):null;for(Cl(e,c,u,pe(f)?0:a-f,a),d=0,h=o-1;d<h;d++)Cl(e,c,u,r[d],r[d+1]);return Cl(e,c,u,l,pe(f)?e.length:l+f),c}return Cl(e,c,u),c}function nL(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(i,s))}function iL(t,e,n){const i=oL(t),s=e.length/n;if(!i)return Math.max(s,1);const r=GD(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function sL(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function rL(t,e,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),s++,r=n[s*i])}function Cl(t,e,n,i,s){const r=ne(i,0),o=Math.min(ne(s,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function oL(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const aL=t=>t==="left"?"right":t==="right"?"left":t,Dy=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Ny=(t,e)=>Math.min(e||t,t);function Oy(t,e){const n=[],i=t.length/e,s=t.length;let r=0;for(;r<s;r+=i)n.push(t[Math.floor(r)]);return n}function lL(t,e,n){const i=t.ticks.length,s=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<r-a||l>o+a)))return l}function cL(t,e){xe(t,n=>{const i=n.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function ro(t){return t.drawTicks?t.tickLength:0}function Ly(t,e){if(!t.display)return 0;const n=st(t.font,e),i=bt(t.padding);return(Be(t.text)?t.text.length:1)*n.lineHeight+i.height}function uL(t,e){return Ki(t,{scale:e,type:"scale"})}function dL(t,e,n){return Ki(t,{tick:n,index:e,type:"tick"})}function hL(t,e,n){let i=sg(t);return(n&&e!=="right"||!n&&e==="right")&&(i=aL(i)),i}function fL(t,e,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,h,f,p;const m=o-s,v=a-r;if(t.isHorizontal()){if(f=_t(i,r,a),ue(n)){const _=Object.keys(n)[0],g=n[_];p=u[_].getPixelForValue(g)+m-e}else n==="center"?p=(c.bottom+c.top)/2+m-e:p=Dy(t,n,e);h=a-r}else{if(ue(n)){const _=Object.keys(n)[0],g=n[_];f=u[_].getPixelForValue(g)-v+e}else n==="center"?f=(c.left+c.right)/2-v+e:f=Dy(t,n,e);p=_t(i,o,s),d=n==="left"?-Xe:Xe}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}class Os extends xn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return e=Wt(e,Number.POSITIVE_INFINITY),n=Wt(n,Number.NEGATIVE_INFINITY),i=Wt(i,Number.POSITIVE_INFINITY),s=Wt(s,Number.NEGATIVE_INFINITY),{min:Wt(e,i),max:Wt(n,s),minDefined:Ge(e),maxDefined:Ge(n)}}getMinMax(e){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Wt(n,Wt(i,n)),max:Wt(i,Wt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Pe(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=bN(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Oy(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=tL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Pe(this.options.afterUpdate,[this])}beforeSetDimensions(){Pe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Pe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Pe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Pe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=Pe(n.callback,[r.value,i,e],this)}afterTickToLabelConversion(){Pe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Pe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=Ny(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=lt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),d+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-ro(e.grid)-n.padding-Ly(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=ng(Math.min(Math.asin(lt((u.highest.height+6)/a,-1,1)),Math.asin(lt(l/c,-1,1))-Math.asin(lt(h/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Pe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Pe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Ly(s,n.options.font);if(a?(e.width=this.maxWidth,e.height=ro(r)+l):(e.height=this.maxHeight,e.width=ro(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=i.padding*2,p=pn(this.labelRotation),m=Math.cos(p),v=Math.sin(p);if(a){const _=i.mirror?0:v*d.width+m*h.height;e.height=Math.min(this.maxHeight,e.height+_+f)}else{const _=i.mirror?0:m*d.width+v*h.height;e.width=Math.min(this.maxWidth,e.width+_+f)}this._calculatePadding(c,u,v,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=s*e.width,f=i*n.height):(h=i*e.height,f=s*n.width):r==="start"?f=n.width:r==="end"?h=e.width:r!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;r==="start"?(u=0,d=e.height):r==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Pe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)pe(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Oy(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/Ny(n,i));let c=0,u=0,d,h,f,p,m,v,_,g,y,w,S;for(d=0;d<n;d+=l){if(p=e[d].label,m=this._resolveTickFontOptions(d),s.font=v=m.string,_=r[v]=r[v]||{data:{},gc:[]},g=m.lineHeight,y=w=0,!pe(p)&&!Be(p))y=Xc(s,_.data,_.gc,y,p),w=g;else if(Be(p))for(h=0,f=p.length;h<f;++h)S=p[h],!pe(S)&&!Be(S)&&(y=Xc(s,_.data,_.gc,y,S),w+=g);o.push(y),a.push(w),c=Math.max(y,c),u=Math.max(w,u)}cL(r,n);const x=o.indexOf(c),E=a.indexOf(u),b=P=>({width:o[P]||0,height:a[P]||0});return{first:b(0),last:b(n-1),widest:b(x),highest:b(E),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return qD(this._alignToPixels?Ji(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=dL(this.getContext(),e,i))}return this.$context||(this.$context=uL(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=pn(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=ro(r),f=[],p=a.setContext(this.getContext()),m=p.display?p.width:0,v=m/2,_=function(ie){return Ji(i,ie,m)};let g,y,w,S,x,E,b,P,I,A,B,X;if(o==="top")g=_(this.bottom),E=this.bottom-h,P=g-v,A=_(e.top)+v,X=e.bottom;else if(o==="bottom")g=_(this.top),A=e.top,X=_(e.bottom)-v,E=g+v,P=this.top+h;else if(o==="left")g=_(this.right),x=this.right-h,b=g-v,I=_(e.left)+v,B=e.right;else if(o==="right")g=_(this.left),I=e.left,B=_(e.right)-v,x=g+v,b=this.left+h;else if(n==="x"){if(o==="center")g=_((e.top+e.bottom)/2+.5);else if(ue(o)){const ie=Object.keys(o)[0],G=o[ie];g=_(this.chart.scales[ie].getPixelForValue(G))}A=e.top,X=e.bottom,E=g+v,P=E+h}else if(n==="y"){if(o==="center")g=_((e.left+e.right)/2);else if(ue(o)){const ie=Object.keys(o)[0],G=o[ie];g=_(this.chart.scales[ie].getPixelForValue(G))}x=g-v,b=x-h,I=e.left,B=e.right}const ee=ne(s.ticks.maxTicksLimit,d),q=Math.max(1,Math.ceil(d/ee));for(y=0;y<d;y+=q){const ie=this.getContext(y),G=r.setContext(ie),N=a.setContext(ie),z=G.lineWidth,$=G.color,J=N.dash||[],te=N.dashOffset,ve=G.tickWidth,oe=G.tickColor,be=G.tickBorderDash||[],_e=G.tickBorderDashOffset;w=lL(this,y,l),w!==void 0&&(S=Ji(i,w,z),c?x=b=I=B=S:E=P=A=X=S,f.push({tx1:x,ty1:E,tx2:b,ty2:P,x1:I,y1:A,x2:B,y2:X,width:z,color:$,borderDash:J,borderDashOffset:te,tickWidth:ve,tickColor:oe,tickBorderDash:be,tickBorderDashOffset:_e}))}return this._ticksLength=d,this._borderValue=g,f}_computeLabelItems(e){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=r,h=ro(i.grid),f=h+u,p=d?-u:f,m=-pn(this.labelRotation),v=[];let _,g,y,w,S,x,E,b,P,I,A,B,X="middle";if(s==="top")x=this.bottom-p,E=this._getXAxisLabelAlignment();else if(s==="bottom")x=this.top+p,E=this._getXAxisLabelAlignment();else if(s==="left"){const q=this._getYAxisLabelAlignment(h);E=q.textAlign,S=q.x}else if(s==="right"){const q=this._getYAxisLabelAlignment(h);E=q.textAlign,S=q.x}else if(n==="x"){if(s==="center")x=(e.top+e.bottom)/2+f;else if(ue(s)){const q=Object.keys(s)[0],ie=s[q];x=this.chart.scales[q].getPixelForValue(ie)+f}E=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")S=(e.left+e.right)/2-f;else if(ue(s)){const q=Object.keys(s)[0],ie=s[q];S=this.chart.scales[q].getPixelForValue(ie)}E=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?X="top":l==="end"&&(X="bottom"));const ee=this._getLabelSizes();for(_=0,g=a.length;_<g;++_){y=a[_],w=y.label;const q=r.setContext(this.getContext(_));b=this.getPixelForTick(_)+r.labelOffset,P=this._resolveTickFontOptions(_),I=P.lineHeight,A=Be(w)?w.length:1;const ie=A/2,G=q.color,N=q.textStrokeColor,z=q.textStrokeWidth;let $=E;o?(S=b,E==="inner"&&(_===g-1?$=this.options.reverse?"left":"right":_===0?$=this.options.reverse?"right":"left":$="center"),s==="top"?c==="near"||m!==0?B=-A*I+I/2:c==="center"?B=-ee.highest.height/2-ie*I+I:B=-ee.highest.height+I/2:c==="near"||m!==0?B=I/2:c==="center"?B=ee.highest.height/2-ie*I:B=ee.highest.height-A*I,d&&(B*=-1),m!==0&&!q.showLabelBackdrop&&(S+=I/2*Math.sin(m))):(x=b,B=(1-A)*I/2);let J;if(q.showLabelBackdrop){const te=bt(q.backdropPadding),ve=ee.heights[_],oe=ee.widths[_];let be=B-te.top,_e=0-te.left;switch(X){case"middle":be-=ve/2;break;case"bottom":be-=ve;break}switch(E){case"center":_e-=oe/2;break;case"right":_e-=oe;break;case"inner":_===g-1?_e-=oe:_>0&&(_e-=oe/2);break}J={left:_e,top:be,width:oe+te.width,height:ve+te.height,color:q.backdropColor}}v.push({label:w,font:P,textOffset:B,options:{rotation:m,color:G,strokeColor:N,strokeWidth:z,textAlign:$,textBaseline:X,translation:[S,x],backdrop:J}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-pn(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,s,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,h;this.isHorizontal()?(c=Ji(e,this.left,o)-o/2,u=Ji(e,this.right,a)+a/2,d=h=l):(d=Ji(e,this.top,o)-o/2,h=Ji(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Iu(i,s);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Is(i,c,0,u,l,a)}s&&Ru(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=st(i.font),o=bt(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||ue(n)?(l+=o.bottom,Be(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:h}=fL(this,l,n,a);Is(e,i.text,0,0,r,{color:i.color,maxWidth:d,rotation:h,textAlign:hL(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=ne(e.grid&&e.grid.z,-1),s=ne(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Os.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return st(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class El{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;mL(n)&&(i=this.register(n));const s=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,pL(e,o,i),this.override&&je.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,s=this.scope;i in n&&delete n[i],s&&i in je[s]&&(delete je[s][i],this.override&&delete Ms[i])}}function pL(t,e,n){const i=_a(Object.create(null),[n?je.get(n):{},je.get(e),t.defaults]);je.set(e,i),t.defaultRoutes&&gL(e,t.defaultRoutes),t.descriptors&&je.describe(e,t.descriptors)}function gL(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),s=i.pop(),r=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");je.route(r,s,l,a)})}function mL(t){return"id"in t&&"defaults"in t}class _L{constructor(){this.controllers=new El(yn,"datasets",!0),this.elements=new El(xn,"elements"),this.plugins=new El(Object,"plugins"),this.scales=new El(Os,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):xe(s,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const s=tg(e);Pe(i["before"+s],[],i),n[e](i),Pe(i["after"+s],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var En=new _L;class yL{constructor(){this._init=[]}notify(e,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(r,e,n,i);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,s){s=s||{};for(const r of e){const o=r.plugin,a=o[i],l=[n,s,r.options];if(Pe(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){pe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,s=ne(i.options&&i.options.plugins,{}),r=vL(i);return s===!1&&!n?[]:wL(e,r,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),e,"stop"),this._notify(s(i,n),e,"start")}}function vL(t){const e={},n=[],i=Object.keys(En.plugins.items);for(let r=0;r<i.length;r++)n.push(En.getPlugin(i[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function xL(t,e){return!e&&t===!1?null:t===!0?{}:t}function wL(t,{plugins:e,localIds:n},i,s){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=xL(i[l],s);c!==null&&r.push({plugin:a,options:bL(t.config,{plugin:a,local:n[l]},c,o)})}return r}function bL(t,{plugin:e,local:n},i,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function lf(t,e){const n=je.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function SL(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function CL(t,e){return t===e?"_index_":"_value_"}function Ay(t){if(t==="x"||t==="y"||t==="r")return t}function EL(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function cf(t,...e){if(Ay(t))return t;for(const n of e){const i=n.axis||EL(n.position)||t.length>1&&Ay(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Fy(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function kL(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return Fy(t,"x",n[0])||Fy(t,"y",n[0])}return{}}function TL(t,e){const n=Ms[t.type]||{scales:{}},i=e.scales||{},s=lf(t.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!ue(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=cf(o,a,kL(o,t),je.scales[a.type]),c=CL(l,s),u=n.scales||{};r[o]=Oo(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||lf(a,e),u=(Ms[a]||{}).scales||{};Object.keys(u).forEach(d=>{const h=SL(d,l),f=o[h+"AxisID"]||h;r[f]=r[f]||Object.create(null),Oo(r[f],[{axis:h},i[f],u[d]])})}),Object.keys(r).forEach(o=>{const a=r[o];Oo(a,[je.scales[a.type],je.scale])}),r}function hb(t){const e=t.options||(t.options={});e.plugins=ne(e.plugins,{}),e.scales=TL(t,e)}function fb(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function PL(t){return t=t||{},t.data=fb(t.data),hb(t),t}const zy=new Map,pb=new Set;function kl(t,e){let n=zy.get(t);return n||(n=e(),zy.set(t,n),pb.add(n)),n}const oo=(t,e,n)=>{const i=zi(e,n);i!==void 0&&t.add(i)};class ML{constructor(e){this._config=PL(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=fb(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),hb(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return kl(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return kl(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return kl(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return kl(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let s=i.get(e);return(!s||n)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,n,i){const{options:s,type:r}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>oo(l,e,d))),u.forEach(d=>oo(l,s,d)),u.forEach(d=>oo(l,Ms[r]||{},d)),u.forEach(d=>oo(l,je,d)),u.forEach(d=>oo(l,rf,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),pb.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,Ms[n]||{},je.datasets[n]||{},{type:n},je,rf]}resolveNamedOptions(e,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=By(this._resolverCache,e,s);let l=o;if(RL(o,n)){r.$shared=!1,i=Bi(i)?i():i;const c=this.createResolver(e,i,a);l=Pr(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,i=[""],s){const{resolver:r}=By(this._resolverCache,e,i);return ue(n)?Pr(r,n,void 0,s):r}}function By(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const s=n.join();let r=i.get(s);return r||(r={resolver:ag(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const IL=t=>ue(t)&&Object.getOwnPropertyNames(t).some(e=>Bi(t[e]));function RL(t,e){const{isScriptable:n,isIndexable:i}=K1(t);for(const s of e){const r=n(s),o=i(s),a=(o||r)&&t[s];if(r&&(Bi(a)||IL(a))||o&&Be(a))return!0}return!1}var DL="4.4.5";const NL=["top","bottom","left","right","chartArea"];function jy(t,e){return t==="top"||t==="bottom"||NL.indexOf(t)===-1&&e==="x"}function Wy(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Vy(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Pe(n&&n.onComplete,[t],e)}function OL(t){const e=t.chart,n=e.options.animation;Pe(n&&n.onProgress,[t],e)}function gb(t){return ug()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Jl={},Hy=t=>{const e=gb(t);return Object.values(Jl).filter(n=>n.canvas===e).pop()};function LL(t,e,n){const i=Object.keys(t);for(const s of i){const r=+s;if(r>=e){const o=t[s];delete t[s],(n>0||r>e)&&(t[r+n]=o)}}}function AL(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function Tl(t,e,n){return t.options.clip?t[n]:e[n]}function FL(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Tl(n,e,"left"),right:Tl(n,e,"right"),top:Tl(i,e,"top"),bottom:Tl(i,e,"bottom")}:e}class zn{static register(...e){En.add(...e),Uy()}static unregister(...e){En.remove(...e),Uy()}constructor(e,n){const i=this.config=new ML(n),s=gb(e),r=Hy(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||eL(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=BD(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new yL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=tN(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Jl[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Nn.listen(this,"complete",Vy),Nn.listen(this,"progress",OL),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return pe(e)?n&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return En}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():hy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return cy(this.canvas,this.ctx),this}stop(){return Nn.stop(this),this}resize(e,n){Nn.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,hy(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Pe(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};xe(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=cf(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),xe(r,o=>{const a=o.options,l=a.id,c=cf(l,a),u=ne(a.type,o.dtype);(a.position===void 0||jy(a.position,c)!==jy(o.dposition))&&(a.position=o.dposition),s[l]=!0;let d=null;if(l in i&&i[l].type===u)d=i[l];else{const h=En.getScale(u);d=new h({id:l,type:u,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),xe(s,(o,a)=>{o||delete i[a]}),xe(i,o=>{xt.configure(this,o,o.options),xt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(Wy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||lf(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=En.getController(a),{datasetElementType:c,dataElementType:u}=je.datasets[a];Object.assign(l,{dataElementType:En.getElement(u),datasetElementType:c&&En.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){xe(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),h=!s&&r.indexOf(d)===-1;d.buildOrUpdateElements(h),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||xe(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Wy("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){xe(this.scales,e=>{xt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!ey(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;LL(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!ey(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xt.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],xe(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Bi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Nn.has(this)?this.attached&&!Nn.running(this)&&Nn.start(this):(this.draw(),Vy({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,s=!i.disabled,r=FL(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&Iu(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),e.controller.draw(),s&&Ru(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Un(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,s){const r=NO.modes[n];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Ki(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,s);ya(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Nn.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),cy(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Jl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};xe(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){xe(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},xe(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Kc(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=r(n,e),a=i?e:r(e,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(e,s,i,o),l=$D(e),c=AL(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Pe(r.onHover,[e,a,this],this),l&&Pe(r.onClick,[e,a,this],this));const u=!Kc(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(e,n,i,s){if(e.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}}L(zn,"defaults",je),L(zn,"instances",Jl),L(zn,"overrides",Ms),L(zn,"registry",En),L(zn,"version",DL),L(zn,"getChart",Hy);function Uy(){return xe(zn.instances,t=>t._plugins.invalidate())}function zL(t,e,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=s/a;t.beginPath(),t.arc(r,o,a,i-c,n+c),l>s?(c=s/l,t.arc(r,o,l,n+c,i-c,!0)):t.arc(r,o,s,n+Xe,i-Xe),t.closePath(),t.clip()}function BL(t){return og(t,["outerStart","outerEnd","innerStart","innerEnd"])}function jL(t,e,n,i){const s=BL(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,i*e/2),a=l=>{const c=(n-Math.min(r,l))*i/2;return lt(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:lt(s.innerStart,0,o),innerEnd:lt(s.innerEnd,0,o)}}function Hs(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Zc(t,e,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+i+n-c,0),h=u>0?u+i+n+c:0;let f=0;const p=s-l;if(i){const q=u>0?u-i:0,ie=d>0?d-i:0,G=(q+ie)/2,N=G!==0?p*G/(G+i):p;f=(p-N)/2}const m=Math.max(.001,p*d-n/Ae)/d,v=(p-m)/2,_=l+v+f,g=s-v-f,{outerStart:y,outerEnd:w,innerStart:S,innerEnd:x}=jL(e,h,d,g-_),E=d-y,b=d-w,P=_+y/E,I=g-w/b,A=h+S,B=h+x,X=_+S/A,ee=g-x/B;if(t.beginPath(),r){const q=(P+I)/2;if(t.arc(o,a,d,P,q),t.arc(o,a,d,q,I),w>0){const z=Hs(b,I,o,a);t.arc(z.x,z.y,w,I,g+Xe)}const ie=Hs(B,g,o,a);if(t.lineTo(ie.x,ie.y),x>0){const z=Hs(B,ee,o,a);t.arc(z.x,z.y,x,g+Xe,ee+Math.PI)}const G=(g-x/h+(_+S/h))/2;if(t.arc(o,a,h,g-x/h,G,!0),t.arc(o,a,h,G,_+S/h,!0),S>0){const z=Hs(A,X,o,a);t.arc(z.x,z.y,S,X+Math.PI,_-Xe)}const N=Hs(E,_,o,a);if(t.lineTo(N.x,N.y),y>0){const z=Hs(E,P,o,a);t.arc(z.x,z.y,y,_-Xe,P)}}else{t.moveTo(o,a);const q=Math.cos(P)*d+o,ie=Math.sin(P)*d+a;t.lineTo(q,ie);const G=Math.cos(I)*d+o,N=Math.sin(I)*d+a;t.lineTo(G,N)}t.closePath()}function WL(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){Zc(t,e,n,i,l,s);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+(a%Le||Le))}return Zc(t,e,n,i,l,s),t.fill(),l}function VL(t,e,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(r){Zc(t,e,n,i,p,s);for(let m=0;m<r;++m)t.stroke();isNaN(a)||(p=o+(a%Le||Le))}f&&zL(t,e,p),r||(Zc(t,e,n,i,p,s),t.stroke())}class mo extends xn{constructor(n){super();L(this,"circumference");L(this,"endAngle");L(this,"fullCircles");L(this,"innerRadius");L(this,"outerRadius");L(this,"pixelMargin");L(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=F1(r,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),f=(this.options.spacing+this.options.borderWidth)/2,p=ne(h,c-l),m=va(o,l,c)&&l!==c,v=p>=Le||m,_=Vn(a,u+f,d+f);return v&&_}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(r+o)/2,h=(a+l+u+c)/2;return{x:i+Math.cos(d)*h,y:s+Math.sin(d)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Le?Math.floor(s/Le):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(Ae,s||0)),u=r*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,WL(n,this,u,o,a),VL(n,this,u,o,a),n.restore()}}L(mo,"id","arc"),L(mo,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),L(mo,"defaultRoutes",{backgroundColor:"backgroundColor"}),L(mo,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function mb(t,e,n=e){t.lineCap=ne(n.borderCapStyle,e.borderCapStyle),t.setLineDash(ne(n.borderDash,e.borderDash)),t.lineDashOffset=ne(n.borderDashOffset,e.borderDashOffset),t.lineJoin=ne(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ne(n.borderWidth,e.borderWidth),t.strokeStyle=ne(n.borderColor,e.borderColor)}function HL(t,e,n){t.lineTo(n.x,n.y)}function UL(t){return t.stepped?fN:t.tension||t.cubicInterpolationMode==="monotone"?pN:HL}function _b(t,e,n={}){const i=t.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function $L(t,e,n,i){const{points:s,options:r}=e,{count:o,start:a,loop:l,ilen:c}=_b(s,n,i),u=UL(r);let{move:d=!0,reverse:h}=i||{},f,p,m;for(f=0;f<=c;++f)p=s[(a+(h?c-f:f))%o],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,m,p,h,r.stepped),m=p);return l&&(p=s[(a+(h?c:0))%o],u(t,m,p,h,r.stepped)),!!l}function YL(t,e,n,i){const s=e.points,{count:r,start:o,ilen:a}=_b(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,d=0,h,f,p,m,v,_;const g=w=>(o+(c?a-w:w))%r,y=()=>{m!==v&&(t.lineTo(u,v),t.lineTo(u,m),t.lineTo(u,_))};for(l&&(f=s[g(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=s[g(h)],f.skip)continue;const w=f.x,S=f.y,x=w|0;x===p?(S<m?m=S:S>v&&(v=S),u=(d*u+w)/++d):(y(),t.lineTo(w,S),p=x,d=0,m=v=S),_=S}y()}function uf(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?YL:$L}function KL(t){return t.stepped?YN:t.tension||t.cubicInterpolationMode==="monotone"?KN:os}function GL(t,e,n,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,i)&&s.closePath()),mb(t,e.options),t.stroke(s)}function QL(t,e,n,i){const{segments:s,options:r}=e,o=uf(e);for(const a of s)mb(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const XL=typeof Path2D=="function";function qL(t,e,n,i){XL&&!e.options.segment?GL(t,e,n,i):QL(t,e,n,i)}class yi extends xn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;zN(this._points,i,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ZN(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,s=e[n],r=this.points,o=ib(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=KL(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:h}=o[c],f=r[d],p=r[h];if(f===p){a.push(f);continue}const m=Math.abs((s-f[n])/(p[n]-f[n])),v=l(f,p,m,i.stepped);v[n]=e[n],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,n,i){return uf(this)(e,this,n,i)}path(e,n,i){const s=this.segments,r=uf(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),qL(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}L(yi,"id","line"),L(yi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),L(yi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),L(yi,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function $y(t,e,n,i){const s=t.options,{[n]:r}=t.getProps([n],i);return Math.abs(e-r)<s.radius+s.hitRadius}class Zl extends xn{constructor(n){super();L(this,"parsed");L(this,"skip");L(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return $y(this,n,"x",i)}inYRange(n,i){return $y(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Un(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,of(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}L(Zl,"id","point"),L(Zl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),L(Zl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function yb(t,e){const{x:n,y:i,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-d,u=i+d):(d=r/2,a=n-d,l=n+d,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function vi(t,e,n,i){return t?0:lt(e,n,i)}function JL(t,e,n){const i=t.options.borderWidth,s=t.borderSkipped,r=Y1(i);return{t:vi(s.top,r.top,0,n),r:vi(s.right,r.right,0,e),b:vi(s.bottom,r.bottom,0,n),l:vi(s.left,r.left,0,e)}}function ZL(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=ys(s),o=Math.min(e,n),a=t.borderSkipped,l=i||ue(s);return{topLeft:vi(!l||a.top||a.left,r.topLeft,0,o),topRight:vi(!l||a.top||a.right,r.topRight,0,o),bottomLeft:vi(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:vi(!l||a.bottom||a.right,r.bottomRight,0,o)}}function eA(t){const e=yb(t),n=e.right-e.left,i=e.bottom-e.top,s=JL(t,n/2,i/2),r=ZL(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Fd(t,e,n,i){const s=e===null,r=n===null,a=t&&!(s&&r)&&yb(t,i);return a&&(s||Vn(e,a.left,a.right))&&(r||Vn(n,a.top,a.bottom))}function tA(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function nA(t,e){t.rect(e.x,e.y,e.w,e.h)}function zd(t,e,n={}){const i=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+i,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}class ec extends xn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=eA(this),a=tA(o.radius)?xa:nA;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,zd(o,n,r)),e.clip(),a(e,zd(r,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,zd(r,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,i){return Fd(this,e,n,i)}inXRange(e,n){return Fd(this,e,null,n)}inYRange(e,n){return Fd(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}L(ec,"id","bar"),L(ec,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),L(ec,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var iA=Object.freeze({__proto__:null,ArcElement:mo,BarElement:ec,LineElement:yi,PointElement:Zl});const df=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Yy=df.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function vb(t){return df[t%df.length]}function xb(t){return Yy[t%Yy.length]}function sA(t,e){return t.borderColor=vb(e),t.backgroundColor=xb(e),++e}function rA(t,e){return t.backgroundColor=t.data.map(()=>vb(e++)),e}function oA(t,e){return t.backgroundColor=t.data.map(()=>xb(e++)),e}function aA(t){let e=0;return(n,i)=>{const s=t.getDatasetMeta(i).controller;s instanceof ps?e=rA(n,e):s instanceof zo?e=oA(n,e):s&&(e=sA(n,e))}}function Ky(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function lA(t){return t&&(t.borderColor||t.backgroundColor)}function cA(){return je.borderColor!=="rgba(0,0,0,0.1)"||je.backgroundColor!=="rgba(0,0,0,0.1)"}var uA={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=t.config,{elements:r}=s,o=Ky(i)||lA(s)||r&&Ky(r)||cA();if(!n.forceOverride&&o)return;const a=aA(t);i.forEach(a)}};function dA(t,e,n,i,s){const r=s.samples||i;if(r>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(r-2);let l=0;const c=e+n-1;let u=e,d,h,f,p,m;for(o[l++]=t[u],d=0;d<r-2;d++){let v=0,_=0,g;const y=Math.floor((d+1)*a)+1+e,w=Math.min(Math.floor((d+2)*a)+1,n)+e,S=w-y;for(g=y;g<w;g++)v+=t[g].x,_+=t[g].y;v/=S,_/=S;const x=Math.floor(d*a)+1+e,E=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:b,y:P}=t[u];for(f=p=-1,g=x;g<E;g++)p=.5*Math.abs((b-v)*(t[g].y-P)-(b-t[g].x)*(_-P)),p>f&&(f=p,h=t[g],m=g);o[l++]=h,u=m}return o[l++]=t[c],o}function hA(t,e,n,i){let s=0,r=0,o,a,l,c,u,d,h,f,p,m;const v=[],_=e+n-1,g=t[e].x,w=t[_].x-g;for(o=e;o<e+n;++o){a=t[o],l=(a.x-g)/w*i,c=a.y;const S=l|0;if(S===u)c<p?(p=c,d=o):c>m&&(m=c,h=o),s=(r*s+a.x)/++r;else{const x=o-1;if(!pe(d)&&!pe(h)){const E=Math.min(d,h),b=Math.max(d,h);E!==f&&E!==x&&v.push({...t[E],x:s}),b!==f&&b!==x&&v.push({...t[b],x:s})}o>0&&x!==f&&v.push(t[x]),v.push(a),u=S,r=0,p=m=c,d=h=f=o}}return v}function wb(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Gy(t){t.data.datasets.forEach(e=>{wb(e)})}function fA(t,e){const n=e.length;let i=0,s;const{iScale:r}=t,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=lt(Hn(e,r.axis,o).lo,0,n-1)),c?s=lt(Hn(e,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var pA={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){Gy(t);return}const i=t.width;t.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=t.getDatasetMeta(r),c=o||s.data;if(po([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:h}=fA(l,c);const f=n.threshold||4*i;if(h<=f){wb(s);return}pe(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let p;switch(n.algorithm){case"lttb":p=dA(c,d,h,i,n);break;case"min-max":p=hA(c,d,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=p})},destroy(t){Gy(t)}};function gA(t,e,n){const i=t.segments,s=t.points,r=e.points,o=[];for(const a of i){let{start:l,end:c}=a;c=fg(l,c,s);const u=hf(n,s[l],s[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:s[l],end:s[c]});continue}const d=ib(e,u);for(const h of d){const f=hf(n,r[h.start],r[h.end],h.loop),p=nb(a,s,f);for(const m of p)o.push({source:m,target:h,start:{[n]:Qy(u,f,"start",Math.max)},end:{[n]:Qy(u,f,"end",Math.min)}})}}return o}function hf(t,e,n,i){if(i)return;let s=e[t],r=n[t];return t==="angle"&&(s=Ut(s),r=Ut(r)),{property:t,start:s,end:r}}function mA(t,e){const{x:n=null,y:i=null}=t||{},s=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=fg(o,a,s);const l=s[o],c=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function fg(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Qy(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function bb(t,e){let n=[],i=!1;return Be(t)?(i=!0,n=t):n=mA(t,e),n.length?new yi({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Xy(t){return t&&t.fill!==!1}function _A(t,e,n){let s=t[e].fill;const r=[e];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Ge(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function yA(t,e,n){const i=bA(t);if(ue(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Ge(s)&&Math.floor(s)===s?vA(i[0],e,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function vA(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function xA(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:ue(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function wA(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:ue(t)?i=t.value:i=e.getBaseValue(),i}function bA(t){const e=t.options,n=e.fill;let i=ne(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function SA(t){const{scale:e,index:n,line:i}=t,s=[],r=i.segments,o=i.points,a=CA(e,n);a.push(bb({x:null,y:e.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)EA(s,o[u],a)}return new yi({points:s,options:{}})}function CA(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function EA(t,e,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=kA(r,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function kA(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const s=i[n],r=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],d=o[u.start][n],h=o[u.end][n];if(Vn(s,d,h)){a=s===d,l=s===h;break}}return{first:a,last:l,point:i}}class Sb{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:Le},e.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:s}=this,r=e.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function TA(t){const{chart:e,fill:n,line:i}=t;if(Ge(n))return PA(e,n);if(n==="stack")return SA(t);if(n==="shape")return!0;const s=MA(t);return s instanceof Sb?s:bb(s,i)}function PA(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function MA(t){return(t.scale||{}).getPointPositionForValue?RA(t):IA(t)}function IA(t){const{scale:e={},fill:n}=t,i=xA(n,e);if(Ge(i)){const s=e.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function RA(t){const{scale:e,fill:n}=t,i=e.options,s=e.getLabels().length,r=i.reverse?e.max:e.min,o=wA(n,e,r),a=[];if(i.grid.circular){const l=e.getPointPositionForValue(0,r);return new Sb({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,o));return a}function Bd(t,e,n){const i=TA(e),{line:s,scale:r,axis:o}=e,a=s.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};i&&s.points.length&&(Iu(t,n),DA(t,{line:s,target:i,above:u,below:d,area:n,scale:r,axis:o}),Ru(t))}function DA(t,e){const{line:n,target:i,above:s,below:r,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&r!==s&&(qy(t,i,o.top),Jy(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore(),t.save(),qy(t,i,o.bottom)),Jy(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore()}function qy(t,e,n){const{segments:i,points:s}=e;let r=!0,o=!1;t.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],d=s[fg(l,c,s)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Jy(t,e){const{line:n,target:i,property:s,color:r,scale:o}=e,a=gA(n,i,s);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:h=r}={}}=l,f=i!==!0;t.save(),t.fillStyle=h,NA(t,o,f&&hf(s,u,d)),t.beginPath();const p=!!n.pathSegment(t,l);let m;if(f){p?t.closePath():Zy(t,i,d,s);const v=!!i.pathSegment(t,c,{move:p,reverse:!0});m=p&&v,m||Zy(t,i,u,s)}t.closePath(),t.fill(m?"evenodd":"nonzero"),t.restore()}}function NA(t,e,n){const{top:i,bottom:s}=e.chart.chartArea,{property:r,start:o,end:a}=n||{};r==="x"&&(t.beginPath(),t.rect(o,i,a-o,s-i),t.clip())}function Zy(t,e,n,i){const s=e.interpolate(n,i);s&&t.lineTo(s.x,s.y)}var OA={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof yi&&(l={visible:t.isDatasetVisible(o),index:o,fill:yA(a,o,i),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=_A(s,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",s=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&Bd(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;Xy(r)&&Bd(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!Xy(i)||n.drawTime!=="beforeDatasetDraw"||Bd(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ev=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},LA=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class tv extends xn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Pe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,s)=>e.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,s=st(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=ev(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let d=e;r.textAlign="left",r.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,m)=>{const v=i+n/2+r.measureText(p.text).width;(m===0||c[c.length-1]+v+2*a>o)&&(d+=u,c[c.length-(m>0?0:1)]=0,f+=u,h++),l[m]={left:0,top:f,row:h,width:v,height:s},c[c.length-1]+=v+a}),d}_fitCols(e,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,h=0,f=0,p=0,m=0;return this.legendItems.forEach((v,_)=>{const{itemWidth:g,itemHeight:y}=AA(i,n,r,v,s);_>0&&f+y+2*a>u&&(d+=h+a,c.push({width:h,height:f}),p+=h+a,m++,h=f=0),l[_]={left:p,top:f,col:m,width:g,height:y},h=Math.max(h,g),f+=y+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=fr(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=_t(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=_t(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=_t(i,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=_t(i,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Iu(e,this),this._draw(),Ru(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=e,a=je.color,l=fr(e.rtl,this.left,this.width),c=st(o.font),{padding:u}=o,d=c.size,h=d/2;let f;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:p,boxHeight:m,itemHeight:v}=ev(o,d),_=function(x,E,b){if(isNaN(p)||p<=0||isNaN(m)||m<0)return;s.save();const P=ne(b.lineWidth,1);if(s.fillStyle=ne(b.fillStyle,a),s.lineCap=ne(b.lineCap,"butt"),s.lineDashOffset=ne(b.lineDashOffset,0),s.lineJoin=ne(b.lineJoin,"miter"),s.lineWidth=P,s.strokeStyle=ne(b.strokeStyle,a),s.setLineDash(ne(b.lineDash,[])),o.usePointStyle){const I={radius:m*Math.SQRT2/2,pointStyle:b.pointStyle,rotation:b.rotation,borderWidth:P},A=l.xPlus(x,p/2),B=E+h;$1(s,I,A,B,o.pointStyleWidth&&p)}else{const I=E+Math.max((d-m)/2,0),A=l.leftForLtr(x,p),B=ys(b.borderRadius);s.beginPath(),Object.values(B).some(X=>X!==0)?xa(s,{x:A,y:I,w:p,h:m,radius:B}):s.rect(A,I,p,m),s.fill(),P!==0&&s.stroke()}s.restore()},g=function(x,E,b){Is(s,b.text,x,E+v/2,c,{strikethrough:b.hidden,textAlign:l.textAlign(b.textAlign)})},y=this.isHorizontal(),w=this._computeTitleHeight();y?f={x:_t(r,this.left+u,this.right-i[0]),y:this.top+u+w,line:0}:f={x:this.left+u,y:_t(r,this.top+w+u,this.bottom-n[0].height),line:0},Z1(this.ctx,e.textDirection);const S=v+u;this.legendItems.forEach((x,E)=>{s.strokeStyle=x.fontColor,s.fillStyle=x.fontColor;const b=s.measureText(x.text).width,P=l.textAlign(x.textAlign||(x.textAlign=o.textAlign)),I=p+h+b;let A=f.x,B=f.y;l.setWidth(this.width),y?E>0&&A+I+u>this.right&&(B=f.y+=S,f.line++,A=f.x=_t(r,this.left+u,this.right-i[f.line])):E>0&&B+S>this.bottom&&(A=f.x=A+n[f.line].width+u,f.line++,B=f.y=_t(r,this.top+w+u,this.bottom-n[f.line].height));const X=l.x(A);if(_(X,B,x),A=nN(P,A+p+h,y?A+I:this.right,e.rtl),g(l.x(A),B,x),y)f.x+=I+u;else if(typeof x.text!="string"){const ee=c.lineHeight;f.y+=Cb(x,ee)+u}else f.y+=S}),eb(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=st(n.font),s=bt(n.padding);if(!n.display)return;const r=fr(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=_t(e.align,d,this.right-h);else{const p=this.columnSizes.reduce((m,v)=>Math.max(m,v.height),0);u=c+_t(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}const f=_t(a,d,d+h);o.textAlign=r.textAlign(sg(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Is(o,n.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,n=st(e.font),i=bt(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,s,r;if(Vn(e,this.left,this.right)&&Vn(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Vn(e,s.left,s.left+s.width)&&Vn(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!BA(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,r=LA(s,i);s&&!r&&Pe(n.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!r&&Pe(n.onHover,[e,i,this],this)}else i&&Pe(n.onClick,[e,i,this],this)}}function AA(t,e,n,i,s){const r=FA(i,t,e,n),o=zA(s,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function FA(t,e,n,i){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+i.measureText(s).width}function zA(t,e,n){let i=t;return typeof e.text!="string"&&(i=Cb(e,n)),i}function Cb(t,e){const n=t.text?t.text.length:0;return e*n}function BA(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var jA={id:"legend",_element:tv,start(t,e,n){const i=t.legend=new tv({ctx:t.ctx,options:n,chart:t});xt.configure(t,i,n),xt.addBox(t,i)},stop(t){xt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;xt.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),e.hidden=!0):(s.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=bt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class pg extends xn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Be(i.text)?i.text.length:1;this._padding=bt(i.padding);const r=s*st(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=_t(a,i,r),d=n+e,c=r-i):(o.position==="left"?(u=i+e,d=_t(a,s,n),l=Ae*-.5):(u=r-e,d=_t(a,n,s),l=Ae*.5),c=s-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=st(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Is(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:sg(n.align),textBaseline:"middle",translation:[o,a]})}}function WA(t,e){const n=new pg({ctx:t.ctx,options:e,chart:t});xt.configure(t,n,e),xt.addBox(t,n),t.titleBlock=n}var VA={id:"title",_element:pg,start(t,e,n){WA(t,n)},stop(t){const e=t.titleBlock;xt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;xt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Pl=new WeakMap;var HA={id:"subtitle",start(t,e,n){const i=new pg({ctx:t.ctx,options:n,chart:t});xt.configure(t,i,n),xt.addBox(t,i),Pl.set(t,i)},stop(t){xt.removeBox(t,Pl.get(t)),Pl.delete(t)},beforeUpdate(t,e,n){const i=Pl.get(t);xt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const _o={average(t){if(!t.length)return!1;let e,n,i=new Set,s=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),s+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:s/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=sf(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Sn(t,e){return e&&(Be(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function On(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function UA(t,e){const{element:n,datasetIndex:i,index:s}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function nv(t,e){const n=t.chart.ctx,{body:i,footer:s,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=st(e.bodyFont),c=st(e.titleFont),u=st(e.footerFont),d=r.length,h=s.length,f=i.length,p=bt(e.padding);let m=p.height,v=0,_=i.reduce((w,S)=>w+S.before.length+S.lines.length+S.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),_){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=f*w+(_-f)*l.lineHeight+(_-1)*e.bodySpacing}h&&(m+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let g=0;const y=function(w){v=Math.max(v,n.measureText(w).width+g)};return n.save(),n.font=c.string,xe(t.title,y),n.font=l.string,xe(t.beforeBody.concat(t.afterBody),y),g=e.displayColors?o+2+e.boxPadding:0,xe(i,w=>{xe(w.before,y),xe(w.lines,y),xe(w.after,y)}),g=0,n.font=u.string,xe(t.footer,y),n.restore(),v+=p.width,{width:v,height:m}}function $A(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function YA(t,e,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&s+r+o>e.width||t==="right"&&s-r-o<0)return!0}function KA(t,e,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),YA(c,t,e,n)&&(c="center"),c}function iv(t,e,n){const i=n.yAlign||e.yAlign||$A(t,n);return{xAlign:n.xAlign||e.xAlign||KA(t,e,n,i),yAlign:i}}function GA(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function QA(t,e,n){let{y:i,height:s}=t;return e==="top"?i+=n:e==="bottom"?i-=s+n:i-=s/2,i}function sv(t,e,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=ys(o);let p=GA(e,a);const m=QA(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,h)+s:a==="right"&&(p+=Math.max(d,f)+s),{x:lt(p,0,i.width-e.width),y:lt(m,0,i.height-e.height)}}function Ml(t,e,n){const i=bt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function rv(t){return Sn([],On(t))}function XA(t,e,n){return Ki(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function ov(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Eb={beforeTitle:Dn,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Dn,beforeBody:Dn,beforeLabel:Dn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return pe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Dn,afterBody:Dn,beforeFooter:Dn,footer:Dn,afterFooter:Dn};function Rt(t,e,n,i){const s=t[e].call(n,i);return typeof s>"u"?Eb[e].call(n,i):s}class ff extends xn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new sb(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=XA(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,s=Rt(i,"beforeTitle",this,e),r=Rt(i,"title",this,e),o=Rt(i,"afterTitle",this,e);let a=[];return a=Sn(a,On(s)),a=Sn(a,On(r)),a=Sn(a,On(o)),a}getBeforeBody(e,n){return rv(Rt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,s=[];return xe(e,r=>{const o={before:[],lines:[],after:[]},a=ov(i,r);Sn(o.before,On(Rt(a,"beforeLabel",this,r))),Sn(o.lines,Rt(a,"label",this,r)),Sn(o.after,On(Rt(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(e,n){return rv(Rt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,s=Rt(i,"beforeFooter",this,e),r=Rt(i,"footer",this,e),o=Rt(i,"afterFooter",this,e);let a=[];return a=Sn(a,On(s)),a=Sn(a,On(r)),a=Sn(a,On(o)),a}_createItems(e){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(UA(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,h)=>e.filter(u,d,h,i))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,i))),xe(a,u=>{const d=ov(e.callbacks,u);s.push(Rt(d,"labelColor",this,u)),r.push(Rt(d,"labelPointStyle",this,u)),o.push(Rt(d,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=_o[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=nv(this,i),c=Object.assign({},a,l),u=iv(this.chart,i,c),d=sv(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,s){const r=this.getCaretPosition(e,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=ys(a),{x:h,y:f}=e,{width:p,height:m}=n;let v,_,g,y,w,S;return r==="center"?(w=f+m/2,s==="left"?(v=h,_=v-o,y=w+o,S=w-o):(v=h+p,_=v+o,y=w-o,S=w+o),g=v):(s==="left"?_=h+Math.max(l,u)+o:s==="right"?_=h+p-Math.max(c,d)-o:_=this.caretX,r==="top"?(y=f,w=y-o,v=_-o,g=_+o):(y=f+m,w=y+o,v=_+o,g=_-o),S=y),{x1:v,x2:_,x3:g,y1:y,y2:w,y3:S}}drawTitle(e,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=fr(i.rtl,this.x,this.width);for(e.x=Ml(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=st(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,u=st(r.bodyFont),d=Ml(this,"left",r),h=s.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+f;if(r.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=s.leftForLtr(h,c)+c/2,_=p+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,of(e,m,v,_),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,of(e,m,v,_)}else{e.lineWidth=ue(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=s.leftForLtr(h,c),v=s.leftForLtr(s.xPlus(h,1),c-2),_=ys(o.borderRadius);Object.values(_).some(g=>g!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,xa(e,{x:m,y:p,w:c,h:l,radius:_}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),xa(e,{x:v,y:p+1,w:c-2,h:l-2,radius:_}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(m,p,c,l),e.strokeRect(m,p,c,l),e.fillStyle=o.backgroundColor,e.fillRect(v,p+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,d=st(i.bodyFont);let h=d.lineHeight,f=0;const p=fr(i.rtl,this.x,this.width),m=function(b){n.fillText(b,p.x(e.x+f),e.y+h/2),e.y+=h+r},v=p.textAlign(o);let _,g,y,w,S,x,E;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Ml(this,v,i),n.fillStyle=i.bodyColor,xe(this.beforeBody,m),f=a&&v!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,x=s.length;w<x;++w){for(_=s[w],g=this.labelTextColors[w],n.fillStyle=g,xe(_.before,m),y=_.lines,a&&y.length&&(this._drawColorBox(n,e,w,p,i),h=Math.max(d.lineHeight,l)),S=0,E=y.length;S<E;++S)m(y[S]),h=d.lineHeight;xe(_.after,m)}f=0,h=d.lineHeight,xe(this.afterBody,m),e.y-=r}drawFooter(e,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=fr(i.rtl,this.x,this.width);for(e.x=Ml(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=st(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=ys(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,i,s),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&r==="right"&&this.drawCaret(e,n,i,s),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(e,n,i,s),n.lineTo(a+f,l+u),n.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(e,n,i,s),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=_o[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=nv(this,e),l=Object.assign({},o,this._size),c=iv(n,e,l),u=sv(e,l,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=bt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,n),Z1(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),eb(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Kc(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,i),a=this._positionChanged(o,e),l=n||!Kc(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:s,options:r}=this,o=_o[r.position].call(this,e,n);return o!==!1&&(i!==o.x||s!==o.y)}}L(ff,"positioners",_o);var qA={id:"tooltip",_element:ff,positioners:_o,afterInit(t,e,n){n&&(t.tooltip=new ff({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Eb},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},JA=Object.freeze({__proto__:null,Colors:uA,Decimation:pA,Filler:OA,Legend:jA,SubTitle:HA,Title:VA,Tooltip:qA});const ZA=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function e2(t,e,n,i){const s=t.indexOf(e);if(s===-1)return ZA(t,e,n,i);const r=t.lastIndexOf(e);return s!==r?n:s}const t2=(t,e)=>t===null?null:lt(Math.round(t),0,e);function av(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class pf extends Os{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(pe(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:e2(i,e,ne(n,e),this._addedLabels),t2(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)s.push({value:o});return s}getLabelForValue(e){return av.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}L(pf,"id","category"),L(pf,"defaults",{ticks:{callback:av}});function n2(t,e){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=r||1,p=u-1,{min:m,max:v}=e,_=!pe(o),g=!pe(a),y=!pe(c),w=(v-m)/(d+1);let S=ny((v-m)/p/f)*f,x,E,b,P;if(S<1e-14&&!_&&!g)return[{value:m},{value:v}];P=Math.ceil(v/S)-Math.floor(m/S),P>p&&(S=ny(P*S/p/f)*f),pe(l)||(x=Math.pow(10,l),S=Math.ceil(S*x)/x),s==="ticks"?(E=Math.floor(m/S)*S,b=Math.ceil(v/S)*S):(E=m,b=v),_&&g&&r&&QD((a-o)/r,S/1e3)?(P=Math.round(Math.min((a-o)/S,u)),S=(a-o)/P,E=o,b=a):y?(E=_?o:E,b=g?a:b,P=c-1,S=(b-E)/P):(P=(b-E)/S,Lo(P,Math.round(P),S/1e3)?P=Math.round(P):P=Math.ceil(P));const I=Math.max(iy(S),iy(E));x=Math.pow(10,pe(l)?I:l),E=Math.round(E*x)/x,b=Math.round(b*x)/x;let A=0;for(_&&(h&&E!==o?(n.push({value:o}),E<o&&A++,Lo(Math.round((E+A*S)*x)/x,o,lv(o,w,t))&&A++):E<o&&A++);A<P;++A){const B=Math.round((E+A*S)*x)/x;if(g&&B>a)break;n.push({value:B})}return g&&h&&b!==a?n.length&&Lo(n[n.length-1].value,a,lv(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!g||b===a)&&n.push({value:b}),n}function lv(t,e,{horizontal:n,minRotation:i}){const s=pn(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class eu extends Os{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return pe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(e){const l=Mn(s),c=Mn(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(s-l)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=n2(s,r);return e.bounds==="ticks"&&A1(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-n)/Math.max(e.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Wa(e,this.chart.options.locale,this.options.ticks.format)}}class gf extends eu{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ge(e)?e:0,this.max=Ge(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=pn(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}L(gf,"id","linear"),L(gf,"defaults",{ticks:{callback:Mu.formatters.numeric}});const ba=t=>Math.floor(_i(t)),es=(t,e)=>Math.pow(10,ba(t)+e);function cv(t){return t/Math.pow(10,ba(t))===1}function uv(t,e,n){const i=Math.pow(10,n),s=Math.floor(t/i);return Math.ceil(e/i)-s}function i2(t,e){const n=e-t;let i=ba(n);for(;uv(t,e,i)>10;)i++;for(;uv(t,e,i)<10;)i--;return Math.min(i,ba(t))}function s2(t,{min:e,max:n}){e=Wt(t.min,e);const i=[],s=ba(e);let r=i2(e,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,r)),h=Wt(t.min,Math.round((l+u+d*Math.pow(10,r))*o)/o);for(;h<n;)i.push({value:h,major:cv(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(r++,d=2,o=r>=0?1:o),h=Math.round((l+u+d*Math.pow(10,r))*o)/o;const f=Wt(t.max,h);return i.push({value:f,major:cv(f),significand:d}),i}class mf extends Os{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=eu.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Ge(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Ge(e)?Math.max(0,e):null,this.max=Ge(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ge(this._userMin)&&(this.min=e===es(this.min,0)?es(this.min,-1):es(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=e?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(es(i,-1)),o(es(s,1)))),i<=0&&r(es(s,-1)),s<=0&&o(es(i,1)),this.min=i,this.max=s}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=s2(n,this);return e.bounds==="ticks"&&A1(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Wa(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=_i(e),this._valueRange=_i(this.max)-_i(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(_i(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}L(mf,"id","logarithmic"),L(mf,"defaults",{ticks:{callback:Mu.formatters.logarithmic,major:{enabled:!0}}});function _f(t){const e=t.ticks;if(e.display&&t.display){const n=bt(e.backdropPadding);return ne(e.font&&e.font.size,je.font.size)+n.height}return 0}function r2(t,e,n){return n=Be(n)?n:[n],{w:hN(t,e.string,n),h:n.length*e.lineHeight}}function dv(t,e,n,i,s){return t===i||t===s?{start:e-n/2,end:e+n/2}:t<i||t>s?{start:e-n,end:e}:{start:e,end:e+n}}function o2(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],s=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Ae/r:0;for(let l=0;l<r;l++){const c=o.setContext(t.getPointLabelContext(l));s[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+s[l],a),d=st(c.font),h=r2(t.ctx,d,t._pointLabels[l]);i[l]=h;const f=Ut(t.getIndexAngle(l)+a),p=Math.round(ng(f)),m=dv(p,u.x,h.w,0,180),v=dv(p,u.y,h.h,90,270);a2(n,e,f,m,v)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=u2(t,i,s)}function a2(t,e,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/r,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function l2(t,e,n){const i=t.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,l=t.getPointPosition(e,i+s+o,r),c=Math.round(ng(Ut(l.angle+Xe))),u=f2(l.y,a.h,c),d=d2(c),h=h2(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function c2(t,e){if(!e)return!0;const{left:n,top:i,right:s,bottom:r}=t;return!(Un({x:n,y:i},e)||Un({x:n,y:r},e)||Un({x:s,y:i},e)||Un({x:s,y:r},e))}function u2(t,e,n){const i=[],s=t._pointLabels.length,r=t.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:_f(r)/2,additionalAngle:o?Ae/s:0};let c;for(let u=0;u<s;u++){l.padding=n[u],l.size=e[u];const d=l2(t,u,l);i.push(d),a==="auto"&&(d.visible=c2(d,c),d.visible&&(c=d))}return i}function d2(t){return t===0||t===180?"center":t<180?"left":"right"}function h2(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function f2(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function p2(t,e,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=e;if(!pe(a)){const l=ys(e.borderRadius),c=bt(e.backdropPadding);t.fillStyle=a;const u=i-c.left,d=s-c.top,h=r-i+c.width,f=o-s+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),xa(t,{x:u,y:d,w:h,h:f,radius:l}),t.fill()):t.fillRect(u,d,h,f)}}function g2(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let s=e-1;s>=0;s--){const r=t._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(t.getPointLabelContext(s));p2(n,o,r);const a=st(o.font),{x:l,y:c,textAlign:u}=r;Is(n,t._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function kb(t,e,n,i){const{ctx:s}=t;if(n)s.arc(t.xCenter,t.yCenter,e,0,Le);else{let r=t.getPointPosition(0,e);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=t.getPointPosition(o,e),s.lineTo(r.x,r.y)}}function m2(t,e,n,i,s){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash||[]),r.lineDashOffset=s.dashOffset,r.beginPath(),kb(t,n,o,i),r.closePath(),r.stroke(),r.restore())}function _2(t,e,n){return Ki(t,{label:n,index:e,type:"pointLabel"})}class yo extends eu{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=bt(_f(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Ge(e)&&!isNaN(e)?e:0,this.max=Ge(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/_f(this.options))}generateTickLabels(e){eu.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const s=Pe(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?o2(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,s){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,s))}getIndexAngle(e){const n=Le/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ut(e*n+pn(i))}getDistanceFromCenterForValue(e){if(pe(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(pe(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return _2(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const s=this.getIndexAngle(e)-Xe+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[e];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),kb(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&g2(this,o),s.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const h=this.getContext(d),f=s.setContext(h),p=r.setContext(h);m2(this,f,l,o,p)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=st(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=bt(c.backdropPadding);e.fillRect(-o/2-d.left,-r-u.size/2-d.top,o+d.width,u.size+d.height)}Is(e,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}L(yo,"id","radialLinear"),L(yo,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Mu.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),L(yo,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),L(yo,"descriptors",{angleLines:{_fallback:"grid"}});const Nu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ot=Object.keys(Nu);function hv(t,e){return t-e}function fv(t,e){if(pe(e))return null;const n=t._adapter,{parser:i,round:s,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Ge(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Tr(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function pv(t,e,n,i){const s=Ot.length;for(let r=Ot.indexOf(t);r<s-1;++r){const o=Nu[Ot[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Ot[r]}return Ot[s-1]}function y2(t,e,n,i,s){for(let r=Ot.length-1;r>=Ot.indexOf(n);r--){const o=Ot[r];if(Nu[o].common&&t._adapter.diff(s,i,o)>=e-1)return o}return Ot[n?Ot.indexOf(n):0]}function v2(t){for(let e=Ot.indexOf(t)+1,n=Ot.length;e<n;++e)if(Nu[Ot[e]].common)return Ot[e]}function gv(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:s}=ig(n,e),r=n[i]>=e?n[i]:n[s];t[r]=!0}}function x2(t,e,n,i){const s=t._adapter,r=+s.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function mv(t,e,n){const i=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:x2(t,i,s,n)}class Sa extends Os{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),s=this._adapter=new PO._date(e.adapters.date);s.init(n),Oo(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:fv(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Ge(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Ge(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=ZD(s,r,o);return this._unit=n.unit||(i.autoSkip?pv(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):y2(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:v2(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),mv(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=lt(n,0,o),i=lt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||pv(r.minUnit,n,i,this._getLabelCapacity(n)),a=ne(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Tr(l)||l===!0,u={};let d=n,h,f;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(h=d,f=0;h<i;h=+e.add(h,a,o),f++)gv(u,h,p);return(h===i||s.bounds==="ticks"||f===1)&&gv(u,h,p),Object.keys(u).sort(hv).map(m=>+m)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return Pe(o,[e,n,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],h=i[n],f=c&&d&&h&&h.major;return this._adapter.format(e,s||(f?d:u))}generateTickLabels(e){let n,i,s;for(n=0,i=e.length;n<i;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,s=pn(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(e,0,mv(this,[e],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)e.push(fv(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return B1(e.sort(hv))}}L(Sa,"id","time"),L(Sa,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Il(t,e,n){let i=0,s=t.length-1,r,o,a,l;n?(e>=t[i].pos&&e<=t[s].pos&&({lo:i,hi:s}=Hn(t,"pos",e)),{pos:r,time:a}=t[i],{pos:o,time:l}=t[s]):(e>=t[i].time&&e<=t[s].time&&({lo:i,hi:s}=Hn(t,"time",e)),{time:r,pos:a}=t[i],{time:o,pos:l}=t[s]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class yf extends Sa{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Il(n,this.min),this._tableRange=Il(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Il(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Il(this._table,i*this._tableRange+this._minPos,!0)}}L(yf,"id","timeseries"),L(yf,"defaults",Sa.defaults);var w2=Object.freeze({__proto__:null,CategoryScale:pf,LinearScale:gf,LogarithmicScale:mf,RadialLinearScale:yo,TimeScale:Sa,TimeSeriesScale:yf});const b2=[TO,iA,JA,w2];zn.register(...b2);const S2=()=>{const[t,e]=M.useState([]),[n,i]=M.useState(null),[s,r]=M.useState({}),[o,a]=M.useState(!1);M.useEffect(()=>{(async()=>{const v=nD(mD,"devices"),_=await iD(v);_.exists()&&e(_.val())})()},[]);const l=async m=>{const v=m.target.value;a(!0),i(null),r({}),setTimeout(async()=>{if(v){const _=t[v];i(_),r(_.sensor_data)}a(!1)},1e3)};let c={};const u=(m,v,_)=>{c[m]&&c[m].destroy();const g=document.getElementById(m).getContext("2d");c[m]=new zn(g,{type:"line",data:{labels:Object.keys(v),datasets:[{label:_,data:Object.values(v),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)"}]},options:{responsive:!0,maintainAspectRatio:!1}})};M.useEffect(()=>{n&&s&&(u("phChart",s.ph,"pH Levels"),u("tdsChart",s.tds,"TDS Levels"),u("turbidityChart",s.turbidity,"Turbidity Levels"))},[s]);const d=m=>!m||Object.keys(m).length===0?0:(Object.values(m).reduce((_,g)=>_+g,0)/Object.values(m).length).toFixed(2),h=d(s.ph),f=d(s.tds),p=d(s.turbidity);return F.jsxs("div",{className:"p-4",children:[F.jsx("label",{className:"block text-lg font-semibold",children:"Select Sensor:"}),F.jsxs("select",{onChange:l,className:"mt-2 mb-4 p-2 border rounded shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[F.jsx("option",{value:"",children:"-- Select a Sensor --"}),Object.keys(t).map(m=>F.jsx("option",{value:m,children:m},m))]}),o?F.jsxs("div",{className:"flex justify-center items-center h-32",children:[F.jsx("div",{className:"loader",children:"Loading..."})," "]}):n&&F.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[F.jsxs("div",{className:"border p-4 rounded shadow-lg",children:[F.jsx("h2",{className:"text-xl font-semibold",children:"Sensor Information"}),F.jsxs("div",{className:"flex items-center justify-between mt-2",children:[F.jsx("input",{type:"text",value:n.location,readOnly:!0,className:"border border-gray-300 p-2 rounded w-1/2 mr-2"}),F.jsx("input",{type:"text",value:n.username,readOnly:!0,className:"border border-gray-300 p-2 rounded w-1/2"})]}),F.jsx("h2",{className:"text-xl font-semibold mt-4",children:"Average Values"}),F.jsxs("div",{className:"flex flex-col space-y-2 mt-2",children:[F.jsxs("div",{className:"flex justify-between",children:[F.jsx("span",{className:"font-medium",children:"Average pH:"}),F.jsx("span",{children:h})]}),F.jsxs("div",{className:"flex justify-between",children:[F.jsx("span",{className:"font-medium",children:"Average TDS:"}),F.jsx("span",{children:f})]}),F.jsxs("div",{className:"flex justify-between",children:[F.jsx("span",{className:"font-medium",children:"Average Turbidity:"}),F.jsx("span",{children:p})]})]})]}),F.jsxs("div",{className:"flex flex-col gap-4",children:[F.jsx("div",{className:"bg-red-200 p-2 rounded h-1/4",children:F.jsx("canvas",{id:"phChart"})}),F.jsx("div",{className:"bg-green-200 p-2 rounded h-1/4",children:F.jsx("canvas",{id:"tdsChart"})}),F.jsx("div",{className:"bg-blue-200 p-2 rounded h-1/2",children:F.jsx("canvas",{id:"turbidityChart"})})]})]})]})},C2=Bk([{path:"/",element:F.jsx(gT,{})},{path:"/",element:F.jsx(yT,{}),children:[{path:"/dashboard",element:F.jsx(xT,{})},{path:"/data-visualization",element:F.jsx(S2,{})}]}],{basename:"/water_quality_system"});function E2(){return F.jsx(Kk,{router:C2})}Rx(document.getElementById("root")).render(F.jsx(M.StrictMode,{children:F.jsx(E2,{})}));
