var oO=Object.defineProperty;var aO=(t,e,n)=>e in t?oO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ie=(t,e,n)=>aO(t,typeof e!="symbol"?e+"":e,n);function pC(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var lO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mC={exports:{}},Af={},gC={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc=Symbol.for("react.element"),uO=Symbol.for("react.portal"),cO=Symbol.for("react.fragment"),hO=Symbol.for("react.strict_mode"),dO=Symbol.for("react.profiler"),fO=Symbol.for("react.provider"),pO=Symbol.for("react.context"),mO=Symbol.for("react.forward_ref"),gO=Symbol.for("react.suspense"),_O=Symbol.for("react.memo"),vO=Symbol.for("react.lazy"),Ax=Symbol.iterator;function yO(t){return t===null||typeof t!="object"?null:(t=Ax&&t[Ax]||t["@@iterator"],typeof t=="function"?t:null)}var _C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vC=Object.assign,yC={};function Ga(t,e,n){this.props=t,this.context=e,this.refs=yC,this.updater=n||_C}Ga.prototype.isReactComponent={};Ga.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ga.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xC(){}xC.prototype=Ga.prototype;function xv(t,e,n){this.props=t,this.context=e,this.refs=yC,this.updater=n||_C}var bv=xv.prototype=new xC;bv.constructor=xv;vC(bv,Ga.prototype);bv.isPureReactComponent=!0;var Fx=Array.isArray,bC=Object.prototype.hasOwnProperty,wv={current:null},wC={key:!0,ref:!0,__self:!0,__source:!0};function SC(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)bC.call(e,i)&&!wC.hasOwnProperty(i)&&(r[i]=e[i]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];r.children=u}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)r[i]===void 0&&(r[i]=l[i]);return{$$typeof:gc,type:t,key:s,ref:o,props:r,_owner:wv.current}}function xO(t,e){return{$$typeof:gc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sv(t){return typeof t=="object"&&t!==null&&t.$$typeof===gc}function bO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zx=/\/+/g;function hm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bO(""+t.key):e.toString(36)}function Kh(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gc:case uO:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+hm(o,0):i,Fx(r)?(n="",t!=null&&(n=t.replace(zx,"$&/")+"/"),Kh(r,e,n,"",function(h){return h})):r!=null&&(Sv(r)&&(r=xO(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(zx,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",Fx(t))for(var l=0;l<t.length;l++){s=t[l];var u=i+hm(s,l);o+=Kh(s,e,n,u,r)}else if(u=yO(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=i+hm(s,l++),o+=Kh(s,e,n,u,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function sh(t,e,n){if(t==null)return t;var i=[],r=0;return Kh(t,i,"","",function(s){return e.call(n,s,r++)}),i}function wO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tn={current:null},Xh={transition:null},SO={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:Xh,ReactCurrentOwner:wv};function CC(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:sh,forEach:function(t,e,n){sh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return sh(t,function(){e++}),e},toArray:function(t){return sh(t,function(e){return e})||[]},only:function(t){if(!Sv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ze.Component=Ga;ze.Fragment=cO;ze.Profiler=dO;ze.PureComponent=xv;ze.StrictMode=hO;ze.Suspense=gO;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SO;ze.act=CC;ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=vC({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wv.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)bC.call(e,u)&&!wC.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:gc,type:t.type,key:r,ref:s,props:i,_owner:o}};ze.createContext=function(t){return t={$$typeof:pO,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fO,_context:t},t.Consumer=t};ze.createElement=SC;ze.createFactory=function(t){var e=SC.bind(null,t);return e.type=t,e};ze.createRef=function(){return{current:null}};ze.forwardRef=function(t){return{$$typeof:mO,render:t}};ze.isValidElement=Sv;ze.lazy=function(t){return{$$typeof:vO,_payload:{_status:-1,_result:t},_init:wO}};ze.memo=function(t,e){return{$$typeof:_O,type:t,compare:e===void 0?null:e}};ze.startTransition=function(t){var e=Xh.transition;Xh.transition={};try{t()}finally{Xh.transition=e}};ze.unstable_act=CC;ze.useCallback=function(t,e){return Tn.current.useCallback(t,e)};ze.useContext=function(t){return Tn.current.useContext(t)};ze.useDebugValue=function(){};ze.useDeferredValue=function(t){return Tn.current.useDeferredValue(t)};ze.useEffect=function(t,e){return Tn.current.useEffect(t,e)};ze.useId=function(){return Tn.current.useId()};ze.useImperativeHandle=function(t,e,n){return Tn.current.useImperativeHandle(t,e,n)};ze.useInsertionEffect=function(t,e){return Tn.current.useInsertionEffect(t,e)};ze.useLayoutEffect=function(t,e){return Tn.current.useLayoutEffect(t,e)};ze.useMemo=function(t,e){return Tn.current.useMemo(t,e)};ze.useReducer=function(t,e,n){return Tn.current.useReducer(t,e,n)};ze.useRef=function(t){return Tn.current.useRef(t)};ze.useState=function(t){return Tn.current.useState(t)};ze.useSyncExternalStore=function(t,e,n){return Tn.current.useSyncExternalStore(t,e,n)};ze.useTransition=function(){return Tn.current.useTransition()};ze.version="18.3.1";gC.exports=ze;var E=gC.exports;const Pe=mc(E),Cg=pC({__proto__:null,default:Pe},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CO=E,EO=Symbol.for("react.element"),TO=Symbol.for("react.fragment"),PO=Object.prototype.hasOwnProperty,kO=CO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MO={key:!0,ref:!0,__self:!0,__source:!0};function EC(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)PO.call(e,i)&&!MO.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:EO,type:t,key:s,ref:o,props:r,_owner:kO.current}}Af.Fragment=TO;Af.jsx=EC;Af.jsxs=EC;mC.exports=Af;var R=mC.exports,TC={exports:{}},qn={},PC={exports:{}},kC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,X){var $=z.length;z.push(X);e:for(;0<$;){var te=$-1>>>1,Q=z[te];if(0<r(Q,X))z[te]=X,z[$]=Q,$=te;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var X=z[0],$=z.pop();if($!==X){z[0]=$;e:for(var te=0,Q=z.length,ae=Q>>>1;te<ae;){var q=2*(te+1)-1,se=z[q],ne=q+1,ke=z[ne];if(0>r(se,$))ne<Q&&0>r(ke,se)?(z[te]=ke,z[ne]=$,te=ne):(z[te]=se,z[q]=$,te=q);else if(ne<Q&&0>r(ke,$))z[te]=ke,z[ne]=$,te=ne;else break e}}return X}function r(z,X){var $=z.sortIndex-X.sortIndex;return $!==0?$:z.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],h=[],d=1,p=null,m=3,_=!1,v=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(z){for(var X=n(h);X!==null;){if(X.callback===null)i(h);else if(X.startTime<=z)i(h),X.sortIndex=X.expirationTime,e(u,X);else break;X=n(h)}}function k(z){if(y=!1,C(z),!v)if(n(u)!==null)v=!0,ee(M);else{var X=n(h);X!==null&&re(k,X.startTime-z)}}function M(z,X){v=!1,y&&(y=!1,x(I),I=-1),_=!0;var $=m;try{for(C(X),p=n(u);p!==null&&(!(p.expirationTime>X)||z&&!W());){var te=p.callback;if(typeof te=="function"){p.callback=null,m=p.priorityLevel;var Q=te(p.expirationTime<=X);X=t.unstable_now(),typeof Q=="function"?p.callback=Q:p===n(u)&&i(u),C(X)}else i(u);p=n(u)}if(p!==null)var ae=!0;else{var q=n(h);q!==null&&re(k,q.startTime-X),ae=!1}return ae}finally{p=null,m=$,_=!1}}var T=!1,O=null,I=-1,A=5,j=-1;function W(){return!(t.unstable_now()-j<A)}function Z(){if(O!==null){var z=t.unstable_now();j=z;var X=!0;try{X=O(!0,z)}finally{X?de():(T=!1,O=null)}}else T=!1}var de;if(typeof w=="function")de=function(){w(Z)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ue=le.port2;le.port1.onmessage=Z,de=function(){ue.postMessage(null)}}else de=function(){S(Z,0)};function ee(z){O=z,T||(T=!0,de())}function re(z,X){I=S(function(){z(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){v||_||(v=!0,ee(M))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var X=3;break;default:X=m}var $=m;m=X;try{return z()}finally{m=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var $=m;m=z;try{return X()}finally{m=$}},t.unstable_scheduleCallback=function(z,X,$){var te=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?te+$:te):$=te,z){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=$+Q,z={id:d++,callback:X,priorityLevel:z,startTime:$,expirationTime:Q,sortIndex:-1},$>te?(z.sortIndex=$,e(h,z),n(u)===null&&z===n(h)&&(y?(x(I),I=-1):y=!0,re(k,$-te))):(z.sortIndex=Q,e(u,z),v||_||(v=!0,ee(M))),z},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(z){var X=m;return function(){var $=m;m=X;try{return z.apply(this,arguments)}finally{m=$}}}})(kC);PC.exports=kC;var LO=PC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IO=E,Xn=LO;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var MC=new Set,Eu={};function So(t,e){Ma(t,e),Ma(t+"Capture",e)}function Ma(t,e){for(Eu[t]=e,t=0;t<e.length;t++)MC.add(e[t])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eg=Object.prototype.hasOwnProperty,OO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bx={},jx={};function RO(t){return Eg.call(jx,t)?!0:Eg.call(Bx,t)?!1:OO.test(t)?jx[t]=!0:(Bx[t]=!0,!1)}function DO(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NO(t,e,n,i){if(e===null||typeof e>"u"||DO(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pn(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var on={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){on[t]=new Pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];on[e]=new Pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){on[t]=new Pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){on[t]=new Pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){on[t]=new Pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){on[t]=new Pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){on[t]=new Pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){on[t]=new Pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){on[t]=new Pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cv=/[\-:]([a-z])/g;function Ev(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cv,Ev);on[e]=new Pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cv,Ev);on[e]=new Pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cv,Ev);on[e]=new Pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){on[t]=new Pn(t,1,!1,t.toLowerCase(),null,!1,!1)});on.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){on[t]=new Pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tv(t,e,n,i){var r=on.hasOwnProperty(e)?on[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NO(e,n,r,i)&&(n=null),i||r===null?RO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Lr=IO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,oh=Symbol.for("react.element"),ia=Symbol.for("react.portal"),ra=Symbol.for("react.fragment"),Pv=Symbol.for("react.strict_mode"),Tg=Symbol.for("react.profiler"),LC=Symbol.for("react.provider"),IC=Symbol.for("react.context"),kv=Symbol.for("react.forward_ref"),Pg=Symbol.for("react.suspense"),kg=Symbol.for("react.suspense_list"),Mv=Symbol.for("react.memo"),Wr=Symbol.for("react.lazy"),OC=Symbol.for("react.offscreen"),Vx=Symbol.iterator;function bl(t){return t===null||typeof t!="object"?null:(t=Vx&&t[Vx]||t["@@iterator"],typeof t=="function"?t:null)}var Ct=Object.assign,dm;function Ul(t){if(dm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dm=e&&e[1]||""}return`
`+dm+t}var fm=!1;function pm(t,e){if(!t||fm)return"";fm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var i=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){i=h}t.call(e.prototype)}else{try{throw Error()}catch(h){i=h}t()}}catch(h){if(h&&i&&typeof h.stack=="string"){for(var r=h.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,l=s.length-1;1<=o&&0<=l&&r[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==s[l]){var u=`
`+r[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{fm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ul(t):""}function AO(t){switch(t.tag){case 5:return Ul(t.type);case 16:return Ul("Lazy");case 13:return Ul("Suspense");case 19:return Ul("SuspenseList");case 0:case 2:case 15:return t=pm(t.type,!1),t;case 11:return t=pm(t.type.render,!1),t;case 1:return t=pm(t.type,!0),t;default:return""}}function Mg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ra:return"Fragment";case ia:return"Portal";case Tg:return"Profiler";case Pv:return"StrictMode";case Pg:return"Suspense";case kg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case IC:return(t.displayName||"Context")+".Consumer";case LC:return(t._context.displayName||"Context")+".Provider";case kv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Mv:return e=t.displayName||null,e!==null?e:Mg(t.type)||"Memo";case Wr:e=t._payload,t=t._init;try{return Mg(t(e))}catch{}}return null}function FO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mg(e);case 8:return e===Pv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function _s(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function RC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zO(t){var e=RC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ah(t){t._valueTracker||(t._valueTracker=zO(t))}function DC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=RC(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Sd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lg(t,e){var n=e.checked;return Ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Hx(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=_s(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NC(t,e){e=e.checked,e!=null&&Tv(t,"checked",e,!1)}function Ig(t,e){NC(t,e);var n=_s(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Og(t,e.type,n):e.hasOwnProperty("defaultValue")&&Og(t,e.type,_s(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $x(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Og(t,e,n){(e!=="number"||Sd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zl=Array.isArray;function ga(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+_s(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Rg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return Ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Zl(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:_s(n)}}function AC(t,e){var n=_s(e.value),i=_s(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Ux(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function FC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?FC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lh,zC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lh=lh||document.createElement("div"),lh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BO=["Webkit","ms","Moz","O"];Object.keys(su).forEach(function(t){BO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),su[e]=su[t]})});function BC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||su.hasOwnProperty(t)&&su[t]?(""+e).trim():e+"px"}function jC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=BC(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var jO=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ng(t,e){if(e){if(jO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Ag(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fg=null;function Lv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zg=null,_a=null,va=null;function Zx(t){if(t=yc(t)){if(typeof zg!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Vf(e),zg(t.stateNode,t.type,e))}}function VC(t){_a?va?va.push(t):va=[t]:_a=t}function HC(){if(_a){var t=_a,e=va;if(va=_a=null,Zx(t),e)for(t=0;t<e.length;t++)Zx(e[t])}}function $C(t,e){return t(e)}function WC(){}var mm=!1;function UC(t,e,n){if(mm)return t(e,n);mm=!0;try{return $C(t,e,n)}finally{mm=!1,(_a!==null||va!==null)&&(WC(),HC())}}function Pu(t,e){var n=t.stateNode;if(n===null)return null;var i=Vf(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Bg=!1;if(wr)try{var wl={};Object.defineProperty(wl,"passive",{get:function(){Bg=!0}}),window.addEventListener("test",wl,wl),window.removeEventListener("test",wl,wl)}catch{Bg=!1}function VO(t,e,n,i,r,s,o,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var ou=!1,Cd=null,Ed=!1,jg=null,HO={onError:function(t){ou=!0,Cd=t}};function $O(t,e,n,i,r,s,o,l,u){ou=!1,Cd=null,VO.apply(HO,arguments)}function WO(t,e,n,i,r,s,o,l,u){if($O.apply(this,arguments),ou){if(ou){var h=Cd;ou=!1,Cd=null}else throw Error(K(198));Ed||(Ed=!0,jg=h)}}function Co(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ZC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yx(t){if(Co(t)!==t)throw Error(K(188))}function UO(t){var e=t.alternate;if(!e){if(e=Co(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Yx(r),t;if(s===i)return Yx(r),e;s=s.sibling}throw Error(K(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==i)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function YC(t){return t=UO(t),t!==null?GC(t):null}function GC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GC(t);if(e!==null)return e;t=t.sibling}return null}var KC=Xn.unstable_scheduleCallback,Gx=Xn.unstable_cancelCallback,ZO=Xn.unstable_shouldYield,YO=Xn.unstable_requestPaint,Ot=Xn.unstable_now,GO=Xn.unstable_getCurrentPriorityLevel,Iv=Xn.unstable_ImmediatePriority,XC=Xn.unstable_UserBlockingPriority,Td=Xn.unstable_NormalPriority,KO=Xn.unstable_LowPriority,qC=Xn.unstable_IdlePriority,Ff=null,Ui=null;function XO(t){if(Ui&&typeof Ui.onCommitFiberRoot=="function")try{Ui.onCommitFiberRoot(Ff,t,void 0,(t.current.flags&128)===128)}catch{}}var Ti=Math.clz32?Math.clz32:JO,qO=Math.log,QO=Math.LN2;function JO(t){return t>>>=0,t===0?32:31-(qO(t)/QO|0)|0}var uh=64,ch=4194304;function Yl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pd(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?i=Yl(l):(s&=o,s!==0&&(i=Yl(s)))}else o=n&~r,o!==0?i=Yl(o):s!==0&&(i=Yl(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Ti(e),r=1<<n,i|=t[n],e&=~r;return i}function eR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tR(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ti(s),l=1<<o,u=r[o];u===-1?(!(l&n)||l&i)&&(r[o]=eR(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Vg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function QC(){var t=uh;return uh<<=1,!(uh&4194240)&&(uh=64),t}function gm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _c(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ti(e),t[e]=n}function nR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Ti(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function Ov(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Ti(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Xe=0;function JC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eE,Rv,tE,nE,iE,Hg=!1,hh=[],rs=null,ss=null,os=null,ku=new Map,Mu=new Map,Yr=[],iR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kx(t,e){switch(t){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":ku.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(e.pointerId)}}function Sl(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=yc(e),e!==null&&Rv(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function rR(t,e,n,i,r){switch(e){case"focusin":return rs=Sl(rs,t,e,n,i,r),!0;case"dragenter":return ss=Sl(ss,t,e,n,i,r),!0;case"mouseover":return os=Sl(os,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return ku.set(s,Sl(ku.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Mu.set(s,Sl(Mu.get(s)||null,t,e,n,i,r)),!0}return!1}function rE(t){var e=Qs(t.target);if(e!==null){var n=Co(e);if(n!==null){if(e=n.tag,e===13){if(e=ZC(n),e!==null){t.blockedOn=e,iE(t.priority,function(){tE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$g(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Fg=i,n.target.dispatchEvent(i),Fg=null}else return e=yc(n),e!==null&&Rv(e),t.blockedOn=n,!1;e.shift()}return!0}function Xx(t,e,n){qh(t)&&n.delete(e)}function sR(){Hg=!1,rs!==null&&qh(rs)&&(rs=null),ss!==null&&qh(ss)&&(ss=null),os!==null&&qh(os)&&(os=null),ku.forEach(Xx),Mu.forEach(Xx)}function Cl(t,e){t.blockedOn===e&&(t.blockedOn=null,Hg||(Hg=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,sR)))}function Lu(t){function e(r){return Cl(r,t)}if(0<hh.length){Cl(hh[0],t);for(var n=1;n<hh.length;n++){var i=hh[n];i.blockedOn===t&&(i.blockedOn=null)}}for(rs!==null&&Cl(rs,t),ss!==null&&Cl(ss,t),os!==null&&Cl(os,t),ku.forEach(e),Mu.forEach(e),n=0;n<Yr.length;n++)i=Yr[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Yr.length&&(n=Yr[0],n.blockedOn===null);)rE(n),n.blockedOn===null&&Yr.shift()}var ya=Lr.ReactCurrentBatchConfig,kd=!0;function oR(t,e,n,i){var r=Xe,s=ya.transition;ya.transition=null;try{Xe=1,Dv(t,e,n,i)}finally{Xe=r,ya.transition=s}}function aR(t,e,n,i){var r=Xe,s=ya.transition;ya.transition=null;try{Xe=4,Dv(t,e,n,i)}finally{Xe=r,ya.transition=s}}function Dv(t,e,n,i){if(kd){var r=$g(t,e,n,i);if(r===null)Tm(t,e,i,Md,n),Kx(t,i);else if(rR(r,t,e,n,i))i.stopPropagation();else if(Kx(t,i),e&4&&-1<iR.indexOf(t)){for(;r!==null;){var s=yc(r);if(s!==null&&eE(s),s=$g(t,e,n,i),s===null&&Tm(t,e,i,Md,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Tm(t,e,i,null,n)}}var Md=null;function $g(t,e,n,i){if(Md=null,t=Lv(i),t=Qs(t),t!==null)if(e=Co(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ZC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Md=t,null}function sE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GO()){case Iv:return 1;case XC:return 4;case Td:case KO:return 16;case qC:return 536870912;default:return 16}default:return 16}}var Kr=null,Nv=null,Qh=null;function oE(){if(Qh)return Qh;var t,e=Nv,n=e.length,i,r="value"in Kr?Kr.value:Kr.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Qh=r.slice(t,1<i?1-i:void 0)}function Jh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dh(){return!0}function qx(){return!1}function Qn(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dh:qx,this.isPropagationStopped=qx,this}return Ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dh)},persist:function(){},isPersistent:dh}),e}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Av=Qn(Ka),vc=Ct({},Ka,{view:0,detail:0}),lR=Qn(vc),_m,vm,El,zf=Ct({},vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==El&&(El&&t.type==="mousemove"?(_m=t.screenX-El.screenX,vm=t.screenY-El.screenY):vm=_m=0,El=t),_m)},movementY:function(t){return"movementY"in t?t.movementY:vm}}),Qx=Qn(zf),uR=Ct({},zf,{dataTransfer:0}),cR=Qn(uR),hR=Ct({},vc,{relatedTarget:0}),ym=Qn(hR),dR=Ct({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),fR=Qn(dR),pR=Ct({},Ka,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mR=Qn(pR),gR=Ct({},Ka,{data:0}),Jx=Qn(gR),_R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yR[t])?!!e[t]:!1}function Fv(){return xR}var bR=Ct({},vc,{key:function(t){if(t.key){var e=_R[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fv,charCode:function(t){return t.type==="keypress"?Jh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wR=Qn(bR),SR=Ct({},zf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eb=Qn(SR),CR=Ct({},vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fv}),ER=Qn(CR),TR=Ct({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),PR=Qn(TR),kR=Ct({},zf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MR=Qn(kR),LR=[9,13,27,32],zv=wr&&"CompositionEvent"in window,au=null;wr&&"documentMode"in document&&(au=document.documentMode);var IR=wr&&"TextEvent"in window&&!au,aE=wr&&(!zv||au&&8<au&&11>=au),tb=" ",nb=!1;function lE(t,e){switch(t){case"keyup":return LR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sa=!1;function OR(t,e){switch(t){case"compositionend":return uE(e);case"keypress":return e.which!==32?null:(nb=!0,tb);case"textInput":return t=e.data,t===tb&&nb?null:t;default:return null}}function RR(t,e){if(sa)return t==="compositionend"||!zv&&lE(t,e)?(t=oE(),Qh=Nv=Kr=null,sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aE&&e.locale!=="ko"?null:e.data;default:return null}}var DR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ib(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!DR[t.type]:e==="textarea"}function cE(t,e,n,i){VC(i),e=Ld(e,"onChange"),0<e.length&&(n=new Av("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var lu=null,Iu=null;function NR(t){bE(t,0)}function Bf(t){var e=la(t);if(DC(e))return t}function AR(t,e){if(t==="change")return e}var hE=!1;if(wr){var xm;if(wr){var bm="oninput"in document;if(!bm){var rb=document.createElement("div");rb.setAttribute("oninput","return;"),bm=typeof rb.oninput=="function"}xm=bm}else xm=!1;hE=xm&&(!document.documentMode||9<document.documentMode)}function sb(){lu&&(lu.detachEvent("onpropertychange",dE),Iu=lu=null)}function dE(t){if(t.propertyName==="value"&&Bf(Iu)){var e=[];cE(e,Iu,t,Lv(t)),UC(NR,e)}}function FR(t,e,n){t==="focusin"?(sb(),lu=e,Iu=n,lu.attachEvent("onpropertychange",dE)):t==="focusout"&&sb()}function zR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bf(Iu)}function BR(t,e){if(t==="click")return Bf(e)}function jR(t,e){if(t==="input"||t==="change")return Bf(e)}function VR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Li=typeof Object.is=="function"?Object.is:VR;function Ou(t,e){if(Li(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Eg.call(e,r)||!Li(t[r],e[r]))return!1}return!0}function ob(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ab(t,e){var n=ob(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ob(n)}}function fE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pE(){for(var t=window,e=Sd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sd(t.document)}return e}function Bv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HR(t){var e=pE(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fE(n.ownerDocument.documentElement,n)){if(i!==null&&Bv(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=ab(n,s);var o=ab(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $R=wr&&"documentMode"in document&&11>=document.documentMode,oa=null,Wg=null,uu=null,Ug=!1;function lb(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ug||oa==null||oa!==Sd(i)||(i=oa,"selectionStart"in i&&Bv(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),uu&&Ou(uu,i)||(uu=i,i=Ld(Wg,"onSelect"),0<i.length&&(e=new Av("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=oa)))}function fh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var aa={animationend:fh("Animation","AnimationEnd"),animationiteration:fh("Animation","AnimationIteration"),animationstart:fh("Animation","AnimationStart"),transitionend:fh("Transition","TransitionEnd")},wm={},mE={};wr&&(mE=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function jf(t){if(wm[t])return wm[t];if(!aa[t])return t;var e=aa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mE)return wm[t]=e[n];return t}var gE=jf("animationend"),_E=jf("animationiteration"),vE=jf("animationstart"),yE=jf("transitionend"),xE=new Map,ub="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cs(t,e){xE.set(t,e),So(e,[t])}for(var Sm=0;Sm<ub.length;Sm++){var Cm=ub[Sm],WR=Cm.toLowerCase(),UR=Cm[0].toUpperCase()+Cm.slice(1);Cs(WR,"on"+UR)}Cs(gE,"onAnimationEnd");Cs(_E,"onAnimationIteration");Cs(vE,"onAnimationStart");Cs("dblclick","onDoubleClick");Cs("focusin","onFocus");Cs("focusout","onBlur");Cs(yE,"onTransitionEnd");Ma("onMouseEnter",["mouseout","mouseover"]);Ma("onMouseLeave",["mouseout","mouseover"]);Ma("onPointerEnter",["pointerout","pointerover"]);Ma("onPointerLeave",["pointerout","pointerover"]);So("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));So("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));So("onBeforeInput",["compositionend","keypress","textInput","paste"]);So("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));So("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));So("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gl));function cb(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,WO(i,e,void 0,t),t.currentTarget=null}function bE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break e;cb(r,l,h),s=u}else for(o=0;o<i.length;o++){if(l=i[o],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break e;cb(r,l,h),s=u}}}if(Ed)throw t=jg,Ed=!1,jg=null,t}function ft(t,e){var n=e[Xg];n===void 0&&(n=e[Xg]=new Set);var i=t+"__bubble";n.has(i)||(wE(e,t,2,!1),n.add(i))}function Em(t,e,n){var i=0;e&&(i|=4),wE(n,t,i,e)}var ph="_reactListening"+Math.random().toString(36).slice(2);function Ru(t){if(!t[ph]){t[ph]=!0,MC.forEach(function(n){n!=="selectionchange"&&(ZR.has(n)||Em(n,!1,t),Em(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ph]||(e[ph]=!0,Em("selectionchange",!1,e))}}function wE(t,e,n,i){switch(sE(e)){case 1:var r=oR;break;case 4:r=aR;break;default:r=Dv}n=r.bind(null,e,n,t),r=void 0,!Bg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Tm(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;o=o.return}for(;l!==null;){if(o=Qs(l),o===null)return;if(u=o.tag,u===5||u===6){i=s=o;continue e}l=l.parentNode}}i=i.return}UC(function(){var h=s,d=Lv(n),p=[];e:{var m=xE.get(t);if(m!==void 0){var _=Av,v=t;switch(t){case"keypress":if(Jh(n)===0)break e;case"keydown":case"keyup":_=wR;break;case"focusin":v="focus",_=ym;break;case"focusout":v="blur",_=ym;break;case"beforeblur":case"afterblur":_=ym;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Qx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=cR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=ER;break;case gE:case _E:case vE:_=fR;break;case yE:_=PR;break;case"scroll":_=lR;break;case"wheel":_=MR;break;case"copy":case"cut":case"paste":_=mR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=eb}var y=(e&4)!==0,S=!y&&t==="scroll",x=y?m!==null?m+"Capture":null:m;y=[];for(var w=h,C;w!==null;){C=w;var k=C.stateNode;if(C.tag===5&&k!==null&&(C=k,x!==null&&(k=Pu(w,x),k!=null&&y.push(Du(w,k,C)))),S)break;w=w.return}0<y.length&&(m=new _(m,v,null,n,d),p.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==Fg&&(v=n.relatedTarget||n.fromElement)&&(Qs(v)||v[Sr]))break e;if((_||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,_?(v=n.relatedTarget||n.toElement,_=h,v=v?Qs(v):null,v!==null&&(S=Co(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(_=null,v=h),_!==v)){if(y=Qx,k="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=eb,k="onPointerLeave",x="onPointerEnter",w="pointer"),S=_==null?m:la(_),C=v==null?m:la(v),m=new y(k,w+"leave",_,n,d),m.target=S,m.relatedTarget=C,k=null,Qs(d)===h&&(y=new y(x,w+"enter",v,n,d),y.target=C,y.relatedTarget=S,k=y),S=k,_&&v)t:{for(y=_,x=v,w=0,C=y;C;C=Ko(C))w++;for(C=0,k=x;k;k=Ko(k))C++;for(;0<w-C;)y=Ko(y),w--;for(;0<C-w;)x=Ko(x),C--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=Ko(y),x=Ko(x)}y=null}else y=null;_!==null&&hb(p,m,_,y,!1),v!==null&&S!==null&&hb(p,S,v,y,!0)}}e:{if(m=h?la(h):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var M=AR;else if(ib(m))if(hE)M=jR;else{M=zR;var T=FR}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=BR);if(M&&(M=M(t,h))){cE(p,M,n,d);break e}T&&T(t,m,h),t==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&Og(m,"number",m.value)}switch(T=h?la(h):window,t){case"focusin":(ib(T)||T.contentEditable==="true")&&(oa=T,Wg=h,uu=null);break;case"focusout":uu=Wg=oa=null;break;case"mousedown":Ug=!0;break;case"contextmenu":case"mouseup":case"dragend":Ug=!1,lb(p,n,d);break;case"selectionchange":if($R)break;case"keydown":case"keyup":lb(p,n,d)}var O;if(zv)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else sa?lE(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(aE&&n.locale!=="ko"&&(sa||I!=="onCompositionStart"?I==="onCompositionEnd"&&sa&&(O=oE()):(Kr=d,Nv="value"in Kr?Kr.value:Kr.textContent,sa=!0)),T=Ld(h,I),0<T.length&&(I=new Jx(I,t,null,n,d),p.push({event:I,listeners:T}),O?I.data=O:(O=uE(n),O!==null&&(I.data=O)))),(O=IR?OR(t,n):RR(t,n))&&(h=Ld(h,"onBeforeInput"),0<h.length&&(d=new Jx("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:h}),d.data=O))}bE(p,e)})}function Du(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ld(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Pu(t,n),s!=null&&i.unshift(Du(t,s,r)),s=Pu(t,e),s!=null&&i.push(Du(t,s,r))),t=t.return}return i}function Ko(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hb(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===i)break;l.tag===5&&h!==null&&(l=h,r?(u=Pu(n,s),u!=null&&o.unshift(Du(n,u,l))):r||(u=Pu(n,s),u!=null&&o.push(Du(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var YR=/\r\n?/g,GR=/\u0000|\uFFFD/g;function db(t){return(typeof t=="string"?t:""+t).replace(YR,`
`).replace(GR,"")}function mh(t,e,n){if(e=db(e),db(t)!==e&&n)throw Error(K(425))}function Id(){}var Zg=null,Yg=null;function Gg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kg=typeof setTimeout=="function"?setTimeout:void 0,KR=typeof clearTimeout=="function"?clearTimeout:void 0,fb=typeof Promise=="function"?Promise:void 0,XR=typeof queueMicrotask=="function"?queueMicrotask:typeof fb<"u"?function(t){return fb.resolve(null).then(t).catch(qR)}:Kg;function qR(t){setTimeout(function(){throw t})}function Pm(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Lu(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Lu(e)}function as(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xa=Math.random().toString(36).slice(2),Wi="__reactFiber$"+Xa,Nu="__reactProps$"+Xa,Sr="__reactContainer$"+Xa,Xg="__reactEvents$"+Xa,QR="__reactListeners$"+Xa,JR="__reactHandles$"+Xa;function Qs(t){var e=t[Wi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Sr]||n[Wi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pb(t);t!==null;){if(n=t[Wi])return n;t=pb(t)}return e}t=n,n=t.parentNode}return null}function yc(t){return t=t[Wi]||t[Sr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function la(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Vf(t){return t[Nu]||null}var qg=[],ua=-1;function Es(t){return{current:t}}function pt(t){0>ua||(t.current=qg[ua],qg[ua]=null,ua--)}function ht(t,e){ua++,qg[ua]=t.current,t.current=e}var vs={},pn=Es(vs),Fn=Es(!1),co=vs;function La(t,e){var n=t.type.contextTypes;if(!n)return vs;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function zn(t){return t=t.childContextTypes,t!=null}function Od(){pt(Fn),pt(pn)}function mb(t,e,n){if(pn.current!==vs)throw Error(K(168));ht(pn,e),ht(Fn,n)}function SE(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(K(108,FO(t)||"Unknown",r));return Ct({},n,i)}function Rd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vs,co=pn.current,ht(pn,t),ht(Fn,Fn.current),!0}function gb(t,e,n){var i=t.stateNode;if(!i)throw Error(K(169));n?(t=SE(t,e,co),i.__reactInternalMemoizedMergedChildContext=t,pt(Fn),pt(pn),ht(pn,t)):pt(Fn),ht(Fn,n)}var lr=null,Hf=!1,km=!1;function CE(t){lr===null?lr=[t]:lr.push(t)}function eD(t){Hf=!0,CE(t)}function Ts(){if(!km&&lr!==null){km=!0;var t=0,e=Xe;try{var n=lr;for(Xe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}lr=null,Hf=!1}catch(r){throw lr!==null&&(lr=lr.slice(t+1)),KC(Iv,Ts),r}finally{Xe=e,km=!1}}return null}var ca=[],ha=0,Dd=null,Nd=0,si=[],oi=0,ho=null,hr=1,dr="";function $s(t,e){ca[ha++]=Nd,ca[ha++]=Dd,Dd=t,Nd=e}function EE(t,e,n){si[oi++]=hr,si[oi++]=dr,si[oi++]=ho,ho=t;var i=hr;t=dr;var r=32-Ti(i)-1;i&=~(1<<r),n+=1;var s=32-Ti(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,hr=1<<32-Ti(e)+r|n<<r|i,dr=s+t}else hr=1<<s|n<<r|i,dr=t}function jv(t){t.return!==null&&($s(t,1),EE(t,1,0))}function Vv(t){for(;t===Dd;)Dd=ca[--ha],ca[ha]=null,Nd=ca[--ha],ca[ha]=null;for(;t===ho;)ho=si[--oi],si[oi]=null,dr=si[--oi],si[oi]=null,hr=si[--oi],si[oi]=null}var Gn=null,Zn=null,yt=!1,bi=null;function TE(t,e){var n=ai(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _b(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gn=t,Zn=as(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gn=t,Zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ho!==null?{id:hr,overflow:dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ai(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gn=t,Zn=null,!0):!1;default:return!1}}function Qg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jg(t){if(yt){var e=Zn;if(e){var n=e;if(!_b(t,e)){if(Qg(t))throw Error(K(418));e=as(n.nextSibling);var i=Gn;e&&_b(t,e)?TE(i,n):(t.flags=t.flags&-4097|2,yt=!1,Gn=t)}}else{if(Qg(t))throw Error(K(418));t.flags=t.flags&-4097|2,yt=!1,Gn=t}}}function vb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gn=t}function gh(t){if(t!==Gn)return!1;if(!yt)return vb(t),yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gg(t.type,t.memoizedProps)),e&&(e=Zn)){if(Qg(t))throw PE(),Error(K(418));for(;e;)TE(t,e),e=as(e.nextSibling)}if(vb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zn=as(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zn=null}}else Zn=Gn?as(t.stateNode.nextSibling):null;return!0}function PE(){for(var t=Zn;t;)t=as(t.nextSibling)}function Ia(){Zn=Gn=null,yt=!1}function Hv(t){bi===null?bi=[t]:bi.push(t)}var tD=Lr.ReactCurrentBatchConfig;function Tl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var i=n.stateNode}if(!i)throw Error(K(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=r.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function _h(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yb(t){var e=t._init;return e(t._payload)}function kE(t){function e(x,w){if(t){var C=x.deletions;C===null?(x.deletions=[w],x.flags|=16):C.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function i(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function r(x,w){return x=hs(x,w),x.index=0,x.sibling=null,x}function s(x,w,C){return x.index=C,t?(C=x.alternate,C!==null?(C=C.index,C<w?(x.flags|=2,w):C):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,w,C,k){return w===null||w.tag!==6?(w=Nm(C,x.mode,k),w.return=x,w):(w=r(w,C),w.return=x,w)}function u(x,w,C,k){var M=C.type;return M===ra?d(x,w,C.props.children,k,C.key):w!==null&&(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Wr&&yb(M)===w.type)?(k=r(w,C.props),k.ref=Tl(x,w,C),k.return=x,k):(k=od(C.type,C.key,C.props,null,x.mode,k),k.ref=Tl(x,w,C),k.return=x,k)}function h(x,w,C,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=Am(C,x.mode,k),w.return=x,w):(w=r(w,C.children||[]),w.return=x,w)}function d(x,w,C,k,M){return w===null||w.tag!==7?(w=oo(C,x.mode,k,M),w.return=x,w):(w=r(w,C),w.return=x,w)}function p(x,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Nm(""+w,x.mode,C),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case oh:return C=od(w.type,w.key,w.props,null,x.mode,C),C.ref=Tl(x,null,w),C.return=x,C;case ia:return w=Am(w,x.mode,C),w.return=x,w;case Wr:var k=w._init;return p(x,k(w._payload),C)}if(Zl(w)||bl(w))return w=oo(w,x.mode,C,null),w.return=x,w;_h(x,w)}return null}function m(x,w,C,k){var M=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return M!==null?null:l(x,w,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case oh:return C.key===M?u(x,w,C,k):null;case ia:return C.key===M?h(x,w,C,k):null;case Wr:return M=C._init,m(x,w,M(C._payload),k)}if(Zl(C)||bl(C))return M!==null?null:d(x,w,C,k,null);_h(x,C)}return null}function _(x,w,C,k,M){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(C)||null,l(w,x,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case oh:return x=x.get(k.key===null?C:k.key)||null,u(w,x,k,M);case ia:return x=x.get(k.key===null?C:k.key)||null,h(w,x,k,M);case Wr:var T=k._init;return _(x,w,C,T(k._payload),M)}if(Zl(k)||bl(k))return x=x.get(C)||null,d(w,x,k,M,null);_h(w,k)}return null}function v(x,w,C,k){for(var M=null,T=null,O=w,I=w=0,A=null;O!==null&&I<C.length;I++){O.index>I?(A=O,O=null):A=O.sibling;var j=m(x,O,C[I],k);if(j===null){O===null&&(O=A);break}t&&O&&j.alternate===null&&e(x,O),w=s(j,w,I),T===null?M=j:T.sibling=j,T=j,O=A}if(I===C.length)return n(x,O),yt&&$s(x,I),M;if(O===null){for(;I<C.length;I++)O=p(x,C[I],k),O!==null&&(w=s(O,w,I),T===null?M=O:T.sibling=O,T=O);return yt&&$s(x,I),M}for(O=i(x,O);I<C.length;I++)A=_(O,x,I,C[I],k),A!==null&&(t&&A.alternate!==null&&O.delete(A.key===null?I:A.key),w=s(A,w,I),T===null?M=A:T.sibling=A,T=A);return t&&O.forEach(function(W){return e(x,W)}),yt&&$s(x,I),M}function y(x,w,C,k){var M=bl(C);if(typeof M!="function")throw Error(K(150));if(C=M.call(C),C==null)throw Error(K(151));for(var T=M=null,O=w,I=w=0,A=null,j=C.next();O!==null&&!j.done;I++,j=C.next()){O.index>I?(A=O,O=null):A=O.sibling;var W=m(x,O,j.value,k);if(W===null){O===null&&(O=A);break}t&&O&&W.alternate===null&&e(x,O),w=s(W,w,I),T===null?M=W:T.sibling=W,T=W,O=A}if(j.done)return n(x,O),yt&&$s(x,I),M;if(O===null){for(;!j.done;I++,j=C.next())j=p(x,j.value,k),j!==null&&(w=s(j,w,I),T===null?M=j:T.sibling=j,T=j);return yt&&$s(x,I),M}for(O=i(x,O);!j.done;I++,j=C.next())j=_(O,x,I,j.value,k),j!==null&&(t&&j.alternate!==null&&O.delete(j.key===null?I:j.key),w=s(j,w,I),T===null?M=j:T.sibling=j,T=j);return t&&O.forEach(function(Z){return e(x,Z)}),yt&&$s(x,I),M}function S(x,w,C,k){if(typeof C=="object"&&C!==null&&C.type===ra&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case oh:e:{for(var M=C.key,T=w;T!==null;){if(T.key===M){if(M=C.type,M===ra){if(T.tag===7){n(x,T.sibling),w=r(T,C.props.children),w.return=x,x=w;break e}}else if(T.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Wr&&yb(M)===T.type){n(x,T.sibling),w=r(T,C.props),w.ref=Tl(x,T,C),w.return=x,x=w;break e}n(x,T);break}else e(x,T);T=T.sibling}C.type===ra?(w=oo(C.props.children,x.mode,k,C.key),w.return=x,x=w):(k=od(C.type,C.key,C.props,null,x.mode,k),k.ref=Tl(x,w,C),k.return=x,x=k)}return o(x);case ia:e:{for(T=C.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(x,w.sibling),w=r(w,C.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Am(C,x.mode,k),w.return=x,x=w}return o(x);case Wr:return T=C._init,S(x,w,T(C._payload),k)}if(Zl(C))return v(x,w,C,k);if(bl(C))return y(x,w,C,k);_h(x,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(x,w.sibling),w=r(w,C),w.return=x,x=w):(n(x,w),w=Nm(C,x.mode,k),w.return=x,x=w),o(x)):n(x,w)}return S}var Oa=kE(!0),ME=kE(!1),Ad=Es(null),Fd=null,da=null,$v=null;function Wv(){$v=da=Fd=null}function Uv(t){var e=Ad.current;pt(Ad),t._currentValue=e}function e_(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function xa(t,e){Fd=t,$v=da=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nn=!0),t.firstContext=null)}function ci(t){var e=t._currentValue;if($v!==t)if(t={context:t,memoizedValue:e,next:null},da===null){if(Fd===null)throw Error(K(308));da=t,Fd.dependencies={lanes:0,firstContext:t}}else da=da.next=t;return e}var Js=null;function Zv(t){Js===null?Js=[t]:Js.push(t)}function LE(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Zv(e)):(n.next=r.next,r.next=n),e.interleaved=n,Cr(t,i)}function Cr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ur=!1;function Yv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ls(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,$e&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Cr(t,n)}return r=i.interleaved,r===null?(e.next=e,Zv(i)):(e.next=r.next,r.next=e),i.interleaved=e,Cr(t,n)}function ed(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Ov(t,n)}}function xb(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zd(t,e,n,i){var r=t.updateQueue;Ur=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,h=u.next;u.next=null,o===null?s=h:o.next=h,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(s!==null){var p=r.baseState;o=0,d=h=u=null,l=s;do{var m=l.lane,_=l.eventTime;if((i&m)===m){d!==null&&(d=d.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,y=l;switch(m=e,_=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){p=v.call(_,p,m);break e}p=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,m=typeof v=="function"?v.call(_,p,m):v,m==null)break e;p=Ct({},p,m);break e;case 2:Ur=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=r.effects,m===null?r.effects=[l]:m.push(l))}else _={eventTime:_,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=_,u=p):d=d.next=_,o|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;m=l,l=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(d===null&&(u=p),r.baseState=u,r.firstBaseUpdate=h,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);po|=o,t.lanes=o,t.memoizedState=p}}function bb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(K(191,r));r.call(i)}}}var xc={},Zi=Es(xc),Au=Es(xc),Fu=Es(xc);function eo(t){if(t===xc)throw Error(K(174));return t}function Gv(t,e){switch(ht(Fu,e),ht(Au,t),ht(Zi,xc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dg(e,t)}pt(Zi),ht(Zi,e)}function Ra(){pt(Zi),pt(Au),pt(Fu)}function OE(t){eo(Fu.current);var e=eo(Zi.current),n=Dg(e,t.type);e!==n&&(ht(Au,t),ht(Zi,n))}function Kv(t){Au.current===t&&(pt(Zi),pt(Au))}var wt=Es(0);function Bd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mm=[];function Xv(){for(var t=0;t<Mm.length;t++)Mm[t]._workInProgressVersionPrimary=null;Mm.length=0}var td=Lr.ReactCurrentDispatcher,Lm=Lr.ReactCurrentBatchConfig,fo=0,St=null,Vt=null,Kt=null,jd=!1,cu=!1,zu=0,nD=0;function ln(){throw Error(K(321))}function qv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Li(t[n],e[n]))return!1;return!0}function Qv(t,e,n,i,r,s){if(fo=s,St=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,td.current=t===null||t.memoizedState===null?oD:aD,t=n(i,r),cu){s=0;do{if(cu=!1,zu=0,25<=s)throw Error(K(301));s+=1,Kt=Vt=null,e.updateQueue=null,td.current=lD,t=n(i,r)}while(cu)}if(td.current=Vd,e=Vt!==null&&Vt.next!==null,fo=0,Kt=Vt=St=null,jd=!1,e)throw Error(K(300));return t}function Jv(){var t=zu!==0;return zu=0,t}function Bi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?St.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function hi(){if(Vt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var e=Kt===null?St.memoizedState:Kt.next;if(e!==null)Kt=e,Vt=t;else{if(t===null)throw Error(K(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Kt===null?St.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function Bu(t,e){return typeof e=="function"?e(t):e}function Im(t){var e=hi(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var i=Vt,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var l=o=null,u=null,h=s;do{var d=h.lane;if((fo&d)===d)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),i=h.hasEagerState?h.eagerState:t(i,h.action);else{var p={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=p,o=i):u=u.next=p,St.lanes|=d,po|=d}h=h.next}while(h!==null&&h!==s);u===null?o=i:u.next=l,Li(i,e.memoizedState)||(Nn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=u,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,St.lanes|=s,po|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Om(t){var e=hi(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Li(s,e.memoizedState)||(Nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function RE(){}function DE(t,e){var n=St,i=hi(),r=e(),s=!Li(i.memoizedState,r);if(s&&(i.memoizedState=r,Nn=!0),i=i.queue,ey(FE.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Kt!==null&&Kt.memoizedState.tag&1){if(n.flags|=2048,ju(9,AE.bind(null,n,i,r,e),void 0,null),Qt===null)throw Error(K(349));fo&30||NE(n,e,r)}return r}function NE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AE(t,e,n,i){e.value=n,e.getSnapshot=i,zE(e)&&BE(t)}function FE(t,e,n){return n(function(){zE(e)&&BE(t)})}function zE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Li(t,n)}catch{return!0}}function BE(t){var e=Cr(t,1);e!==null&&Pi(e,t,1,-1)}function wb(t){var e=Bi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:t},e.queue=t,t=t.dispatch=sD.bind(null,St,t),[e.memoizedState,t]}function ju(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=St.updateQueue,e===null?(e={lastEffect:null,stores:null},St.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function jE(){return hi().memoizedState}function nd(t,e,n,i){var r=Bi();St.flags|=t,r.memoizedState=ju(1|e,n,void 0,i===void 0?null:i)}function $f(t,e,n,i){var r=hi();i=i===void 0?null:i;var s=void 0;if(Vt!==null){var o=Vt.memoizedState;if(s=o.destroy,i!==null&&qv(i,o.deps)){r.memoizedState=ju(e,n,s,i);return}}St.flags|=t,r.memoizedState=ju(1|e,n,s,i)}function Sb(t,e){return nd(8390656,8,t,e)}function ey(t,e){return $f(2048,8,t,e)}function VE(t,e){return $f(4,2,t,e)}function HE(t,e){return $f(4,4,t,e)}function $E(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WE(t,e,n){return n=n!=null?n.concat([t]):null,$f(4,4,$E.bind(null,e,t),n)}function ty(){}function UE(t,e){var n=hi();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&qv(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function ZE(t,e){var n=hi();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&qv(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function YE(t,e,n){return fo&21?(Li(n,e)||(n=QC(),St.lanes|=n,po|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nn=!0),t.memoizedState=n)}function iD(t,e){var n=Xe;Xe=n!==0&&4>n?n:4,t(!0);var i=Lm.transition;Lm.transition={};try{t(!1),e()}finally{Xe=n,Lm.transition=i}}function GE(){return hi().memoizedState}function rD(t,e,n){var i=cs(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},KE(t))XE(e,n);else if(n=LE(t,e,n,i),n!==null){var r=Cn();Pi(n,t,i,r),qE(n,e,i)}}function sD(t,e,n){var i=cs(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(KE(t))XE(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(r.hasEagerState=!0,r.eagerState=l,Li(l,o)){var u=e.interleaved;u===null?(r.next=r,Zv(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}n=LE(t,e,r,i),n!==null&&(r=Cn(),Pi(n,t,i,r),qE(n,e,i))}}function KE(t){var e=t.alternate;return t===St||e!==null&&e===St}function XE(t,e){cu=jd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qE(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Ov(t,n)}}var Vd={readContext:ci,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},oD={readContext:ci,useCallback:function(t,e){return Bi().memoizedState=[t,e===void 0?null:e],t},useContext:ci,useEffect:Sb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nd(4194308,4,$E.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nd(4194308,4,t,e)},useInsertionEffect:function(t,e){return nd(4,2,t,e)},useMemo:function(t,e){var n=Bi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Bi();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=rD.bind(null,St,t),[i.memoizedState,t]},useRef:function(t){var e=Bi();return t={current:t},e.memoizedState=t},useState:wb,useDebugValue:ty,useDeferredValue:function(t){return Bi().memoizedState=t},useTransition:function(){var t=wb(!1),e=t[0];return t=iD.bind(null,t[1]),Bi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=St,r=Bi();if(yt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Qt===null)throw Error(K(349));fo&30||NE(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Sb(FE.bind(null,i,s,t),[t]),i.flags|=2048,ju(9,AE.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Bi(),e=Qt.identifierPrefix;if(yt){var n=dr,i=hr;n=(i&~(1<<32-Ti(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=zu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=nD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},aD={readContext:ci,useCallback:UE,useContext:ci,useEffect:ey,useImperativeHandle:WE,useInsertionEffect:VE,useLayoutEffect:HE,useMemo:ZE,useReducer:Im,useRef:jE,useState:function(){return Im(Bu)},useDebugValue:ty,useDeferredValue:function(t){var e=hi();return YE(e,Vt.memoizedState,t)},useTransition:function(){var t=Im(Bu)[0],e=hi().memoizedState;return[t,e]},useMutableSource:RE,useSyncExternalStore:DE,useId:GE,unstable_isNewReconciler:!1},lD={readContext:ci,useCallback:UE,useContext:ci,useEffect:ey,useImperativeHandle:WE,useInsertionEffect:VE,useLayoutEffect:HE,useMemo:ZE,useReducer:Om,useRef:jE,useState:function(){return Om(Bu)},useDebugValue:ty,useDeferredValue:function(t){var e=hi();return Vt===null?e.memoizedState=t:YE(e,Vt.memoizedState,t)},useTransition:function(){var t=Om(Bu)[0],e=hi().memoizedState;return[t,e]},useMutableSource:RE,useSyncExternalStore:DE,useId:GE,unstable_isNewReconciler:!1};function vi(t,e){if(t&&t.defaultProps){e=Ct({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function t_(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ct({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wf={isMounted:function(t){return(t=t._reactInternals)?Co(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Cn(),r=cs(t),s=_r(i,r);s.payload=e,n!=null&&(s.callback=n),e=ls(t,s,r),e!==null&&(Pi(e,t,r,i),ed(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Cn(),r=cs(t),s=_r(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ls(t,s,r),e!==null&&(Pi(e,t,r,i),ed(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Cn(),i=cs(t),r=_r(n,i);r.tag=2,e!=null&&(r.callback=e),e=ls(t,r,i),e!==null&&(Pi(e,t,i,n),ed(e,t,i))}};function Cb(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ou(n,i)||!Ou(r,s):!0}function QE(t,e,n){var i=!1,r=vs,s=e.contextType;return typeof s=="object"&&s!==null?s=ci(s):(r=zn(e)?co:pn.current,i=e.contextTypes,s=(i=i!=null)?La(t,r):vs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wf,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Eb(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Wf.enqueueReplaceState(e,e.state,null)}function n_(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Yv(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=ci(s):(s=zn(e)?co:pn.current,r.context=La(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(t_(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Wf.enqueueReplaceState(r,r.state,null),zd(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Da(t,e){try{var n="",i=e;do n+=AO(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function Rm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function i_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var uD=typeof WeakMap=="function"?WeakMap:Map;function JE(t,e,n){n=_r(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){$d||($d=!0,f_=i),i_(t,e)},n}function eT(t,e,n){n=_r(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){i_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){i_(t,e),typeof i!="function"&&(us===null?us=new Set([this]):us.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Tb(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new uD;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=SD.bind(null,t,e,n),e.then(t,t))}function Pb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kb(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_r(-1,1),e.tag=2,ls(n,e,1))),n.lanes|=1),t)}var cD=Lr.ReactCurrentOwner,Nn=!1;function xn(t,e,n,i){e.child=t===null?ME(e,null,n,i):Oa(e,t.child,n,i)}function Mb(t,e,n,i,r){n=n.render;var s=e.ref;return xa(e,r),i=Qv(t,e,n,i,s,r),n=Jv(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Er(t,e,r)):(yt&&n&&jv(e),e.flags|=1,xn(t,e,i,r),e.child)}function Lb(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!uy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,tT(t,e,s,i,r)):(t=od(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ou,n(o,i)&&t.ref===e.ref)return Er(t,e,r)}return e.flags|=1,t=hs(s,i),t.ref=e.ref,t.return=e,e.child=t}function tT(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Ou(s,i)&&t.ref===e.ref)if(Nn=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Nn=!0);else return e.lanes=t.lanes,Er(t,e,r)}return r_(t,e,n,i,r)}function nT(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(pa,$n),$n|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ht(pa,$n),$n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,ht(pa,$n),$n|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,ht(pa,$n),$n|=i;return xn(t,e,r,n),e.child}function iT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function r_(t,e,n,i,r){var s=zn(n)?co:pn.current;return s=La(e,s),xa(e,r),n=Qv(t,e,n,i,s,r),i=Jv(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Er(t,e,r)):(yt&&i&&jv(e),e.flags|=1,xn(t,e,n,r),e.child)}function Ib(t,e,n,i,r){if(zn(n)){var s=!0;Rd(e)}else s=!1;if(xa(e,r),e.stateNode===null)id(t,e),QE(e,n,i),n_(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=ci(h):(h=zn(n)?co:pn.current,h=La(e,h));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||u!==h)&&Eb(e,o,i,h),Ur=!1;var m=e.memoizedState;o.state=m,zd(e,i,o,r),u=e.memoizedState,l!==i||m!==u||Fn.current||Ur?(typeof d=="function"&&(t_(e,n,d,i),u=e.memoizedState),(l=Ur||Cb(e,n,l,i,m,u,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),o.props=i,o.state=u,o.context=h,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,IE(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:vi(e.type,l),o.props=h,p=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=ci(u):(u=zn(n)?co:pn.current,u=La(e,u));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==u)&&Eb(e,o,i,u),Ur=!1,m=e.memoizedState,o.state=m,zd(e,i,o,r);var v=e.memoizedState;l!==p||m!==v||Fn.current||Ur?(typeof _=="function"&&(t_(e,n,_,i),v=e.memoizedState),(h=Ur||Cb(e,n,h,i,m,v,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=u,i=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),i=!1)}return s_(t,e,n,i,s,r)}function s_(t,e,n,i,r,s){iT(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&gb(e,n,!1),Er(t,e,s);i=e.stateNode,cD.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Oa(e,t.child,null,s),e.child=Oa(e,null,l,s)):xn(t,e,l,s),e.memoizedState=i.state,r&&gb(e,n,!0),e.child}function rT(t){var e=t.stateNode;e.pendingContext?mb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mb(t,e.context,!1),Gv(t,e.containerInfo)}function Ob(t,e,n,i,r){return Ia(),Hv(r),e.flags|=256,xn(t,e,n,i),e.child}var o_={dehydrated:null,treeContext:null,retryLane:0};function a_(t){return{baseLanes:t,cachePool:null,transitions:null}}function sT(t,e,n){var i=e.pendingProps,r=wt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ht(wt,r&1),t===null)return Jg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yf(o,i,0,null),t=oo(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=a_(n),e.memoizedState=o_,t):ny(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return hD(t,e,o,i,l,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,l=r.sibling;var u={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=hs(r,u),i.subtreeFlags=r.subtreeFlags&14680064),l!==null?s=hs(l,s):(s=oo(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?a_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=o_,i}return s=t.child,t=s.sibling,i=hs(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function ny(t,e){return e=Yf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vh(t,e,n,i){return i!==null&&Hv(i),Oa(e,t.child,null,n),t=ny(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hD(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=Rm(Error(K(422))),vh(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Yf({mode:"visible",children:i.children},r,0,null),s=oo(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Oa(e,t.child,null,o),e.child.memoizedState=a_(o),e.memoizedState=o_,s);if(!(e.mode&1))return vh(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var l=i.dgst;return i=l,s=Error(K(419)),i=Rm(s,i,void 0),vh(t,e,o,i)}if(l=(o&t.childLanes)!==0,Nn||l){if(i=Qt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Cr(t,r),Pi(i,t,r,-1))}return ly(),i=Rm(Error(K(421))),vh(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=CD.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Zn=as(r.nextSibling),Gn=e,yt=!0,bi=null,t!==null&&(si[oi++]=hr,si[oi++]=dr,si[oi++]=ho,hr=t.id,dr=t.overflow,ho=e),e=ny(e,i.children),e.flags|=4096,e)}function Rb(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),e_(t.return,e,n)}function Dm(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function oT(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(xn(t,e,i.children,n),i=wt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rb(t,n,e);else if(t.tag===19)Rb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ht(wt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Bd(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Dm(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Bd(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Dm(e,!0,n,null,s);break;case"together":Dm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function id(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),po|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=hs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dD(t,e,n){switch(e.tag){case 3:rT(e),Ia();break;case 5:OE(e);break;case 1:zn(e.type)&&Rd(e);break;case 4:Gv(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ht(Ad,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ht(wt,wt.current&1),e.flags|=128,null):n&e.child.childLanes?sT(t,e,n):(ht(wt,wt.current&1),t=Er(t,e,n),t!==null?t.sibling:null);ht(wt,wt.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return oT(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ht(wt,wt.current),i)break;return null;case 22:case 23:return e.lanes=0,nT(t,e,n)}return Er(t,e,n)}var aT,l_,lT,uT;aT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};l_=function(){};lT=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,eo(Zi.current);var s=null;switch(n){case"input":r=Lg(t,r),i=Lg(t,i),s=[];break;case"select":r=Ct({},r,{value:void 0}),i=Ct({},i,{value:void 0}),s=[];break;case"textarea":r=Rg(t,r),i=Rg(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Id)}Ng(n,i);var o;n=null;for(h in r)if(!i.hasOwnProperty(h)&&r.hasOwnProperty(h)&&r[h]!=null)if(h==="style"){var l=r[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Eu.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in i){var u=i[h];if(l=r!=null?r[h]:void 0,i.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Eu.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&ft("scroll",t),s||l===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};uT=function(t,e,n,i){n!==i&&(e.flags|=4)};function Pl(t,e){if(!yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function fD(t,e,n){var i=e.pendingProps;switch(Vv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(e),null;case 1:return zn(e.type)&&Od(),un(e),null;case 3:return i=e.stateNode,Ra(),pt(Fn),pt(pn),Xv(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(gh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bi!==null&&(g_(bi),bi=null))),l_(t,e),un(e),null;case 5:Kv(e);var r=eo(Fu.current);if(n=e.type,t!==null&&e.stateNode!=null)lT(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(K(166));return un(e),null}if(t=eo(Zi.current),gh(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Wi]=e,i[Nu]=s,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",i),ft("close",i);break;case"iframe":case"object":case"embed":ft("load",i);break;case"video":case"audio":for(r=0;r<Gl.length;r++)ft(Gl[r],i);break;case"source":ft("error",i);break;case"img":case"image":case"link":ft("error",i),ft("load",i);break;case"details":ft("toggle",i);break;case"input":Hx(i,s),ft("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},ft("invalid",i);break;case"textarea":Wx(i,s),ft("invalid",i)}Ng(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?i.textContent!==l&&(s.suppressHydrationWarning!==!0&&mh(i.textContent,l,t),r=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&mh(i.textContent,l,t),r=["children",""+l]):Eu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ft("scroll",i)}switch(n){case"input":ah(i),$x(i,s,!0);break;case"textarea":ah(i),Ux(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Id)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=FC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Wi]=e,t[Nu]=i,aT(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ag(n,i),n){case"dialog":ft("cancel",t),ft("close",t),r=i;break;case"iframe":case"object":case"embed":ft("load",t),r=i;break;case"video":case"audio":for(r=0;r<Gl.length;r++)ft(Gl[r],t);r=i;break;case"source":ft("error",t),r=i;break;case"img":case"image":case"link":ft("error",t),ft("load",t),r=i;break;case"details":ft("toggle",t),r=i;break;case"input":Hx(t,i),r=Lg(t,i),ft("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Ct({},i,{value:void 0}),ft("invalid",t);break;case"textarea":Wx(t,i),r=Rg(t,i),ft("invalid",t);break;default:r=i}Ng(n,r),l=r;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?jC(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&zC(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Tu(t,u):typeof u=="number"&&Tu(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Eu.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ft("scroll",t):u!=null&&Tv(t,s,u,o))}switch(n){case"input":ah(t),$x(t,i,!1);break;case"textarea":ah(t),Ux(t);break;case"option":i.value!=null&&t.setAttribute("value",""+_s(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?ga(t,!!i.multiple,s,!1):i.defaultValue!=null&&ga(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Id)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return un(e),null;case 6:if(t&&e.stateNode!=null)uT(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(K(166));if(n=eo(Fu.current),eo(Zi.current),gh(e)){if(i=e.stateNode,n=e.memoizedProps,i[Wi]=e,(s=i.nodeValue!==n)&&(t=Gn,t!==null))switch(t.tag){case 3:mh(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mh(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Wi]=e,e.stateNode=i}return un(e),null;case 13:if(pt(wt),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yt&&Zn!==null&&e.mode&1&&!(e.flags&128))PE(),Ia(),e.flags|=98560,s=!1;else if(s=gh(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Wi]=e}else Ia(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;un(e),s=!1}else bi!==null&&(g_(bi),bi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||wt.current&1?Wt===0&&(Wt=3):ly())),e.updateQueue!==null&&(e.flags|=4),un(e),null);case 4:return Ra(),l_(t,e),t===null&&Ru(e.stateNode.containerInfo),un(e),null;case 10:return Uv(e.type._context),un(e),null;case 17:return zn(e.type)&&Od(),un(e),null;case 19:if(pt(wt),s=e.memoizedState,s===null)return un(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Pl(s,!1);else{if(Wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bd(t),o!==null){for(e.flags|=128,Pl(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ht(wt,wt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ot()>Na&&(e.flags|=128,i=!0,Pl(s,!1),e.lanes=4194304)}else{if(!i)if(t=Bd(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Pl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!yt)return un(e),null}else 2*Ot()-s.renderingStartTime>Na&&n!==1073741824&&(e.flags|=128,i=!0,Pl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ot(),e.sibling=null,n=wt.current,ht(wt,i?n&1|2:n&1),e):(un(e),null);case 22:case 23:return ay(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?$n&1073741824&&(un(e),e.subtreeFlags&6&&(e.flags|=8192)):un(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function pD(t,e){switch(Vv(e),e.tag){case 1:return zn(e.type)&&Od(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ra(),pt(Fn),pt(pn),Xv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kv(e),null;case 13:if(pt(wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Ia()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pt(wt),null;case 4:return Ra(),null;case 10:return Uv(e.type._context),null;case 22:case 23:return ay(),null;case 24:return null;default:return null}}var yh=!1,dn=!1,mD=typeof WeakSet=="function"?WeakSet:Set,pe=null;function fa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Tt(t,e,i)}else n.current=null}function u_(t,e,n){try{n()}catch(i){Tt(t,e,i)}}var Db=!1;function gD(t,e){if(Zg=kd,t=pE(),Bv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,h=0,d=0,p=t,m=null;t:for(;;){for(var _;p!==n||r!==0&&p.nodeType!==3||(l=o+r),p!==s||i!==0&&p.nodeType!==3||(u=o+i),p.nodeType===3&&(o+=p.nodeValue.length),(_=p.firstChild)!==null;)m=p,p=_;for(;;){if(p===t)break t;if(m===n&&++h===r&&(l=o),m===s&&++d===i&&(u=o),(_=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yg={focusedElem:t,selectionRange:n},kd=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,S=v.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:vi(e.type,y),S);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(k){Tt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return v=Db,Db=!1,v}function hu(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&u_(e,n,s)}r=r.next}while(r!==i)}}function Uf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function c_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cT(t){var e=t.alternate;e!==null&&(t.alternate=null,cT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wi],delete e[Nu],delete e[Xg],delete e[QR],delete e[JR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hT(t){return t.tag===5||t.tag===3||t.tag===4}function Nb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function h_(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Id));else if(i!==4&&(t=t.child,t!==null))for(h_(t,e,n),t=t.sibling;t!==null;)h_(t,e,n),t=t.sibling}function d_(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(d_(t,e,n),t=t.sibling;t!==null;)d_(t,e,n),t=t.sibling}var tn=null,yi=!1;function Vr(t,e,n){for(n=n.child;n!==null;)dT(t,e,n),n=n.sibling}function dT(t,e,n){if(Ui&&typeof Ui.onCommitFiberUnmount=="function")try{Ui.onCommitFiberUnmount(Ff,n)}catch{}switch(n.tag){case 5:dn||fa(n,e);case 6:var i=tn,r=yi;tn=null,Vr(t,e,n),tn=i,yi=r,tn!==null&&(yi?(t=tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tn.removeChild(n.stateNode));break;case 18:tn!==null&&(yi?(t=tn,n=n.stateNode,t.nodeType===8?Pm(t.parentNode,n):t.nodeType===1&&Pm(t,n),Lu(t)):Pm(tn,n.stateNode));break;case 4:i=tn,r=yi,tn=n.stateNode.containerInfo,yi=!0,Vr(t,e,n),tn=i,yi=r;break;case 0:case 11:case 14:case 15:if(!dn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&u_(n,e,o),r=r.next}while(r!==i)}Vr(t,e,n);break;case 1:if(!dn&&(fa(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){Tt(n,e,l)}Vr(t,e,n);break;case 21:Vr(t,e,n);break;case 22:n.mode&1?(dn=(i=dn)||n.memoizedState!==null,Vr(t,e,n),dn=i):Vr(t,e,n);break;default:Vr(t,e,n)}}function Ab(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new mD),e.forEach(function(i){var r=ED.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function _i(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:tn=l.stateNode,yi=!1;break e;case 3:tn=l.stateNode.containerInfo,yi=!0;break e;case 4:tn=l.stateNode.containerInfo,yi=!0;break e}l=l.return}if(tn===null)throw Error(K(160));dT(s,o,r),tn=null,yi=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(h){Tt(r,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fT(e,t),e=e.sibling}function fT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_i(e,t),Ai(t),i&4){try{hu(3,t,t.return),Uf(3,t)}catch(y){Tt(t,t.return,y)}try{hu(5,t,t.return)}catch(y){Tt(t,t.return,y)}}break;case 1:_i(e,t),Ai(t),i&512&&n!==null&&fa(n,n.return);break;case 5:if(_i(e,t),Ai(t),i&512&&n!==null&&fa(n,n.return),t.flags&32){var r=t.stateNode;try{Tu(r,"")}catch(y){Tt(t,t.return,y)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&NC(r,s),Ag(l,o);var h=Ag(l,s);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?jC(r,p):d==="dangerouslySetInnerHTML"?zC(r,p):d==="children"?Tu(r,p):Tv(r,d,p,h)}switch(l){case"input":Ig(r,s);break;case"textarea":AC(r,s);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?ga(r,!!s.multiple,_,!1):m!==!!s.multiple&&(s.defaultValue!=null?ga(r,!!s.multiple,s.defaultValue,!0):ga(r,!!s.multiple,s.multiple?[]:"",!1))}r[Nu]=s}catch(y){Tt(t,t.return,y)}}break;case 6:if(_i(e,t),Ai(t),i&4){if(t.stateNode===null)throw Error(K(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(y){Tt(t,t.return,y)}}break;case 3:if(_i(e,t),Ai(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Lu(e.containerInfo)}catch(y){Tt(t,t.return,y)}break;case 4:_i(e,t),Ai(t);break;case 13:_i(e,t),Ai(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(sy=Ot())),i&4&&Ab(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(dn=(h=dn)||d,_i(e,t),dn=h):_i(e,t),Ai(t),i&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(pe=t,d=t.child;d!==null;){for(p=pe=d;pe!==null;){switch(m=pe,_=m.child,m.tag){case 0:case 11:case 14:case 15:hu(4,m,m.return);break;case 1:fa(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){i=m,n=m.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Tt(i,n,y)}}break;case 5:fa(m,m.return);break;case 22:if(m.memoizedState!==null){zb(p);continue}}_!==null?(_.return=m,pe=_):zb(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{r=p.stateNode,h?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=BC("display",o))}catch(y){Tt(t,t.return,y)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(y){Tt(t,t.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:_i(e,t),Ai(t),i&4&&Ab(t);break;case 21:break;default:_i(e,t),Ai(t)}}function Ai(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hT(n)){var i=n;break e}n=n.return}throw Error(K(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Tu(r,""),i.flags&=-33);var s=Nb(t);d_(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,l=Nb(t);h_(t,l,o);break;default:throw Error(K(161))}}catch(u){Tt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _D(t,e,n){pe=t,pT(t)}function pT(t,e,n){for(var i=(t.mode&1)!==0;pe!==null;){var r=pe,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||yh;if(!o){var l=r.alternate,u=l!==null&&l.memoizedState!==null||dn;l=yh;var h=dn;if(yh=o,(dn=u)&&!h)for(pe=r;pe!==null;)o=pe,u=o.child,o.tag===22&&o.memoizedState!==null?Bb(r):u!==null?(u.return=o,pe=u):Bb(r);for(;s!==null;)pe=s,pT(s),s=s.sibling;pe=r,yh=l,dn=h}Fb(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,pe=s):Fb(t)}}function Fb(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dn||Uf(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!dn)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:vi(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&bb(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}bb(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Lu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}dn||e.flags&512&&c_(e)}catch(m){Tt(e,e.return,m)}}if(e===t){pe=null;break}if(n=e.sibling,n!==null){n.return=e.return,pe=n;break}pe=e.return}}function zb(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pe=n;break}pe=e.return}}function Bb(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Uf(4,e)}catch(u){Tt(e,n,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(u){Tt(e,r,u)}}var s=e.return;try{c_(e)}catch(u){Tt(e,s,u)}break;case 5:var o=e.return;try{c_(e)}catch(u){Tt(e,o,u)}}}catch(u){Tt(e,e.return,u)}if(e===t){pe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,pe=l;break}pe=e.return}}var vD=Math.ceil,Hd=Lr.ReactCurrentDispatcher,iy=Lr.ReactCurrentOwner,ui=Lr.ReactCurrentBatchConfig,$e=0,Qt=null,Bt=null,sn=0,$n=0,pa=Es(0),Wt=0,Vu=null,po=0,Zf=0,ry=0,du=null,Rn=null,sy=0,Na=1/0,ar=null,$d=!1,f_=null,us=null,xh=!1,Xr=null,Wd=0,fu=0,p_=null,rd=-1,sd=0;function Cn(){return $e&6?Ot():rd!==-1?rd:rd=Ot()}function cs(t){return t.mode&1?$e&2&&sn!==0?sn&-sn:tD.transition!==null?(sd===0&&(sd=QC()),sd):(t=Xe,t!==0||(t=window.event,t=t===void 0?16:sE(t.type)),t):1}function Pi(t,e,n,i){if(50<fu)throw fu=0,p_=null,Error(K(185));_c(t,n,i),(!($e&2)||t!==Qt)&&(t===Qt&&(!($e&2)&&(Zf|=n),Wt===4&&Gr(t,sn)),Bn(t,i),n===1&&$e===0&&!(e.mode&1)&&(Na=Ot()+500,Hf&&Ts()))}function Bn(t,e){var n=t.callbackNode;tR(t,e);var i=Pd(t,t===Qt?sn:0);if(i===0)n!==null&&Gx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Gx(n),e===1)t.tag===0?eD(jb.bind(null,t)):CE(jb.bind(null,t)),XR(function(){!($e&6)&&Ts()}),n=null;else{switch(JC(i)){case 1:n=Iv;break;case 4:n=XC;break;case 16:n=Td;break;case 536870912:n=qC;break;default:n=Td}n=wT(n,mT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mT(t,e){if(rd=-1,sd=0,$e&6)throw Error(K(327));var n=t.callbackNode;if(ba()&&t.callbackNode!==n)return null;var i=Pd(t,t===Qt?sn:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Ud(t,i);else{e=i;var r=$e;$e|=2;var s=_T();(Qt!==t||sn!==e)&&(ar=null,Na=Ot()+500,so(t,e));do try{bD();break}catch(l){gT(t,l)}while(!0);Wv(),Hd.current=s,$e=r,Bt!==null?e=0:(Qt=null,sn=0,e=Wt)}if(e!==0){if(e===2&&(r=Vg(t),r!==0&&(i=r,e=m_(t,r))),e===1)throw n=Vu,so(t,0),Gr(t,i),Bn(t,Ot()),n;if(e===6)Gr(t,i);else{if(r=t.current.alternate,!(i&30)&&!yD(r)&&(e=Ud(t,i),e===2&&(s=Vg(t),s!==0&&(i=s,e=m_(t,s))),e===1))throw n=Vu,so(t,0),Gr(t,i),Bn(t,Ot()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(K(345));case 2:Ws(t,Rn,ar);break;case 3:if(Gr(t,i),(i&130023424)===i&&(e=sy+500-Ot(),10<e)){if(Pd(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Cn(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Kg(Ws.bind(null,t,Rn,ar),e);break}Ws(t,Rn,ar);break;case 4:if(Gr(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Ti(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Ot()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*vD(i/1960))-i,10<i){t.timeoutHandle=Kg(Ws.bind(null,t,Rn,ar),i);break}Ws(t,Rn,ar);break;case 5:Ws(t,Rn,ar);break;default:throw Error(K(329))}}}return Bn(t,Ot()),t.callbackNode===n?mT.bind(null,t):null}function m_(t,e){var n=du;return t.current.memoizedState.isDehydrated&&(so(t,e).flags|=256),t=Ud(t,e),t!==2&&(e=Rn,Rn=n,e!==null&&g_(e)),t}function g_(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function yD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Li(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gr(t,e){for(e&=~ry,e&=~Zf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ti(e),i=1<<n;t[n]=-1,e&=~i}}function jb(t){if($e&6)throw Error(K(327));ba();var e=Pd(t,0);if(!(e&1))return Bn(t,Ot()),null;var n=Ud(t,e);if(t.tag!==0&&n===2){var i=Vg(t);i!==0&&(e=i,n=m_(t,i))}if(n===1)throw n=Vu,so(t,0),Gr(t,e),Bn(t,Ot()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ws(t,Rn,ar),Bn(t,Ot()),null}function oy(t,e){var n=$e;$e|=1;try{return t(e)}finally{$e=n,$e===0&&(Na=Ot()+500,Hf&&Ts())}}function mo(t){Xr!==null&&Xr.tag===0&&!($e&6)&&ba();var e=$e;$e|=1;var n=ui.transition,i=Xe;try{if(ui.transition=null,Xe=1,t)return t()}finally{Xe=i,ui.transition=n,$e=e,!($e&6)&&Ts()}}function ay(){$n=pa.current,pt(pa)}function so(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,KR(n)),Bt!==null)for(n=Bt.return;n!==null;){var i=n;switch(Vv(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Od();break;case 3:Ra(),pt(Fn),pt(pn),Xv();break;case 5:Kv(i);break;case 4:Ra();break;case 13:pt(wt);break;case 19:pt(wt);break;case 10:Uv(i.type._context);break;case 22:case 23:ay()}n=n.return}if(Qt=t,Bt=t=hs(t.current,null),sn=$n=e,Wt=0,Vu=null,ry=Zf=po=0,Rn=du=null,Js!==null){for(e=0;e<Js.length;e++)if(n=Js[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Js=null}return t}function gT(t,e){do{var n=Bt;try{if(Wv(),td.current=Vd,jd){for(var i=St.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}jd=!1}if(fo=0,Kt=Vt=St=null,cu=!1,zu=0,iy.current=null,n===null||n.return===null){Wt=1,Vu=e,Bt=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=sn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=Pb(o);if(_!==null){_.flags&=-257,kb(_,o,l,s,e),_.mode&1&&Tb(s,h,e),e=_,u=h;var v=e.updateQueue;if(v===null){var y=new Set;y.add(u),e.updateQueue=y}else v.add(u);break e}else{if(!(e&1)){Tb(s,h,e),ly();break e}u=Error(K(426))}}else if(yt&&l.mode&1){var S=Pb(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),kb(S,o,l,s,e),Hv(Da(u,l));break e}}s=u=Da(u,l),Wt!==4&&(Wt=2),du===null?du=[s]:du.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=JE(s,u,e);xb(s,x);break e;case 1:l=u;var w=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(us===null||!us.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=eT(s,l,e);xb(s,k);break e}}s=s.return}while(s!==null)}yT(n)}catch(M){e=M,Bt===n&&n!==null&&(Bt=n=n.return);continue}break}while(!0)}function _T(){var t=Hd.current;return Hd.current=Vd,t===null?Vd:t}function ly(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),Qt===null||!(po&268435455)&&!(Zf&268435455)||Gr(Qt,sn)}function Ud(t,e){var n=$e;$e|=2;var i=_T();(Qt!==t||sn!==e)&&(ar=null,so(t,e));do try{xD();break}catch(r){gT(t,r)}while(!0);if(Wv(),$e=n,Hd.current=i,Bt!==null)throw Error(K(261));return Qt=null,sn=0,Wt}function xD(){for(;Bt!==null;)vT(Bt)}function bD(){for(;Bt!==null&&!ZO();)vT(Bt)}function vT(t){var e=bT(t.alternate,t,$n);t.memoizedProps=t.pendingProps,e===null?yT(t):Bt=e,iy.current=null}function yT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=pD(n,e),n!==null){n.flags&=32767,Bt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Wt=6,Bt=null;return}}else if(n=fD(n,e,$n),n!==null){Bt=n;return}if(e=e.sibling,e!==null){Bt=e;return}Bt=e=t}while(e!==null);Wt===0&&(Wt=5)}function Ws(t,e,n){var i=Xe,r=ui.transition;try{ui.transition=null,Xe=1,wD(t,e,n,i)}finally{ui.transition=r,Xe=i}return null}function wD(t,e,n,i){do ba();while(Xr!==null);if($e&6)throw Error(K(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(nR(t,s),t===Qt&&(Bt=Qt=null,sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xh||(xh=!0,wT(Td,function(){return ba(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ui.transition,ui.transition=null;var o=Xe;Xe=1;var l=$e;$e|=4,iy.current=null,gD(t,n),fT(n,t),HR(Yg),kd=!!Zg,Yg=Zg=null,t.current=n,_D(n),YO(),$e=l,Xe=o,ui.transition=s}else t.current=n;if(xh&&(xh=!1,Xr=t,Wd=r),s=t.pendingLanes,s===0&&(us=null),XO(n.stateNode),Bn(t,Ot()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if($d)throw $d=!1,t=f_,f_=null,t;return Wd&1&&t.tag!==0&&ba(),s=t.pendingLanes,s&1?t===p_?fu++:(fu=0,p_=t):fu=0,Ts(),null}function ba(){if(Xr!==null){var t=JC(Wd),e=ui.transition,n=Xe;try{if(ui.transition=null,Xe=16>t?16:t,Xr===null)var i=!1;else{if(t=Xr,Xr=null,Wd=0,$e&6)throw Error(K(331));var r=$e;for($e|=4,pe=t.current;pe!==null;){var s=pe,o=s.child;if(pe.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(pe=h;pe!==null;){var d=pe;switch(d.tag){case 0:case 11:case 15:hu(8,d,s)}var p=d.child;if(p!==null)p.return=d,pe=p;else for(;pe!==null;){d=pe;var m=d.sibling,_=d.return;if(cT(d),d===h){pe=null;break}if(m!==null){m.return=_,pe=m;break}pe=_}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}pe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,pe=o;else e:for(;pe!==null;){if(s=pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hu(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,pe=x;break e}pe=s.return}}var w=t.current;for(pe=w;pe!==null;){o=pe;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,pe=C;else e:for(o=w;pe!==null;){if(l=pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Uf(9,l)}}catch(M){Tt(l,l.return,M)}if(l===o){pe=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,pe=k;break e}pe=l.return}}if($e=r,Ts(),Ui&&typeof Ui.onPostCommitFiberRoot=="function")try{Ui.onPostCommitFiberRoot(Ff,t)}catch{}i=!0}return i}finally{Xe=n,ui.transition=e}}return!1}function Vb(t,e,n){e=Da(n,e),e=JE(t,e,1),t=ls(t,e,1),e=Cn(),t!==null&&(_c(t,1,e),Bn(t,e))}function Tt(t,e,n){if(t.tag===3)Vb(t,t,n);else for(;e!==null;){if(e.tag===3){Vb(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(us===null||!us.has(i))){t=Da(n,t),t=eT(e,t,1),e=ls(e,t,1),t=Cn(),e!==null&&(_c(e,1,t),Bn(e,t));break}}e=e.return}}function SD(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Cn(),t.pingedLanes|=t.suspendedLanes&n,Qt===t&&(sn&n)===n&&(Wt===4||Wt===3&&(sn&130023424)===sn&&500>Ot()-sy?so(t,0):ry|=n),Bn(t,e)}function xT(t,e){e===0&&(t.mode&1?(e=ch,ch<<=1,!(ch&130023424)&&(ch=4194304)):e=1);var n=Cn();t=Cr(t,e),t!==null&&(_c(t,e,n),Bn(t,n))}function CD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xT(t,n)}function ED(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(K(314))}i!==null&&i.delete(e),xT(t,n)}var bT;bT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fn.current)Nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nn=!1,dD(t,e,n);Nn=!!(t.flags&131072)}else Nn=!1,yt&&e.flags&1048576&&EE(e,Nd,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;id(t,e),t=e.pendingProps;var r=La(e,pn.current);xa(e,n),r=Qv(null,e,i,t,r,n);var s=Jv();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zn(i)?(s=!0,Rd(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Yv(e),r.updater=Wf,e.stateNode=r,r._reactInternals=e,n_(e,i,t,n),e=s_(null,e,i,!0,s,n)):(e.tag=0,yt&&s&&jv(e),xn(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(id(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=PD(i),t=vi(i,t),r){case 0:e=r_(null,e,i,t,n);break e;case 1:e=Ib(null,e,i,t,n);break e;case 11:e=Mb(null,e,i,t,n);break e;case 14:e=Lb(null,e,i,vi(i.type,t),n);break e}throw Error(K(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:vi(i,r),r_(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:vi(i,r),Ib(t,e,i,r,n);case 3:e:{if(rT(e),t===null)throw Error(K(387));i=e.pendingProps,s=e.memoizedState,r=s.element,IE(t,e),zd(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Da(Error(K(423)),e),e=Ob(t,e,i,n,r);break e}else if(i!==r){r=Da(Error(K(424)),e),e=Ob(t,e,i,n,r);break e}else for(Zn=as(e.stateNode.containerInfo.firstChild),Gn=e,yt=!0,bi=null,n=ME(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ia(),i===r){e=Er(t,e,n);break e}xn(t,e,i,n)}e=e.child}return e;case 5:return OE(e),t===null&&Jg(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Gg(i,r)?o=null:s!==null&&Gg(i,s)&&(e.flags|=32),iT(t,e),xn(t,e,o,n),e.child;case 6:return t===null&&Jg(e),null;case 13:return sT(t,e,n);case 4:return Gv(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Oa(e,null,i,n):xn(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:vi(i,r),Mb(t,e,i,r,n);case 7:return xn(t,e,e.pendingProps,n),e.child;case 8:return xn(t,e,e.pendingProps.children,n),e.child;case 12:return xn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,ht(Ad,i._currentValue),i._currentValue=o,s!==null)if(Li(s.value,o)){if(s.children===r.children&&!Fn.current){e=Er(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===i){if(s.tag===1){u=_r(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?u.next=u:(u.next=d.next,d.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),e_(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),e_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xn(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,xa(e,n),r=ci(r),i=i(r),e.flags|=1,xn(t,e,i,n),e.child;case 14:return i=e.type,r=vi(i,e.pendingProps),r=vi(i.type,r),Lb(t,e,i,r,n);case 15:return tT(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:vi(i,r),id(t,e),e.tag=1,zn(i)?(t=!0,Rd(e)):t=!1,xa(e,n),QE(e,i,r),n_(e,i,r,n),s_(null,e,i,!0,t,n);case 19:return oT(t,e,n);case 22:return nT(t,e,n)}throw Error(K(156,e.tag))};function wT(t,e){return KC(t,e)}function TD(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(t,e,n,i){return new TD(t,e,n,i)}function uy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PD(t){if(typeof t=="function")return uy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kv)return 11;if(t===Mv)return 14}return 2}function hs(t,e){var n=t.alternate;return n===null?(n=ai(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function od(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")uy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ra:return oo(n.children,r,s,e);case Pv:o=8,r|=8;break;case Tg:return t=ai(12,n,e,r|2),t.elementType=Tg,t.lanes=s,t;case Pg:return t=ai(13,n,e,r),t.elementType=Pg,t.lanes=s,t;case kg:return t=ai(19,n,e,r),t.elementType=kg,t.lanes=s,t;case OC:return Yf(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case LC:o=10;break e;case IC:o=9;break e;case kv:o=11;break e;case Mv:o=14;break e;case Wr:o=16,i=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=ai(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function oo(t,e,n,i){return t=ai(7,t,i,e),t.lanes=n,t}function Yf(t,e,n,i){return t=ai(22,t,i,e),t.elementType=OC,t.lanes=n,t.stateNode={isHidden:!1},t}function Nm(t,e,n){return t=ai(6,t,null,e),t.lanes=n,t}function Am(t,e,n){return e=ai(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function kD(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gm(0),this.expirationTimes=gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gm(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function cy(t,e,n,i,r,s,o,l,u){return t=new kD(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ai(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yv(s),t}function MD(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ia,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function ST(t){if(!t)return vs;t=t._reactInternals;e:{if(Co(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(zn(n))return SE(t,n,e)}return e}function CT(t,e,n,i,r,s,o,l,u){return t=cy(n,i,!0,t,r,s,o,l,u),t.context=ST(null),n=t.current,i=Cn(),r=cs(n),s=_r(i,r),s.callback=e??null,ls(n,s,r),t.current.lanes=r,_c(t,r,i),Bn(t,i),t}function Gf(t,e,n,i){var r=e.current,s=Cn(),o=cs(r);return n=ST(n),e.context===null?e.context=n:e.pendingContext=n,e=_r(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=ls(r,e,o),t!==null&&(Pi(t,r,o,s),ed(t,r,o)),o}function Zd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Hb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hy(t,e){Hb(t,e),(t=t.alternate)&&Hb(t,e)}function LD(){return null}var ET=typeof reportError=="function"?reportError:function(t){console.error(t)};function dy(t){this._internalRoot=t}Kf.prototype.render=dy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Gf(t,e,null,null)};Kf.prototype.unmount=dy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mo(function(){Gf(null,t,null,null)}),e[Sr]=null}};function Kf(t){this._internalRoot=t}Kf.prototype.unstable_scheduleHydration=function(t){if(t){var e=nE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yr.length&&e!==0&&e<Yr[n].priority;n++);Yr.splice(n,0,t),n===0&&rE(t)}};function fy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $b(){}function ID(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var h=Zd(o);s.call(h)}}var o=CT(e,i,t,0,null,!1,!1,"",$b);return t._reactRootContainer=o,t[Sr]=o.current,Ru(t.nodeType===8?t.parentNode:t),mo(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var l=i;i=function(){var h=Zd(u);l.call(h)}}var u=cy(t,0,!1,null,null,!1,!1,"",$b);return t._reactRootContainer=u,t[Sr]=u.current,Ru(t.nodeType===8?t.parentNode:t),mo(function(){Gf(e,u,n,i)}),u}function qf(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var l=r;r=function(){var u=Zd(o);l.call(u)}}Gf(e,o,t,r)}else o=ID(n,e,t,r,i);return Zd(o)}eE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Yl(e.pendingLanes);n!==0&&(Ov(e,n|1),Bn(e,Ot()),!($e&6)&&(Na=Ot()+500,Ts()))}break;case 13:mo(function(){var i=Cr(t,1);if(i!==null){var r=Cn();Pi(i,t,1,r)}}),hy(t,1)}};Rv=function(t){if(t.tag===13){var e=Cr(t,134217728);if(e!==null){var n=Cn();Pi(e,t,134217728,n)}hy(t,134217728)}};tE=function(t){if(t.tag===13){var e=cs(t),n=Cr(t,e);if(n!==null){var i=Cn();Pi(n,t,e,i)}hy(t,e)}};nE=function(){return Xe};iE=function(t,e){var n=Xe;try{return Xe=t,e()}finally{Xe=n}};zg=function(t,e,n){switch(e){case"input":if(Ig(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Vf(i);if(!r)throw Error(K(90));DC(i),Ig(i,r)}}}break;case"textarea":AC(t,n);break;case"select":e=n.value,e!=null&&ga(t,!!n.multiple,e,!1)}};$C=oy;WC=mo;var OD={usingClientEntryPoint:!1,Events:[yc,la,Vf,VC,HC,oy]},kl={findFiberByHostInstance:Qs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RD={bundleType:kl.bundleType,version:kl.version,rendererPackageName:kl.rendererPackageName,rendererConfig:kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YC(t),t===null?null:t.stateNode},findFiberByHostInstance:kl.findFiberByHostInstance||LD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{Ff=bh.inject(RD),Ui=bh}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OD;qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fy(e))throw Error(K(200));return MD(t,e,null,n)};qn.createRoot=function(t,e){if(!fy(t))throw Error(K(299));var n=!1,i="",r=ET;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=cy(t,1,!1,null,null,n,!1,i,r),t[Sr]=e.current,Ru(t.nodeType===8?t.parentNode:t),new dy(e)};qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=YC(e),t=t===null?null:t.stateNode,t};qn.flushSync=function(t){return mo(t)};qn.hydrate=function(t,e,n){if(!Xf(e))throw Error(K(200));return qf(null,t,e,!0,n)};qn.hydrateRoot=function(t,e,n){if(!fy(t))throw Error(K(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=ET;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CT(e,null,t,1,n??null,r,!1,s,o),t[Sr]=e.current,Ru(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Kf(e)};qn.render=function(t,e,n){if(!Xf(e))throw Error(K(200));return qf(null,t,e,!1,n)};qn.unmountComponentAtNode=function(t){if(!Xf(t))throw Error(K(40));return t._reactRootContainer?(mo(function(){qf(null,null,t,!1,function(){t._reactRootContainer=null,t[Sr]=null})}),!0):!1};qn.unstable_batchedUpdates=oy;qn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Xf(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return qf(t,e,n,!1,i)};qn.version="18.3.1-next-f1338f8080-20240426";function TT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TT)}catch(t){console.error(t)}}TT(),TC.exports=qn;var bc=TC.exports;const to=mc(bc),DD=pC({__proto__:null,default:to},[bc]);var PT,Wb=bc;PT=Wb.createRoot,Wb.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vt(){return vt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},vt.apply(this,arguments)}var Ft;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ft||(Ft={}));const Ub="popstate";function ND(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:l}=i.location;return Hu("",{pathname:s,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:go(r)}return FD(e,n,null,t)}function Re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Aa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AD(){return Math.random().toString(36).substr(2,8)}function Zb(t,e){return{usr:t.state,key:t.key,idx:e}}function Hu(t,e,n,i){return n===void 0&&(n=null),vt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ps(e):e,{state:n,key:e&&e.key||i||AD()})}function go(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ps(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function FD(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,l=Ft.Pop,u=null,h=d();h==null&&(h=0,o.replaceState(vt({},o.state,{idx:h}),""));function d(){return(o.state||{idx:null}).idx}function p(){l=Ft.Pop;let S=d(),x=S==null?null:S-h;h=S,u&&u({action:l,location:y.location,delta:x})}function m(S,x){l=Ft.Push;let w=Hu(y.location,S,x);h=d()+1;let C=Zb(w,h),k=y.createHref(w);try{o.pushState(C,"",k)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;r.location.assign(k)}s&&u&&u({action:l,location:y.location,delta:1})}function _(S,x){l=Ft.Replace;let w=Hu(y.location,S,x);h=d();let C=Zb(w,h),k=y.createHref(w);o.replaceState(C,"",k),s&&u&&u({action:l,location:y.location,delta:0})}function v(S){let x=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof S=="string"?S:go(S);return w=w.replace(/ $/,"%20"),Re(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let y={get action(){return l},get location(){return t(r,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(Ub,p),u=S,()=>{r.removeEventListener(Ub,p),u=null}},createHref(S){return e(r,S)},createURL:v,encodeLocation(S){let x=v(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:_,go(S){return o.go(S)}};return y}var et;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(et||(et={}));const zD=new Set(["lazy","caseSensitive","path","id","index","children"]);function BD(t){return t.index===!0}function Yd(t,e,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),t.map((r,s)=>{let o=[...n,String(s)],l=typeof r.id=="string"?r.id:o.join("-");if(Re(r.index!==!0||!r.children,"Cannot specify children on an index route"),Re(!i[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),BD(r)){let u=vt({},r,e(r),{id:l});return i[l]=u,u}else{let u=vt({},r,e(r),{id:l,children:void 0});return i[l]=u,r.children&&(u.children=Yd(r.children,e,o,i)),u}})}function Xs(t,e,n){return n===void 0&&(n="/"),ad(t,e,n,!1)}function ad(t,e,n,i){let r=typeof e=="string"?Ps(e):e,s=Tr(r.pathname||"/",n);if(s==null)return null;let o=kT(t);VD(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let h=QD(s);l=XD(o[u],h,i)}return l}function jD(t,e){let{route:n,pathname:i,params:r}=t;return{id:n.id,pathname:i,params:r,data:e[n.id],handle:n.handle}}function kT(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Re(u.relativePath.startsWith(i),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(i.length));let h=vr([i,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(Re(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),kT(s.children,e,d,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:GD(h,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))r(s,o);else for(let u of MT(s.path))r(s,o,u)}),e}function MT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=MT(i.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function VD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KD(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const HD=/^:[\w-]+$/,$D=3,WD=2,UD=1,ZD=10,YD=-2,Yb=t=>t==="*";function GD(t,e){let n=t.split("/"),i=n.length;return n.some(Yb)&&(i+=YD),e&&(i+=WD),n.filter(r=>!Yb(r)).reduce((r,s)=>r+(HD.test(s)?$D:s===""?UD:ZD),i)}function KD(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function XD(t,e,n){n===void 0&&(n=!1);let{routesMeta:i}=t,r={},s="/",o=[];for(let l=0;l<i.length;++l){let u=i[l],h=l===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=Gd({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d),m=u.route;if(!p&&h&&n&&!i[i.length-1].route.index&&(p=Gd({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:vr([s,p.pathname]),pathnameBase:tN(vr([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=vr([s,p.pathnameBase]))}return o}function Gd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=qD(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((h,d,p)=>{let{paramName:m,isOptional:_}=d;if(m==="*"){let y=l[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[p];return _&&!v?h[m]=void 0:h[m]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:t}}function qD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Aa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function QD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Aa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Tr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function JD(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Ps(t):t;return{pathname:n?n.startsWith("/")?n:eN(n,e):e,search:nN(i),hash:iN(r)}}function eN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Fm(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function py(t,e){let n=LT(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function my(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Ps(t):(r=vt({},t),Re(!r.pathname||!r.pathname.includes("?"),Fm("?","pathname","search",r)),Re(!r.pathname||!r.pathname.includes("#"),Fm("#","pathname","hash",r)),Re(!r.search||!r.search.includes("#"),Fm("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!i&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;r.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=JD(r,l),h=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}const vr=t=>t.join("/").replace(/\/\/+/g,"/"),tN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Kd{constructor(e,n,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=n||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function Qf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const IT=["post","put","patch","delete"],rN=new Set(IT),sN=["get",...IT],oN=new Set(sN),aN=new Set([301,302,303,307,308]),lN=new Set([307,308]),zm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},uN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ml={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},gy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cN=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),OT="remix-router-transitions";function hN(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!n;Re(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r;if(t.mapRouteProperties)r=t.mapRouteProperties;else if(t.detectErrorBoundary){let N=t.detectErrorBoundary;r=F=>({hasErrorBoundary:N(F)})}else r=cN;let s={},o=Yd(t.routes,r,void 0,s),l,u=t.basename||"/",h=t.dataStrategy||mN,d=t.patchRoutesOnNavigation,p=vt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),m=null,_=new Set,v=null,y=null,S=null,x=t.hydrationData!=null,w=Xs(o,t.history.location,u),C=null;if(w==null&&!d){let N=On(404,{pathname:t.history.location.pathname}),{matches:F,route:H}=rw(o);w=F,C={[H.id]:N}}w&&!t.hydrationData&&Ao(w,o,t.history.location.pathname).active&&(w=null);let k;if(w)if(w.some(N=>N.route.lazy))k=!1;else if(!w.some(N=>N.route.loader))k=!0;else if(p.v7_partialHydration){let N=t.hydrationData?t.hydrationData.loaderData:null,F=t.hydrationData?t.hydrationData.errors:null;if(F){let H=w.findIndex(G=>F[G.route.id]!==void 0);k=w.slice(0,H+1).every(G=>!v_(G.route,N,F))}else k=w.every(H=>!v_(H.route,N,F))}else k=t.hydrationData!=null;else if(k=!1,w=[],p.v7_partialHydration){let N=Ao(null,o,t.history.location.pathname);N.active&&N.matches&&(w=N.matches)}let M,T={historyAction:t.history.action,location:t.history.location,matches:w,initialized:k,navigation:zm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||C,fetchers:new Map,blockers:new Map},O=Ft.Pop,I=!1,A,j=!1,W=new Map,Z=null,de=!1,le=!1,ue=[],ee=new Set,re=new Map,z=0,X=-1,$=new Map,te=new Set,Q=new Map,ae=new Map,q=new Set,se=new Map,ne=new Map,ke;function it(){if(m=t.history.listen(N=>{let{action:F,location:H,delta:G}=N;if(ke){ke(),ke=void 0;return}Aa(ne.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let oe=Bc({currentLocation:T.location,nextLocation:H,historyAction:F});if(oe&&G!=null){let U=new Promise(we=>{ke=we});t.history.go(G*-1),Ro(oe,{state:"blocked",location:H,proceed(){Ro(oe,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),U.then(()=>t.history.go(G))},reset(){let we=new Map(T.blockers);we.set(oe,Ml),nt({blockers:we})}});return}return Ae(F,H)}),n){MN(e,W);let N=()=>LN(e,W);e.addEventListener("pagehide",N),Z=()=>e.removeEventListener("pagehide",N)}return T.initialized||Ae(Ft.Pop,T.location,{initialHydration:!0}),M}function gn(){m&&m(),Z&&Z(),_.clear(),A&&A.abort(),T.fetchers.forEach((N,F)=>Os(F)),T.blockers.forEach((N,F)=>Nr(F))}function kn(N){return _.add(N),()=>_.delete(N)}function nt(N,F){F===void 0&&(F={}),T=vt({},T,N);let H=[],G=[];p.v7_fetcherPersist&&T.fetchers.forEach((oe,U)=>{oe.state==="idle"&&(q.has(U)?G.push(U):H.push(U))}),[..._].forEach(oe=>oe(T,{deletedFetchers:G,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),p.v7_fetcherPersist&&(H.forEach(oe=>T.fetchers.delete(oe)),G.forEach(oe=>Os(oe)))}function Et(N,F,H){var G,oe;let{flushSync:U}=H===void 0?{}:H,we=T.actionData!=null&&T.navigation.formMethod!=null&&xi(T.navigation.formMethod)&&T.navigation.state==="loading"&&((G=N.state)==null?void 0:G._isRedirect)!==!0,fe;F.actionData?Object.keys(F.actionData).length>0?fe=F.actionData:fe=null:we?fe=T.actionData:fe=null;let me=F.loaderData?nw(T.loaderData,F.loaderData,F.matches||[],F.errors):T.loaderData,he=T.blockers;he.size>0&&(he=new Map(he),he.forEach((Ee,Dt)=>he.set(Dt,Ml)));let ge=I===!0||T.navigation.formMethod!=null&&xi(T.navigation.formMethod)&&((oe=N.state)==null?void 0:oe._isRedirect)!==!0;l&&(o=l,l=void 0),de||O===Ft.Pop||(O===Ft.Push?t.history.push(N,N.state):O===Ft.Replace&&t.history.replace(N,N.state));let Me;if(O===Ft.Pop){let Ee=W.get(T.location.pathname);Ee&&Ee.has(N.pathname)?Me={currentLocation:T.location,nextLocation:N}:W.has(N.pathname)&&(Me={currentLocation:N,nextLocation:T.location})}else if(j){let Ee=W.get(T.location.pathname);Ee?Ee.add(N.pathname):(Ee=new Set([N.pathname]),W.set(T.location.pathname,Ee)),Me={currentLocation:T.location,nextLocation:N}}nt(vt({},F,{actionData:fe,loaderData:me,historyAction:O,location:N,initialized:!0,navigation:zm,revalidation:"idle",restoreScrollPosition:Hc(N,F.matches||T.matches),preventScrollReset:ge,blockers:he}),{viewTransitionOpts:Me,flushSync:U===!0}),O=Ft.Pop,I=!1,j=!1,de=!1,le=!1,ue=[]}async function Mn(N,F){if(typeof N=="number"){t.history.go(N);return}let H=__(T.location,T.matches,u,p.v7_prependBasename,N,p.v7_relativeSplatPath,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:G,submission:oe,error:U}=Gb(p.v7_normalizeFormMethod,!1,H,F),we=T.location,fe=Hu(T.location,G,F&&F.state);fe=vt({},fe,t.history.encodeLocation(fe));let me=F&&F.replace!=null?F.replace:void 0,he=Ft.Push;me===!0?he=Ft.Replace:me===!1||oe!=null&&xi(oe.formMethod)&&oe.formAction===T.location.pathname+T.location.search&&(he=Ft.Replace);let ge=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Me=(F&&F.flushSync)===!0,Ee=Bc({currentLocation:we,nextLocation:fe,historyAction:he});if(Ee){Ro(Ee,{state:"blocked",location:fe,proceed(){Ro(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),Mn(N,F)},reset(){let Dt=new Map(T.blockers);Dt.set(Ee,Ml),nt({blockers:Dt})}});return}return await Ae(he,fe,{submission:oe,pendingError:U,preventScrollReset:ge,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:Me})}function Vn(){if(Ie(),nt({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){Ae(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}Ae(O||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation,enableViewTransition:j===!0})}}async function Ae(N,F,H){A&&A.abort(),A=null,O=N,de=(H&&H.startUninterruptedRevalidation)===!0,Bp(T.location,T.matches),I=(H&&H.preventScrollReset)===!0,j=(H&&H.enableViewTransition)===!0;let G=l||o,oe=H&&H.overrideNavigation,U=Xs(G,F,u),we=(H&&H.flushSync)===!0,fe=Ao(U,G,F.pathname);if(fe.active&&fe.matches&&(U=fe.matches),!U){let{error:Qe,notFoundMatches:He,route:_t}=Do(F.pathname);Et(F,{matches:He,loaderData:{},errors:{[_t.id]:Qe}},{flushSync:we});return}if(T.initialized&&!le&&bN(T.location,F)&&!(H&&H.submission&&xi(H.submission.formMethod))){Et(F,{matches:U},{flushSync:we});return}A=new AbortController;let me=Xo(t.history,F,A.signal,H&&H.submission),he;if(H&&H.pendingError)he=[qs(U).route.id,{type:et.error,error:H.pendingError}];else if(H&&H.submission&&xi(H.submission.formMethod)){let Qe=await Xi(me,F,H.submission,U,fe.active,{replace:H.replace,flushSync:we});if(Qe.shortCircuited)return;if(Qe.pendingActionResult){let[He,_t]=Qe.pendingActionResult;if(Wn(_t)&&Qf(_t.error)&&_t.error.status===404){A=null,Et(F,{matches:Qe.matches,loaderData:{},errors:{[He]:_t.error}});return}}U=Qe.matches||U,he=Qe.pendingActionResult,oe=Bm(F,H.submission),we=!1,fe.active=!1,me=Xo(t.history,me.url,me.signal)}let{shortCircuited:ge,matches:Me,loaderData:Ee,errors:Dt}=await fi(me,F,U,fe.active,oe,H&&H.submission,H&&H.fetcherSubmission,H&&H.replace,H&&H.initialHydration===!0,we,he);ge||(A=null,Et(F,vt({matches:Me||U},iw(he),{loaderData:Ee,errors:Dt})))}async function Xi(N,F,H,G,oe,U){U===void 0&&(U={}),Ie();let we=PN(F,H);if(nt({navigation:we},{flushSync:U.flushSync===!0}),oe){let he=await Fo(G,F.pathname,N.signal);if(he.type==="aborted")return{shortCircuited:!0};if(he.type==="error"){let ge=qs(he.partialMatches).route.id;return{matches:he.partialMatches,pendingActionResult:[ge,{type:et.error,error:he.error}]}}else if(he.matches)G=he.matches;else{let{notFoundMatches:ge,error:Me,route:Ee}=Do(F.pathname);return{matches:ge,pendingActionResult:[Ee.id,{type:et.error,error:Me}]}}}let fe,me=Kl(G,F);if(!me.route.action&&!me.route.lazy)fe={type:et.error,error:On(405,{method:N.method,pathname:F.pathname,routeId:me.route.id})};else if(fe=(await Ii("action",T,N,[me],G,null))[me.route.id],N.signal.aborted)return{shortCircuited:!0};if(no(fe)){let he;return U&&U.replace!=null?he=U.replace:he=Jb(fe.response.headers.get("Location"),new URL(N.url),u)===T.location.pathname+T.location.search,await ei(N,fe,!0,{submission:H,replace:he}),{shortCircuited:!0}}if(qr(fe))throw On(400,{type:"defer-action"});if(Wn(fe)){let he=qs(G,me.route.id);return(U&&U.replace)!==!0&&(O=Ft.Push),{matches:G,pendingActionResult:[he.route.id,fe]}}return{matches:G,pendingActionResult:[me.route.id,fe]}}async function fi(N,F,H,G,oe,U,we,fe,me,he,ge){let Me=oe||Bm(F,U),Ee=U||we||ow(Me),Dt=!de&&(!p.v7_partialHydration||!me);if(G){if(Dt){let Je=qi(ge);nt(vt({navigation:Me},Je!==void 0?{actionData:Je}:{}),{flushSync:he})}let Be=await Fo(H,F.pathname,N.signal);if(Be.type==="aborted")return{shortCircuited:!0};if(Be.type==="error"){let Je=qs(Be.partialMatches).route.id;return{matches:Be.partialMatches,loaderData:{},errors:{[Je]:Be.error}}}else if(Be.matches)H=Be.matches;else{let{error:Je,notFoundMatches:Ji,route:zr}=Do(F.pathname);return{matches:Ji,loaderData:{},errors:{[zr.id]:Je}}}}let Qe=l||o,[He,_t]=Xb(t.history,T,H,Ee,F,p.v7_partialHydration&&me===!0,p.v7_skipActionErrorRevalidation,le,ue,ee,q,Q,te,Qe,u,ge);if(No(Be=>!(H&&H.some(Je=>Je.route.id===Be))||He&&He.some(Je=>Je.route.id===Be)),X=++z,He.length===0&&_t.length===0){let Be=Oo();return Et(F,vt({matches:H,loaderData:{},errors:ge&&Wn(ge[1])?{[ge[0]]:ge[1].error}:null},iw(ge),Be?{fetchers:new Map(T.fetchers)}:{}),{flushSync:he}),{shortCircuited:!0}}if(Dt){let Be={};if(!G){Be.navigation=Me;let Je=qi(ge);Je!==void 0&&(Be.actionData=Je)}_t.length>0&&(Be.fetchers=ol(_t)),nt(Be,{flushSync:he})}_t.forEach(Be=>{Oi(Be.key),Be.controller&&re.set(Be.key,Be.controller)});let Ar=()=>_t.forEach(Be=>Oi(Be.key));A&&A.signal.addEventListener("abort",Ar);let{loaderResults:Fr,fetcherResults:pi}=await Io(T,H,He,_t,N);if(N.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Ar),_t.forEach(Be=>re.delete(Be.key));let vn=wh(Fr);if(vn)return await ei(N,vn.result,!0,{replace:fe}),{shortCircuited:!0};if(vn=wh(pi),vn)return te.add(vn.key),await ei(N,vn.result,!0,{replace:fe}),{shortCircuited:!0};let{loaderData:cl,errors:Rs}=tw(T,H,Fr,ge,_t,pi,se);se.forEach((Be,Je)=>{Be.subscribe(Ji=>{(Ji||Be.done)&&se.delete(Je)})}),p.v7_partialHydration&&me&&T.errors&&(Rs=vt({},T.errors,Rs));let Qi=Oo(),zo=ll(X),Bo=Qi||zo||_t.length>0;return vt({matches:H,loaderData:cl,errors:Rs},Bo?{fetchers:new Map(T.fetchers)}:{})}function qi(N){if(N&&!Wn(N[1]))return{[N[0]]:N[1].data};if(T.actionData)return Object.keys(T.actionData).length===0?null:T.actionData}function ol(N){return N.forEach(F=>{let H=T.fetchers.get(F.key),G=Ll(void 0,H?H.data:void 0);T.fetchers.set(F.key,G)}),new Map(T.fetchers)}function Mo(N,F,H,G){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Oi(N);let oe=(G&&G.flushSync)===!0,U=l||o,we=__(T.location,T.matches,u,p.v7_prependBasename,H,p.v7_relativeSplatPath,F,G==null?void 0:G.relative),fe=Xs(U,we,u),me=Ao(fe,U,we);if(me.active&&me.matches&&(fe=me.matches),!fe){_n(N,F,On(404,{pathname:we}),{flushSync:oe});return}let{path:he,submission:ge,error:Me}=Gb(p.v7_normalizeFormMethod,!0,we,G);if(Me){_n(N,F,Me,{flushSync:oe});return}let Ee=Kl(fe,he),Dt=(G&&G.preventScrollReset)===!0;if(ge&&xi(ge.formMethod)){Is(N,F,he,Ee,fe,me.active,oe,Dt,ge);return}Q.set(N,{routeId:F,path:he}),Lo(N,F,he,Ee,fe,me.active,oe,Dt,ge)}async function Is(N,F,H,G,oe,U,we,fe,me){Ie(),Q.delete(N);function he(rt){if(!rt.route.action&&!rt.route.lazy){let Le=On(405,{method:me.formMethod,pathname:H,routeId:F});return _n(N,F,Le,{flushSync:we}),!0}return!1}if(!U&&he(G))return;let ge=T.fetchers.get(N);Zt(N,kN(me,ge),{flushSync:we});let Me=new AbortController,Ee=Xo(t.history,H,Me.signal,me);if(U){let rt=await Fo(oe,H,Ee.signal);if(rt.type==="aborted")return;if(rt.type==="error"){_n(N,F,rt.error,{flushSync:we});return}else if(rt.matches){if(oe=rt.matches,G=Kl(oe,H),he(G))return}else{_n(N,F,On(404,{pathname:H}),{flushSync:we});return}}re.set(N,Me);let Dt=z,He=(await Ii("action",T,Ee,[G],oe,N))[G.route.id];if(Ee.signal.aborted){re.get(N)===Me&&re.delete(N);return}if(p.v7_fetcherPersist&&q.has(N)){if(no(He)||Wn(He)){Zt(N,$r(void 0));return}}else{if(no(He))if(re.delete(N),X>Dt){Zt(N,$r(void 0));return}else return te.add(N),Zt(N,Ll(me)),ei(Ee,He,!1,{fetcherSubmission:me,preventScrollReset:fe});if(Wn(He)){_n(N,F,He.error);return}}if(qr(He))throw On(400,{type:"defer-action"});let _t=T.navigation.location||T.location,Ar=Xo(t.history,_t,Me.signal),Fr=l||o,pi=T.navigation.state!=="idle"?Xs(Fr,T.navigation.location,u):T.matches;Re(pi,"Didn't find any matches after fetcher action");let vn=++z;$.set(N,vn);let cl=Ll(me,He.data);T.fetchers.set(N,cl);let[Rs,Qi]=Xb(t.history,T,pi,me,_t,!1,p.v7_skipActionErrorRevalidation,le,ue,ee,q,Q,te,Fr,u,[G.route.id,He]);Qi.filter(rt=>rt.key!==N).forEach(rt=>{let Le=rt.key,st=T.fetchers.get(Le),jo=Ll(void 0,st?st.data:void 0);T.fetchers.set(Le,jo),Oi(Le),rt.controller&&re.set(Le,rt.controller)}),nt({fetchers:new Map(T.fetchers)});let zo=()=>Qi.forEach(rt=>Oi(rt.key));Me.signal.addEventListener("abort",zo);let{loaderResults:Bo,fetcherResults:Be}=await Io(T,pi,Rs,Qi,Ar);if(Me.signal.aborted)return;Me.signal.removeEventListener("abort",zo),$.delete(N),re.delete(N),Qi.forEach(rt=>re.delete(rt.key));let Je=wh(Bo);if(Je)return ei(Ar,Je.result,!1,{preventScrollReset:fe});if(Je=wh(Be),Je)return te.add(Je.key),ei(Ar,Je.result,!1,{preventScrollReset:fe});let{loaderData:Ji,errors:zr}=tw(T,pi,Bo,void 0,Qi,Be,se);if(T.fetchers.has(N)){let rt=$r(He.data);T.fetchers.set(N,rt)}ll(vn),T.navigation.state==="loading"&&vn>X?(Re(O,"Expected pending action"),A&&A.abort(),Et(T.navigation.location,{matches:pi,loaderData:Ji,errors:zr,fetchers:new Map(T.fetchers)})):(nt({errors:zr,loaderData:nw(T.loaderData,Ji,pi,zr),fetchers:new Map(T.fetchers)}),le=!1)}async function Lo(N,F,H,G,oe,U,we,fe,me){let he=T.fetchers.get(N);Zt(N,Ll(me,he?he.data:void 0),{flushSync:we});let ge=new AbortController,Me=Xo(t.history,H,ge.signal);if(U){let He=await Fo(oe,H,Me.signal);if(He.type==="aborted")return;if(He.type==="error"){_n(N,F,He.error,{flushSync:we});return}else if(He.matches)oe=He.matches,G=Kl(oe,H);else{_n(N,F,On(404,{pathname:H}),{flushSync:we});return}}re.set(N,ge);let Ee=z,Qe=(await Ii("loader",T,Me,[G],oe,N))[G.route.id];if(qr(Qe)&&(Qe=await _y(Qe,Me.signal,!0)||Qe),re.get(N)===ge&&re.delete(N),!Me.signal.aborted){if(q.has(N)){Zt(N,$r(void 0));return}if(no(Qe))if(X>Ee){Zt(N,$r(void 0));return}else{te.add(N),await ei(Me,Qe,!1,{preventScrollReset:fe});return}if(Wn(Qe)){_n(N,F,Qe.error);return}Re(!qr(Qe),"Unhandled fetcher deferred data"),Zt(N,$r(Qe.data))}}async function ei(N,F,H,G){let{submission:oe,fetcherSubmission:U,preventScrollReset:we,replace:fe}=G===void 0?{}:G;F.response.headers.has("X-Remix-Revalidate")&&(le=!0);let me=F.response.headers.get("Location");Re(me,"Expected a Location header on the redirect Response"),me=Jb(me,new URL(N.url),u);let he=Hu(T.location,me,{_isRedirect:!0});if(n){let He=!1;if(F.response.headers.has("X-Remix-Reload-Document"))He=!0;else if(gy.test(me)){const _t=t.history.createURL(me);He=_t.origin!==e.location.origin||Tr(_t.pathname,u)==null}if(He){fe?e.location.replace(me):e.location.assign(me);return}}A=null;let ge=fe===!0||F.response.headers.has("X-Remix-Replace")?Ft.Replace:Ft.Push,{formMethod:Me,formAction:Ee,formEncType:Dt}=T.navigation;!oe&&!U&&Me&&Ee&&Dt&&(oe=ow(T.navigation));let Qe=oe||U;if(lN.has(F.response.status)&&Qe&&xi(Qe.formMethod))await Ae(ge,he,{submission:vt({},Qe,{formAction:me}),preventScrollReset:we||I,enableViewTransition:H?j:void 0});else{let He=Bm(he,oe);await Ae(ge,he,{overrideNavigation:He,fetcherSubmission:U,preventScrollReset:we||I,enableViewTransition:H?j:void 0})}}async function Ii(N,F,H,G,oe,U){let we,fe={};try{we=await gN(h,N,F,H,G,oe,U,s,r)}catch(me){return G.forEach(he=>{fe[he.route.id]={type:et.error,error:me}}),fe}for(let[me,he]of Object.entries(we))if(wN(he)){let ge=he.result;fe[me]={type:et.redirect,response:yN(ge,H,me,oe,u,p.v7_relativeSplatPath)}}else fe[me]=await vN(he);return fe}async function Io(N,F,H,G,oe){let U=N.matches,we=Ii("loader",N,oe,H,F,null),fe=Promise.all(G.map(async ge=>{if(ge.matches&&ge.match&&ge.controller){let Ee=(await Ii("loader",N,Xo(t.history,ge.path,ge.controller.signal),[ge.match],ge.matches,ge.key))[ge.match.route.id];return{[ge.key]:Ee}}else return Promise.resolve({[ge.key]:{type:et.error,error:On(404,{pathname:ge.path})}})})),me=await we,he=(await fe).reduce((ge,Me)=>Object.assign(ge,Me),{});return await Promise.all([EN(F,me,oe.signal,U,N.loaderData),TN(F,he,G)]),{loaderResults:me,fetcherResults:he}}function Ie(){le=!0,ue.push(...No()),Q.forEach((N,F)=>{re.has(F)&&ee.add(F),Oi(F)})}function Zt(N,F,H){H===void 0&&(H={}),T.fetchers.set(N,F),nt({fetchers:new Map(T.fetchers)},{flushSync:(H&&H.flushSync)===!0})}function _n(N,F,H,G){G===void 0&&(G={});let oe=qs(T.matches,F);Os(N),nt({errors:{[oe.route.id]:H},fetchers:new Map(T.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Fc(N){return p.v7_fetcherPersist&&(ae.set(N,(ae.get(N)||0)+1),q.has(N)&&q.delete(N)),T.fetchers.get(N)||uN}function Os(N){let F=T.fetchers.get(N);re.has(N)&&!(F&&F.state==="loading"&&$.has(N))&&Oi(N),Q.delete(N),$.delete(N),te.delete(N),q.delete(N),ee.delete(N),T.fetchers.delete(N)}function zc(N){if(p.v7_fetcherPersist){let F=(ae.get(N)||0)-1;F<=0?(ae.delete(N),q.add(N)):ae.set(N,F)}else Os(N);nt({fetchers:new Map(T.fetchers)})}function Oi(N){let F=re.get(N);F&&(F.abort(),re.delete(N))}function al(N){for(let F of N){let H=Fc(F),G=$r(H.data);T.fetchers.set(F,G)}}function Oo(){let N=[],F=!1;for(let H of te){let G=T.fetchers.get(H);Re(G,"Expected fetcher: "+H),G.state==="loading"&&(te.delete(H),N.push(H),F=!0)}return al(N),F}function ll(N){let F=[];for(let[H,G]of $)if(G<N){let oe=T.fetchers.get(H);Re(oe,"Expected fetcher: "+H),oe.state==="loading"&&(Oi(H),$.delete(H),F.push(H))}return al(F),F.length>0}function zp(N,F){let H=T.blockers.get(N)||Ml;return ne.get(N)!==F&&ne.set(N,F),H}function Nr(N){T.blockers.delete(N),ne.delete(N)}function Ro(N,F){let H=T.blockers.get(N)||Ml;Re(H.state==="unblocked"&&F.state==="blocked"||H.state==="blocked"&&F.state==="blocked"||H.state==="blocked"&&F.state==="proceeding"||H.state==="blocked"&&F.state==="unblocked"||H.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+H.state+" -> "+F.state);let G=new Map(T.blockers);G.set(N,F),nt({blockers:G})}function Bc(N){let{currentLocation:F,nextLocation:H,historyAction:G}=N;if(ne.size===0)return;ne.size>1&&Aa(!1,"A router only supports one blocker at a time");let oe=Array.from(ne.entries()),[U,we]=oe[oe.length-1],fe=T.blockers.get(U);if(!(fe&&fe.state==="proceeding")&&we({currentLocation:F,nextLocation:H,historyAction:G}))return U}function Do(N){let F=On(404,{pathname:N}),H=l||o,{matches:G,route:oe}=rw(H);return No(),{notFoundMatches:G,route:oe,error:F}}function No(N){let F=[];return se.forEach((H,G)=>{(!N||N(G))&&(H.cancel(),F.push(G),se.delete(G))}),F}function jc(N,F,H){if(v=N,S=F,y=H||null,!x&&T.navigation===zm){x=!0;let G=Hc(T.location,T.matches);G!=null&&nt({restoreScrollPosition:G})}return()=>{v=null,S=null,y=null}}function Vc(N,F){return y&&y(N,F.map(G=>jD(G,T.loaderData)))||N.key}function Bp(N,F){if(v&&S){let H=Vc(N,F);v[H]=S()}}function Hc(N,F){if(v){let H=Vc(N,F),G=v[H];if(typeof G=="number")return G}return null}function Ao(N,F,H){if(d)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:ad(F,H,u,!0)}}else return{active:!0,matches:ad(F,H,u,!0)||[]};return{active:!1,matches:null}}async function Fo(N,F,H){if(!d)return{type:"success",matches:N};let G=N;for(;;){let oe=l==null,U=l||o,we=s;try{await d({path:F,matches:G,patch:(he,ge)=>{H.aborted||Qb(he,ge,U,we,r)}})}catch(he){return{type:"error",error:he,partialMatches:G}}finally{oe&&!H.aborted&&(o=[...o])}if(H.aborted)return{type:"aborted"};let fe=Xs(U,F,u);if(fe)return{type:"success",matches:fe};let me=ad(U,F,u,!0);if(!me||G.length===me.length&&G.every((he,ge)=>he.route.id===me[ge].route.id))return{type:"success",matches:null};G=me}}function jp(N){s={},l=Yd(N,r,void 0,s)}function ul(N,F){let H=l==null;Qb(N,F,l||o,s,r),H&&(o=[...o],nt({}))}return M={get basename(){return u},get future(){return p},get state(){return T},get routes(){return o},get window(){return e},initialize:it,subscribe:kn,enableScrollRestoration:jc,navigate:Mn,fetch:Mo,revalidate:Vn,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:Fc,deleteFetcher:zc,dispose:gn,getBlocker:zp,deleteBlocker:Nr,patchRoutes:ul,_internalFetchControllers:re,_internalActiveDeferreds:se,_internalSetRoutes:jp},M}function dN(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function __(t,e,n,i,r,s,o,l){let u,h;if(o){u=[];for(let p of e)if(u.push(p),p.route.id===o){h=p;break}}else u=e,h=e[e.length-1];let d=my(r||".",py(u,s),Tr(t.pathname,n)||t.pathname,l==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&h){let p=vy(d.search);if(h.route.index&&!p)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let m=new URLSearchParams(d.search),_=m.getAll("index");m.delete("index"),_.filter(y=>y).forEach(y=>m.append("index",y));let v=m.toString();d.search=v?"?"+v:""}}return i&&n!=="/"&&(d.pathname=d.pathname==="/"?n:vr([n,d.pathname])),go(d)}function Gb(t,e,n,i){if(!i||!dN(i))return{path:n};if(i.formMethod&&!CN(i.formMethod))return{path:n,error:On(405,{method:i.formMethod})};let r=()=>({path:n,error:On(400,{type:"invalid-body"})}),s=i.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=NT(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!xi(o))return r();let m=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((_,v)=>{let[y,S]=v;return""+_+y+"="+S+`
`},""):String(i.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:i.formEncType,formData:void 0,json:void 0,text:m}}}else if(i.formEncType==="application/json"){if(!xi(o))return r();try{let m=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:i.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}Re(typeof FormData=="function","FormData is not available in this environment");let u,h;if(i.formData)u=y_(i.formData),h=i.formData;else if(i.body instanceof FormData)u=y_(i.body),h=i.body;else if(i.body instanceof URLSearchParams)u=i.body,h=ew(u);else if(i.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(i.body),h=ew(u)}catch{return r()}let d={formMethod:o,formAction:l,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(xi(d.formMethod))return{path:n,submission:d};let p=Ps(n);return e&&p.search&&vy(p.search)&&u.append("index",""),p.search="?"+u,{path:go(p),submission:d}}function Kb(t,e,n){n===void 0&&(n=!1);let i=t.findIndex(r=>r.route.id===e);return i>=0?t.slice(0,n?i+1:i):t}function Xb(t,e,n,i,r,s,o,l,u,h,d,p,m,_,v,y){let S=y?Wn(y[1])?y[1].error:y[1].data:void 0,x=t.createURL(e.location),w=t.createURL(r),C=n;s&&e.errors?C=Kb(n,Object.keys(e.errors)[0],!0):y&&Wn(y[1])&&(C=Kb(n,y[0]));let k=y?y[1].statusCode:void 0,M=o&&k&&k>=400,T=C.filter((I,A)=>{let{route:j}=I;if(j.lazy)return!0;if(j.loader==null)return!1;if(s)return v_(j,e.loaderData,e.errors);if(fN(e.loaderData,e.matches[A],I)||u.some(de=>de===I.route.id))return!0;let W=e.matches[A],Z=I;return qb(I,vt({currentUrl:x,currentParams:W.params,nextUrl:w,nextParams:Z.params},i,{actionResult:S,actionStatus:k,defaultShouldRevalidate:M?!1:l||x.pathname+x.search===w.pathname+w.search||x.search!==w.search||RT(W,Z)}))}),O=[];return p.forEach((I,A)=>{if(s||!n.some(le=>le.route.id===I.routeId)||d.has(A))return;let j=Xs(_,I.path,v);if(!j){O.push({key:A,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let W=e.fetchers.get(A),Z=Kl(j,I.path),de=!1;m.has(A)?de=!1:h.has(A)?(h.delete(A),de=!0):W&&W.state!=="idle"&&W.data===void 0?de=l:de=qb(Z,vt({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},i,{actionResult:S,actionStatus:k,defaultShouldRevalidate:M?!1:l})),de&&O.push({key:A,routeId:I.routeId,path:I.path,matches:j,match:Z,controller:new AbortController})}),[T,O]}function v_(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let i=e!=null&&e[t.id]!==void 0,r=n!=null&&n[t.id]!==void 0;return!i&&r?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!r}function fN(t,e,n){let i=!e||n.route.id!==e.route.id,r=t[n.route.id]===void 0;return i||r}function RT(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function qb(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Qb(t,e,n,i,r){var s;let o;if(t){let h=i[t];Re(h,"No route found to patch children into: routeId = "+t),h.children||(h.children=[]),o=h.children}else o=n;let l=e.filter(h=>!o.some(d=>DT(h,d))),u=Yd(l,r,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],i);o.push(...u)}function DT(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>{var r;return(r=e.children)==null?void 0:r.some(s=>DT(n,s))}):!1}async function pN(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let r=n[t.id];Re(r,"No route found in manifest");let s={};for(let o in i){let u=r[o]!==void 0&&o!=="hasErrorBoundary";Aa(!u,'Route "'+r.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!zD.has(o)&&(s[o]=i[o])}Object.assign(r,s),Object.assign(r,vt({},e(r),{lazy:void 0}))}async function mN(t){let{matches:e}=t,n=e.filter(r=>r.shouldLoad);return(await Promise.all(n.map(r=>r.resolve()))).reduce((r,s,o)=>Object.assign(r,{[n[o].route.id]:s}),{})}async function gN(t,e,n,i,r,s,o,l,u,h){let d=s.map(_=>_.route.lazy?pN(_.route,u,l):void 0),p=s.map((_,v)=>{let y=d[v],S=r.some(w=>w.route.id===_.route.id);return vt({},_,{shouldLoad:S,resolve:async w=>(w&&i.method==="GET"&&(_.route.lazy||_.route.loader)&&(S=!0),S?_N(e,i,_,y,w,h):Promise.resolve({type:et.data,result:void 0}))})}),m=await t({matches:p,request:i,params:s[0].params,fetcherKey:o,context:h});try{await Promise.all(d)}catch{}return m}async function _N(t,e,n,i,r,s){let o,l,u=h=>{let d,p=new Promise((v,y)=>d=y);l=()=>d(),e.signal.addEventListener("abort",l);let m=v=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):h({request:e,params:n.params,context:s},...v!==void 0?[v]:[]),_=(async()=>{try{return{type:"data",result:await(r?r(y=>m(y)):m())}}catch(v){return{type:"error",result:v}}})();return Promise.race([_,p])};try{let h=n.route[t];if(i)if(h){let d,[p]=await Promise.all([u(h).catch(m=>{d=m}),i]);if(d!==void 0)throw d;o=p}else if(await i,h=n.route[t],h)o=await u(h);else if(t==="action"){let d=new URL(e.url),p=d.pathname+d.search;throw On(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:et.data,result:void 0};else if(h)o=await u(h);else{let d=new URL(e.url),p=d.pathname+d.search;throw On(404,{pathname:p})}Re(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:et.error,result:h}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function vN(t){let{result:e,type:n}=t;if(AT(e)){let h;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(d){return{type:et.error,error:d}}return n===et.error?{type:et.error,error:new Kd(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:et.data,data:h,statusCode:e.status,headers:e.headers}}if(n===et.error){if(sw(e)){var i;if(e.data instanceof Error){var r;return{type:et.error,error:e.data,statusCode:(r=e.init)==null?void 0:r.status}}e=new Kd(((i=e.init)==null?void 0:i.status)||500,void 0,e.data)}return{type:et.error,error:e,statusCode:Qf(e)?e.status:void 0}}if(SN(e)){var s,o;return{type:et.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(sw(e)){var l,u;return{type:et.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:et.data,data:e}}function yN(t,e,n,i,r,s){let o=t.headers.get("Location");if(Re(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!gy.test(o)){let l=i.slice(0,i.findIndex(u=>u.route.id===n)+1);o=__(new URL(e.url),l,r,!0,o,s),t.headers.set("Location",o)}return t}function Jb(t,e,n){if(gy.test(t)){let i=t,r=i.startsWith("//")?new URL(e.protocol+i):new URL(i),s=Tr(r.pathname,n)!=null;if(r.origin===e.origin&&s)return r.pathname+r.search+r.hash}return t}function Xo(t,e,n,i){let r=t.createURL(NT(e)).toString(),s={signal:n};if(i&&xi(i.formMethod)){let{formMethod:o,formEncType:l}=i;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(i.json)):l==="text/plain"?s.body=i.text:l==="application/x-www-form-urlencoded"&&i.formData?s.body=y_(i.formData):s.body=i.formData}return new Request(r,s)}function y_(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function ew(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function xN(t,e,n,i,r){let s={},o=null,l,u=!1,h={},d=n&&Wn(n[1])?n[1].error:void 0;return t.forEach(p=>{if(!(p.route.id in e))return;let m=p.route.id,_=e[m];if(Re(!no(_),"Cannot handle redirect results in processLoaderData"),Wn(_)){let v=_.error;d!==void 0&&(v=d,d=void 0),o=o||{};{let y=qs(t,m);o[y.route.id]==null&&(o[y.route.id]=v)}s[m]=void 0,u||(u=!0,l=Qf(_.error)?_.error.status:500),_.headers&&(h[m]=_.headers)}else qr(_)?(i.set(m,_.deferredData),s[m]=_.deferredData.data,_.statusCode!=null&&_.statusCode!==200&&!u&&(l=_.statusCode),_.headers&&(h[m]=_.headers)):(s[m]=_.data,_.statusCode&&_.statusCode!==200&&!u&&(l=_.statusCode),_.headers&&(h[m]=_.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:h}}function tw(t,e,n,i,r,s,o){let{loaderData:l,errors:u}=xN(e,n,i,o);return r.forEach(h=>{let{key:d,match:p,controller:m}=h,_=s[d];if(Re(_,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(Wn(_)){let v=qs(t.matches,p==null?void 0:p.route.id);u&&u[v.route.id]||(u=vt({},u,{[v.route.id]:_.error})),t.fetchers.delete(d)}else if(no(_))Re(!1,"Unhandled fetcher revalidation redirect");else if(qr(_))Re(!1,"Unhandled fetcher deferred data");else{let v=$r(_.data);t.fetchers.set(d,v)}}),{loaderData:l,errors:u}}function nw(t,e,n,i){let r=vt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(r[o]=e[o]):t[o]!==void 0&&s.route.loader&&(r[o]=t[o]),i&&i.hasOwnProperty(o))break}return r}function iw(t){return t?Wn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function qs(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function rw(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function On(t,e){let{pathname:n,routeId:i,method:r,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&n&&i?u="You made a "+r+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+i+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",r&&n&&i?u="You made a "+r.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":r&&(u='Invalid request method "'+r.toUpperCase()+'"')),new Kd(t||500,l,new Error(u),!0)}function wh(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,r]=e[n];if(no(r))return{key:i,result:r}}}function NT(t){let e=typeof t=="string"?Ps(t):t;return go(vt({},e,{hash:""}))}function bN(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function wN(t){return AT(t.result)&&aN.has(t.result.status)}function qr(t){return t.type===et.deferred}function Wn(t){return t.type===et.error}function no(t){return(t&&t.type)===et.redirect}function sw(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function SN(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function AT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function CN(t){return oN.has(t.toLowerCase())}function xi(t){return rN.has(t.toLowerCase())}async function EN(t,e,n,i,r){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[l,u]=s[o],h=t.find(m=>(m==null?void 0:m.route.id)===l);if(!h)continue;let d=i.find(m=>m.route.id===h.route.id),p=d!=null&&!RT(d,h)&&(r&&r[h.route.id])!==void 0;qr(u)&&p&&await _y(u,n,!1).then(m=>{m&&(e[l]=m)})}}async function TN(t,e,n){for(let i=0;i<n.length;i++){let{key:r,routeId:s,controller:o}=n[i],l=e[r];t.find(h=>(h==null?void 0:h.route.id)===s)&&qr(l)&&(Re(o,"Expected an AbortController for revalidating fetcher deferred result"),await _y(l,o.signal,!0).then(h=>{h&&(e[r]=h)}))}}async function _y(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:et.data,data:t.deferredData.unwrappedData}}catch(r){return{type:et.error,error:r}}return{type:et.data,data:t.deferredData.data}}}function vy(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Kl(t,e){let n=typeof e=="string"?Ps(e).search:e.search;if(t[t.length-1].route.index&&vy(n||""))return t[t.length-1];let i=LT(t);return i[i.length-1]}function ow(t){let{formMethod:e,formAction:n,formEncType:i,text:r,formData:s,json:o}=t;if(!(!e||!n||!i)){if(r!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r};if(s!=null)return{formMethod:e,formAction:n,formEncType:i,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:o,text:void 0}}}function Bm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function PN(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ll(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function kN(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function $r(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function MN(t,e){try{let n=t.sessionStorage.getItem(OT);if(n){let i=JSON.parse(n);for(let[r,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(r,new Set(s||[]))}}catch{}}function LN(t,e){if(e.size>0){let n={};for(let[i,r]of e)n[i]=[...r];try{t.sessionStorage.setItem(OT,JSON.stringify(n))}catch(i){Aa(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xd(){return Xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Xd.apply(this,arguments)}const wc=E.createContext(null),yy=E.createContext(null),ks=E.createContext(null),xy=E.createContext(null),Ms=E.createContext({outlet:null,matches:[],isDataRoute:!1}),FT=E.createContext(null);function IN(t,e){let{relative:n}=e===void 0?{}:e;Sc()||Re(!1);let{basename:i,navigator:r}=E.useContext(ks),{hash:s,pathname:o,search:l}=Jf(t,{relative:n}),u=o;return i!=="/"&&(u=o==="/"?i:vr([i,o])),r.createHref({pathname:u,search:l,hash:s})}function Sc(){return E.useContext(xy)!=null}function qa(){return Sc()||Re(!1),E.useContext(xy).location}function zT(t){E.useContext(ks).static||E.useLayoutEffect(t)}function by(){let{isDataRoute:t}=E.useContext(Ms);return t?UN():ON()}function ON(){Sc()||Re(!1);let t=E.useContext(wc),{basename:e,future:n,navigator:i}=E.useContext(ks),{matches:r}=E.useContext(Ms),{pathname:s}=qa(),o=JSON.stringify(py(r,n.v7_relativeSplatPath)),l=E.useRef(!1);return zT(()=>{l.current=!0}),E.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){i.go(h);return}let p=my(h,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:vr([e,p.pathname])),(d.replace?i.replace:i.push)(p,d.state,d)},[e,i,o,s,t])}const RN=E.createContext(null);function DN(t){let e=E.useContext(Ms).outlet;return e&&E.createElement(RN.Provider,{value:t},e)}function Jf(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=E.useContext(ks),{matches:r}=E.useContext(Ms),{pathname:s}=qa(),o=JSON.stringify(py(r,i.v7_relativeSplatPath));return E.useMemo(()=>my(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function NN(t,e,n,i){Sc()||Re(!1);let{navigator:r}=E.useContext(ks),{matches:s}=E.useContext(Ms),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=qa(),d;d=h;let p=d.pathname||"/",m=p;if(u!=="/"){let y=u.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let _=Xs(t,{pathname:m});return jN(_&&_.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:vr([u,r.encodeLocation?r.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:vr([u,r.encodeLocation?r.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,i)}function AN(){let t=WN(),e=Qf(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:r},n):null,null)}const FN=E.createElement(AN,null);class zN extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(Ms.Provider,{value:this.props.routeContext},E.createElement(FT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BN(t){let{routeContext:e,match:n,children:i}=t,r=E.useContext(wc);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Ms.Provider,{value:e},i)}function jN(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let d=o.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||Re(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:m,errors:_}=n,v=p.route.loader&&m[p.route.id]===void 0&&(!_||_[p.route.id]===void 0);if(p.route.lazy||v){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((d,p,m)=>{let _,v=!1,y=null,S=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,y=p.route.errorElement||FN,u&&(h<0&&m===0?(ZN("route-fallback"),v=!0,S=null):h===m&&(v=!0,S=p.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,m+1)),w=()=>{let C;return _?C=y:v?C=S:p.route.Component?C=E.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=d,E.createElement(BN,{match:p,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?E.createElement(zN,{location:n.location,revalidation:n.revalidation,component:y,error:_,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var BT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(BT||{}),qd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qd||{});function VN(t){let e=E.useContext(wc);return e||Re(!1),e}function HN(t){let e=E.useContext(yy);return e||Re(!1),e}function $N(t){let e=E.useContext(Ms);return e||Re(!1),e}function jT(t){let e=$N(),n=e.matches[e.matches.length-1];return n.route.id||Re(!1),n.route.id}function WN(){var t;let e=E.useContext(FT),n=HN(qd.UseRouteError),i=jT(qd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function UN(){let{router:t}=VN(BT.UseNavigateStable),e=jT(qd.UseNavigateStable),n=E.useRef(!1);return zT(()=>{n.current=!0}),E.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Xd({fromRouteId:e},s)))},[t,e])}const aw={};function ZN(t,e,n){aw[t]||(aw[t]=!0)}function YN(t){return DN(t.context)}function GN(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Ft.Pop,navigator:s,static:o=!1,future:l}=t;Sc()&&Re(!1);let u=e.replace(/^\/*/,"/"),h=E.useMemo(()=>({basename:u,navigator:s,static:o,future:Xd({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof i=="string"&&(i=Ps(i));let{pathname:d="/",search:p="",hash:m="",state:_=null,key:v="default"}=i,y=E.useMemo(()=>{let S=Tr(d,u);return S==null?null:{location:{pathname:S,search:p,hash:m,state:_,key:v},navigationType:r}},[u,d,p,m,_,v,r]);return y==null?null:E.createElement(ks.Provider,{value:h},E.createElement(xy.Provider,{children:n,value:y}))}new Promise(()=>{});function KN(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:E.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:E.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:E.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fa(){return Fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fa.apply(this,arguments)}function VT(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function XN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qN(t,e){return t.button===0&&(!e||e==="_self")&&!XN(t)}const QN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JN=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],eA="6";try{window.__reactRouterVersion=eA}catch{}function tA(t,e){return hN({basename:e==null?void 0:e.basename,future:Fa({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:ND({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||nA(),routes:t,mapRouteProperties:KN,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function nA(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Fa({},e,{errors:iA(e.errors)})),e}function iA(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,r]of e)if(r&&r.__type==="RouteErrorResponse")n[i]=new Kd(r.status,r.statusText,r.data,r.internal===!0);else if(r&&r.__type==="Error"){if(r.__subType){let s=window[r.__subType];if(typeof s=="function")try{let o=new s(r.message);o.stack="",n[i]=o}catch{}}if(n[i]==null){let s=new Error(r.message);s.stack="",n[i]=s}}else n[i]=r;return n}const HT=E.createContext({isTransitioning:!1}),rA=E.createContext(new Map),sA="startTransition",lw=Cg[sA],oA="flushSync",uw=DD[oA];function aA(t){lw?lw(t):t()}function Il(t){uw?uw(t):t()}let lA=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function uA(t){let{fallbackElement:e,router:n,future:i}=t,[r,s]=E.useState(n.state),[o,l]=E.useState(),[u,h]=E.useState({isTransitioning:!1}),[d,p]=E.useState(),[m,_]=E.useState(),[v,y]=E.useState(),S=E.useRef(new Map),{v7_startTransition:x}=i||{},w=E.useCallback(I=>{x?aA(I):I()},[x]),C=E.useCallback((I,A)=>{let{deletedFetchers:j,flushSync:W,viewTransitionOpts:Z}=A;j.forEach(le=>S.current.delete(le)),I.fetchers.forEach((le,ue)=>{le.data!==void 0&&S.current.set(ue,le.data)});let de=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!Z||de){W?Il(()=>s(I)):w(()=>s(I));return}if(W){Il(()=>{m&&(d&&d.resolve(),m.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation})});let le=n.window.document.startViewTransition(()=>{Il(()=>s(I))});le.finished.finally(()=>{Il(()=>{p(void 0),_(void 0),l(void 0),h({isTransitioning:!1})})}),Il(()=>_(le));return}m?(d&&d.resolve(),m.skipTransition(),y({state:I,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation})):(l(I),h({isTransitioning:!0,flushSync:!1,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation}))},[n.window,m,d,S,w]);E.useLayoutEffect(()=>n.subscribe(C),[n,C]),E.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new lA)},[u]),E.useEffect(()=>{if(d&&o&&n.window){let I=o,A=d.promise,j=n.window.document.startViewTransition(async()=>{w(()=>s(I)),await A});j.finished.finally(()=>{p(void 0),_(void 0),l(void 0),h({isTransitioning:!1})}),_(j)}},[w,o,d,n.window]),E.useEffect(()=>{d&&o&&r.location.key===o.location.key&&d.resolve()},[d,m,r.location,o]),E.useEffect(()=>{!u.isTransitioning&&v&&(l(v.state),h({isTransitioning:!0,flushSync:!1,currentLocation:v.currentLocation,nextLocation:v.nextLocation}),y(void 0))},[u.isTransitioning,v]),E.useEffect(()=>{},[]);let k=E.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:I=>n.navigate(I),push:(I,A,j)=>n.navigate(I,{state:A,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(I,A,j)=>n.navigate(I,{replace:!0,state:A,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[n]),M=n.basename||"/",T=E.useMemo(()=>({router:n,navigator:k,static:!1,basename:M}),[n,k,M]),O=E.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return E.createElement(E.Fragment,null,E.createElement(wc.Provider,{value:T},E.createElement(yy.Provider,{value:r},E.createElement(rA.Provider,{value:S.current},E.createElement(HT.Provider,{value:u},E.createElement(GN,{basename:M,location:r.location,navigationType:r.historyAction,navigator:k,future:O},r.initialized||n.future.v7_partialHydration?E.createElement(cA,{routes:n.routes,future:n.future,state:r}):e))))),null)}const cA=E.memo(hA);function hA(t){let{routes:e,future:n,state:i}=t;return NN(e,void 0,i,n)}const dA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pA=E.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:l,target:u,to:h,preventScrollReset:d,viewTransition:p}=e,m=VT(e,QN),{basename:_}=E.useContext(ks),v,y=!1;if(typeof h=="string"&&fA.test(h)&&(v=h,dA))try{let C=new URL(window.location.href),k=h.startsWith("//")?new URL(C.protocol+h):new URL(h),M=Tr(k.pathname,_);k.origin===C.origin&&M!=null?h=M+k.search+k.hash:y=!0}catch{}let S=IN(h,{relative:r}),x=gA(h,{replace:o,state:l,target:u,preventScrollReset:d,relative:r,viewTransition:p});function w(C){i&&i(C),C.defaultPrevented||x(C)}return E.createElement("a",Fa({},m,{href:v||S,onClick:y||s?i:w,ref:n,target:u}))}),Ol=E.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:o=!1,style:l,to:u,viewTransition:h,children:d}=e,p=VT(e,JN),m=Jf(u,{relative:p.relative}),_=qa(),v=E.useContext(yy),{navigator:y,basename:S}=E.useContext(ks),x=v!=null&&_A(m)&&h===!0,w=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,C=_.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(C=C.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&S&&(k=Tr(k,S)||k);const M=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let T=C===w||!o&&C.startsWith(w)&&C.charAt(M)==="/",O=k!=null&&(k===w||!o&&k.startsWith(w)&&k.charAt(w.length)==="/"),I={isActive:T,isPending:O,isTransitioning:x},A=T?i:void 0,j;typeof s=="function"?j=s(I):j=[s,T?"active":null,O?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let W=typeof l=="function"?l(I):l;return E.createElement(pA,Fa({},p,{"aria-current":A,className:j,ref:n,style:W,to:u,viewTransition:h}),typeof d=="function"?d(I):d)});var x_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(x_||(x_={}));var cw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cw||(cw={}));function mA(t){let e=E.useContext(wc);return e||Re(!1),e}function gA(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=by(),h=qa(),d=Jf(t,{relative:o});return E.useCallback(p=>{if(qN(p,n)){p.preventDefault();let m=i!==void 0?i:go(h)===go(d);u(t,{replace:m,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[h,u,d,i,r,n,t,s,o,l])}function _A(t,e){e===void 0&&(e={});let n=E.useContext(HT);n==null&&Re(!1);let{basename:i}=mA(x_.useViewTransitionState),r=Jf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Tr(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Tr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Gd(r.pathname,o)!=null||Gd(r.pathname,s)!=null}const vA="/water_quality_system/assets/image1-B331zOGP.png";function $T(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=$T(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Qr(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=$T(t))&&(i&&(i+=" "),i+=e);return i}const $u=t=>typeof t=="number"&&!isNaN(t),ao=t=>typeof t=="string",Yn=t=>typeof t=="function",ld=t=>ao(t)||Yn(t)?t:null,b_=t=>E.isValidElement(t)||ao(t)||Yn(t)||$u(t);function yA(t,e,n){n===void 0&&(n=300);const{scrollHeight:i,style:r}=t;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(e,n)})})}function ep(t){let{enter:e,exit:n,appendPosition:i=!1,collapse:r=!0,collapseDuration:s=300}=t;return function(o){let{children:l,position:u,preventExitTransition:h,done:d,nodeRef:p,isIn:m,playToast:_}=o;const v=i?`${e}--${u}`:e,y=i?`${n}--${u}`:n,S=E.useRef(0);return E.useLayoutEffect(()=>{const x=p.current,w=v.split(" "),C=k=>{k.target===p.current&&(_(),x.removeEventListener("animationend",C),x.removeEventListener("animationcancel",C),S.current===0&&k.type!=="animationcancel"&&x.classList.remove(...w))};x.classList.add(...w),x.addEventListener("animationend",C),x.addEventListener("animationcancel",C)},[]),E.useEffect(()=>{const x=p.current,w=()=>{x.removeEventListener("animationend",w),r?yA(x,d,s):d()};m||(h?w():(S.current=1,x.className+=` ${y}`,x.addEventListener("animationend",w)))},[m]),Pe.createElement(Pe.Fragment,null,l)}}function hw(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const bn=new Map;let Wu=[];const w_=new Set,xA=t=>w_.forEach(e=>e(t)),WT=()=>bn.size>0;function UT(t,e){var n;if(e)return!((n=bn.get(e))==null||!n.isToastActive(t));let i=!1;return bn.forEach(r=>{r.isToastActive(t)&&(i=!0)}),i}function ZT(t,e){b_(t)&&(WT()||Wu.push({content:t,options:e}),bn.forEach(n=>{n.buildToast(t,e)}))}function dw(t,e){bn.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function bA(t){const{subscribe:e,getSnapshot:n,setProps:i}=E.useRef(function(s){const o=s.containerId||1;return{subscribe(l){const u=function(d,p,m){let _=1,v=0,y=[],S=[],x=[],w=p;const C=new Map,k=new Set,M=()=>{x=Array.from(C.values()),k.forEach(I=>I())},T=I=>{S=I==null?[]:S.filter(A=>A!==I),M()},O=I=>{const{toastId:A,onOpen:j,updateId:W,children:Z}=I.props,de=W==null;I.staleId&&C.delete(I.staleId),C.set(A,I),S=[...S,I.props.toastId].filter(le=>le!==I.staleId),M(),m(hw(I,de?"added":"updated")),de&&Yn(j)&&j(E.isValidElement(Z)&&Z.props)};return{id:d,props:w,observe:I=>(k.add(I),()=>k.delete(I)),toggle:(I,A)=>{C.forEach(j=>{A!=null&&A!==j.props.toastId||Yn(j.toggle)&&j.toggle(I)})},removeToast:T,toasts:C,clearQueue:()=>{v-=y.length,y=[]},buildToast:(I,A)=>{if((Q=>{let{containerId:ae,toastId:q,updateId:se}=Q;const ne=ae?ae!==d:d!==1,ke=C.has(q)&&se==null;return ne||ke})(A))return;const{toastId:j,updateId:W,data:Z,staleId:de,delay:le}=A,ue=()=>{T(j)},ee=W==null;ee&&v++;const re={...w,style:w.toastStyle,key:_++,...Object.fromEntries(Object.entries(A).filter(Q=>{let[ae,q]=Q;return q!=null})),toastId:j,updateId:W,data:Z,closeToast:ue,isIn:!1,className:ld(A.className||w.toastClassName),bodyClassName:ld(A.bodyClassName||w.bodyClassName),progressClassName:ld(A.progressClassName||w.progressClassName),autoClose:!A.isLoading&&(z=A.autoClose,X=w.autoClose,z===!1||$u(z)&&z>0?z:X),deleteToast(){const Q=C.get(j),{onClose:ae,children:q}=Q.props;Yn(ae)&&ae(E.isValidElement(q)&&q.props),m(hw(Q,"removed")),C.delete(j),v--,v<0&&(v=0),y.length>0?O(y.shift()):M()}};var z,X;re.closeButton=w.closeButton,A.closeButton===!1||b_(A.closeButton)?re.closeButton=A.closeButton:A.closeButton===!0&&(re.closeButton=!b_(w.closeButton)||w.closeButton);let $=I;E.isValidElement(I)&&!ao(I.type)?$=E.cloneElement(I,{closeToast:ue,toastProps:re,data:Z}):Yn(I)&&($=I({closeToast:ue,toastProps:re,data:Z}));const te={content:$,props:re,staleId:de};w.limit&&w.limit>0&&v>w.limit&&ee?y.push(te):$u(le)?setTimeout(()=>{O(te)},le):O(te)},setProps(I){w=I},setToggle:(I,A)=>{C.get(I).toggle=A},isToastActive:I=>S.some(A=>A===I),getSnapshot:()=>x}}(o,s,xA);bn.set(o,u);const h=u.observe(l);return Wu.forEach(d=>ZT(d.content,d.options)),Wu=[],()=>{h(),bn.delete(o)}},setProps(l){var u;(u=bn.get(o))==null||u.setProps(l)},getSnapshot(){var l;return(l=bn.get(o))==null?void 0:l.getSnapshot()}}}(t)).current;i(t);const r=E.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!r)return[];const o=new Map;return t.newestOnTop&&r.reverse(),r.forEach(l=>{const{position:u}=l.props;o.has(u)||o.set(u,[]),o.get(u).push(l)}),Array.from(o,l=>s(l[0],l[1]))},isToastActive:UT,count:r==null?void 0:r.length}}function wA(t){const[e,n]=E.useState(!1),[i,r]=E.useState(!1),s=E.useRef(null),o=E.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:u,closeToast:h,onClick:d,closeOnClick:p}=t;var m,_;function v(){n(!0)}function y(){n(!1)}function S(C){const k=s.current;o.canDrag&&k&&(o.didMove=!0,e&&y(),o.delta=t.draggableDirection==="x"?C.clientX-o.start:C.clientY-o.start,o.start!==C.clientX&&(o.canCloseOnClick=!1),k.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,k.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function x(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",x);const C=s.current;if(o.canDrag&&o.didMove&&C){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return r(!0),t.closeToast(),void t.collapseAll();C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}(_=bn.get((m={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||_.setToggle(m.id,m.fn),E.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||y(),window.addEventListener("focus",v),window.addEventListener("blur",y),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",y)}},[t.pauseOnFocusLoss]);const w={onPointerDown:function(C){if(t.draggable===!0||t.draggable===C.pointerType){o.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",x);const k=s.current;o.canCloseOnClick=!0,o.canDrag=!0,k.style.transition="none",t.draggableDirection==="x"?(o.start=C.clientX,o.removalDistance=k.offsetWidth*(t.draggablePercent/100)):(o.start=C.clientY,o.removalDistance=k.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(C){const{top:k,bottom:M,left:T,right:O}=s.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&t.pauseOnHover&&C.clientX>=T&&C.clientX<=O&&C.clientY>=k&&C.clientY<=M?y():v()}};return l&&u&&(w.onMouseEnter=y,t.stacked||(w.onMouseLeave=v)),p&&(w.onClick=C=>{d&&d(C),o.canCloseOnClick&&h()}),{playToast:v,pauseToast:y,isRunning:e,preventExitTransition:i,toastRef:s,eventHandlers:w}}function SA(t){let{delay:e,isRunning:n,closeToast:i,type:r="default",hide:s,className:o,style:l,controlledProgress:u,progress:h,rtl:d,isIn:p,theme:m}=t;const _=s||u&&h===0,v={...l,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};u&&(v.transform=`scaleX(${h})`);const y=Qr("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":d}),S=Yn(o)?o({rtl:d,type:r,defaultClassName:y}):Qr(y,o),x={[u&&h>=1?"onTransitionEnd":"onAnimationEnd"]:u&&h<1?null:()=>{p&&i()}};return Pe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":_},Pe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${r}`}),Pe.createElement("div",{role:"progressbar","aria-hidden":_?"true":"false","aria-label":"notification timer",className:S,style:v,...x}))}let CA=1;const YT=()=>""+CA++;function EA(t){return t&&(ao(t.toastId)||$u(t.toastId))?t.toastId:YT()}function pu(t,e){return ZT(t,e),e.toastId}function Qd(t,e){return{...e,type:e&&e.type||t,toastId:EA(e)}}function Sh(t){return(e,n)=>pu(e,Qd(t,n))}function Ye(t,e){return pu(t,Qd("default",e))}Ye.loading=(t,e)=>pu(t,Qd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Ye.promise=function(t,e,n){let i,{pending:r,error:s,success:o}=e;r&&(i=ao(r)?Ye.loading(r,n):Ye.loading(r.render,{...n,...r}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(d,p,m)=>{if(p==null)return void Ye.dismiss(i);const _={type:d,...l,...n,data:m},v=ao(p)?{render:p}:p;return i?Ye.update(i,{..._,...v}):Ye(v.render,{..._,...v}),m},h=Yn(t)?t():t;return h.then(d=>u("success",o,d)).catch(d=>u("error",s,d)),h},Ye.success=Sh("success"),Ye.info=Sh("info"),Ye.error=Sh("error"),Ye.warning=Sh("warning"),Ye.warn=Ye.warning,Ye.dark=(t,e)=>pu(t,Qd("default",{theme:"dark",...e})),Ye.dismiss=function(t){(function(e){var n;if(WT()){if(e==null||ao(n=e)||$u(n))bn.forEach(i=>{i.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const i=bn.get(e.containerId);i?i.removeToast(e.id):bn.forEach(r=>{r.removeToast(e.id)})}}else Wu=Wu.filter(i=>e!=null&&i.options.toastId!==e)})(t)},Ye.clearWaitingQueue=function(t){t===void 0&&(t={}),bn.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Ye.isActive=UT,Ye.update=function(t,e){e===void 0&&(e={});const n=((i,r)=>{var s;let{containerId:o}=r;return(s=bn.get(o||1))==null?void 0:s.toasts.get(i)})(t,e);if(n){const{props:i,content:r}=n,s={delay:100,...i,...e,toastId:e.toastId||t,updateId:YT()};s.toastId!==t&&(s.staleId=t);const o=s.render||r;delete s.render,pu(o,s)}},Ye.done=t=>{Ye.update(t,{progress:1})},Ye.onChange=function(t){return w_.add(t),()=>{w_.delete(t)}},Ye.play=t=>dw(!0,t),Ye.pause=t=>dw(!1,t);const TA=typeof window<"u"?E.useLayoutEffect:E.useEffect,Ch=t=>{let{theme:e,type:n,isLoading:i,...r}=t;return Pe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},jm={info:function(t){return Pe.createElement(Ch,{...t},Pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Pe.createElement(Ch,{...t},Pe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Pe.createElement(Ch,{...t},Pe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Pe.createElement(Ch,{...t},Pe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Pe.createElement("div",{className:"Toastify__spinner"})}},PA=t=>{const{isRunning:e,preventExitTransition:n,toastRef:i,eventHandlers:r,playToast:s}=wA(t),{closeButton:o,children:l,autoClose:u,onClick:h,type:d,hideProgressBar:p,closeToast:m,transition:_,position:v,className:y,style:S,bodyClassName:x,bodyStyle:w,progressClassName:C,progressStyle:k,updateId:M,role:T,progress:O,rtl:I,toastId:A,deleteToast:j,isIn:W,isLoading:Z,closeOnClick:de,theme:le}=t,ue=Qr("Toastify__toast",`Toastify__toast-theme--${le}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":I},{"Toastify__toast--close-on-click":de}),ee=Yn(y)?y({rtl:I,position:v,type:d,defaultClassName:ue}):Qr(ue,y),re=function(te){let{theme:Q,type:ae,isLoading:q,icon:se}=te,ne=null;const ke={theme:Q,type:ae};return se===!1||(Yn(se)?ne=se({...ke,isLoading:q}):E.isValidElement(se)?ne=E.cloneElement(se,ke):q?ne=jm.spinner():(it=>it in jm)(ae)&&(ne=jm[ae](ke))),ne}(t),z=!!O||!u,X={closeToast:m,type:d,theme:le};let $=null;return o===!1||($=Yn(o)?o(X):E.isValidElement(o)?E.cloneElement(o,X):function(te){let{closeToast:Q,theme:ae,ariaLabel:q="close"}=te;return Pe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${ae}`,type:"button",onClick:se=>{se.stopPropagation(),Q(se)},"aria-label":q},Pe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Pe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(X)),Pe.createElement(_,{isIn:W,done:j,position:v,preventExitTransition:n,nodeRef:i,playToast:s},Pe.createElement("div",{id:A,onClick:h,"data-in":W,className:ee,...r,style:S,ref:i},Pe.createElement("div",{...W&&{role:T},className:Yn(x)?x({type:d}):Qr("Toastify__toast-body",x),style:w},re!=null&&Pe.createElement("div",{className:Qr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Z})},re),Pe.createElement("div",null,l)),$,Pe.createElement(SA,{...M&&!z?{key:`pb-${M}`}:{},rtl:I,theme:le,delay:u,isRunning:e,isIn:W,closeToast:m,hide:p,type:d,style:k,className:C,controlledProgress:z,progress:O||0})))},tp=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},kA=ep(tp("bounce",!0));ep(tp("slide",!0));ep(tp("zoom"));ep(tp("flip"));const MA={position:"top-right",transition:kA,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function LA(t){let e={...MA,...t};const n=t.stacked,[i,r]=E.useState(!0),s=E.useRef(null),{getToastToRender:o,isToastActive:l,count:u}=bA(e),{className:h,style:d,rtl:p,containerId:m}=e;function _(y){const S=Qr("Toastify__toast-container",`Toastify__toast-container--${y}`,{"Toastify__toast-container--rtl":p});return Yn(h)?h({position:y,rtl:p,defaultClassName:S}):Qr(S,ld(h))}function v(){n&&(r(!0),Ye.play())}return TA(()=>{if(n){var y;const S=s.current.querySelectorAll('[data-in="true"]'),x=12,w=(y=e.position)==null?void 0:y.includes("top");let C=0,k=0;Array.from(S).reverse().forEach((M,T)=>{const O=M;O.classList.add("Toastify__toast--stacked"),T>0&&(O.dataset.collapsed=`${i}`),O.dataset.pos||(O.dataset.pos=w?"top":"bot");const I=C*(i?.2:1)+(i?0:x*T);O.style.setProperty("--y",`${w?I:-1*I}px`),O.style.setProperty("--g",`${x}`),O.style.setProperty("--s",""+(1-(i?k:0))),C+=O.offsetHeight,k+=.025})}},[i,u,n]),Pe.createElement("div",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{n&&(r(!1),Ye.pause())},onMouseLeave:v},o((y,S)=>{const x=S.length?{...d}:{...d,pointerEvents:"none"};return Pe.createElement("div",{className:_(y),style:x,key:`container-${y}`},S.map(w=>{let{content:C,props:k}=w;return Pe.createElement(PA,{...k,stacked:n,collapseAll:v,isIn:l(k.toastId,k.containerId),style:k.style,key:`toast-${k.key}`},C)}))}))}var fw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J=function(t,e){if(!t)throw Qa(e)},Qa=function(t){return new Error("Firebase Database ("+GT.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},IA=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],l=t[n++],u=((r&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},wy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,l=o?t[r+1]:0,u=r+2<t.length,h=u?t[r+2]:0,d=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|h>>6,_=h&63;u||(_=64,o||(m=64)),i.push(n[d],n[p],n[m],n[_])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):IA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const p=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||l==null||h==null||p==null)throw new OA;const m=s<<2|l>>4;if(i.push(m),h!==64){const _=l<<4&240|h>>2;if(i.push(_),p!==64){const v=h<<6&192|p;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XT=function(t){const e=KT(t);return wy.encodeByteArray(e,!0)},Jd=function(t){return XT(t).replace(/\./g,"")},S_=function(t){try{return wy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(t){return qT(void 0,t)}function qT(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!DA(n)||(t[n]=qT(t[n],e[n]));return t}function DA(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=()=>NA().__FIREBASE_DEFAULTS__,FA=()=>{if(typeof process>"u"||typeof fw>"u")return;const t=fw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&S_(t[1]);return e&&JSON.parse(e)},QT=()=>{try{return AA()||FA()||zA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BA=t=>{var e,n;return(n=(e=QT())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jA=t=>{const e=BA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},JT=()=>{var t;return(t=QT())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jd(JSON.stringify(n)),Jd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(HA())}function $A(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tP(){return GT.NODE_ADMIN===!0}function WA(){try{return typeof indexedDB=="object"}catch{return!1}}function UA(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="FirebaseError";class Ec extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=ZA,Object.setPrototypeOf(this,Ec.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nP.prototype.create)}}class nP{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?YA(s,i):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new Ec(r,l,i)}}function YA(t,e){return t.replace(GA,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const GA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){return JSON.parse(t)}function $t(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=function(t){let e={},n={},i={},r="";try{const s=t.split(".");e=Uu(S_(s[0])||""),n=Uu(S_(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:r}},KA=function(t){const e=iP(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},XA=function(t){const e=iP(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function za(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function pw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ef(t,e,n){const i={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i}function C_(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(mw(s)&&mw(o)){if(!C_(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function mw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)i[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)i[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const m=i[p-3]^i[p-8]^i[p-14]^i[p-16];i[p]=(m<<1|m>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],u=this.chain_[4],h,d;for(let p=0;p<80;p++){p<40?p<20?(h=l^s&(o^l),d=1518500249):(h=s^o^l,d=1859775393):p<60?(h=s&o|l&(s|o),d=2400959708):(h=s^o^l,d=3395469782);const m=(r<<5|r>>>27)+h+u+d+i[p]&4294967295;u=l,l=o,o=(s<<30|s>>>2)&4294967295,s=r,r=m}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let r=0;const s=this.buf_;let o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<n;)if(s[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=e[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e}}function np(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);if(r>=55296&&r<=56319){const s=r-55296;i++,J(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},ip=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){return t&&t._delegate?t._delegate:t}class Zu{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Cc;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n2(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:t2(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t2(t){return t===Us?void 0:t}function n2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new e2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ut||(ut={}));const r2={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},s2=ut.INFO,o2={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},a2=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=o2[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rP{constructor(e){this.name=e,this._logLevel=s2,this._logHandler=a2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const l2=(t,e)=>e.some(n=>t instanceof n);let gw,_w;function u2(){return gw||(gw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c2(){return _w||(_w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sP=new WeakMap,E_=new WeakMap,oP=new WeakMap,Vm=new WeakMap,Sy=new WeakMap;function h2(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ds(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sP.set(n,t)}).catch(()=>{}),Sy.set(e,t),e}function d2(t){if(E_.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});E_.set(t,e)}let T_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return E_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ds(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function f2(t){T_=t(T_)}function p2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Hm(this),e,...n);return oP.set(i,e.sort?e.sort():[e]),ds(i)}:c2().includes(t)?function(...e){return t.apply(Hm(this),e),ds(sP.get(this))}:function(...e){return ds(t.apply(Hm(this),e))}}function m2(t){return typeof t=="function"?p2(t):(t instanceof IDBTransaction&&d2(t),l2(t,u2())?new Proxy(t,T_):t)}function ds(t){if(t instanceof IDBRequest)return h2(t);if(Vm.has(t))return Vm.get(t);const e=m2(t);return e!==t&&(Vm.set(t,e),Sy.set(e,t)),e}const Hm=t=>Sy.get(t);function g2(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),l=ds(o);return i&&o.addEventListener("upgradeneeded",u=>{i(ds(o.result),u.oldVersion,u.newVersion,ds(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const _2=["get","getKey","getAll","getAllKeys","count"],v2=["put","add","delete","clear"],$m=new Map;function vw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($m.get(e))return $m.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=v2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||_2.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,r?"readwrite":"readonly");let h=u.store;return i&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),r&&u.done]))[0]};return $m.set(e,s),s}f2(t=>({...t,get:(e,n,i)=>vw(e,n)||t.get(e,n,i),has:(e,n)=>!!vw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function x2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const P_="@firebase/app",yw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new rP("@firebase/app"),b2="@firebase/app-compat",w2="@firebase/analytics-compat",S2="@firebase/analytics",C2="@firebase/app-check-compat",E2="@firebase/app-check",T2="@firebase/auth",P2="@firebase/auth-compat",k2="@firebase/database",M2="@firebase/data-connect",L2="@firebase/database-compat",I2="@firebase/functions",O2="@firebase/functions-compat",R2="@firebase/installations",D2="@firebase/installations-compat",N2="@firebase/messaging",A2="@firebase/messaging-compat",F2="@firebase/performance",z2="@firebase/performance-compat",B2="@firebase/remote-config",j2="@firebase/remote-config-compat",V2="@firebase/storage",H2="@firebase/storage-compat",$2="@firebase/firestore",W2="@firebase/vertexai-preview",U2="@firebase/firestore-compat",Z2="firebase",Y2="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="[DEFAULT]",G2={[P_]:"fire-core",[b2]:"fire-core-compat",[S2]:"fire-analytics",[w2]:"fire-analytics-compat",[E2]:"fire-app-check",[C2]:"fire-app-check-compat",[T2]:"fire-auth",[P2]:"fire-auth-compat",[k2]:"fire-rtdb",[M2]:"fire-data-connect",[L2]:"fire-rtdb-compat",[I2]:"fire-fn",[O2]:"fire-fn-compat",[R2]:"fire-iid",[D2]:"fire-iid-compat",[N2]:"fire-fcm",[A2]:"fire-fcm-compat",[F2]:"fire-perf",[z2]:"fire-perf-compat",[B2]:"fire-rc",[j2]:"fire-rc-compat",[V2]:"fire-gcs",[H2]:"fire-gcs-compat",[$2]:"fire-fst",[U2]:"fire-fst-compat",[W2]:"fire-vertex","fire-js":"fire-js",[Z2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new Map,K2=new Map,M_=new Map;function xw(t,e){try{t.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nf(t){const e=t.name;if(M_.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;M_.set(e,t);for(const n of tf.values())xw(n,t);for(const n of K2.values())xw(n,t);return!0}function X2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new nP("app","Firebase",q2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Zu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=Y2;function aP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:k_,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw fs.create("bad-app-name",{appName:String(r)});if(n||(n=JT()),!n)throw fs.create("no-options");const s=tf.get(r);if(s){if(C_(n,s.options)&&C_(i,s.config))return s;throw fs.create("duplicate-app",{appName:r})}const o=new i2(r);for(const u of M_.values())o.addComponent(u);const l=new Q2(n,i,o);return tf.set(r,l),l}function eF(t=k_){const e=tf.get(t);if(!e&&t===k_&&JT())return aP();if(!e)throw fs.create("no-app",{appName:t});return e}function wa(t,e,n){var i;let r=(i=G2[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(l.join(" "));return}nf(new Zu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF="firebase-heartbeat-database",nF=1,Yu="firebase-heartbeat-store";let Wm=null;function lP(){return Wm||(Wm=g2(tF,nF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw fs.create("idb-open",{originalErrorMessage:t.message})})),Wm}async function iF(t){try{const n=(await lP()).transaction(Yu),i=await n.objectStore(Yu).get(uP(t));return await n.done,i}catch(e){if(e instanceof Ec)Pr.warn(e.message);else{const n=fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(n.message)}}}async function bw(t,e){try{const i=(await lP()).transaction(Yu,"readwrite");await i.objectStore(Yu).put(e,uP(t)),await i.done}catch(n){if(n instanceof Ec)Pr.warn(n.message);else{const i=fs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pr.warn(i.message)}}}function uP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=1024,sF=30*24*60*60*1e3;class oF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lF(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ww();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=sF}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Pr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ww(),{heartbeatsToSend:i,unsentEntries:r}=aF(this._heartbeatsCache.heartbeats),s=Jd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Pr.warn(n),""}}}function ww(){return new Date().toISOString().substring(0,10)}function aF(t,e=rF){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Sw(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Sw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class lF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WA()?UA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return bw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return bw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Sw(t){return Jd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uF(t){nf(new Zu("platform-logger",e=>new y2(e),"PRIVATE")),nf(new Zu("heartbeat",e=>new oF(e),"PRIVATE")),wa(P_,yw,t),wa(P_,yw,"esm2017"),wa("fire-js","")}uF("");var cF="firebase",hF="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wa(cF,hF,"app");var Cw={};const Ew="@firebase/database",Tw="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cP="";function dF(t){cP=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),$t(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Uu(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ki(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new fF(e)}}catch{}return new pF},io=hP("localStorage"),mF=hP("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new rP("@firebase/database"),gF=function(){let t=1;return function(){return t++}}(),dP=function(t){const e=JA(t),n=new QA;n.update(e);const i=n.digest();return wy.encodeByteArray(i)},Tc=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Tc.apply(null,i):typeof i=="object"?e+=$t(i):e+=i,e+=" "}return e};let mu=null,Pw=!0;const _F=function(t,e){J(!e,"Can't turn on custom loggers persistently."),Sa.logLevel=ut.VERBOSE,mu=Sa.log.bind(Sa)},rn=function(...t){if(Pw===!0&&(Pw=!1,mu===null&&mF.get("logging_enabled")===!0&&_F()),mu){const e=Tc.apply(null,t);mu(e)}},Pc=function(t){return function(...e){rn(t,...e)}},L_=function(...t){const e="FIREBASE INTERNAL ERROR: "+Tc(...t);Sa.error(e)},kr=function(...t){const e=`FIREBASE FATAL ERROR: ${Tc(...t)}`;throw Sa.error(e),new Error(e)},En=function(...t){const e="FIREBASE WARNING: "+Tc(...t);Sa.warn(e)},vF=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&En("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Cy=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},yF=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ba="[MIN_NAME]",_o="[MAX_NAME]",To=function(t,e){if(t===e)return 0;if(t===Ba||e===_o)return-1;if(e===Ba||t===_o)return 1;{const n=kw(t),i=kw(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},xF=function(t,e){return t===e?0:t<e?-1:1},Rl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+$t(e))},Ey=function(t){if(typeof t!="object"||t===null)return $t(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=$t(e[i]),n+=":",n+=Ey(t[e[i]]);return n+="}",n},fP=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function an(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const pP=function(t){J(!Cy(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let r,s,o,l,u;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=l+i,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));const h=[];for(u=n;u;u-=1)h.push(o%2?1:0),o=Math.floor(o/2);for(u=e;u;u-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(r?1:0),h.reverse();const d=h.join("");let p="";for(u=0;u<64;u+=8){let m=parseInt(d.substr(u,8),2).toString(16);m.length===1&&(m="0"+m),p=p+m}return p.toLowerCase()},bF=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},wF=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function SF(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const CF=new RegExp("^-?(0*)\\d{1,10}$"),EF=-2147483648,TF=2147483647,kw=function(t){if(CF.test(t)){const e=Number(t);if(e>=EF&&e<=TF)return e}return null},Ja=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw En("Exception was thrown by user callback.",n),e},Math.floor(0))}},PF=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gu=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){En(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(rn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',En(e)}}class ud{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ud.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="5",mP="v",gP="s",_P="r",vP="f",yP=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xP="ls",bP="p",I_="ac",wP="websocket",SP="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n,i,r,s=!1,o="",l=!1,u=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=io.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&io.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function LF(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function EP(t,e,n){J(typeof e=="string","typeof type must == string"),J(typeof n=="object","typeof params must == object");let i;if(e===wP)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===SP)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);LF(t)&&(n.ns=t.namespace);const r=[];return an(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(){this.counters_={}}incrementCounter(e,n=1){Ki(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return RA(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um={},Zm={};function Py(t){const e=t.toString();return Um[e]||(Um[e]=new IF),Um[e]}function OF(t,e){const n=t.toString();return Zm[n]||(Zm[n]=e()),Zm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ja(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="start",DF="close",NF="pLPCommand",AF="pRTLPCB",TP="id",PP="pw",kP="ser",FF="cb",zF="seg",BF="ts",jF="d",VF="dframe",MP=1870,LP=30,HF=MP-LP,$F=25e3,WF=3e4;class ma{constructor(e,n,i,r,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pc(e),this.stats_=Py(n),this.urlFn=u=>(this.appCheckToken&&(u[I_]=this.appCheckToken),EP(n,SP,u))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new RF(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(WF)),yF(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ky((...s)=>{const[o,l,u,h,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Mw)this.id=l,this.password=u;else if(o===DF)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[Mw]="t",i[kP]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[FF]=this.scriptTagHolder.uniqueCallbackIdentifier),i[mP]=Ty,this.transportSessionId&&(i[gP]=this.transportSessionId),this.lastSessionId&&(i[xP]=this.lastSessionId),this.applicationId&&(i[bP]=this.applicationId),this.appCheckToken&&(i[I_]=this.appCheckToken),typeof location<"u"&&location.hostname&&yP.test(location.hostname)&&(i[_P]=vP);const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ma.forceAllow_=!0}static forceDisallow(){ma.forceDisallow_=!0}static isAvailable(){return ma.forceAllow_?!0:!ma.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!bF()&&!wF()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=$t(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=XT(n),r=fP(i,HF);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[VF]="t",i[TP]=e,i[PP]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=$t(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ky{constructor(e,n,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=gF(),window[NF+this.uniqueCallbackIdentifier]=e,window[AF+this.uniqueCallbackIdentifier]=n,this.myIFrame=ky.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){rn("frame writing exception"),l.stack&&rn(l.stack),rn(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||rn("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[TP]=this.myID,e[PP]=this.myPW,e[kP]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+LP+i.length<=MP;){const o=this.pendingSegs.shift();i=i+"&"+zF+r+"="+o.seg+"&"+BF+r+"="+o.ts+"&"+jF+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor($F)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{rn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=16384,ZF=45e3;let rf=null;typeof MozWebSocket<"u"?rf=MozWebSocket:typeof WebSocket<"u"&&(rf=WebSocket);class Si{constructor(e,n,i,r,s,o,l){this.connId=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pc(this.connId),this.stats_=Py(n),this.connURL=Si.connectionURL_(n,o,l,r,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,r,s){const o={};return o[mP]=Ty,typeof location<"u"&&location.hostname&&yP.test(location.hostname)&&(o[_P]=vP),n&&(o[gP]=n),i&&(o[xP]=i),r&&(o[I_]=r),s&&(o[bP]=s),EP(e,wP,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,io.set("previous_websocket_failure",!0);try{let i;tP(),this.mySock=new rf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const r=i.message||i.data;r&&this.log_(r),this.onClosed_()}}start(){}static forceDisallow(){Si.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&rf!==null&&!Si.forceDisallow_}static previouslyFailed(){return io.isInMemoryStorage||io.get("previous_websocket_failure")===!0}markConnectionHealthy(){io.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Uu(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(J(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=$t(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=fP(n,UF);i.length>1&&this.sendString_(String(i.length));for(let r=0;r<i.length;r++)this.sendString_(i[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ZF))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Si.responsesRequiredToBeHealthy=2;Si.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ma,Si]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Si&&Si.isAvailable();let i=n&&!Si.previouslyFailed();if(e.webSocketOnly&&(n||En("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Si];else{const r=this.transports_=[];for(const s of Gu.ALL_TRANSPORTS)s&&s.isAvailable()&&r.push(s);Gu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Gu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=6e4,GF=5e3,KF=10*1024,XF=100*1024,Ym="t",Lw="d",qF="s",Iw="r",QF="e",Ow="o",Rw="a",Dw="n",Nw="p",JF="h";class ez{constructor(e,n,i,r,s,o,l,u,h,d){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=u,this.onKill_=h,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pc("c:"+this.id+":"),this.transportManager_=new Gu(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=gu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>XF?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>KF?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ym in e){const n=e[Ym];n===Rw?this.upgradeIfSecondaryHealthy_():n===Iw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ow&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Rl("t",e),i=Rl("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Nw,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Rw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Dw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Rl("t",e),i=Rl("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Rl(Ym,e);if(Lw in e){const i=e[Lw];if(n===JF){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===Dw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===qF?this.onConnectionShutdown_(i):n===Iw?this.onReset_(i):n===QF?L_("Server Error: "+i):n===Ow?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):L_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ty!==i&&En("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),gu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(YF))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(GF))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Nw,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(io.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.allowedEvents_=e,this.listeners_={},J(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){J(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends OP{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!eP()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new sf}getInitialEvent(e){return J(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=32,Fw=768;class tt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ue(){return new tt("")}function De(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ys(t){return t.pieces_.length-t.pieceNum_}function ct(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new tt(t.pieces_,e)}function My(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function tz(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ku(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function RP(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new tt(e,0)}function Pt(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof tt)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new tt(n,0)}function Fe(t){return t.pieceNum_>=t.pieces_.length}function Sn(t,e){const n=De(t),i=De(e);if(n===null)return e;if(n===i)return Sn(ct(t),ct(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function nz(t,e){const n=Ku(t,0),i=Ku(e,0);for(let r=0;r<n.length&&r<i.length;r++){const s=To(n[r],i[r]);if(s!==0)return s}return n.length===i.length?0:n.length<i.length?-1:1}function Ly(t,e){if(ys(t)!==ys(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function li(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(ys(t)>ys(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class iz{constructor(e,n){this.errorPrefix_=n,this.parts_=Ku(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ip(this.parts_[i]);DP(this)}}function rz(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ip(e),DP(t)}function sz(t){const e=t.parts_.pop();t.byteLength_-=ip(e),t.parts_.length>0&&(t.byteLength_-=1)}function DP(t){if(t.byteLength_>Fw)throw new Error(t.errorPrefix_+"has a key path longer than "+Fw+" bytes ("+t.byteLength_+").");if(t.parts_.length>Aw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Aw+") or object contains a cycle "+Zs(t))}function Zs(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy extends OP{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Iy}getInitialEvent(e){return J(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=1e3,oz=60*5*1e3,zw=30*1e3,az=1.3,lz=3e4,uz="server_kill",Bw=3;class yr extends IP{constructor(e,n,i,r,s,o,l,u){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=r,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=yr.nextPersistentConnectionId_++,this.log_=Pc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Dl,this.maxReconnectDelay_=oz,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u&&!tP())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Iy.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&sf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const r=++this.requestNumber_,s={r,a:e,b:n};this.log_($t(s)),J(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[r]=i)}get(e){this.initConnection_();const n=new Cc,r={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,i,r){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),J(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),J(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:r,hashFn:n,query:e,tag:i};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),r=n._queryIdentifier;this.log_("Listen on "+i+" for "+r);const s={p:i},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const u=l.d,h=l.s;yr.warnOnListenWarnings_(u,n),(this.listens.get(i)&&this.listens.get(i).get(r))===e&&(this.log_("listen response",l),h!=="ok"&&this.removeListen_(i,r),e.onComplete&&e.onComplete(h,u))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ki(e,"w")){const i=za(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const r='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();En(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${r} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||XA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zw)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=KA(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,r=>{const s=r.s,o=r.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+r),J(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,r)&&this.connected_&&this.sendUnlisten_(i,r,e._queryObject,n)}sendUnlisten_(e,n,i,r){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";r&&(s.q=i,s.t=r),this.sendRequest(o,s)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,r){const s={p:n,d:i};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{r&&setTimeout(()=>{r(o.s,o.d)},Math.floor(0))})}put(e,n,i,r){this.putInternal("p",e,n,i,r)}merge(e,n,i,r){this.putInternal("m",e,n,i,r)}putInternal(e,n,i,r,s){this.initConnection_();const o={p:n,d:i};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),r&&r(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+$t(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):L_("Unrecognized action received from server: "+$t(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){J(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Dl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Dl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lz&&(this.reconnectDelay_=Dl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*az)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+yr.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const u=function(){l?l.close():(o=!0,i())},h=function(p){J(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(p)};this.realtime_={close:u,sendRequest:h};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,m]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?rn("getToken() completed but was canceled"):(rn("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=m&&m.token,l=new ez(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,_=>{En(_+" ("+this.repoInfo_.toString()+")"),this.interrupt(uz)},s))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&En(p),u())}}}interrupt(e){rn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){rn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],pw(this.interruptReasons_)&&(this.reconnectDelay_=Dl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(s=>Ey(s)).join("$"):i="default";const r=this.removeListen_(e,i);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,n){const i=new tt(e).toString();let r;if(this.listens.has(i)){const s=this.listens.get(i);r=s.get(n),s.delete(n),s.size===0&&this.listens.delete(i)}else r=void 0;return r}onAuthRevoked_(e,n){rn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Bw&&(this.reconnectDelay_=zw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){rn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Bw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+cP.replace(/\./g,"-")]=1,eP()?e["framework.cordova"]=1:$A()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=sf.getInstance().currentlyOnline();return pw(this.interruptReasons_)&&e}}yr.nextPersistentConnectionId_=0;yr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ne(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new Ne(Ba,e),r=new Ne(Ba,n);return this.compare(i,r)!==0}minPost(){return Ne.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh;class NP extends rp{static get __EMPTY_NODE(){return Eh}static set __EMPTY_NODE(e){Eh=e}compare(e,n){return To(e.name,n.name)}isDefinedOn(e){throw Qa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ne.MIN}maxPost(){return new Ne(_o,Eh)}makePost(e,n){return J(typeof e=="string","KeyIndex indexValue must always be a string."),new Ne(e,Eh)}toString(){return".key"}}const Ca=new NP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Xt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??Xt.RED,this.left=r??An.EMPTY_NODE,this.right=s??An.EMPTY_NODE}copy(e,n,i,r,s){return new Xt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return s<0?r=r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r=r.copy(null,n,null,null,null):r=r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return An.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,r;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return An.EMPTY_NODE;r=i.right.min_(),i=i.copy(r.key,r.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Xt.RED=!0;Xt.BLACK=!1;class cz{copy(e,n,i,r,s){return this}insert(e,n,i){return new Xt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class An{constructor(e,n=An.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new An(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Xt.BLACK,null,null))}remove(e){return new An(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Th(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Th(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Th(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Th(this.root_,null,this.comparator_,!0,e)}}An.EMPTY_NODE=new cz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hz(t,e){return To(t.name,e.name)}function Oy(t,e){return To(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O_;function dz(t){O_=t}const AP=function(t){return typeof t=="number"?"number:"+pP(t):"string:"+t},FP=function(t){if(t.isLeafNode()){const e=t.val();J(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ki(e,".sv"),"Priority must be a string or number.")}else J(t===O_||t.isEmpty(),"priority of unexpected type.");J(t===O_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jw;class Gt{constructor(e,n=Gt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,J(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),FP(this.priorityNode_)}static set __childrenNodeConstructor(e){jw=e}static get __childrenNodeConstructor(){return jw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Gt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Gt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Fe(e)?this:De(e)===".priority"?this.priorityNode_:Gt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Gt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=De(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(J(i!==".priority"||ys(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Gt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ct(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+AP(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=pP(this.value_):e+=this.value_,this.lazyHash_=dP(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Gt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Gt.__childrenNodeConstructor?-1:(J(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,r=Gt.VALUE_TYPE_ORDER.indexOf(n),s=Gt.VALUE_TYPE_ORDER.indexOf(i);return J(r>=0,"Unknown leaf type: "+n),J(s>=0,"Unknown leaf type: "+i),r===s?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Gt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zP,BP;function fz(t){zP=t}function pz(t){BP=t}class mz extends rp{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?To(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ne.MIN}maxPost(){return new Ne(_o,new Gt("[PRIORITY-POST]",BP))}makePost(e,n){const i=zP(e);return new Ne(n,new Gt("[PRIORITY-POST]",i))}toString(){return".priority"}}const kt=new mz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=Math.log(2);class _z{constructor(e){const n=s=>parseInt(Math.log(s)/gz,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const of=function(t,e,n,i){t.sort(e);const r=function(u,h){const d=h-u;let p,m;if(d===0)return null;if(d===1)return p=t[u],m=n?n(p):p,new Xt(m,p.node,Xt.BLACK,null,null);{const _=parseInt(d/2,10)+u,v=r(u,_),y=r(_+1,h);return p=t[_],m=n?n(p):p,new Xt(m,p.node,Xt.BLACK,v,y)}},s=function(u){let h=null,d=null,p=t.length;const m=function(v,y){const S=p-v,x=p;p-=v;const w=r(S+1,x),C=t[S],k=n?n(C):C;_(new Xt(k,C.node,y,null,w))},_=function(v){h?(h.left=v,h=v):(d=v,h=v)};for(let v=0;v<u.count;++v){const y=u.nextBitIsOne(),S=Math.pow(2,u.count-(v+1));y?m(S,Xt.BLACK):(m(S,Xt.BLACK),m(S,Xt.RED))}return d},o=new _z(t.length),l=s(o);return new An(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gm;const qo={};class fr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return J(qo&&kt,"ChildrenNode.ts has not been loaded"),Gm=Gm||new fr({".priority":qo},{".priority":kt}),Gm}get(e){const n=za(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof An?n:null}hasIndex(e){return Ki(this.indexSet_,e.toString())}addIndex(e,n){J(e!==Ca,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(Ne.Wrap);let o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let l;r?l=of(i,e.getCompare()):l=qo;const u=e.toString(),h=Object.assign({},this.indexSet_);h[u]=e;const d=Object.assign({},this.indexes_);return d[u]=l,new fr(d,h)}addToIndexes(e,n){const i=ef(this.indexes_,(r,s)=>{const o=za(this.indexSet_,s);if(J(o,"Missing index implementation for "+s),r===qo)if(o.isDefinedOn(e.node)){const l=[],u=n.getIterator(Ne.Wrap);let h=u.getNext();for(;h;)h.name!==e.name&&l.push(h),h=u.getNext();return l.push(e),of(l,o.getCompare())}else return qo;else{const l=n.get(e.name);let u=r;return l&&(u=u.remove(new Ne(e.name,l))),u.insert(e,e.node)}});return new fr(i,this.indexSet_)}removeFromIndexes(e,n){const i=ef(this.indexes_,r=>{if(r===qo)return r;{const s=n.get(e.name);return s?r.remove(new Ne(e.name,s)):r}});return new fr(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl;class be{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&FP(this.priorityNode_),this.children_.isEmpty()&&J(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Nl||(Nl=new be(new An(Oy),null,fr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Nl}updatePriority(e){return this.children_.isEmpty()?this:new be(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Nl:n}}getChild(e){const n=De(e);return n===null?this:this.getImmediateChild(n).getChild(ct(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(J(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new Ne(e,n);let r,s;n.isEmpty()?(r=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_));const o=r.isEmpty()?Nl:this.priorityNode_;return new be(r,o,s)}}updateChild(e,n){const i=De(e);if(i===null)return n;{J(De(e)!==".priority"||ys(e)===1,".priority must be the last token in a path");const r=this.getImmediateChild(i).updateChild(ct(e),n);return this.updateImmediateChild(i,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,r=0,s=!0;if(this.forEachChild(kt,(o,l)=>{n[o]=l.val(e),i++,s&&be.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):s=!1}),!e&&s&&r<2*i){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+AP(this.getPriority().val())+":"),this.forEachChild(kt,(n,i)=>{const r=i.hash();r!==""&&(e+=":"+n+":"+r)}),this.lazyHash_=e===""?"":dP(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const r=this.resolveIndex_(i);if(r){const s=r.getPredecessorKey(new Ne(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ne(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ne(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(r=>n(r.name,r.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,r=>r);{const r=this.children_.getIteratorFrom(e.name,Ne.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)<0;)r.getNext(),s=r.peek();return r}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,r=>r);{const r=this.children_.getReverseIteratorFrom(e.name,Ne.Wrap);let s=r.peek();for(;s!=null&&n.compare(s,e)>0;)r.getNext(),s=r.peek();return r}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===kc?-1:0}withIndex(e){if(e===Ca||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new be(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ca||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(kt),r=n.getIterator(kt);let s=i.getNext(),o=r.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=i.getNext(),o=r.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ca?null:this.indexMap_.get(e.toString())}}be.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vz extends be{constructor(){super(new An(Oy),be.EMPTY_NODE,fr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return be.EMPTY_NODE}isEmpty(){return!1}}const kc=new vz;Object.defineProperties(Ne,{MIN:{value:new Ne(Ba,be.EMPTY_NODE)},MAX:{value:new Ne(_o,kc)}});NP.__EMPTY_NODE=be.EMPTY_NODE;Gt.__childrenNodeConstructor=be;dz(kc);pz(kc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=!0;function Ht(t,e=null){if(t===null)return be.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),J(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Gt(n,Ht(e))}if(!(t instanceof Array)&&yz){const n=[];let i=!1;if(an(t,(o,l)=>{if(o.substring(0,1)!=="."){const u=Ht(l);u.isEmpty()||(i=i||!u.getPriority().isEmpty(),n.push(new Ne(o,u)))}}),n.length===0)return be.EMPTY_NODE;const s=of(n,hz,o=>o.name,Oy);if(i){const o=of(n,kt.getCompare());return new be(s,Ht(e),new fr({".priority":o},{".priority":kt}))}else return new be(s,Ht(e),fr.Default)}else{let n=be.EMPTY_NODE;return an(t,(i,r)=>{if(Ki(t,i)&&i.substring(0,1)!=="."){const s=Ht(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(Ht(e))}}fz(Ht);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xz extends rp{constructor(e){super(),this.indexPath_=e,J(!Fe(e)&&De(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?To(e.name,n.name):s}makePost(e,n){const i=Ht(e),r=be.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ne(n,r)}maxPost(){const e=be.EMPTY_NODE.updateChild(this.indexPath_,kc);return new Ne(_o,e)}toString(){return Ku(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz extends rp{compare(e,n){const i=e.node.compareTo(n.node);return i===0?To(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ne.MIN}maxPost(){return Ne.MAX}makePost(e,n){const i=Ht(e);return new Ne(n,i)}toString(){return".value"}}const wz=new bz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t){return{type:"value",snapshotNode:t}}function ja(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Xu(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function qu(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Sz(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this.index_=e}updateChild(e,n,i,r,s,o){J(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(r).equals(i.getChild(r))&&l.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(Xu(n,l)):J(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(ja(n,i)):o.trackChildChange(qu(n,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(kt,(r,s)=>{n.hasChild(r)||i.trackChildChange(Xu(r,s))}),n.isLeafNode()||n.forEachChild(kt,(r,s)=>{if(e.hasChild(r)){const o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(qu(r,s,o))}else i.trackChildChange(ja(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?be.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e){this.indexedFilter_=new Ry(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Qu.getStartPost_(e),this.endPost_=Qu.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,o){return this.matches(new Ne(n,i))||(i=be.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=be.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(be.EMPTY_NODE);const s=this;return n.forEachChild(kt,(o,l)=>{s.matches(new Ne(o,l))||(r=r.updateImmediateChild(o,be.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Qu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,o){return this.rangedFilter_.matches(new Ne(n,i))||(i=be.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,o):this.fullLimitUpdateChild_(e,n,i,s,o)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=be.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=be.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))r=r.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(be.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:r=r.updateImmediateChild(l.name,be.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let o;if(this.reverse_){const p=this.index_.getCompare();o=(m,_)=>p(_,m)}else o=this.index_.getCompare();const l=e;J(l.numChildren()===this.limit_,"");const u=new Ne(n,i),h=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(u);if(l.hasChild(n)){const p=l.getImmediateChild(n);let m=r.getChildAfterChild(this.index_,h,this.reverse_);for(;m!=null&&(m.name===n||l.hasChild(m.name));)m=r.getChildAfterChild(this.index_,m,this.reverse_);const _=m==null?1:o(m,u);if(d&&!i.isEmpty()&&_>=0)return s!=null&&s.trackChildChange(qu(n,i,p)),l.updateImmediateChild(n,i);{s!=null&&s.trackChildChange(Xu(n,p));const y=l.updateImmediateChild(n,be.EMPTY_NODE);return m!=null&&this.rangedFilter_.matches(m)?(s!=null&&s.trackChildChange(ja(m.name,m.node)),y.updateImmediateChild(m.name,m.node)):y}}else return i.isEmpty()?e:d&&o(h,u)>=0?(s!=null&&(s.trackChildChange(Xu(h.name,h.node)),s.trackChildChange(ja(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(h.name,be.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return J(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return J(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ba}hasEnd(){return this.endSet_}getIndexEndValue(){return J(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return J(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_o}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return J(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===kt}copy(){const e=new Dy;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Ez(t){return t.loadsAllData()?new Ry(t.getIndex()):t.hasLimit()?new Cz(t):new Qu(t)}function Vw(t){const e={};if(t.isDefault())return e;let n;if(t.index_===kt?n="$priority":t.index_===wz?n="$value":t.index_===Ca?n="$key":(J(t.index_ instanceof xz,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=$t(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=$t(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+$t(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=$t(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+$t(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Hw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==kt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af extends IP{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Pc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(J(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=af.getListenId_(e,i),l={};this.listens_[o]=l;const u=Vw(e._queryParams);this.restRequest_(s+".json",u,(h,d)=>{let p=d;if(h===404&&(p=null,h=null),h===null&&this.onDataUpdate_(s,p,!1,i),za(this.listens_,o)===l){let m;h?h===401?m="permission_denied":m="rest_error:"+h:m="ok",r(m,null)}})}unlisten(e,n){const i=af.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Vw(e._queryParams),i=e._path.toString(),r=new Cc;return this.restRequest_(i+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(i,l,!1,null),r.resolve(l)):r.reject(new Error(l))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+qA(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let u=null;if(l.status>=200&&l.status<300){try{u=Uu(l.responseText)}catch{En("Failed to parse JSON response for "+o+": "+l.responseText)}i(null,u)}else l.status!==401&&l.status!==404&&En("Got unsuccessful REST response for "+o+" Status: "+l.status),i(l.status);i=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(){this.rootNode_=be.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(){return{value:null,children:new Map}}function VP(t,e,n){if(Fe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=De(e);t.children.has(i)||t.children.set(i,lf());const r=t.children.get(i);e=ct(e),VP(r,e,n)}}function R_(t,e,n){t.value!==null?n(e,t.value):Pz(t,(i,r)=>{const s=new tt(e.toString()+"/"+i);R_(r,s,n)})}function Pz(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&an(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=10*1e3,Mz=30*1e3,Lz=5*60*1e3;class Iz{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new kz(e);const i=$w+(Mz-$w)*Math.random();gu(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;an(e,(r,s)=>{s>0&&Ki(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),gu(this.reportStats_.bind(this),Math.floor(Math.random()*2*Lz))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ci||(Ci={}));function Ny(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ay(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Fy(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Ci.ACK_USER_WRITE,this.source=Ny()}operationForChild(e){if(Fe(this.path)){if(this.affectedTree.value!=null)return J(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new tt(e));return new uf(Ue(),n,this.revert)}}else return J(De(this.path)===e,"operationForChild called for unrelated child."),new uf(ct(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this.source=e,this.path=n,this.type=Ci.LISTEN_COMPLETE}operationForChild(e){return Fe(this.path)?new Ju(this.source,Ue()):new Ju(this.source,ct(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Ci.OVERWRITE}operationForChild(e){return Fe(this.path)?new vo(this.source,Ue(),this.snap.getImmediateChild(e)):new vo(this.source,ct(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Ci.MERGE}operationForChild(e){if(Fe(this.path)){const n=this.children.subtree(new tt(e));return n.isEmpty()?null:n.value?new vo(this.source,Ue(),n.value):new Va(this.source,Ue(),n)}else return J(De(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Va(this.source,ct(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Fe(e))return this.isFullyInitialized()&&!this.filtered_;const n=De(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Rz(t,e,n,i){const r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Sz(o.childName,o.snapshotNode))}),Al(t,r,"child_removed",e,i,n),Al(t,r,"child_added",e,i,n),Al(t,r,"child_moved",s,i,n),Al(t,r,"child_changed",e,i,n),Al(t,r,"value",e,i,n),r}function Al(t,e,n,i,r,s){const o=i.filter(l=>l.type===n);o.sort((l,u)=>Nz(t,l,u)),o.forEach(l=>{const u=Dz(t,l,s);r.forEach(h=>{h.respondsTo(l.type)&&e.push(h.createEvent(u,t.query_))})})}function Dz(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Nz(t,e,n){if(e.childName==null||n.childName==null)throw Qa("Should only compare child_ events.");const i=new Ne(e.childName,e.snapshotNode),r=new Ne(n.childName,n.snapshotNode);return t.index_.compare(i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t,e){return{eventCache:t,serverCache:e}}function _u(t,e,n,i){return sp(new xs(e,n,i),t.serverCache)}function HP(t,e,n,i){return sp(t.eventCache,new xs(e,n,i))}function cf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function yo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Km;const Az=()=>(Km||(Km=new An(xF)),Km);class at{constructor(e,n=Az()){this.value=e,this.children=n}static fromObject(e){let n=new at(null);return an(e,(i,r)=>{n=n.set(new tt(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ue(),value:this.value};if(Fe(e))return null;{const i=De(e),r=this.children.get(i);if(r!==null){const s=r.findRootMostMatchingPathAndValue(ct(e),n);return s!=null?{path:Pt(new tt(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Fe(e))return this;{const n=De(e),i=this.children.get(n);return i!==null?i.subtree(ct(e)):new at(null)}}set(e,n){if(Fe(e))return new at(n,this.children);{const i=De(e),s=(this.children.get(i)||new at(null)).set(ct(e),n),o=this.children.insert(i,s);return new at(this.value,o)}}remove(e){if(Fe(e))return this.children.isEmpty()?new at(null):new at(null,this.children);{const n=De(e),i=this.children.get(n);if(i){const r=i.remove(ct(e));let s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new at(null):new at(this.value,s)}else return this}}get(e){if(Fe(e))return this.value;{const n=De(e),i=this.children.get(n);return i?i.get(ct(e)):null}}setTree(e,n){if(Fe(e))return n;{const i=De(e),s=(this.children.get(i)||new at(null)).setTree(ct(e),n);let o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new at(this.value,o)}}fold(e){return this.fold_(Ue(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Pt(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Ue(),n)}findOnPath_(e,n,i){const r=this.value?i(n,this.value):!1;if(r)return r;if(Fe(e))return null;{const s=De(e),o=this.children.get(s);return o?o.findOnPath_(ct(e),Pt(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ue(),n)}foreachOnPath_(e,n,i){if(Fe(e))return this;{this.value&&i(n,this.value);const r=De(e),s=this.children.get(r);return s?s.foreachOnPath_(ct(e),Pt(n,r),i):new at(null)}}foreach(e){this.foreach_(Ue(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Pt(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.writeTree_=e}static empty(){return new ki(new at(null))}}function vu(t,e,n){if(Fe(e))return new ki(new at(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const r=i.path;let s=i.value;const o=Sn(r,e);return s=s.updateChild(o,n),new ki(t.writeTree_.set(r,s))}else{const r=new at(n),s=t.writeTree_.setTree(e,r);return new ki(s)}}}function D_(t,e,n){let i=t;return an(n,(r,s)=>{i=vu(i,Pt(e,r),s)}),i}function Ww(t,e){if(Fe(e))return ki.empty();{const n=t.writeTree_.setTree(e,new at(null));return new ki(n)}}function N_(t,e){return Po(t,e)!=null}function Po(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Sn(n.path,e)):null}function Uw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(kt,(i,r)=>{e.push(new Ne(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new Ne(i,r.value))}),e}function ps(t,e){if(Fe(e))return t;{const n=Po(t,e);return n!=null?new ki(new at(n)):new ki(t.writeTree_.subtree(e))}}function A_(t){return t.writeTree_.isEmpty()}function Ha(t,e){return $P(Ue(),t.writeTree_,e)}function $P(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(J(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=$P(Pt(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Pt(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t,e){return YP(e,t)}function Fz(t,e,n,i,r){J(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=vu(t.visibleWrites,e,n)),t.lastWriteId=i}function zz(t,e,n,i){J(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=D_(t.visibleWrites,e,n),t.lastWriteId=i}function Bz(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function jz(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);J(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&Vz(l,i.path)?r=!1:li(i.path,l.path)&&(s=!0)),o--}if(r){if(s)return Hz(t),!0;if(i.snap)t.visibleWrites=Ww(t.visibleWrites,i.path);else{const l=i.children;an(l,u=>{t.visibleWrites=Ww(t.visibleWrites,Pt(i.path,u))})}return!0}else return!1}function Vz(t,e){if(t.snap)return li(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&li(Pt(t.path,n),e))return!0;return!1}function Hz(t){t.visibleWrites=WP(t.allWrites,$z,Ue()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function $z(t){return t.visible}function WP(t,e,n){let i=ki.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const o=s.path;let l;if(s.snap)li(n,o)?(l=Sn(n,o),i=vu(i,l,s.snap)):li(o,n)&&(l=Sn(o,n),i=vu(i,Ue(),s.snap.getChild(l)));else if(s.children){if(li(n,o))l=Sn(n,o),i=D_(i,l,s.children);else if(li(o,n))if(l=Sn(o,n),Fe(l))i=D_(i,Ue(),s.children);else{const u=za(s.children,De(l));if(u){const h=u.getChild(ct(l));i=vu(i,Ue(),h)}}}else throw Qa("WriteRecord should have .snap or .children")}}return i}function UP(t,e,n,i,r){if(!i&&!r){const s=Po(t.visibleWrites,e);if(s!=null)return s;{const o=ps(t.visibleWrites,e);if(A_(o))return n;if(n==null&&!N_(o,Ue()))return null;{const l=n||be.EMPTY_NODE;return Ha(o,l)}}}else{const s=ps(t.visibleWrites,e);if(!r&&A_(s))return n;if(!r&&n==null&&!N_(s,Ue()))return null;{const o=function(h){return(h.visible||r)&&(!i||!~i.indexOf(h.writeId))&&(li(h.path,e)||li(e,h.path))},l=WP(t.allWrites,o,e),u=n||be.EMPTY_NODE;return Ha(l,u)}}}function Wz(t,e,n){let i=be.EMPTY_NODE;const r=Po(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(kt,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){const s=ps(t.visibleWrites,e);return n.forEachChild(kt,(o,l)=>{const u=Ha(ps(s,new tt(o)),l);i=i.updateImmediateChild(o,u)}),Uw(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const s=ps(t.visibleWrites,e);return Uw(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function Uz(t,e,n,i,r){J(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Pt(e,n);if(N_(t.visibleWrites,s))return null;{const o=ps(t.visibleWrites,s);return A_(o)?r.getChild(n):Ha(o,r.getChild(n))}}function Zz(t,e,n,i){const r=Pt(e,n),s=Po(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){const o=ps(t.visibleWrites,r);return Ha(o,i.getNode().getImmediateChild(n))}else return null}function Yz(t,e){return Po(t.visibleWrites,e)}function Gz(t,e,n,i,r,s,o){let l;const u=ps(t.visibleWrites,e),h=Po(u,Ue());if(h!=null)l=h;else if(n!=null)l=Ha(u,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],p=o.getCompare(),m=s?l.getReverseIteratorFrom(i,o):l.getIteratorFrom(i,o);let _=m.getNext();for(;_&&d.length<r;)p(_,i)!==0&&d.push(_),_=m.getNext();return d}else return[]}function Kz(){return{visibleWrites:ki.empty(),allWrites:[],lastWriteId:-1}}function hf(t,e,n,i){return UP(t.writeTree,t.treePath,e,n,i)}function zy(t,e){return Wz(t.writeTree,t.treePath,e)}function Zw(t,e,n,i){return Uz(t.writeTree,t.treePath,e,n,i)}function df(t,e){return Yz(t.writeTree,Pt(t.treePath,e))}function Xz(t,e,n,i,r,s){return Gz(t.writeTree,t.treePath,e,n,i,r,s)}function By(t,e,n){return Zz(t.writeTree,t.treePath,e,n)}function ZP(t,e){return YP(Pt(t.treePath,e),t.writeTree)}function YP(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;J(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),J(i!==".priority","Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,qu(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,Xu(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,ja(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,qu(i,e.snapshotNode,r.oldSnap));else throw Qa("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const GP=new Qz;class jy{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new xs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return By(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:yo(this.viewCache_),s=Xz(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(t){return{filter:t}}function eB(t,e){J(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),J(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function tB(t,e,n,i,r){const s=new qz;let o,l;if(n.type===Ci.OVERWRITE){const h=n;h.source.fromUser?o=F_(t,e,h.path,h.snap,i,r,s):(J(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered()&&!Fe(h.path),o=ff(t,e,h.path,h.snap,i,r,l,s))}else if(n.type===Ci.MERGE){const h=n;h.source.fromUser?o=iB(t,e,h.path,h.children,i,r,s):(J(h.source.fromServer,"Unknown source."),l=h.source.tagged||e.serverCache.isFiltered(),o=z_(t,e,h.path,h.children,i,r,l,s))}else if(n.type===Ci.ACK_USER_WRITE){const h=n;h.revert?o=oB(t,e,h.path,i,r,s):o=rB(t,e,h.path,h.affectedTree,i,r,s)}else if(n.type===Ci.LISTEN_COMPLETE)o=sB(t,e,n.path,i,s);else throw Qa("Unknown operation type: "+n.type);const u=s.getChanges();return nB(e,o,u),{viewCache:o,changes:u}}function nB(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=cf(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(jP(cf(e)))}}function KP(t,e,n,i,r,s){const o=e.eventCache;if(df(i,n)!=null)return e;{let l,u;if(Fe(n))if(J(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const h=yo(e),d=h instanceof be?h:be.EMPTY_NODE,p=zy(i,d);l=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const h=hf(i,yo(e));l=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const h=De(n);if(h===".priority"){J(ys(n)===1,"Can't have a priority with additional path components");const d=o.getNode();u=e.serverCache.getNode();const p=Zw(i,n,d,u);p!=null?l=t.filter.updatePriority(d,p):l=o.getNode()}else{const d=ct(n);let p;if(o.isCompleteForChild(h)){u=e.serverCache.getNode();const m=Zw(i,n,o.getNode(),u);m!=null?p=o.getNode().getImmediateChild(h).updateChild(d,m):p=o.getNode().getImmediateChild(h)}else p=By(i,h,e.serverCache);p!=null?l=t.filter.updateChild(o.getNode(),h,p,d,r,s):l=o.getNode()}}return _u(e,l,o.isFullyInitialized()||Fe(n),t.filter.filtersNodes())}}function ff(t,e,n,i,r,s,o,l){const u=e.serverCache;let h;const d=o?t.filter:t.filter.getIndexedFilter();if(Fe(n))h=d.updateFullNode(u.getNode(),i,null);else if(d.filtersNodes()&&!u.isFiltered()){const _=u.getNode().updateChild(n,i);h=d.updateFullNode(u.getNode(),_,null)}else{const _=De(n);if(!u.isCompleteForPath(n)&&ys(n)>1)return e;const v=ct(n),S=u.getNode().getImmediateChild(_).updateChild(v,i);_===".priority"?h=d.updatePriority(u.getNode(),S):h=d.updateChild(u.getNode(),_,S,v,GP,null)}const p=HP(e,h,u.isFullyInitialized()||Fe(n),d.filtersNodes()),m=new jy(r,p,s);return KP(t,p,n,r,m,l)}function F_(t,e,n,i,r,s,o){const l=e.eventCache;let u,h;const d=new jy(r,e,s);if(Fe(n))h=t.filter.updateFullNode(e.eventCache.getNode(),i,o),u=_u(e,h,!0,t.filter.filtersNodes());else{const p=De(n);if(p===".priority")h=t.filter.updatePriority(e.eventCache.getNode(),i),u=_u(e,h,l.isFullyInitialized(),l.isFiltered());else{const m=ct(n),_=l.getNode().getImmediateChild(p);let v;if(Fe(m))v=i;else{const y=d.getCompleteChild(p);y!=null?My(m)===".priority"&&y.getChild(RP(m)).isEmpty()?v=y:v=y.updateChild(m,i):v=be.EMPTY_NODE}if(_.equals(v))u=e;else{const y=t.filter.updateChild(l.getNode(),p,v,m,d,o);u=_u(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return u}function Yw(t,e){return t.eventCache.isCompleteForChild(e)}function iB(t,e,n,i,r,s,o){let l=e;return i.foreach((u,h)=>{const d=Pt(n,u);Yw(e,De(d))&&(l=F_(t,l,d,h,r,s,o))}),i.foreach((u,h)=>{const d=Pt(n,u);Yw(e,De(d))||(l=F_(t,l,d,h,r,s,o))}),l}function Gw(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function z_(t,e,n,i,r,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u=e,h;Fe(n)?h=i:h=new at(null).setTree(n,i);const d=e.serverCache.getNode();return h.children.inorderTraversal((p,m)=>{if(d.hasChild(p)){const _=e.serverCache.getNode().getImmediateChild(p),v=Gw(t,_,m);u=ff(t,u,new tt(p),v,r,s,o,l)}}),h.children.inorderTraversal((p,m)=>{const _=!e.serverCache.isCompleteForChild(p)&&m.value===null;if(!d.hasChild(p)&&!_){const v=e.serverCache.getNode().getImmediateChild(p),y=Gw(t,v,m);u=ff(t,u,new tt(p),y,r,s,o,l)}}),u}function rB(t,e,n,i,r,s,o){if(df(r,n)!=null)return e;const l=e.serverCache.isFiltered(),u=e.serverCache;if(i.value!=null){if(Fe(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return ff(t,e,n,u.getNode().getChild(n),r,s,l,o);if(Fe(n)){let h=new at(null);return u.getNode().forEachChild(Ca,(d,p)=>{h=h.set(new tt(d),p)}),z_(t,e,n,h,r,s,l,o)}else return e}else{let h=new at(null);return i.foreach((d,p)=>{const m=Pt(n,d);u.isCompleteForPath(m)&&(h=h.set(d,u.getNode().getChild(m)))}),z_(t,e,n,h,r,s,l,o)}}function sB(t,e,n,i,r){const s=e.serverCache,o=HP(e,s.getNode(),s.isFullyInitialized()||Fe(n),s.isFiltered());return KP(t,o,n,i,GP,r)}function oB(t,e,n,i,r,s){let o;if(df(i,n)!=null)return e;{const l=new jy(i,e,r),u=e.eventCache.getNode();let h;if(Fe(n)||De(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=hf(i,yo(e));else{const p=e.serverCache.getNode();J(p instanceof be,"serverChildren would be complete if leaf node"),d=zy(i,p)}d=d,h=t.filter.updateFullNode(u,d,s)}else{const d=De(n);let p=By(i,d,e.serverCache);p==null&&e.serverCache.isCompleteForChild(d)&&(p=u.getImmediateChild(d)),p!=null?h=t.filter.updateChild(u,d,p,ct(n),l,s):e.eventCache.getNode().hasChild(d)?h=t.filter.updateChild(u,d,be.EMPTY_NODE,ct(n),l,s):h=u,h.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=hf(i,yo(e)),o.isLeafNode()&&(h=t.filter.updateFullNode(h,o,s)))}return o=e.serverCache.isFullyInitialized()||df(i,Ue())!=null,_u(e,h,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Ry(i.getIndex()),s=Ez(i);this.processor_=Jz(s);const o=n.serverCache,l=n.eventCache,u=r.updateFullNode(be.EMPTY_NODE,o.getNode(),null),h=s.updateFullNode(be.EMPTY_NODE,l.getNode(),null),d=new xs(u,o.isFullyInitialized(),r.filtersNodes()),p=new xs(h,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=sp(p,d),this.eventGenerator_=new Oz(this.query_)}get query(){return this.query_}}function lB(t){return t.viewCache_.serverCache.getNode()}function uB(t){return cf(t.viewCache_)}function cB(t,e){const n=yo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Fe(e)&&!n.getImmediateChild(De(e)).isEmpty())?n.getChild(e):null}function Kw(t){return t.eventRegistrations_.length===0}function hB(t,e){t.eventRegistrations_.push(e)}function Xw(t,e,n){const i=[];if(n){J(e==null,"A cancel should cancel all event registrations.");const r=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function qw(t,e,n,i){e.type===Ci.MERGE&&e.source.queryId!==null&&(J(yo(t.viewCache_),"We should always have a full cache before handling merges"),J(cf(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=tB(t.processor_,r,e,n,i);return eB(t.processor_,s.viewCache),J(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,XP(t,s.changes,s.viewCache.eventCache.getNode(),null)}function dB(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(kt,(s,o)=>{i.push(ja(s,o))}),n.isFullyInitialized()&&i.push(jP(n.getNode())),XP(t,i,n.getNode(),e)}function XP(t,e,n,i){const r=i?[i]:t.eventRegistrations_;return Rz(t.eventGenerator_,e,n,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf;class qP{constructor(){this.views=new Map}}function fB(t){J(!pf,"__referenceConstructor has already been defined"),pf=t}function pB(){return J(pf,"Reference.ts has not been loaded"),pf}function mB(t){return t.views.size===0}function Vy(t,e,n,i){const r=e.source.queryId;if(r!==null){const s=t.views.get(r);return J(s!=null,"SyncTree gave us an op for an invalid query."),qw(s,e,n,i)}else{let s=[];for(const o of t.views.values())s=s.concat(qw(o,e,n,i));return s}}function QP(t,e,n,i,r){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=hf(n,r?i:null),u=!1;l?u=!0:i instanceof be?(l=zy(n,i),u=!1):(l=be.EMPTY_NODE,u=!1);const h=sp(new xs(l,u,!1),new xs(i,r,!1));return new aB(e,h)}return o}function gB(t,e,n,i,r,s){const o=QP(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),hB(o,n),dB(o,n)}function _B(t,e,n,i){const r=e._queryIdentifier,s=[];let o=[];const l=bs(t);if(r==="default")for(const[u,h]of t.views.entries())o=o.concat(Xw(h,n,i)),Kw(h)&&(t.views.delete(u),h.query._queryParams.loadsAllData()||s.push(h.query));else{const u=t.views.get(r);u&&(o=o.concat(Xw(u,n,i)),Kw(u)&&(t.views.delete(r),u.query._queryParams.loadsAllData()||s.push(u.query)))}return l&&!bs(t)&&s.push(new(pB())(e._repo,e._path)),{removed:s,events:o}}function JP(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ms(t,e){let n=null;for(const i of t.views.values())n=n||cB(i,e);return n}function ek(t,e){if(e._queryParams.loadsAllData())return ap(t);{const i=e._queryIdentifier;return t.views.get(i)}}function tk(t,e){return ek(t,e)!=null}function bs(t){return ap(t)!=null}function ap(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf;function vB(t){J(!mf,"__referenceConstructor has already been defined"),mf=t}function yB(){return J(mf,"Reference.ts has not been loaded"),mf}let xB=1;class Qw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new at(null),this.pendingWriteTree_=Kz(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function nk(t,e,n,i,r){return Fz(t.pendingWriteTree_,e,n,i,r),r?el(t,new vo(Ny(),e,n)):[]}function bB(t,e,n,i){zz(t.pendingWriteTree_,e,n,i);const r=at.fromObject(n);return el(t,new Va(Ny(),e,r))}function Jr(t,e,n=!1){const i=Bz(t.pendingWriteTree_,e);if(jz(t.pendingWriteTree_,e)){let s=new at(null);return i.snap!=null?s=s.set(Ue(),!0):an(i.children,o=>{s=s.set(new tt(o),!0)}),el(t,new uf(i.path,s,n))}else return[]}function Mc(t,e,n){return el(t,new vo(Ay(),e,n))}function wB(t,e,n){const i=at.fromObject(n);return el(t,new Va(Ay(),e,i))}function SB(t,e){return el(t,new Ju(Ay(),e))}function CB(t,e,n){const i=$y(t,n);if(i){const r=Wy(i),s=r.path,o=r.queryId,l=Sn(s,e),u=new Ju(Fy(o),l);return Uy(t,s,u)}else return[]}function gf(t,e,n,i,r=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||tk(o,e))){const u=_B(o,e,n,i);mB(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const h=u.removed;if(l=u.events,!r){const d=h.findIndex(m=>m._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(s,(m,_)=>bs(_));if(d&&!p){const m=t.syncPointTree_.subtree(s);if(!m.isEmpty()){const _=PB(m);for(let v=0;v<_.length;++v){const y=_[v],S=y.query,x=ok(t,y);t.listenProvider_.startListening(yu(S),ec(t,S),x.hashFn,x.onComplete)}}}!p&&h.length>0&&!i&&(d?t.listenProvider_.stopListening(yu(e),null):h.forEach(m=>{const _=t.queryToTagMap.get(lp(m));t.listenProvider_.stopListening(yu(m),_)}))}kB(t,h)}return l}function ik(t,e,n,i){const r=$y(t,i);if(r!=null){const s=Wy(r),o=s.path,l=s.queryId,u=Sn(o,e),h=new vo(Fy(l),u,n);return Uy(t,o,h)}else return[]}function EB(t,e,n,i){const r=$y(t,i);if(r){const s=Wy(r),o=s.path,l=s.queryId,u=Sn(o,e),h=at.fromObject(n),d=new Va(Fy(l),u,h);return Uy(t,o,d)}else return[]}function B_(t,e,n,i=!1){const r=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(r,(m,_)=>{const v=Sn(m,r);s=s||ms(_,v),o=o||bs(_)});let l=t.syncPointTree_.get(r);l?(o=o||bs(l),s=s||ms(l,Ue())):(l=new qP,t.syncPointTree_=t.syncPointTree_.set(r,l));let u;s!=null?u=!0:(u=!1,s=be.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((_,v)=>{const y=ms(v,Ue());y&&(s=s.updateImmediateChild(_,y))}));const h=tk(l,e);if(!h&&!e._queryParams.loadsAllData()){const m=lp(e);J(!t.queryToTagMap.has(m),"View does not exist, but we have a tag");const _=MB();t.queryToTagMap.set(m,_),t.tagToQueryMap.set(_,m)}const d=op(t.pendingWriteTree_,r);let p=gB(l,e,n,d,s,u);if(!h&&!o&&!i){const m=ek(l,e);p=p.concat(LB(t,e,m))}return p}function Hy(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const u=Sn(o,e),h=ms(l,u);if(h)return h});return UP(r,e,s,n,!0)}function TB(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(h,d)=>{const p=Sn(h,n);i=i||ms(d,p)});let r=t.syncPointTree_.get(n);r?i=i||ms(r,Ue()):(r=new qP,t.syncPointTree_=t.syncPointTree_.set(n,r));const s=i!=null,o=s?new xs(i,!0,!1):null,l=op(t.pendingWriteTree_,e._path),u=QP(r,e,l,s?o.getNode():be.EMPTY_NODE,s);return uB(u)}function el(t,e){return rk(e,t.syncPointTree_,null,op(t.pendingWriteTree_,Ue()))}function rk(t,e,n,i){if(Fe(t.path))return sk(t,e,n,i);{const r=e.get(Ue());n==null&&r!=null&&(n=ms(r,Ue()));let s=[];const o=De(t.path),l=t.operationForChild(o),u=e.children.get(o);if(u&&l){const h=n?n.getImmediateChild(o):null,d=ZP(i,o);s=s.concat(rk(l,u,h,d))}return r&&(s=s.concat(Vy(r,t,i,n))),s}}function sk(t,e,n,i){const r=e.get(Ue());n==null&&r!=null&&(n=ms(r,Ue()));let s=[];return e.children.inorderTraversal((o,l)=>{const u=n?n.getImmediateChild(o):null,h=ZP(i,o),d=t.operationForChild(o);d&&(s=s.concat(sk(d,l,u,h)))}),r&&(s=s.concat(Vy(r,t,i,n))),s}function ok(t,e){const n=e.query,i=ec(t,n);return{hashFn:()=>(lB(e)||be.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?CB(t,n._path,i):SB(t,n._path);{const s=SF(r,n);return gf(t,n,null,s)}}}}function ec(t,e){const n=lp(e);return t.queryToTagMap.get(n)}function lp(t){return t._path.toString()+"$"+t._queryIdentifier}function $y(t,e){return t.tagToQueryMap.get(e)}function Wy(t){const e=t.indexOf("$");return J(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new tt(t.substr(0,e))}}function Uy(t,e,n){const i=t.syncPointTree_.get(e);J(i,"Missing sync point for query tag that we're tracking");const r=op(t.pendingWriteTree_,e);return Vy(i,n,r,null)}function PB(t){return t.fold((e,n,i)=>{if(n&&bs(n))return[ap(n)];{let r=[];return n&&(r=JP(n)),an(i,(s,o)=>{r=r.concat(o)}),r}})}function yu(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(yB())(t._repo,t._path):t}function kB(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const r=lp(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function MB(){return xB++}function LB(t,e,n){const i=e._path,r=ec(t,e),s=ok(t,n),o=t.listenProvider_.startListening(yu(e),r,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(i);if(r)J(!bs(l.value),"If we're adding a query, it shouldn't be shadowed");else{const u=l.fold((h,d,p)=>{if(!Fe(h)&&d&&bs(d))return[ap(d).query];{let m=[];return d&&(m=m.concat(JP(d).map(_=>_.query))),an(p,(_,v)=>{m=m.concat(v)}),m}});for(let h=0;h<u.length;++h){const d=u[h];t.listenProvider_.stopListening(yu(d),ec(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Zy(n)}node(){return this.node_}}class Yy{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Pt(this.path_,e);return new Yy(this.syncTree_,n)}node(){return Hy(this.syncTree_,this.path_)}}const IB=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Jw=function(t,e,n){if(!t||typeof t!="object")return t;if(J(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return OB(t[".sv"],e,n);if(typeof t[".sv"]=="object")return RB(t[".sv"],e);J(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},OB=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:J(!1,"Unexpected server value: "+t)}},RB=function(t,e,n){t.hasOwnProperty("increment")||J(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&J(!1,"Unexpected increment value: "+i);const r=e.node();if(J(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const o=r.getValue();return typeof o!="number"?i:o+i},ak=function(t,e,n,i){return Gy(e,new Yy(n,t),i)},lk=function(t,e,n){return Gy(t,new Zy(e),n)};function Gy(t,e,n){const i=t.getPriority().val(),r=Jw(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Jw(o.getValue(),e,n);return l!==o.getValue()||r!==o.getPriority().val()?new Gt(l,Ht(r)):t}else{const o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Gt(r))),o.forEachChild(kt,(l,u)=>{const h=Gy(u,e.getImmediateChild(l),n);h!==u&&(s=s.updateImmediateChild(l,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Xy(t,e){let n=e instanceof tt?e:new tt(e),i=t,r=De(n);for(;r!==null;){const s=za(i.node.children,r)||{children:{},childCount:0};i=new Ky(r,i,s),n=ct(n),r=De(n)}return i}function tl(t){return t.node.value}function uk(t,e){t.node.value=e,j_(t)}function ck(t){return t.node.childCount>0}function DB(t){return tl(t)===void 0&&!ck(t)}function up(t,e){an(t.node.children,(n,i)=>{e(new Ky(n,t,i))})}function hk(t,e,n,i){n&&!i&&e(t),up(t,r=>{hk(r,e,!0,i)}),n&&i&&e(t)}function NB(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Lc(t){return new tt(t.parent===null?t.name:Lc(t.parent)+"/"+t.name)}function j_(t){t.parent!==null&&AB(t.parent,t.name,t)}function AB(t,e,n){const i=DB(n),r=Ki(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,j_(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,j_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB=/[\[\].#$\/\u0000-\u001F\u007F]/,zB=/[\[\].#$\u0000-\u001F\u007F]/,Xm=10*1024*1024,qy=function(t){return typeof t=="string"&&t.length!==0&&!FB.test(t)},dk=function(t){return typeof t=="string"&&t.length!==0&&!zB.test(t)},BB=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),dk(t)},jB=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Cy(t)||t&&typeof t=="object"&&Ki(t,".sv")},fk=function(t,e,n,i){i&&e===void 0||cp(np(t,"value"),e,n)},cp=function(t,e,n){const i=n instanceof tt?new iz(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Zs(i));if(typeof e=="function")throw new Error(t+"contains a function "+Zs(i)+" with contents = "+e.toString());if(Cy(e))throw new Error(t+"contains "+e.toString()+" "+Zs(i));if(typeof e=="string"&&e.length>Xm/3&&ip(e)>Xm)throw new Error(t+"contains a string greater than "+Xm+" utf8 bytes "+Zs(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(an(e,(o,l)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!qy(o)))throw new Error(t+" contains an invalid key ("+o+") "+Zs(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);rz(i,o),cp(t,l,i),sz(i)}),r&&s)throw new Error(t+' contains ".value" child '+Zs(i)+" in addition to actual children.")}},VB=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const s=Ku(i);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!qy(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(nz);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&li(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},HB=function(t,e,n,i){const r=np(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];an(e,(o,l)=>{const u=new tt(o);if(cp(r,l,Pt(n,u)),My(u)===".priority"&&!jB(l))throw new Error(r+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),VB(r,s)},pk=function(t,e,n,i){if(!dk(n))throw new Error(np(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},$B=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),pk(t,e,n)},mk=function(t,e){if(De(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},WB=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!qy(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!BB(n))throw new Error(np(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function hp(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();n!==null&&!Ly(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function gk(t,e,n){hp(t,n),_k(t,i=>Ly(i,e))}function di(t,e,n){hp(t,n),_k(t,i=>li(i,e)||li(e,i))}function _k(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];if(r){const s=r.path;e(s)?(ZB(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function ZB(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();mu&&rn("event: "+n.toString()),Ja(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB="repo_interrupt",GB=25;class KB{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new UB,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lf(),this.transactionQueueTree_=new Ky,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function XB(t,e,n){if(t.stats_=Py(t.repoInfo_),t.forceRestClient_||PF())t.server_=new af(t.repoInfo_,(i,r,s,o)=>{eS(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>tS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{$t(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new yr(t.repoInfo_,e,(i,r,s,o)=>{eS(t,i,r,s,o)},i=>{tS(t,i)},i=>{qB(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=OF(t.repoInfo_,()=>new Iz(t.stats_,t.server_)),t.infoData_=new Tz,t.infoSyncTree_=new Qw({startListening:(i,r,s,o)=>{let l=[];const u=t.infoData_.getNode(i._path);return u.isEmpty()||(l=Mc(t.infoSyncTree_,i._path,u),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Qy(t,"connected",!1),t.serverSyncTree_=new Qw({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(l,u)=>{const h=o(l,u);di(t.eventQueue_,i._path,h)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function vk(t){const n=t.infoData_.getNode(new tt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function dp(t){return IB({timestamp:vk(t)})}function eS(t,e,n,i,r){t.dataUpdateCount++;const s=new tt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){const u=ef(n,h=>Ht(h));o=EB(t.serverSyncTree_,s,u,r)}else{const u=Ht(n);o=ik(t.serverSyncTree_,s,u,r)}else if(i){const u=ef(n,h=>Ht(h));o=wB(t.serverSyncTree_,s,u)}else{const u=Ht(n);o=Mc(t.serverSyncTree_,s,u)}let l=s;o.length>0&&(l=$a(t,s)),di(t.eventQueue_,l,o)}function tS(t,e){Qy(t,"connected",e),e===!1&&tj(t)}function qB(t,e){an(e,(n,i)=>{Qy(t,n,i)})}function Qy(t,e,n){const i=new tt("/.info/"+e),r=Ht(n);t.infoData_.updateSnapshot(i,r);const s=Mc(t.infoSyncTree_,i,r);di(t.eventQueue_,i,s)}function Jy(t){return t.nextWriteId_++}function QB(t,e,n){const i=TB(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{const s=Ht(r).withIndex(e._queryParams.getIndex());B_(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Mc(t.serverSyncTree_,e._path,s);else{const l=ec(t.serverSyncTree_,e);o=ik(t.serverSyncTree_,e._path,s,l)}return di(t.eventQueue_,e._path,o),gf(t.serverSyncTree_,e,n,null,!0),s},r=>(Ic(t,"get for query "+$t(e)+" failed: "+r),Promise.reject(new Error(r))))}function JB(t,e,n,i,r){Ic(t,"set",{path:e.toString(),value:n,priority:i});const s=dp(t),o=Ht(n,i),l=Hy(t.serverSyncTree_,e),u=lk(o,l,s),h=Jy(t),d=nk(t.serverSyncTree_,e,u,h,!0);hp(t.eventQueue_,d),t.server_.put(e.toString(),o.val(!0),(m,_)=>{const v=m==="ok";v||En("set at "+e+" failed: "+m);const y=Jr(t.serverSyncTree_,h,!v);di(t.eventQueue_,e,y),V_(t,r,m,_)});const p=t0(t,e);$a(t,p),di(t.eventQueue_,p,[])}function ej(t,e,n,i){Ic(t,"update",{path:e.toString(),value:n});let r=!0;const s=dp(t),o={};if(an(n,(l,u)=>{r=!1,o[l]=ak(Pt(e,l),Ht(u),t.serverSyncTree_,s)}),r)rn("update() called with empty data.  Don't do anything."),V_(t,i,"ok",void 0);else{const l=Jy(t),u=bB(t.serverSyncTree_,e,o,l);hp(t.eventQueue_,u),t.server_.merge(e.toString(),n,(h,d)=>{const p=h==="ok";p||En("update at "+e+" failed: "+h);const m=Jr(t.serverSyncTree_,l,!p),_=m.length>0?$a(t,e):e;di(t.eventQueue_,_,m),V_(t,i,h,d)}),an(n,h=>{const d=t0(t,Pt(e,h));$a(t,d)}),di(t.eventQueue_,e,[])}}function tj(t){Ic(t,"onDisconnectEvents");const e=dp(t),n=lf();R_(t.onDisconnect_,Ue(),(r,s)=>{const o=ak(r,s,t.serverSyncTree_,e);VP(n,r,o)});let i=[];R_(n,Ue(),(r,s)=>{i=i.concat(Mc(t.serverSyncTree_,r,s));const o=t0(t,r);$a(t,o)}),t.onDisconnect_=lf(),di(t.eventQueue_,Ue(),i)}function nj(t,e,n){let i;De(e._path)===".info"?i=B_(t.infoSyncTree_,e,n):i=B_(t.serverSyncTree_,e,n),gk(t.eventQueue_,e._path,i)}function ij(t,e,n){let i;De(e._path)===".info"?i=gf(t.infoSyncTree_,e,n):i=gf(t.serverSyncTree_,e,n),gk(t.eventQueue_,e._path,i)}function rj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(YB)}function Ic(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),rn(n,...e)}function V_(t,e,n,i){e&&Ja(()=>{if(n==="ok")e(null);else{const r=(n||"error").toUpperCase();let s=r;i&&(s+=": "+i);const o=new Error(s);o.code=r,e(o)}})}function yk(t,e,n){return Hy(t.serverSyncTree_,e,n)||be.EMPTY_NODE}function e0(t,e=t.transactionQueueTree_){if(e||fp(t,e),tl(e)){const n=bk(t,e);J(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&sj(t,Lc(e),n)}else ck(e)&&up(e,n=>{e0(t,n)})}function sj(t,e,n){const i=n.map(h=>h.currentWriteId),r=yk(t,e,i);let s=r;const o=r.hash();for(let h=0;h<n.length;h++){const d=n[h];J(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const p=Sn(e,d.path);s=s.updateChild(p,d.currentOutputSnapshotRaw)}const l=s.val(!0),u=e;t.server_.put(u.toString(),l,h=>{Ic(t,"transaction put response",{path:u.toString(),status:h});let d=[];if(h==="ok"){const p=[];for(let m=0;m<n.length;m++)n[m].status=2,d=d.concat(Jr(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&p.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();fp(t,Xy(t.transactionQueueTree_,e)),e0(t,t.transactionQueueTree_),di(t.eventQueue_,e,d);for(let m=0;m<p.length;m++)Ja(p[m])}else{if(h==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{En("transaction at "+u.toString()+" failed: "+h);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=h}$a(t,e)}},o)}function $a(t,e){const n=xk(t,e),i=Lc(n),r=bk(t,n);return oj(t,r,i),i}function oj(t,e,n){if(e.length===0)return;const i=[];let r=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const u=e[l],h=Sn(n,u.path);let d=!1,p;if(J(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)d=!0,p=u.abortReason,r=r.concat(Jr(t.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=GB)d=!0,p="maxretry",r=r.concat(Jr(t.serverSyncTree_,u.currentWriteId,!0));else{const m=yk(t,u.path,o);u.currentInputSnapshot=m;const _=e[l].update(m.val());if(_!==void 0){cp("transaction failed: Data returned ",_,u.path);let v=Ht(_);typeof _=="object"&&_!=null&&Ki(_,".priority")||(v=v.updatePriority(m.getPriority()));const S=u.currentWriteId,x=dp(t),w=lk(v,m,x);u.currentOutputSnapshotRaw=v,u.currentOutputSnapshotResolved=w,u.currentWriteId=Jy(t),o.splice(o.indexOf(S),1),r=r.concat(nk(t.serverSyncTree_,u.path,w,u.currentWriteId,u.applyLocally)),r=r.concat(Jr(t.serverSyncTree_,S,!0))}else d=!0,p="nodata",r=r.concat(Jr(t.serverSyncTree_,u.currentWriteId,!0))}di(t.eventQueue_,n,r),r=[],d&&(e[l].status=2,function(m){setTimeout(m,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(p==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(p),!1,null))))}fp(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)Ja(i[l]);e0(t,t.transactionQueueTree_)}function xk(t,e){let n,i=t.transactionQueueTree_;for(n=De(e);n!==null&&tl(i)===void 0;)i=Xy(i,n),e=ct(e),n=De(e);return i}function bk(t,e){const n=[];return wk(t,e,n),n.sort((i,r)=>i.order-r.order),n}function wk(t,e,n){const i=tl(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);up(e,r=>{wk(t,r,n)})}function fp(t,e){const n=tl(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,uk(e,n.length>0?n:void 0)}up(e,i=>{fp(t,i)})}function t0(t,e){const n=Lc(xk(t,e)),i=Xy(t.transactionQueueTree_,e);return NB(i,r=>{qm(t,r)}),qm(t,i),hk(i,r=>{qm(t,r)}),n}function qm(t,e){const n=tl(e);if(n){const i=[];let r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(J(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(J(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(Jr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?uk(e,void 0):n.length=s+1,di(t.eventQueue_,Lc(e),r);for(let o=0;o<i.length;o++)Ja(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function lj(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):En(`Invalid query segment '${n}' in query '${t}'`)}return e}const nS=function(t,e){const n=uj(t),i=n.namespace;n.domain==="firebase.com"&&kr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&kr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||vF();const r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new CP(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new tt(n.pathString)}},uj=function(t){let e="",n="",i="",r="",s="",o=!0,l="https",u=443;if(typeof t=="string"){let h=t.indexOf("//");h>=0&&(l=t.substring(0,h-1),t=t.substring(h+2));let d=t.indexOf("/");d===-1&&(d=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(d,p)),d<p&&(r=aj(t.substring(d,p)));const m=lj(t.substring(Math.min(t.length,p)));h=e.indexOf(":"),h>=0?(o=l==="https"||l==="wss",u=parseInt(e.substring(h+1),10)):h=e.length;const _=e.slice(0,h);if(_.toLowerCase()==="localhost")n="localhost";else if(_.split(".").length<=2)n=_;else{const v=e.indexOf(".");i=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=i}"ns"in m&&(s=m.ns)}return{host:e,port:u,domain:n,subdomain:i,secure:o,scheme:l,pathString:r,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cj=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let r;const s=new Array(8);for(r=7;r>=0;r--)s[r]=iS.charAt(n%64),n=Math.floor(n/64);J(n===0,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=iS.charAt(e[r]);return J(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+$t(this.snapshot.exportVal())}}class dj{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return J(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return Fe(this._path)?null:My(this._path)}get ref(){return new Ir(this._repo,this._path)}get _queryIdentifier(){const e=Hw(this._queryParams),n=Ey(e);return n==="{}"?"default":n}get _queryObject(){return Hw(this._queryParams)}isEqual(e){if(e=Eo(e),!(e instanceof n0))return!1;const n=this._repo===e._repo,i=Ly(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+tz(this._path)}}class Ir extends n0{constructor(e,n){super(e,n,new Dy,!1)}get parent(){const e=RP(this._path);return e===null?null:new Ir(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class tc{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new tt(e),i=nc(this.ref,e);return new tc(this._node.getChild(n),i,kt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new tc(r,nc(this.ref,i),kt)))}hasChild(e){const n=new tt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ea(t,e){return t=Eo(t),t._checkNotDeleted("ref"),e!==void 0?nc(t._root,e):t._root}function nc(t,e){return t=Eo(t),De(t._path)===null?$B("child","path",e):pk("child","path",e),new Ir(t._repo,Pt(t._path,e))}function fj(t,e){t=Eo(t),mk("push",t._path),fk("push",e,t._path,!0);const n=vk(t._repo),i=cj(n),r=nc(t,i),s=nc(t,i);let o;return e!=null?o=pj(s,e).then(()=>s):o=Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function pj(t,e){t=Eo(t),mk("set",t._path),fk("set",e,t._path,!1);const n=new Cc;return JB(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function mj(t,e){HB("update",e,t._path);const n=new Cc;return ej(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function i0(t){t=Eo(t);const e=new Sk(()=>{}),n=new pp(e);return QB(t._repo,t,n).then(i=>new tc(i,new Ir(t._repo,t._path),t._queryParams.getIndex()))}class pp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new hj("value",this,new tc(e.snapshotNode,new Ir(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new dj(this,e,n):null}matches(e){return e instanceof pp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function gj(t,e,n,i,r){const s=new Sk(n,void 0),o=new pp(s);return nj(t._repo,t,o),()=>ij(t._repo,t,o)}function _j(t,e,n,i){return gj(t,"value",e)}fB(Ir);vB(Ir);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="FIREBASE_DATABASE_EMULATOR_HOST",H_={};let yj=!1;function xj(t,e,n,i){t.repoInfo_=new CP(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function bj(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||kr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),rn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=nS(s,r),l=o.repoInfo,u;typeof process<"u"&&Cw&&(u=Cw[vj]),u?(s=`http://${u}?ns=${l.namespace}`,o=nS(s,r),l=o.repoInfo):o.repoInfo.secure;const h=new MF(t.name,t.options,e);WB("Invalid Firebase Database URL",o),Fe(o.path)||kr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Sj(l,t,h,new kF(t.name,n));return new Cj(d,t)}function wj(t,e){const n=H_[e];(!n||n[t.key]!==t)&&kr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),rj(t),delete n[t.key]}function Sj(t,e,n,i){let r=H_[e.name];r||(r={},H_[e.name]=r);let s=r[t.toURLString()];return s&&kr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new KB(t,yj,n,i),r[t.toURLString()]=s,s}class Cj{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(XB(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ir(this._repo,Ue())),this._rootInternal}_delete(){return this._rootInternal!==null&&(wj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&kr("Cannot call "+e+" on a deleted database.")}}function Ej(t=eF(),e){const n=X2(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=jA("database");i&&Tj(n,...i)}return n}function Tj(t,e,n,i={}){t=Eo(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&kr("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&kr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ud(ud.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:VA(i.mockUserToken,t.app.options.projectId);s=new ud(o)}xj(r,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t){dF(J2),nf(new Zu("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return bj(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),wa(Ew,Tw,t),wa(Ew,Tw,"esm2017")}yr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};yr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Pj();const kj={apiKey:"AIzaSyDYUsVIgr7gCL3D1S5dhwyDc6K-aP31sXA",authDomain:"waterquality-ba0bb.firebaseapp.com",databaseURL:"https://waterquality-ba0bb-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"waterquality-ba0bb",storageBucket:"waterquality-ba0bb.appspot.com",messagingSenderId:"654440423465",appId:"1:654440423465:web:8e7694398bd773f3343c38",measurementId:"G-QSVJTQQ3RD"},Mj=aP(kj),Ta=Ej(Mj),Lj=()=>{const t=by(),[e,n]=E.useState(""),[i,r]=E.useState(""),s=async o=>{o.preventDefault();try{const l=Ea(Ta,"members"),u=await i0(l);if(u.exists()){let h=!1;u.forEach(d=>{const p=d.val();p.username===e&&(h=!0,p.password===i?p.status==="Inactive"?Ye.error("Account temporarily blocked, please contact WQS officer"):(Ye.success("Login successful"),localStorage.setItem("userData",JSON.stringify({username:p.username,role:p.role,status:p.status})),p.role==="Admin"?t("/dashboard"):p.role==="Client"&&t("/data-visualization"),setTimeout(()=>{},3e3)):Ye.error("Incorrect Login Credentials"))}),h||Ye.error("User not found")}else Ye.error("No users found in the database")}catch(l){console.error("Login error:",l),Ye.error("An error occurred. Please try again.")}};return R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"font-[sans-serif] h-screen grid lg:grid-cols-2 md:grid-cols-2 items-center gap-4",children:[R.jsx("div",{className:"order-2 md:order-1 h-screen hidden md:block",children:R.jsx("img",{src:vA,className:"w-full h-full object-cover object-right",alt:"login"})}),R.jsxs("div",{className:"order-1 md:order-2 p-8",children:[R.jsxs("div",{className:"text-center font-bold mb-4",children:[R.jsx("h1",{className:"text-3xl text-blue-500",children:"Water Quality"}),R.jsx("h3",{className:"text-end mr-10 lg:mr-64 md:mr-12 text-blue-400",children:"System"})]}),R.jsxs("div",{className:"mb-6 lg:ml-40",children:[R.jsx("h2",{className:"text-2xl font-bold",children:"Welcome Back"}),R.jsx("p",{className:"text-gray-500",children:"Login to your account"})]}),R.jsxs("form",{className:"lg:mr-40 lg:ml-40",onSubmit:s,children:[R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{htmlFor:"userName",className:"text-sm",children:"User Name"}),R.jsx("input",{type:"text",id:"userName",className:"border border-gray-200 rounded-lg p-2 w-full mt-1 focus:outline-none",placeholder:"Enter your user name","aria-label":"User Name",value:e,onChange:o=>n(o.target.value)})]}),R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{htmlFor:"password",className:"text-sm",children:"Password"}),R.jsx("input",{type:"password",id:"password",className:"border border-gray-200 rounded-lg p-2 w-full mt-1 focus:outline-none",placeholder:"Enter your password","aria-label":"Password",value:i,onChange:o=>r(o.target.value)})]}),R.jsx("div",{children:R.jsx("button",{type:"submit",className:"bg-blue-500 text-white w-full py-2 rounded-lg hover:bg-blue-900",children:"Login"})})]})]})]}),R.jsx(LA,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})},Ij=({title:t})=>R.jsx("header",{className:"bg-gray-200 p-4",style:{height:"60px"},children:R.jsx("h1",{className:"text-3xl font-semibold text-gray-700",children:t})});var Ck={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=r(s,i(l)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)e.call(s,l)&&s[l]&&(o=r(o,l));return o}function r(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Ck);var Oj=Ck.exports;const dt=mc(Oj);function ye(){return ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ye.apply(null,arguments)}function r0(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}function rS(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function Rj(t){var e=Dj(t,"string");return typeof e=="symbol"?e:String(e)}function Dj(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nj(t,e,n){var i=E.useRef(t!==void 0),r=E.useState(e),s=r[0],o=r[1],l=t!==void 0,u=i.current;return i.current=l,!l&&u&&s!==e&&o(e),[l?t:s,E.useCallback(function(h){for(var d=arguments.length,p=new Array(d>1?d-1:0),m=1;m<d;m++)p[m-1]=arguments[m];n&&n.apply(void 0,[h].concat(p)),o(h)},[n])]}function Ek(t,e){return Object.keys(e).reduce(function(n,i){var r,s=n,o=s[rS(i)],l=s[i],u=r0(s,[rS(i),i].map(Rj)),h=e[i],d=Nj(l,o,t[h]),p=d[0],m=d[1];return ye({},u,(r={},r[i]=p,r[h]=m,r))},t)}function _f(t,e){return _f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_f(t,e)}function Aj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_f(t,e)}const Fj=["xxl","xl","lg","md","sm","xs"],zj="xs",Tk=E.createContext({prefixes:{},breakpoints:Fj,minBreakpoint:zj});function jt(t,e){const{prefixes:n}=E.useContext(Tk);return t||n[e]||e}function Bj(){const{dir:t}=E.useContext(Tk);return t==="rtl"}function mp(t){return t&&t.ownerDocument||document}function jj(t){var e=mp(t);return e&&e.defaultView||window}function Vj(t,e){return jj(t).getComputedStyle(t,e)}var Hj=/([A-Z])/g;function $j(t){return t.replace(Hj,"-$1").toLowerCase()}var Wj=/^ms-/;function Ph(t){return $j(t).replace(Wj,"-ms-")}var Uj=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Zj(t){return!!(t&&Uj.test(t))}function xr(t,e){var n="",i="";if(typeof e=="string")return t.style.getPropertyValue(Ph(e))||Vj(t).getPropertyValue(Ph(e));Object.keys(e).forEach(function(r){var s=e[r];!s&&s!==0?t.style.removeProperty(Ph(r)):Zj(r)?i+=r+"("+s+") ":n+=Ph(r)+": "+s+";"}),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n}var Pk={exports:{}},Yj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Gj=Yj,Kj=Gj;function kk(){}function Mk(){}Mk.resetWarningCache=kk;var Xj=function(){function t(i,r,s,o,l,u){if(u!==Kj){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Mk,resetWarningCache:kk};return n.PropTypes=n,n};Pk.exports=Xj();var qj=Pk.exports;const Qm=mc(qj),sS={disabled:!1},Lk=Pe.createContext(null);var Qj=function(e){return e.scrollTop},Xl="unmounted",Zr="exited",wi="entering",cr="entered",ic="exiting",Or=function(t){Aj(e,t);function e(i,r){var s;s=t.call(this,i,r)||this;var o=r,l=o&&!o.isMounting?i.enter:i.appear,u;return s.appearStatus=null,i.in?l?(u=Zr,s.appearStatus=wi):u=cr:i.unmountOnExit||i.mountOnEnter?u=Xl:u=Zr,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(r,s){var o=r.in;return o&&s.status===Xl?{status:Zr}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(r){var s=null;if(r!==this.props){var o=this.state.status;this.props.in?o!==wi&&o!==cr&&(s=wi):(o===wi||o===cr)&&(s=ic)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var r=this.props.timeout,s,o,l;return s=o=l=r,r!=null&&typeof r!="number"&&(s=r.exit,o=r.enter,l=r.appear!==void 0?r.appear:o),{exit:s,enter:o,appear:l}},n.updateStatus=function(r,s){if(r===void 0&&(r=!1),s!==null)if(this.cancelNextCallback(),s===wi){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:to.findDOMNode(this);o&&Qj(o)}this.performEnter(r)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Zr&&this.setState({status:Xl})},n.performEnter=function(r){var s=this,o=this.props.enter,l=this.context?this.context.isMounting:r,u=this.props.nodeRef?[l]:[to.findDOMNode(this),l],h=u[0],d=u[1],p=this.getTimeouts(),m=l?p.appear:p.enter;if(!r&&!o||sS.disabled){this.safeSetState({status:cr},function(){s.props.onEntered(h)});return}this.props.onEnter(h,d),this.safeSetState({status:wi},function(){s.props.onEntering(h,d),s.onTransitionEnd(m,function(){s.safeSetState({status:cr},function(){s.props.onEntered(h,d)})})})},n.performExit=function(){var r=this,s=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:to.findDOMNode(this);if(!s||sS.disabled){this.safeSetState({status:Zr},function(){r.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:ic},function(){r.props.onExiting(l),r.onTransitionEnd(o.exit,function(){r.safeSetState({status:Zr},function(){r.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(r,s){s=this.setNextCallback(s),this.setState(r,s)},n.setNextCallback=function(r){var s=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,s.nextCallback=null,r(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(r,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:to.findDOMNode(this),l=r==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],h=u[0],d=u[1];this.props.addEndListener(h,d)}r!=null&&setTimeout(this.nextCallback,r)},n.render=function(){var r=this.state.status;if(r===Xl)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=r0(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Pe.createElement(Lk.Provider,{value:null},typeof o=="function"?o(r,l):Pe.cloneElement(Pe.Children.only(o),l))},e}(Pe.Component);Or.contextType=Lk;Or.propTypes={};function Qo(){}Or.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Qo,onEntering:Qo,onEntered:Qo,onExit:Qo,onExiting:Qo,onExited:Qo};Or.UNMOUNTED=Xl;Or.EXITED=Zr;Or.ENTERING=wi;Or.ENTERED=cr;Or.EXITING=ic;const nl=!!(typeof window<"u"&&window.document&&window.document.createElement);var $_=!1,W_=!1;try{var Jm={get passive(){return $_=!0},get once(){return W_=$_=!0}};nl&&(window.addEventListener("test",Jm,Jm),window.removeEventListener("test",Jm,!0))}catch{}function Ik(t,e,n,i){if(i&&typeof i!="boolean"&&!W_){var r=i.once,s=i.capture,o=n;!W_&&r&&(o=n.__once||function l(u){this.removeEventListener(e,l,s),n.call(this,u)},n.__once=o),t.addEventListener(e,o,$_?i:s)}t.addEventListener(e,n,i)}function U_(t,e,n,i){var r=i&&typeof i!="boolean"?i.capture:i;t.removeEventListener(e,n,r),n.__once&&t.removeEventListener(e,n.__once,r)}function vf(t,e,n,i){return Ik(t,e,n,i),function(){U_(t,e,n,i)}}function Jj(t,e,n,i){if(i===void 0&&(i=!0),t){var r=document.createEvent("HTMLEvents");r.initEvent(e,n,i),t.dispatchEvent(r)}}function e3(t){var e=xr(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function t3(t,e,n){n===void 0&&(n=5);var i=!1,r=setTimeout(function(){i||Jj(t,"transitionend",!0)},e+n),s=vf(t,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(r),s()}}function Ok(t,e,n,i){n==null&&(n=e3(t)||0);var r=t3(t,n,i),s=vf(t,"transitionend",e);return function(){r(),s()}}function oS(t,e){const n=xr(t,e)||"",i=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*i}function s0(t,e){const n=oS(t,"transitionDuration"),i=oS(t,"transitionDelay"),r=Ok(t,s=>{s.target===t&&(r(),e(s))},n+i)}function Fl(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...r){e.apply(this,r),n.apply(this,r)}},null)}function Rk(t){t.offsetHeight}const aS=t=>!t||typeof t=="function"?t:e=>{t.current=e};function n3(t,e){const n=aS(t),i=aS(e);return r=>{n&&n(r),i&&i(r)}}function il(t,e){return E.useMemo(()=>n3(t,e),[t,e])}function i3(t){return t&&"setState"in t?to.findDOMNode(t):t??null}const o0=Pe.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:r,onExited:s,addEndListener:o,children:l,childRef:u,...h},d)=>{const p=E.useRef(null),m=il(p,u),_=T=>{m(i3(T))},v=T=>O=>{T&&p.current&&T(p.current,O)},y=E.useCallback(v(t),[t]),S=E.useCallback(v(e),[e]),x=E.useCallback(v(n),[n]),w=E.useCallback(v(i),[i]),C=E.useCallback(v(r),[r]),k=E.useCallback(v(s),[s]),M=E.useCallback(v(o),[o]);return R.jsx(Or,{ref:d,...h,onEnter:y,onEntered:x,onEntering:S,onExit:w,onExited:k,onExiting:C,addEndListener:M,nodeRef:p,children:typeof l=="function"?(T,O)=>l(T,{...O,ref:_}):Pe.cloneElement(l,{ref:_})})}),r3={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function s3(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,i=e[n],r=r3[t];return i+parseInt(xr(e,r[0]),10)+parseInt(xr(e,r[1]),10)}const o3={[Zr]:"collapse",[ic]:"collapsing",[wi]:"collapsing",[cr]:"collapse show"},a3=Pe.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:r,className:s,children:o,dimension:l="height",in:u=!1,timeout:h=300,mountOnEnter:d=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:_=s3,...v},y)=>{const S=typeof l=="function"?l():l,x=E.useMemo(()=>Fl(T=>{T.style[S]="0"},t),[S,t]),w=E.useMemo(()=>Fl(T=>{const O=`scroll${S[0].toUpperCase()}${S.slice(1)}`;T.style[S]=`${T[O]}px`},e),[S,e]),C=E.useMemo(()=>Fl(T=>{T.style[S]=null},n),[S,n]),k=E.useMemo(()=>Fl(T=>{T.style[S]=`${_(S,T)}px`,Rk(T)},i),[i,_,S]),M=E.useMemo(()=>Fl(T=>{T.style[S]=null},r),[S,r]);return R.jsx(o0,{ref:y,addEndListener:s0,...v,"aria-expanded":v.role?u:null,onEnter:x,onEntering:w,onEntered:C,onExit:k,onExiting:M,childRef:o.ref,in:u,timeout:h,mountOnEnter:d,unmountOnExit:p,appear:m,children:(T,O)=>Pe.cloneElement(o,{...O,className:dt(s,o.props.className,o3[T],S==="width"&&"collapse-horizontal")})})});function l3(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t},[t]),e}function wn(t){const e=l3(t);return E.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const Dk=t=>E.forwardRef((e,n)=>R.jsx("div",{...e,ref:n,className:dt(e.className,t)}));function u3(){return E.useState(null)}function c3(){const t=E.useRef(!0),e=E.useRef(()=>t.current);return E.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function h3(t){const e=E.useRef(null);return E.useEffect(()=>{e.current=t}),e.current}const d3=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",f3=typeof document<"u",Z_=f3||d3?E.useLayoutEffect:E.useEffect,p3=["as","disabled"];function m3(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function g3(t){return!t||t.trim()==="#"}function a0({tagName:t,disabled:e,href:n,target:i,rel:r,role:s,onClick:o,tabIndex:l=0,type:u}){t||(n!=null||i!=null||r!=null?t="a":t="button");const h={tagName:t};if(t==="button")return[{type:u||"button",disabled:e},h];const d=m=>{if((e||t==="a"&&g3(n))&&m.preventDefault(),e){m.stopPropagation();return}o==null||o(m)},p=m=>{m.key===" "&&(m.preventDefault(),d(m))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:l,href:n,target:t==="a"?i:void 0,"aria-disabled":e||void 0,rel:t==="a"?r:void 0,onClick:d,onKeyDown:p},h]}const Nk=E.forwardRef((t,e)=>{let{as:n,disabled:i}=t,r=m3(t,p3);const[s,{tagName:o}]=a0(Object.assign({tagName:n,disabled:i},r));return R.jsx(o,Object.assign({},r,s,{ref:e}))});Nk.displayName="Button";const _3=["onKeyDown"];function v3(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function y3(t){return!t||t.trim()==="#"}const Ak=E.forwardRef((t,e)=>{let{onKeyDown:n}=t,i=v3(t,_3);const[r]=a0(Object.assign({tagName:"a"},i)),s=wn(o=>{r.onKeyDown(o),n==null||n(o)});return y3(i.href)||i.role==="button"?R.jsx("a",Object.assign({ref:e},i,r,{onKeyDown:s})):R.jsx("a",Object.assign({ref:e},i,{onKeyDown:n}))});Ak.displayName="Anchor";function x3(t){return t.code==="Escape"||t.keyCode===27}function Fk(){const t=E.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}const b3={[wi]:"show",[cr]:"show"},gp=E.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:i,...r},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...r},l=E.useCallback((d,p)=>{Rk(d),i==null||i(d,p)},[i]),{major:u}=Fk(),h=u>=19?e.props.ref:e.ref;return R.jsx(o0,{ref:s,addEndListener:s0,...o,onEnter:l,childRef:h,children:(d,p)=>E.cloneElement(e,{...p,className:dt("fade",t,e.props.className,b3[d],n[d])})})});gp.displayName="Fade";const w3={"aria-label":Qm.string,onClick:Qm.func,variant:Qm.oneOf(["white"])},l0=E.forwardRef(({className:t,variant:e,"aria-label":n="Close",...i},r)=>R.jsx("button",{ref:r,type:"button",className:dt("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...i}));l0.displayName="CloseButton";l0.propTypes=w3;const ql=E.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:i,active:r=!1,disabled:s=!1,className:o,...l},u)=>{const h=jt(e,"btn"),[d,{tagName:p}]=a0({tagName:t,disabled:s,...l}),m=p;return R.jsx(m,{...d,...l,ref:u,disabled:s,className:dt(o,h,r&&"active",n&&`${h}-${n}`,i&&`${h}-${i}`,l.href&&s&&"disabled")})});ql.displayName="Button";const zk=E.createContext(null);zk.displayName="CardHeaderContext";function S3(t){const e=E.useRef(t);return e.current=t,e}function Bk(t){const e=S3(t);E.useEffect(()=>()=>e.current(),[])}var C3=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ys(t,e){return C3(t.querySelectorAll(e))}function E3(){const[,t]=E.useReducer(e=>!e,!1);return t}function lS(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const yf=E.createContext(null),u0=(t,e=null)=>t!=null?String(t):e||null,c0=E.createContext(null);c0.displayName="NavContext";const T3="data-rr-ui-",P3="rrUi";function _p(t){return`${T3}${t}`}function k3(t){return`${P3}${t}`}const jk=E.createContext(nl?window:void 0);jk.Provider;function h0(){return E.useContext(jk)}const rl=E.createContext(null);rl.displayName="NavbarContext";const Vk=E.createContext(null),M3=["as","active","eventKey"];function L3(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Hk({key:t,onClick:e,active:n,id:i,role:r,disabled:s}){const o=E.useContext(yf),l=E.useContext(c0),u=E.useContext(Vk);let h=n;const d={role:r};if(l){!r&&l.role==="tablist"&&(d.role="tab");const p=l.getControllerId(t??null),m=l.getControlledId(t??null);d[_p("event-key")]=t,d.id=p||i,h=n==null&&t!=null?l.activeKey===t:n,(h||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(d["aria-controls"]=m)}return d.role==="tab"&&(d["aria-selected"]=h,h||(d.tabIndex=-1),s&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=wn(p=>{s||(e==null||e(p),t!=null&&o&&!p.isPropagationStopped()&&o(t,p))}),[d,{isActive:h}]}const $k=E.forwardRef((t,e)=>{let{as:n=Nk,active:i,eventKey:r}=t,s=L3(t,M3);const[o,l]=Hk(Object.assign({key:u0(r,s.href),active:i},s));return o[_p("active")]=l.isActive,R.jsx(n,Object.assign({},s,o,{ref:e}))});$k.displayName="NavItem";const I3=["as","onSelect","activeKey","role","onKeyDown"];function O3(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const uS=()=>{},cS=_p("event-key"),Wk=E.forwardRef((t,e)=>{let{as:n="div",onSelect:i,activeKey:r,role:s,onKeyDown:o}=t,l=O3(t,I3);const u=E3(),h=E.useRef(!1),d=E.useContext(yf),p=E.useContext(Vk);let m,_;p&&(s=s||"tablist",r=p.activeKey,m=p.getControlledId,_=p.getControllerId);const v=E.useRef(null),y=C=>{const k=v.current;if(!k)return null;const M=Ys(k,`[${cS}]:not([aria-disabled=true])`),T=k.querySelector("[aria-selected=true]");if(!T||T!==document.activeElement)return null;const O=M.indexOf(T);if(O===-1)return null;let I=O+C;return I>=M.length&&(I=0),I<0&&(I=M.length-1),M[I]},S=(C,k)=>{C!=null&&(i==null||i(C,k),d==null||d(C,k))},x=C=>{if(o==null||o(C),!p)return;let k;switch(C.key){case"ArrowLeft":case"ArrowUp":k=y(-1);break;case"ArrowRight":case"ArrowDown":k=y(1);break;default:return}k&&(C.preventDefault(),S(k.dataset[k3("EventKey")]||null,C),h.current=!0,u())};E.useEffect(()=>{if(v.current&&h.current){const C=v.current.querySelector(`[${cS}][aria-selected=true]`);C==null||C.focus()}h.current=!1});const w=il(e,v);return R.jsx(yf.Provider,{value:S,children:R.jsx(c0.Provider,{value:{role:s,activeKey:u0(r),getControlledId:m||uS,getControllerId:_||uS},children:R.jsx(n,Object.assign({},l,{onKeyDown:x,ref:w,role:s}))})})});Wk.displayName="Nav";const R3=Object.assign(Wk,{Item:$k});var kh;function hS(t){if((!kh&&kh!==0||t)&&nl){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),kh=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return kh}function eg(t){t===void 0&&(t=mp());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function D3(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const dS=_p("modal-open");class d0{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:i=!1}={}){this.handleContainerOverflow=n,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return D3(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[i]:r.style[i]},e.scrollBarWidth&&(n[i]=`${parseInt(xr(r,i)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(dS,""),xr(r,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(dS),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const tg=(t,e)=>nl?t==null?(e||mp()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function N3(t,e){const n=h0(),[i,r]=E.useState(()=>tg(t,n==null?void 0:n.document));if(!i){const s=tg(t);s&&r(s)}return E.useEffect(()=>{},[e,i]),E.useEffect(()=>{const s=tg(t);s!==i&&r(s)},[t,i]),i}function A3({children:t,in:e,onExited:n,mountOnEnter:i,unmountOnExit:r}){const s=E.useRef(null),o=E.useRef(e),l=wn(n);E.useEffect(()=>{e?o.current=!0:l(s.current)},[e,l]);const u=il(s,t.ref),h=E.cloneElement(t,{ref:u});return e?h:r||!o.current&&i?null:h}const F3=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function z3(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function B3(t){let{onEnter:e,onEntering:n,onEntered:i,onExit:r,onExiting:s,onExited:o,addEndListener:l,children:u}=t,h=z3(t,F3);const{major:d}=Fk(),p=d>=19?u.props.ref:u.ref,m=E.useRef(null),_=il(m,typeof u=="function"?null:p),v=T=>O=>{T&&m.current&&T(m.current,O)},y=E.useCallback(v(e),[e]),S=E.useCallback(v(n),[n]),x=E.useCallback(v(i),[i]),w=E.useCallback(v(r),[r]),C=E.useCallback(v(s),[s]),k=E.useCallback(v(o),[o]),M=E.useCallback(v(l),[l]);return Object.assign({},h,{nodeRef:m},e&&{onEnter:y},n&&{onEntering:S},i&&{onEntered:x},r&&{onExit:w},s&&{onExiting:C},o&&{onExited:k},l&&{addEndListener:M},{children:typeof u=="function"?(T,O)=>u(T,Object.assign({},O,{ref:_})):E.cloneElement(u,{ref:_})})}const j3=["component"];function V3(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}const H3=E.forwardRef((t,e)=>{let{component:n}=t,i=V3(t,j3);const r=B3(i);return R.jsx(n,Object.assign({ref:e},r))});function $3({in:t,onTransition:e}){const n=E.useRef(null),i=E.useRef(!0),r=wn(e);return Z_(()=>{if(!n.current)return;let s=!1;return r({in:t,element:n.current,initial:i.current,isStale:()=>s}),()=>{s=!0}},[t,r]),Z_(()=>(i.current=!1,()=>{i.current=!0}),[]),n}function W3({children:t,in:e,onExited:n,onEntered:i,transition:r}){const[s,o]=E.useState(!e);e&&s&&o(!1);const l=$3({in:!!e,onTransition:h=>{const d=()=>{h.isStale()||(h.in?i==null||i(h.element,h.initial):(o(!0),n==null||n(h.element)))};Promise.resolve(r(h)).then(d,p=>{throw h.in||o(!0),p})}}),u=il(l,t.ref);return s&&!e?null:E.cloneElement(t,{ref:u})}function fS(t,e,n){return t?R.jsx(H3,Object.assign({},n,{component:t})):e?R.jsx(W3,Object.assign({},n,{transition:e})):R.jsx(A3,Object.assign({},n))}const U3=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Z3(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}let ng;function Y3(t){return ng||(ng=new d0({ownerDocument:t==null?void 0:t.document})),ng}function G3(t){const e=h0(),n=t||Y3(e),i=E.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:E.useCallback(r=>{i.current.dialog=r},[]),setBackdropRef:E.useCallback(r=>{i.current.backdrop=r},[])})}const Uk=E.forwardRef((t,e)=>{let{show:n=!1,role:i="dialog",className:r,style:s,children:o,backdrop:l=!0,keyboard:u=!0,onBackdropClick:h,onEscapeKeyDown:d,transition:p,runTransition:m,backdropTransition:_,runBackdropTransition:v,autoFocus:y=!0,enforceFocus:S=!0,restoreFocus:x=!0,restoreFocusOptions:w,renderDialog:C,renderBackdrop:k=Ae=>R.jsx("div",Object.assign({},Ae)),manager:M,container:T,onShow:O,onHide:I=()=>{},onExit:A,onExited:j,onExiting:W,onEnter:Z,onEntering:de,onEntered:le}=t,ue=Z3(t,U3);const ee=h0(),re=N3(T),z=G3(M),X=c3(),$=h3(n),[te,Q]=E.useState(!n),ae=E.useRef(null);E.useImperativeHandle(e,()=>z,[z]),nl&&!$&&n&&(ae.current=eg(ee==null?void 0:ee.document)),n&&te&&Q(!1);const q=wn(()=>{if(z.add(),kn.current=vf(document,"keydown",it),gn.current=vf(document,"focus",()=>setTimeout(ne),!0),O&&O(),y){var Ae,Xi;const fi=eg((Ae=(Xi=z.dialog)==null?void 0:Xi.ownerDocument)!=null?Ae:ee==null?void 0:ee.document);z.dialog&&fi&&!lS(z.dialog,fi)&&(ae.current=fi,z.dialog.focus())}}),se=wn(()=>{if(z.remove(),kn.current==null||kn.current(),gn.current==null||gn.current(),x){var Ae;(Ae=ae.current)==null||Ae.focus==null||Ae.focus(w),ae.current=null}});E.useEffect(()=>{!n||!re||q()},[n,re,q]),E.useEffect(()=>{te&&se()},[te,se]),Bk(()=>{se()});const ne=wn(()=>{if(!S||!X()||!z.isTopModal())return;const Ae=eg(ee==null?void 0:ee.document);z.dialog&&Ae&&!lS(z.dialog,Ae)&&z.dialog.focus()}),ke=wn(Ae=>{Ae.target===Ae.currentTarget&&(h==null||h(Ae),l===!0&&I())}),it=wn(Ae=>{u&&x3(Ae)&&z.isTopModal()&&(d==null||d(Ae),Ae.defaultPrevented||I())}),gn=E.useRef(),kn=E.useRef(),nt=(...Ae)=>{Q(!0),j==null||j(...Ae)};if(!re)return null;const Et=Object.assign({role:i,ref:z.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},ue,{style:s,className:r,tabIndex:-1});let Mn=C?C(Et):R.jsx("div",Object.assign({},Et,{children:E.cloneElement(o,{role:"document"})}));Mn=fS(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:A,onExiting:W,onExited:nt,onEnter:Z,onEntering:de,onEntered:le,children:Mn});let Vn=null;return l&&(Vn=k({ref:z.setBackdropRef,onClick:ke}),Vn=fS(_,v,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Vn})),R.jsx(R.Fragment,{children:to.createPortal(R.jsxs(R.Fragment,{children:[Vn,Mn]}),re)})});Uk.displayName="Modal";const Zk=Object.assign(Uk,{Manager:d0});function K3(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function X3(t,e){t.classList?t.classList.add(e):K3(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function pS(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function q3(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=pS(t.className,e):t.setAttribute("class",pS(t.className&&t.className.baseVal||"",e))}const Jo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Yk extends d0{adjustAndStore(e,n,i){const r=n.style[e];n.dataset[e]=r,xr(n,{[e]:`${parseFloat(xr(n,e))+i}px`})}restore(e,n){const i=n.dataset[e];i!==void 0&&(delete n.dataset[e],xr(n,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(X3(n,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Ys(n,Jo.FIXED_CONTENT).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth)),Ys(n,Jo.STICKY_CONTENT).forEach(s=>this.adjustAndStore(r,s,-e.scrollBarWidth)),Ys(n,Jo.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();q3(n,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";Ys(n,Jo.FIXED_CONTENT).forEach(s=>this.restore(i,s)),Ys(n,Jo.STICKY_CONTENT).forEach(s=>this.restore(r,s)),Ys(n,Jo.NAVBAR_TOGGLER).forEach(s=>this.restore(r,s))}}let ig;function Gk(t){return ig||(ig=new Yk(t)),ig}const Kk=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=jt(e,"modal-body"),R.jsx(n,{ref:r,className:dt(t,e),...i})));Kk.displayName="ModalBody";const f0=E.createContext({onHide(){}}),p0=E.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:i,size:r,fullscreen:s,children:o,scrollable:l,...u},h)=>{t=jt(t,"modal");const d=`${t}-dialog`,p=typeof s=="string"?`${t}-fullscreen-${s}`:`${t}-fullscreen`;return R.jsx("div",{...u,ref:h,className:dt(d,e,r&&`${t}-${r}`,i&&`${d}-centered`,l&&`${d}-scrollable`,s&&p),children:R.jsx("div",{className:dt(`${t}-content`,n),children:o})})});p0.displayName="ModalDialog";const Xk=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=jt(e,"modal-footer"),R.jsx(n,{ref:r,className:dt(t,e),...i})));Xk.displayName="ModalFooter";const qk=E.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:i,children:r,...s},o)=>{const l=E.useContext(f0),u=wn(()=>{l==null||l.onHide(),i==null||i()});return R.jsxs("div",{ref:o,...s,children:[r,n&&R.jsx(l0,{"aria-label":t,variant:e,onClick:u})]})}),Qk=E.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:i=!1,...r},s)=>(t=jt(t,"modal-header"),R.jsx(qk,{ref:s,...r,className:dt(e,t),closeLabel:n,closeButton:i})));Qk.displayName="ModalHeader";const Q3=Dk("h4"),Jk=E.forwardRef(({className:t,bsPrefix:e,as:n=Q3,...i},r)=>(e=jt(e,"modal-title"),R.jsx(n,{ref:r,className:dt(t,e),...i})));Jk.displayName="ModalTitle";function J3(t){return R.jsx(gp,{...t,timeout:null})}function e4(t){return R.jsx(gp,{...t,timeout:null})}const eM=E.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:i,contentClassName:r,children:s,dialogAs:o=p0,"data-bs-theme":l,"aria-labelledby":u,"aria-describedby":h,"aria-label":d,show:p=!1,animation:m=!0,backdrop:_=!0,keyboard:v=!0,onEscapeKeyDown:y,onShow:S,onHide:x,container:w,autoFocus:C=!0,enforceFocus:k=!0,restoreFocus:M=!0,restoreFocusOptions:T,onEntered:O,onExit:I,onExiting:A,onEnter:j,onEntering:W,onExited:Z,backdropClassName:de,manager:le,...ue},ee)=>{const[re,z]=E.useState({}),[X,$]=E.useState(!1),te=E.useRef(!1),Q=E.useRef(!1),ae=E.useRef(null),[q,se]=u3(),ne=il(ee,se),ke=wn(x),it=Bj();t=jt(t,"modal");const gn=E.useMemo(()=>({onHide:ke}),[ke]);function kn(){return le||Gk({isRTL:it})}function nt(Ie){if(!nl)return;const Zt=kn().getScrollbarWidth()>0,_n=Ie.scrollHeight>mp(Ie).documentElement.clientHeight;z({paddingRight:Zt&&!_n?hS():void 0,paddingLeft:!Zt&&_n?hS():void 0})}const Et=wn(()=>{q&&nt(q.dialog)});Bk(()=>{U_(window,"resize",Et),ae.current==null||ae.current()});const Mn=()=>{te.current=!0},Vn=Ie=>{te.current&&q&&Ie.target===q.dialog&&(Q.current=!0),te.current=!1},Ae=()=>{$(!0),ae.current=Ok(q.dialog,()=>{$(!1)})},Xi=Ie=>{Ie.target===Ie.currentTarget&&Ae()},fi=Ie=>{if(_==="static"){Xi(Ie);return}if(Q.current||Ie.target!==Ie.currentTarget){Q.current=!1;return}x==null||x()},qi=Ie=>{v?y==null||y(Ie):(Ie.preventDefault(),_==="static"&&Ae())},ol=(Ie,Zt)=>{Ie&&nt(Ie),j==null||j(Ie,Zt)},Mo=Ie=>{ae.current==null||ae.current(),I==null||I(Ie)},Is=(Ie,Zt)=>{W==null||W(Ie,Zt),Ik(window,"resize",Et)},Lo=Ie=>{Ie&&(Ie.style.display=""),Z==null||Z(Ie),U_(window,"resize",Et)},ei=E.useCallback(Ie=>R.jsx("div",{...Ie,className:dt(`${t}-backdrop`,de,!m&&"show")}),[m,de,t]),Ii={...n,...re};Ii.display="block";const Io=Ie=>R.jsx("div",{role:"dialog",...Ie,style:Ii,className:dt(e,t,X&&`${t}-static`,!m&&"show"),onClick:_?fi:void 0,onMouseUp:Vn,"data-bs-theme":l,"aria-label":d,"aria-labelledby":u,"aria-describedby":h,children:R.jsx(o,{...ue,onMouseDown:Mn,className:i,contentClassName:r,children:s})});return R.jsx(f0.Provider,{value:gn,children:R.jsx(Zk,{show:p,ref:ne,backdrop:_,container:w,keyboard:!0,autoFocus:C,enforceFocus:k,restoreFocus:M,restoreFocusOptions:T,onEscapeKeyDown:qi,onShow:S,onHide:x,onEnter:ol,onEntering:Is,onEntered:O,onExit:Mo,onExiting:A,onExited:Lo,manager:kn(),transition:m?J3:void 0,backdropTransition:m?e4:void 0,renderBackdrop:ei,renderDialog:Io})})});eM.displayName="Modal";const Fi=Object.assign(eM,{Body:Kk,Header:Qk,Title:Jk,Footer:Xk,Dialog:p0,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var mS={exports:{}},Y_={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(i){function r(o,l,u,h,d,p){var m=h||"<<anonymous>>",_=p||u;if(l[u]==null)return o?new Error("Required "+d+" `"+_+"` was not specified "+("in `"+m+"`.")):null;for(var v=arguments.length,y=Array(v>6?v-6:0),S=6;S<v;S++)y[S-6]=arguments[S];return i.apply(void 0,[l,u,m,d,_].concat(y))}var s=r.bind(null,!1);return s.isRequired=r.bind(null,!0),s}t.exports=e.default})(Y_,Y_.exports);var t4=Y_.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=t4,i=r(n);function r(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];function h(){for(var d=arguments.length,p=Array(d),m=0;m<d;m++)p[m]=arguments[m];var _=null;return l.forEach(function(v){if(_==null){var y=v.apply(void 0,p);y!=null&&(_=y)}}),_}return(0,i.default)(h)}t.exports=e.default})(mS,mS.exports);const tM=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=jt(e,"nav-item"),R.jsx(n,{ref:r,className:dt(t,e),...i})));tM.displayName="NavItem";const nM=E.forwardRef(({bsPrefix:t,className:e,as:n=Ak,active:i,eventKey:r,disabled:s=!1,...o},l)=>{t=jt(t,"nav-link");const[u,h]=Hk({key:u0(r,o.href),active:i,disabled:s,...o});return R.jsx(n,{...o,...u,ref:l,disabled:s,className:dt(e,t,s&&"disabled",h.isActive&&"active")})});nM.displayName="NavLink";const iM=E.forwardRef((t,e)=>{const{as:n="div",bsPrefix:i,variant:r,fill:s=!1,justify:o=!1,navbar:l,navbarScroll:u,className:h,activeKey:d,...p}=Ek(t,{activeKey:"onSelect"}),m=jt(i,"nav");let _,v,y=!1;const S=E.useContext(rl),x=E.useContext(zk);return S?(_=S.bsPrefix,y=l??!0):x&&({cardHeaderBsPrefix:v}=x),R.jsx(R3,{as:n,ref:e,activeKey:d,className:dt(h,{[m]:!y,[`${_}-nav`]:y,[`${_}-nav-scroll`]:y&&u,[`${v}-${r}`]:!!v,[`${m}-${r}`]:!!r,[`${m}-fill`]:s,[`${m}-justified`]:o}),...p})});iM.displayName="Nav";const Hr=Object.assign(iM,{Item:tM,Link:nM}),rM=E.forwardRef(({bsPrefix:t,className:e,as:n,...i},r)=>{t=jt(t,"navbar-brand");const s=n||(i.href?"a":"span");return R.jsx(s,{...i,ref:r,className:dt(e,t)})});rM.displayName="NavbarBrand";const sM=E.forwardRef(({children:t,bsPrefix:e,...n},i)=>{e=jt(e,"navbar-collapse");const r=E.useContext(rl);return R.jsx(a3,{in:!!(r&&r.expanded),...n,children:R.jsx("div",{ref:i,className:e,children:t})})});sM.displayName="NavbarCollapse";const oM=E.forwardRef(({bsPrefix:t,className:e,children:n,label:i="Toggle navigation",as:r="button",onClick:s,...o},l)=>{t=jt(t,"navbar-toggler");const{onToggle:u,expanded:h}=E.useContext(rl)||{},d=wn(p=>{s&&s(p),u&&u()});return r==="button"&&(o.type="button"),R.jsx(r,{...o,ref:l,onClick:d,"aria-label":i,className:dt(e,t,!h&&"collapsed"),children:n||R.jsx("span",{className:`${t}-icon`})})});oM.displayName="NavbarToggle";const G_=new WeakMap,gS=(t,e)=>{if(!t||!e)return;const n=G_.get(e)||new Map;G_.set(e,n);let i=n.get(t);return i||(i=e.matchMedia(t),i.refCount=0,n.set(i.media,i)),i};function n4(t,e=typeof window>"u"?void 0:window){const n=gS(t,e),[i,r]=E.useState(()=>n?n.matches:!1);return Z_(()=>{let s=gS(t,e);if(!s)return r(!1);let o=G_.get(e);const l=()=>{r(s.matches)};return s.refCount++,s.addListener(l),l(),()=>{s.removeListener(l),s.refCount--,s.refCount<=0&&(o==null||o.delete(s.media)),s=void 0}},[t]),i}function i4(t){const e=Object.keys(t);function n(l,u){return l===u?u:l?`${l} and ${u}`:u}function i(l){return e[Math.min(e.indexOf(l)+1,e.length-1)]}function r(l){const u=i(l);let h=t[u];return typeof h=="number"?h=`${h-.2}px`:h=`calc(${h} - 0.2px)`,`(max-width: ${h})`}function s(l){let u=t[l];return typeof u=="number"&&(u=`${u}px`),`(min-width: ${u})`}function o(l,u,h){let d;typeof l=="object"?(d=l,h=u,u=!0):(u=u||!0,d={[l]:u});let p=E.useMemo(()=>Object.entries(d).reduce((m,[_,v])=>((v==="up"||v===!0)&&(m=n(m,s(_))),(v==="down"||v===!0)&&(m=n(m,r(_))),m),""),[JSON.stringify(d)]);return n4(p,h)}return o}const r4=i4({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),aM=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},r)=>(e=jt(e,"offcanvas-body"),R.jsx(n,{ref:r,className:dt(t,e),...i})));aM.displayName="OffcanvasBody";const s4={[wi]:"show",[cr]:"show"},lM=E.forwardRef(({bsPrefix:t,className:e,children:n,in:i=!1,mountOnEnter:r=!1,unmountOnExit:s=!1,appear:o=!1,...l},u)=>(t=jt(t,"offcanvas"),R.jsx(o0,{ref:u,addEndListener:s0,in:i,mountOnEnter:r,unmountOnExit:s,appear:o,...l,childRef:n.ref,children:(h,d)=>E.cloneElement(n,{...d,className:dt(e,n.props.className,(h===wi||h===ic)&&`${t}-toggling`,s4[h])})})));lM.displayName="OffcanvasToggling";const uM=E.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:i=!1,...r},s)=>(t=jt(t,"offcanvas-header"),R.jsx(qk,{ref:s,...r,className:dt(e,t),closeLabel:n,closeButton:i})));uM.displayName="OffcanvasHeader";const o4=Dk("h5"),cM=E.forwardRef(({className:t,bsPrefix:e,as:n=o4,...i},r)=>(e=jt(e,"offcanvas-title"),R.jsx(n,{ref:r,className:dt(t,e),...i})));cM.displayName="OffcanvasTitle";function a4(t){return R.jsx(lM,{...t})}function l4(t){return R.jsx(gp,{...t})}const hM=E.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":i,placement:r="start",responsive:s,show:o=!1,backdrop:l=!0,keyboard:u=!0,scroll:h=!1,onEscapeKeyDown:d,onShow:p,onHide:m,container:_,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:S=!0,restoreFocusOptions:x,onEntered:w,onExit:C,onExiting:k,onEnter:M,onEntering:T,onExited:O,backdropClassName:I,manager:A,renderStaticNode:j=!1,...W},Z)=>{const de=E.useRef();t=jt(t,"offcanvas");const[le,ue]=E.useState(!1),ee=wn(m),re=r4(s||"xs","up");E.useEffect(()=>{ue(s?o&&!re:o)},[o,s,re]);const z=E.useMemo(()=>({onHide:ee}),[ee]);function X(){return A||(h?(de.current||(de.current=new Yk({handleContainerOverflow:!1})),de.current):Gk())}const $=(q,...se)=>{q&&(q.style.visibility="visible"),M==null||M(q,...se)},te=(q,...se)=>{q&&(q.style.visibility=""),O==null||O(...se)},Q=E.useCallback(q=>R.jsx("div",{...q,className:dt(`${t}-backdrop`,I)}),[I,t]),ae=q=>R.jsx("div",{...q,...W,className:dt(e,s?`${t}-${s}`:t,`${t}-${r}`),"aria-labelledby":i,children:n});return R.jsxs(R.Fragment,{children:[!le&&(s||j)&&ae({}),R.jsx(f0.Provider,{value:z,children:R.jsx(Zk,{show:le,ref:Z,backdrop:l,container:_,keyboard:u,autoFocus:v,enforceFocus:y&&!h,restoreFocus:S,restoreFocusOptions:x,onEscapeKeyDown:d,onShow:p,onHide:ee,onEnter:$,onEntering:T,onEntered:w,onExit:C,onExiting:k,onExited:te,manager:X(),transition:a4,backdropTransition:l4,renderBackdrop:Q,renderDialog:ae})})]})});hM.displayName="Offcanvas";const u4=Object.assign(hM,{Body:aM,Header:uM,Title:cM}),dM=E.forwardRef(({onHide:t,...e},n)=>{const i=E.useContext(rl),r=wn(()=>{i==null||i.onToggle==null||i.onToggle(),t==null||t()});return R.jsx(u4,{ref:n,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:r})});dM.displayName="NavbarOffcanvas";const fM=E.forwardRef(({className:t,bsPrefix:e,as:n="span",...i},r)=>(e=jt(e,"navbar-text"),R.jsx(n,{ref:r,className:dt(t,e),...i})));fM.displayName="NavbarText";const pM=E.forwardRef((t,e)=>{const{bsPrefix:n,expand:i=!0,variant:r="light",bg:s,fixed:o,sticky:l,className:u,as:h="nav",expanded:d,onToggle:p,onSelect:m,collapseOnSelect:_=!1,...v}=Ek(t,{expanded:"onToggle"}),y=jt(n,"navbar"),S=E.useCallback((...C)=>{m==null||m(...C),_&&d&&(p==null||p(!1))},[m,_,d,p]);v.role===void 0&&h!=="nav"&&(v.role="navigation");let x=`${y}-expand`;typeof i=="string"&&(x=`${x}-${i}`);const w=E.useMemo(()=>({onToggle:()=>p==null?void 0:p(!d),bsPrefix:y,expanded:!!d,expand:i}),[y,d,i,p]);return R.jsx(rl.Provider,{value:w,children:R.jsx(yf.Provider,{value:S,children:R.jsx(h,{ref:e,...v,className:dt(u,y,i&&x,r&&`${y}-${r}`,s&&`bg-${s}`,l&&`sticky-${l}`,o&&`fixed-${o}`)})})})});pM.displayName="Navbar";const _S=Object.assign(pM,{Brand:rM,Collapse:sM,Offcanvas:dM,Text:fM,Toggle:oM}),c4=()=>{const t=by(),e=localStorage.getItem("userData"),n=JSON.parse(e),i=()=>{localStorage.removeItem("userData"),t("/")};return R.jsxs(_S,{bg:"dark",variant:"dark",className:"flex-column p-4 text-white position-fixed h-100",style:{width:"180px"},children:[R.jsxs(_S.Brand,{className:"mb-4",children:[R.jsx("h1",{className:"h5",children:"Water Quality"}),R.jsx("h2",{className:"small",children:"System"})]}),R.jsxs(Hr,{className:"flex-column flex-grow-1",children:[n.role==="Admin"&&R.jsx(Hr.Item,{className:"my-3",children:R.jsx(Ol,{to:"/dashboard",className:({isActive:r})=>r?"text-info":"text-white",children:"Dashboard"})}),R.jsx(Hr.Item,{className:"my-3",children:R.jsx(Ol,{to:"/data-visualization",className:({isActive:r})=>r?"text-info":"text-white",children:"Data Visualization"})}),R.jsx(Hr.Item,{className:"my-3",children:R.jsx(Ol,{to:"/company-data",className:({isActive:r})=>r?"text-info":"text-white",children:"Company Data"})}),n.role==="Admin"&&R.jsx(Hr.Item,{className:"my-3",children:R.jsx(Ol,{to:"/members",className:({isActive:r})=>r?"text-info":"text-white",children:"Members"})}),R.jsx(Hr.Item,{className:"my-3",children:R.jsx(Ol,{to:"/reports",className:({isActive:r})=>r?"text-info":"text-white",children:"Reports"})})]}),R.jsx(Hr,{className:"mt-auto",children:R.jsx(Hr.Item,{className:"my-4",children:R.jsx("span",{onClick:i,className:"text-white",style:{cursor:"pointer"},children:"Logout"})})})]})},h4=()=>{const t=qa();let e="Dashboard";return t.pathname==="/dashboard"?e="Dashboard":t.pathname==="/data-visualization"?e="Data Visualization":t.pathname==="/company-data"?e="Company Data":t.pathname==="/members"?e="Member Management":t.pathname==="/reports"&&(e="Reports"),R.jsxs("div",{className:"flex h-screen",children:[R.jsx("div",{className:"w-[180px] ",children:R.jsx(c4,{})}),R.jsxs("div",{className:"flex-1",children:[R.jsx(Ij,{title:e,className:"h-[60px]"}),R.jsx("div",{className:"p-2",children:R.jsx(YN,{})})]})]})},d4="/water_quality_system/assets/under_construction-BJmI_rru.png",f4=()=>R.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[R.jsx("img",{src:d4,className:"h-[350px] object-cover object-center",alt:"under construction"}),R.jsx("p",{className:"mt-4 text-center",children:"Under Development"})]});/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Oc(t){return t+.5|0}const es=(t,e,n)=>Math.max(Math.min(t,n),e);function Ql(t){return es(Oc(t*2.55),0,255)}function gs(t){return es(Oc(t*255),0,255)}function ur(t){return es(Oc(t/2.55)/100,0,1)}function vS(t){return es(Oc(t*100),0,100)}const ri={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},K_=[..."0123456789ABCDEF"],p4=t=>K_[t&15],m4=t=>K_[(t&240)>>4]+K_[t&15],Mh=t=>(t&240)>>4===(t&15),g4=t=>Mh(t.r)&&Mh(t.g)&&Mh(t.b)&&Mh(t.a);function _4(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&ri[t[1]]*17,g:255&ri[t[2]]*17,b:255&ri[t[3]]*17,a:e===5?ri[t[4]]*17:255}:(e===7||e===9)&&(n={r:ri[t[1]]<<4|ri[t[2]],g:ri[t[3]]<<4|ri[t[4]],b:ri[t[5]]<<4|ri[t[6]],a:e===9?ri[t[7]]<<4|ri[t[8]]:255})),n}const v4=(t,e)=>t<255?e(t):"";function y4(t){var e=g4(t)?p4:m4;return t?"#"+e(t.r)+e(t.g)+e(t.b)+v4(t.a,e):void 0}const x4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function mM(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function b4(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function w4(t,e,n){const i=mM(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function S4(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function m0(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),l=(s+o)/2;let u,h,d;return s!==o&&(d=s-o,h=l>.5?d/(2-s-o):d/(s+o),u=S4(n,i,r,d,s),u=u*60+.5),[u|0,h||0,l]}function g0(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(gs)}function _0(t,e,n){return g0(mM,t,e,n)}function C4(t,e,n){return g0(w4,t,e,n)}function E4(t,e,n){return g0(b4,t,e,n)}function gM(t){return(t%360+360)%360}function T4(t){const e=x4.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Ql(+e[5]):gs(+e[5]));const r=gM(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=C4(r,s,o):e[1]==="hsv"?i=E4(r,s,o):i=_0(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function P4(t,e){var n=m0(t);n[0]=gM(n[0]+e),n=_0(n),t.r=n[0],t.g=n[1],t.b=n[2]}function k4(t){if(!t)return;const e=m0(t),n=e[0],i=vS(e[1]),r=vS(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${ur(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const yS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},xS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function M4(){const t={},e=Object.keys(xS),n=Object.keys(yS);let i,r,s,o,l;for(i=0;i<e.length;i++){for(o=l=e[i],r=0;r<n.length;r++)s=n[r],l=l.replace(s,yS[s]);s=parseInt(xS[o],16),t[l]=[s>>16&255,s>>8&255,s&255]}return t}let Lh;function L4(t){Lh||(Lh=M4(),Lh.transparent=[0,0,0,0]);const e=Lh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const I4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function O4(t){const e=I4.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?Ql(o):es(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Ql(i):es(i,0,255)),r=255&(e[4]?Ql(r):es(r,0,255)),s=255&(e[6]?Ql(s):es(s,0,255)),{r:i,g:r,b:s,a:n}}}function R4(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ur(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const rg=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ea=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function D4(t,e,n){const i=ea(ur(t.r)),r=ea(ur(t.g)),s=ea(ur(t.b));return{r:gs(rg(i+n*(ea(ur(e.r))-i))),g:gs(rg(r+n*(ea(ur(e.g))-r))),b:gs(rg(s+n*(ea(ur(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Ih(t,e,n){if(t){let i=m0(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=_0(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function _M(t,e){return t&&Object.assign(e||{},t)}function bS(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=gs(t[3]))):(e=_M(t,{r:0,g:0,b:0,a:1}),e.a=gs(e.a)),e}function N4(t){return t.charAt(0)==="r"?O4(t):T4(t)}class rc{constructor(e){if(e instanceof rc)return e;const n=typeof e;let i;n==="object"?i=bS(e):n==="string"&&(i=_4(e)||L4(e)||N4(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=_M(this._rgb);return e&&(e.a=ur(e.a)),e}set rgb(e){this._rgb=bS(e)}rgbString(){return this._valid?R4(this._rgb):void 0}hexString(){return this._valid?y4(this._rgb):void 0}hslString(){return this._valid?k4(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,l=2*o-1,u=i.a-r.a,h=((l*u===-1?l:(l+u)/(1+l*u))+1)/2;s=1-h,i.r=255&h*i.r+s*r.r+.5,i.g=255&h*i.g+s*r.g+.5,i.b=255&h*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=D4(this._rgb,e._rgb,n)),this}clone(){return new rc(this.rgb)}alpha(e){return this._rgb.a=gs(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Oc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ih(this._rgb,2,e),this}darken(e){return Ih(this._rgb,2,-e),this}saturate(e){return Ih(this._rgb,1,e),this}desaturate(e){return Ih(this._rgb,1,-e),this}rotate(e){return P4(this._rgb,e),this}}/*!
 * Chart.js v4.4.5
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function rr(){}const A4=(()=>{let t=0;return()=>t++})();function We(t){return t===null||typeof t>"u"}function xt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function je(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Mt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Hn(t,e){return Mt(t)?t:e}function Ce(t,e){return typeof t>"u"?e:t}const F4=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,vM=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function lt(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ke(t,e,n,i){let r,s,o;if(xt(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(je(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function xf(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function bf(t){if(xt(t))return t.map(bf);if(je(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=bf(t[n[r]]);return e}return t}function yM(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function z4(t,e,n,i){if(!yM(t))return;const r=e[t],s=n[t];je(r)&&je(s)?sc(r,s,i):e[t]=bf(s)}function sc(t,e,n){const i=xt(e)?e:[e],r=i.length;if(!je(t))return t;n=n||{};const s=n.merger||z4;let o;for(let l=0;l<r;++l){if(o=i[l],!je(o))continue;const u=Object.keys(o);for(let h=0,d=u.length;h<d;++h)s(u[h],t,o,n)}return t}function xu(t,e){return sc(t,e,{merger:B4})}function B4(t,e,n){if(!yM(t))return;const i=e[t],r=n[t];je(i)&&je(r)?xu(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=bf(r))}const wS={"":t=>t,x:t=>t.x,y:t=>t.y};function j4(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function V4(t){const e=j4(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function ws(t,e){return(wS[e]||(wS[e]=V4(e)))(t)}function v0(t){return t.charAt(0).toUpperCase()+t.slice(1)}const oc=t=>typeof t<"u",Ss=t=>typeof t=="function",SS=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function H4(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const gt=Math.PI,mt=2*gt,$4=mt+gt,wf=Number.POSITIVE_INFINITY,W4=gt/180,Rt=gt/2,Bs=gt/4,CS=gt*2/3,ts=Math.log10,Yi=Math.sign;function bu(t,e,n){return Math.abs(t-e)<n}function ES(t){const e=Math.round(t);t=bu(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(ts(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function U4(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function Wa(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Z4(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function xM(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ei(t){return t*(gt/180)}function y0(t){return t*(180/gt)}function TS(t){if(!Mt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function bM(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*gt&&(s+=mt),{angle:s,distance:r}}function X_(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Y4(t,e){return(t-e+$4)%mt-gt}function Un(t){return(t%mt+mt)%mt}function ac(t,e,n,i){const r=Un(t),s=Un(e),o=Un(n),l=Un(s-r),u=Un(o-r),h=Un(r-s),d=Un(r-o);return r===s||r===o||i&&s===o||l>u&&h<d}function qt(t,e,n){return Math.max(e,Math.min(n,t))}function G4(t){return qt(t,-32768,32767)}function pr(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function x0(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const mr=(t,e,n,i)=>x0(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),K4=(t,e,n)=>x0(t,n,i=>t[i][e]>=n);function X4(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const wM=["push","pop","shift","splice","unshift"];function q4(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),wM.forEach(n=>{const i="_onData"+v0(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(l=>{typeof l[i]=="function"&&l[i](...s)}),o}})})}function PS(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(wM.forEach(s=>{delete t[s]}),delete t._chartjs)}function SM(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const CM=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function EM(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,CM.call(window,()=>{i=!1,t.apply(e,n)}))}}function Q4(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const b0=t=>t==="start"?"left":t==="end"?"right":"center",hn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,J4=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function TM(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,_parsed:l}=t,u=o.axis,{min:h,max:d,minDefined:p,maxDefined:m}=o.getUserBounds();p&&(r=qt(Math.min(mr(l,u,h).lo,n?i:mr(e,u,o.getPixelForValue(h)).lo),0,i-1)),m?s=qt(Math.max(mr(l,o.axis,d,!0).hi+1,n?0:mr(e,u,o.getPixelForValue(d),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function PM(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const Oh=t=>t===0||t===1,kS=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*mt/n)),MS=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*mt/n)+1,wu={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Rt)+1,easeOutSine:t=>Math.sin(t*Rt),easeInOutSine:t=>-.5*(Math.cos(gt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Oh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Oh(t)?t:kS(t,.075,.3),easeOutElastic:t=>Oh(t)?t:MS(t,.075,.3),easeInOutElastic(t){return Oh(t)?t:t<.5?.5*kS(t*2,.1125,.45):.5+.5*MS(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-wu.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?wu.easeInBounce(t*2)*.5:wu.easeOutBounce(t*2-1)*.5+.5};function w0(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function LS(t){return w0(t)?t:new rc(t)}function sg(t){return w0(t)?t:new rc(t).saturate(.5).darken(.1).hexString()}const eV=["x","y","borderWidth","radius","tension"],tV=["color","borderColor","backgroundColor"];function nV(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:tV},numbers:{type:"number",properties:eV}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function iV(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const IS=new Map;function rV(t,e){e=e||{};const n=t+JSON.stringify(e);let i=IS.get(n);return i||(i=new Intl.NumberFormat(t,e),IS.set(n,i)),i}function Rc(t,e,n){return rV(e,n).format(t)}const kM={values(t){return xt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const h=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),s=sV(t,n)}const o=ts(Math.abs(s)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),u={notation:r,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),Rc(t,i,u)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(ts(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?kM.numeric.call(this,t,e,n):""}};function sV(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var vp={formatters:kM};function oV(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:vp.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const xo=Object.create(null),q_=Object.create(null);function Su(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function og(t,e,n){return typeof e=="string"?sc(Su(t,e),n):sc(Su(t,""),e)}class aV{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>sg(r.backgroundColor),this.hoverBorderColor=(i,r)=>sg(r.borderColor),this.hoverColor=(i,r)=>sg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return og(this,e,n)}get(e){return Su(this,e)}describe(e,n){return og(q_,e,n)}override(e,n){return og(xo,e,n)}route(e,n,i,r){const s=Su(this,e),o=Su(this,i),l="_"+n;Object.defineProperties(s,{[l]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const u=this[l],h=o[r];return je(u)?Object.assign({},h,u):Ce(u,h)},set(u){this[l]=u}}})}apply(e){e.forEach(n=>n(this))}}var bt=new aV({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[nV,iV,oV]);function lV(t){return!t||We(t.size)||We(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Sf(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function uV(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const l=n.length;let u,h,d,p,m;for(u=0;u<l;u++)if(p=n[u],p!=null&&!xt(p))o=Sf(t,r,s,o,p);else if(xt(p))for(h=0,d=p.length;h<d;h++)m=p[h],m!=null&&!xt(m)&&(o=Sf(t,r,s,o,m));t.restore();const _=s.length/2;if(_>n.length){for(u=0;u<_;u++)delete r[s[u]];s.splice(0,_)}return o}function js(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function OS(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Q_(t,e,n,i){MM(t,e,n,i,null)}function MM(t,e,n,i,r){let s,o,l,u,h,d,p,m;const _=e.pointStyle,v=e.rotation,y=e.radius;let S=(v||0)*W4;if(_&&typeof _=="object"&&(s=_.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(S),t.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),_){default:r?t.ellipse(n,i,r/2,y,0,0,mt):t.arc(n,i,y,0,mt),t.closePath();break;case"triangle":d=r?r/2:y,t.moveTo(n+Math.sin(S)*d,i-Math.cos(S)*y),S+=CS,t.lineTo(n+Math.sin(S)*d,i-Math.cos(S)*y),S+=CS,t.lineTo(n+Math.sin(S)*d,i-Math.cos(S)*y),t.closePath();break;case"rectRounded":h=y*.516,u=y-h,o=Math.cos(S+Bs)*u,p=Math.cos(S+Bs)*(r?r/2-h:u),l=Math.sin(S+Bs)*u,m=Math.sin(S+Bs)*(r?r/2-h:u),t.arc(n-p,i-l,h,S-gt,S-Rt),t.arc(n+m,i-o,h,S-Rt,S),t.arc(n+p,i+l,h,S,S+Rt),t.arc(n-m,i+o,h,S+Rt,S+gt),t.closePath();break;case"rect":if(!v){u=Math.SQRT1_2*y,d=r?r/2:u,t.rect(n-d,i-u,2*d,2*u);break}S+=Bs;case"rectRot":p=Math.cos(S)*(r?r/2:y),o=Math.cos(S)*y,l=Math.sin(S)*y,m=Math.sin(S)*(r?r/2:y),t.moveTo(n-p,i-l),t.lineTo(n+m,i-o),t.lineTo(n+p,i+l),t.lineTo(n-m,i+o),t.closePath();break;case"crossRot":S+=Bs;case"cross":p=Math.cos(S)*(r?r/2:y),o=Math.cos(S)*y,l=Math.sin(S)*y,m=Math.sin(S)*(r?r/2:y),t.moveTo(n-p,i-l),t.lineTo(n+p,i+l),t.moveTo(n+m,i-o),t.lineTo(n-m,i+o);break;case"star":p=Math.cos(S)*(r?r/2:y),o=Math.cos(S)*y,l=Math.sin(S)*y,m=Math.sin(S)*(r?r/2:y),t.moveTo(n-p,i-l),t.lineTo(n+p,i+l),t.moveTo(n+m,i-o),t.lineTo(n-m,i+o),S+=Bs,p=Math.cos(S)*(r?r/2:y),o=Math.cos(S)*y,l=Math.sin(S)*y,m=Math.sin(S)*(r?r/2:y),t.moveTo(n-p,i-l),t.lineTo(n+p,i+l),t.moveTo(n+m,i-o),t.lineTo(n-m,i+o);break;case"line":o=r?r/2:Math.cos(S)*y,l=Math.sin(S)*y,t.moveTo(n-o,i-l),t.lineTo(n+o,i+l);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(S)*(r?r/2:y),i+Math.sin(S)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function gr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function yp(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function xp(t){t.restore()}function cV(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function hV(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function dV(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),We(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function fV(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,u=n-s.actualBoundingBoxAscent,h=n+s.actualBoundingBoxDescent,d=r.strikethrough?(u+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,d),t.lineTo(l,d),t.stroke()}}function pV(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function bo(t,e,n,i,r,s={}){const o=xt(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let u,h;for(t.save(),t.font=r.string,dV(t,s),u=0;u<o.length;++u)h=o[u],s.backdrop&&pV(t,s.backdrop),l&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),We(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(h,n,i,s.maxWidth)),t.fillText(h,n,i,s.maxWidth),fV(t,n,i,h,s),i+=Number(r.lineHeight);t.restore()}function lc(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*gt,gt,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,gt,Rt,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Rt,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Rt,!0),t.lineTo(n+o.topLeft,i)}const mV=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,gV=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _V(t,e){const n=(""+t).match(mV);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const vV=t=>+t||0;function S0(t,e){const n={},i=je(e),r=i?Object.keys(e):e,s=je(t)?i?o=>Ce(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=vV(s(o));return n}function LM(t){return S0(t,{top:"y",right:"x",bottom:"y",left:"x"})}function lo(t){return S0(t,["topLeft","topRight","bottomLeft","bottomRight"])}function mn(t){const e=LM(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ut(t,e){t=t||{},e=e||bt.font;let n=Ce(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=Ce(t.style,e.style);i&&!(""+i).match(gV)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ce(t.family,e.family),lineHeight:_V(Ce(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Ce(t.weight,e.weight),string:""};return r.string=lV(r),r}function Jl(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function yV(t,e,n){const{min:i,max:r}=t,s=vM(e,(r-i)/2),o=(l,u)=>n&&l===0?0:l+u;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Ls(t,e){return Object.assign(Object.create(t),e)}function C0(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=DM("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:l=>C0([l,...t],e,s,i)};return new Proxy(o,{deleteProperty(l,u){return delete l[u],delete l._keys,delete t[0][u],!0},get(l,u){return OM(l,u,()=>PV(u,e,t,l))},getOwnPropertyDescriptor(l,u){return Reflect.getOwnPropertyDescriptor(l._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,u){return DS(l).includes(u)},ownKeys(l){return DS(l)},set(l,u,h){const d=l._storage||(l._storage=r());return l[u]=d[u]=h,delete l._keys,!0}})}function Ua(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:IM(t,i),setContext:s=>Ua(t,s,n,i),override:s=>Ua(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,l){return OM(s,o,()=>bV(s,o,l))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,l){return t[o]=l,delete s[o],!0}})}function IM(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Ss(n)?n:()=>n,isIndexable:Ss(i)?i:()=>i}}const xV=(t,e)=>t?t+v0(e):e,E0=(t,e)=>je(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function OM(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function bV(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let l=i[e];return Ss(l)&&o.isScriptable(e)&&(l=wV(e,l,t,n)),xt(l)&&l.length&&(l=SV(e,l,t,o.isIndexable)),E0(e,l)&&(l=Ua(l,r,s&&s[e],o)),l}function wV(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:l}=n;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let u=e(s,o||i);return l.delete(t),E0(t,u)&&(u=T0(r._scopes,r,t,u)),u}function SV(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:l}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(je(e[0])){const u=e,h=r._scopes.filter(d=>d!==u);e=[];for(const d of u){const p=T0(h,r,t,d);e.push(Ua(p,s,o&&o[t],l))}}return e}function RM(t,e,n){return Ss(t)?t(e,n):t}const CV=(t,e)=>t===!0?e:typeof t=="string"?ws(e,t):void 0;function EV(t,e,n,i,r){for(const s of e){const o=CV(n,s);if(o){t.add(o);const l=RM(o._fallback,n,r);if(typeof l<"u"&&l!==n&&l!==i)return l}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function T0(t,e,n,i){const r=e._rootScopes,s=RM(e._fallback,n,i),o=[...t,...r],l=new Set;l.add(i);let u=RS(l,o,n,s||n,i);return u===null||typeof s<"u"&&s!==n&&(u=RS(l,o,s,u,i),u===null)?!1:C0(Array.from(l),[""],r,s,()=>TV(e,n,i))}function RS(t,e,n,i,r){for(;n;)n=EV(t,e,n,i,r);return n}function TV(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return xt(r)&&je(n)?n:r||{}}function PV(t,e,n,i){let r;for(const s of e)if(r=DM(xV(s,t),n),typeof r<"u")return E0(t,r)?T0(n,i,t,r):r}function DM(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function DS(t){let e=t._keys;return e||(e=t._keys=kV(t._scopes)),e}function kV(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function NM(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let l,u,h,d;for(l=0,u=i;l<u;++l)h=l+n,d=e[h],o[l]={r:r.parse(ws(d,s),h)};return o}const MV=Number.EPSILON||1e-14,Za=(t,e)=>e<t.length&&!t[e].skip&&t[e],AM=t=>t==="x"?"y":"x";function LV(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,l=X_(s,r),u=X_(o,s);let h=l/(l+u),d=u/(l+u);h=isNaN(h)?0:h,d=isNaN(d)?0:d;const p=i*h,m=i*d;return{previous:{x:s.x-p*(o.x-r.x),y:s.y-p*(o.y-r.y)},next:{x:s.x+m*(o.x-r.x),y:s.y+m*(o.y-r.y)}}}function IV(t,e,n){const i=t.length;let r,s,o,l,u,h=Za(t,0);for(let d=0;d<i-1;++d)if(u=h,h=Za(t,d+1),!(!u||!h)){if(bu(e[d],0,MV)){n[d]=n[d+1]=0;continue}r=n[d]/e[d],s=n[d+1]/e[d],l=Math.pow(r,2)+Math.pow(s,2),!(l<=9)&&(o=3/Math.sqrt(l),n[d]=r*o*e[d],n[d+1]=s*o*e[d])}}function OV(t,e,n="x"){const i=AM(n),r=t.length;let s,o,l,u=Za(t,0);for(let h=0;h<r;++h){if(o=l,l=u,u=Za(t,h+1),!l)continue;const d=l[n],p=l[i];o&&(s=(d-o[n])/3,l[`cp1${n}`]=d-s,l[`cp1${i}`]=p-s*e[h]),u&&(s=(u[n]-d)/3,l[`cp2${n}`]=d+s,l[`cp2${i}`]=p+s*e[h])}}function RV(t,e="x"){const n=AM(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,l,u,h=Za(t,0);for(o=0;o<i;++o)if(l=u,u=h,h=Za(t,o+1),!!u){if(h){const d=h[e]-u[e];r[o]=d!==0?(h[n]-u[n])/d:0}s[o]=l?h?Yi(r[o-1])!==Yi(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}IV(t,r,s),OV(t,s,e)}function Rh(t,e,n){return Math.max(Math.min(t,n),e)}function DV(t,e){let n,i,r,s,o,l=gr(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=l,l=n<i-1&&gr(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Rh(r.cp1x,e.left,e.right),r.cp1y=Rh(r.cp1y,e.top,e.bottom)),l&&(r.cp2x=Rh(r.cp2x,e.left,e.right),r.cp2y=Rh(r.cp2y,e.top,e.bottom)))}function NV(t,e,n,i,r){let s,o,l,u;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")RV(t,r);else{let h=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)l=t[s],u=LV(h,l,t[Math.min(s+1,o-(i?0:1))%o],e.tension),l.cp1x=u.previous.x,l.cp1y=u.previous.y,l.cp2x=u.next.x,l.cp2y=u.next.y,h=l}e.capBezierPoints&&DV(t,n)}function P0(){return typeof window<"u"&&typeof document<"u"}function k0(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Cf(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const bp=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function AV(t,e){return bp(t).getPropertyValue(e)}const FV=["top","right","bottom","left"];function uo(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=FV[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const zV=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function BV(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,l,u;if(zV(r,s,t.target))l=r,u=s;else{const h=e.getBoundingClientRect();l=i.clientX-h.left,u=i.clientY-h.top,o=!0}return{x:l,y:u,box:o}}function Gs(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=bp(n),s=r.boxSizing==="border-box",o=uo(r,"padding"),l=uo(r,"border","width"),{x:u,y:h,box:d}=BV(t,n),p=o.left+(d&&l.left),m=o.top+(d&&l.top);let{width:_,height:v}=e;return s&&(_-=o.width+l.width,v-=o.height+l.height),{x:Math.round((u-p)/_*n.width/i),y:Math.round((h-m)/v*n.height/i)}}function jV(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&k0(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),l=bp(s),u=uo(l,"border","width"),h=uo(l,"padding");e=o.width-h.width-u.width,n=o.height-h.height-u.height,i=Cf(l.maxWidth,s,"clientWidth"),r=Cf(l.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||wf,maxHeight:r||wf}}const Dh=t=>Math.round(t*10)/10;function VV(t,e,n,i){const r=bp(t),s=uo(r,"margin"),o=Cf(r.maxWidth,t,"clientWidth")||wf,l=Cf(r.maxHeight,t,"clientHeight")||wf,u=jV(t,e,n);let{width:h,height:d}=u;if(r.boxSizing==="content-box"){const m=uo(r,"border","width"),_=uo(r,"padding");h-=_.width+m.width,d-=_.height+m.height}return h=Math.max(0,h-s.width),d=Math.max(0,i?h/i:d-s.height),h=Dh(Math.min(h,o,u.maxWidth)),d=Dh(Math.min(d,l,u.maxHeight)),h&&!d&&(d=Dh(h/2)),(e!==void 0||n!==void 0)&&i&&u.height&&d>u.height&&(d=u.height,h=Dh(Math.floor(d*i))),{width:h,height:d}}function NS(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const HV=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};P0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function AS(t,e){const n=AV(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ks(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function $V(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function WV(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=Ks(t,r,n),l=Ks(r,s,n),u=Ks(s,e,n),h=Ks(o,l,n),d=Ks(l,u,n);return Ks(h,d,n)}const UV=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},ZV=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Pa(t,e,n){return t?UV(e,n):ZV()}function FM(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function zM(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function BM(t){return t==="angle"?{between:ac,compare:Y4,normalize:Un}:{between:pr,compare:(e,n)=>e-n,normalize:e=>e}}function FS({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function YV(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:l}=BM(i),u=e.length;let{start:h,end:d,loop:p}=t,m,_;if(p){for(h+=u,d+=u,m=0,_=u;m<_&&o(l(e[h%u][i]),r,s);++m)h--,d--;h%=u,d%=u}return d<h&&(d+=u),{start:h,end:d,loop:p,style:t.style}}function jM(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:l,between:u,normalize:h}=BM(i),{start:d,end:p,loop:m,style:_}=YV(t,e,n),v=[];let y=!1,S=null,x,w,C;const k=()=>u(r,C,x)&&l(r,C)!==0,M=()=>l(s,x)===0||u(s,C,x),T=()=>y||k(),O=()=>!y||M();for(let I=d,A=d;I<=p;++I)w=e[I%o],!w.skip&&(x=h(w[i]),x!==C&&(y=u(x,r,s),S===null&&T()&&(S=l(x,r)===0?I:A),S!==null&&O()&&(v.push(FS({start:S,end:I,loop:m,count:o,style:_})),S=null),A=I,C=x));return S!==null&&v.push(FS({start:S,end:p,loop:m,count:o,style:_})),v}function VM(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=jM(i[r],t.points,e);s.length&&n.push(...s)}return n}function GV(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function KV(t,e,n,i){const r=t.length,s=[];let o=e,l=t[e],u;for(u=e+1;u<=n;++u){const h=t[u%r];h.skip||h.stop?l.skip||(i=!1,s.push({start:e%r,end:(u-1)%r,loop:i}),e=o=h.stop?u:null):(o=u,l.skip&&(e=u)),l=h}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function XV(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:l}=GV(n,r,s,i);if(i===!0)return zS(t,[{start:o,end:l,loop:s}],n,e);const u=l<o?l+r:l,h=!!t._fullLoop&&o===0&&l===r-1;return zS(t,KV(n,o,u,h),n,e)}function zS(t,e,n,i){return!i||!i.setContext||!n?e:qV(t,e,n,i)}function qV(t,e,n,i){const r=t._chart.getContext(),s=BS(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,u=n.length,h=[];let d=s,p=e[0].start,m=p;function _(v,y,S,x){const w=l?-1:1;if(v!==y){for(v+=u;n[v%u].skip;)v-=w;for(;n[y%u].skip;)y+=w;v%u!==y%u&&(h.push({start:v%u,end:y%u,loop:S,style:x}),d=x,p=y%u)}}for(const v of e){p=l?p:v.start;let y=n[p%u],S;for(m=p+1;m<=v.end;m++){const x=n[m%u];S=BS(i.setContext(Ls(r,{type:"segment",p0:y,p1:x,p0DataIndex:(m-1)%u,p1DataIndex:m%u,datasetIndex:o}))),QV(S,d)&&_(p,m-1,v.loop,d),y=x,d=S}p<m-1&&_(p,m-1,v.loop,d)}return h}function BS(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function QV(t,e){if(!e)return!1;const n=[],i=function(r,s){return w0(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.5
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class JV{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(l=>l({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=CM.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,l=!1,u;for(;o>=0;--o)u=s[o],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),l=!0):(s[o]=s[s.length-1],s.pop());l&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var sr=new JV;const jS="transparent",e5={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=LS(t||jS),r=i.valid&&LS(e||jS);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class t5{constructor(e,n,i,r){const s=n[i];r=Jl([e.to,r,s,e.from]);const o=Jl([e.from,s,r]);this._active=!0,this._fn=e.fn||e5[e.type||typeof o],this._easing=wu[e.easing]||wu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Jl([e.to,n,r,e.from]),this._from=Jl([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,l=this._to;let u;if(this._active=s!==l&&(o||n<i),!this._active){this._target[r]=l,this._notify(!0);return}if(n<0){this._target[r]=s;return}u=n/i%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(s,l,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class HM{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!je(e))return;const n=Object.keys(bt.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!je(s))return;const o={};for(const l of n)o[l]=s[l];(xt(s.properties)&&s.properties||[r]).forEach(l=>{(l===r||!i.has(l))&&i.set(l,o)})})}_animateOptions(e,n){const i=n.options,r=i5(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&n5(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),l=Date.now();let u;for(u=o.length-1;u>=0;--u){const h=o[u];if(h.charAt(0)==="$")continue;if(h==="options"){r.push(...this._animateOptions(e,n));continue}const d=n[h];let p=s[h];const m=i.get(h);if(p)if(m&&p.active()){p.update(m,d,l);continue}else p.cancel();if(!m||!m.duration){e[h]=d;continue}s[h]=p=new t5(m,e,h,d),r.push(p)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return sr.add(this._chart,i),!0}}function n5(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function i5(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function VS(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function r5(t,e,n){if(n===!1)return!1;const i=VS(t,n),r=VS(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function s5(t){let e,n,i,r;return je(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function $M(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function HS(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,l,u,h;if(e!==null){for(o=0,l=r.length;o<l;++o){if(u=+r[o],u===n){if(i.all)continue;break}h=t.values[u],Mt(h)&&(s||e===0||Yi(e)===Yi(h))&&(e+=h)}return e}}function o5(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let u,h,d;for(u=0,h=o.length;u<h;++u)d=o[u],l[u]={[r]:d,[s]:t[d]};return l}function ag(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function a5(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function l5(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function u5(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function $S(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function WS(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:l}=i,u=s.axis,h=o.axis,d=a5(s,o,i),p=e.length;let m;for(let _=0;_<p;++_){const v=e[_],{[u]:y,[h]:S}=v,x=v._stacks||(v._stacks={});m=x[h]=u5(r,d,y),m[l]=S,m._top=$S(m,o,!0,i.type),m._bottom=$S(m,o,!1,i.type);const w=m._visualValues||(m._visualValues={});w[l]=S}}function lg(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function c5(t,e){return Ls(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function h5(t,e,n){return Ls(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function zl(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const ug=t=>t==="reset"||t==="none",US=(t,e)=>e?t:Object.assign({},t),d5=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:$M(n,!0),values:null};class Mi{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ag(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&zl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(p,m,_,v)=>p==="x"?m:p==="r"?v:_,s=n.xAxisID=Ce(i.xAxisID,lg(e,"x")),o=n.yAxisID=Ce(i.yAxisID,lg(e,"y")),l=n.rAxisID=Ce(i.rAxisID,lg(e,"r")),u=n.indexAxis,h=n.iAxisID=r(u,s,o,l),d=n.vAxisID=r(u,o,s,l);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(h),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&PS(this._data,this),e._stacked&&zl(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(je(n)){const r=this._cachedMeta;this._data=o5(n,r)}else if(i!==n){if(i){PS(i,this);const r=this._cachedMeta;zl(r),r._parsed=[]}n&&Object.isExtensible(n)&&q4(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=ag(n.vScale,n),n.stack!==i.stack&&(r=!0,zl(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(WS(this,n._parsed),n._stacked=ag(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,l=s.axis;let u=e===0&&n===r.length?!0:i._sorted,h=e>0&&i._parsed[e-1],d,p,m;if(this._parsing===!1)i._parsed=r,i._sorted=!0,m=r;else{xt(r[e])?m=this.parseArrayData(i,r,e,n):je(r[e])?m=this.parseObjectData(i,r,e,n):m=this.parsePrimitiveData(i,r,e,n);const _=()=>p[l]===null||h&&p[l]<h[l];for(d=0;d<n;++d)i._parsed[d+e]=p=m[d],u&&(_()&&(u=!1),h=p);i._sorted=u}o&&WS(this,m)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,l=s.axis,u=o.axis,h=s.getLabels(),d=s===o,p=new Array(r);let m,_,v;for(m=0,_=r;m<_;++m)v=m+i,p[m]={[l]:d||s.parse(h[v],v),[u]:o.parse(n[v],v)};return p}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,l=new Array(r);let u,h,d,p;for(u=0,h=r;u<h;++u)d=u+i,p=n[d],l[u]={x:s.parse(p[0],d),y:o.parse(p[1],d)};return l}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,h=new Array(r);let d,p,m,_;for(d=0,p=r;d<p;++d)m=d+i,_=n[m],h[d]={x:s.parse(ws(_,l),m),y:o.parse(ws(_,u),m)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],l={keys:$M(r,!0),values:n._stacks[e.axis]._visualValues};return HS(l,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const l=r&&i._stacks[n.axis];r&&l&&(r.values=l,o=HS(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,l=this._getOtherScale(e),u=d5(n,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:p}=l5(l);let m,_;function v(){_=r[m];const y=_[l.axis];return!Mt(_[e.axis])||d>y||p<y}for(m=0;m<o&&!(!v()&&(this.updateRangeFromParsed(h,e,_,u),s));++m);if(s){for(m=o-1;m>=0;--m)if(!v()){this.updateRangeFromParsed(h,e,_,u);break}}return h}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],Mt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=s5(Ce(this.options.clip,r5(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],l=this._drawStart||0,u=this._drawCount||r.length-l,h=this.options.drawActiveElementsOnTop;let d;for(i.dataset&&i.dataset.draw(e,s,l,u),d=l;d<l+u;++d){const p=r[d];p.hidden||(p.active&&h?o.push(p):p.draw(e,s))}for(d=0;d<o.length;++d)o[d].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=h5(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=c5(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,l=s[o],u=this.enableOptionSharing&&oc(i);if(l)return US(l,u);const h=this.chart.config,d=h.datasetElementScopeKeys(this._type,e),p=r?[`${e}Hover`,"hover",e,""]:[e,""],m=h.getOptionScopes(this.getDataset(),d),_=Object.keys(bt.elements[e]),v=()=>this.getContext(i,r,n),y=h.resolveNamedOptions(m,_,v,p);return y.$shared&&(y.$shared=u,s[o]=Object.freeze(US(y,u))),y}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,l=s[o];if(l)return l;let u;if(r.options.animation!==!1){const d=this.chart.config,p=d.datasetAnimationScopeKeys(this._type,n),m=d.getOptionScopes(this.getDataset(),p);u=d.createResolver(m,this.getContext(e,i,n))}const h=new HM(r,u&&u.animations);return u&&u._cacheable&&(s[o]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||ug(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){ug(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!ug(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[l,u,h]of this._syncList)this[l](u,h);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let l;const u=h=>{for(h.length+=n,l=h.length-1;l>=o;l--)h[l]=h[l-n]};for(u(s),l=e;l<o;++l)s[l]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&zl(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ie(Mi,"defaults",{}),ie(Mi,"datasetElementType",null),ie(Mi,"dataElementType",null);function f5(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=SM(i.sort((r,s)=>r-s))}return t._cache.$bar}function p5(t){const e=t.iScale,n=f5(e,t.type);let i=e._length,r,s,o,l;const u=()=>{o===32767||o===-32768||(oc(l)&&(i=Math.min(i,Math.abs(o-l)||i)),l=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),u();for(l=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),u();return i}function m5(t,e,n,i){const r=n.barThickness;let s,o;return We(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function g5(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,l=t<r.length-1?r[t+1]:null;const u=n.categoryPercentage;o===null&&(o=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-o);const h=s-(s-Math.min(o,l))/2*u;return{chunk:Math.abs(l-o)/2*u/i,ratio:n.barPercentage,start:h}}function _5(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),l=Math.max(r,s);let u=o,h=l;Math.abs(o)>Math.abs(l)&&(u=l,h=o),e[n.axis]=h,e._custom={barStart:u,barEnd:h,start:r,end:s,min:o,max:l}}function WM(t,e,n,i){return xt(t)?_5(t,e,n,i):e[n.axis]=n.parse(t,i),e}function ZS(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),l=r===s,u=[];let h,d,p,m;for(h=n,d=n+i;h<d;++h)m=e[h],p={},p[r.axis]=l||r.parse(o[h],h),u.push(WM(m,p,s,h));return u}function cg(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function v5(t,e,n){return t!==0?Yi(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function y5(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function x5(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:u,top:h,bottom:d}=y5(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=h:(n._bottom||0)===i?r=d:(s[YS(d,o,l,u)]=!0,r=h)),s[YS(r,o,l,u)]=!0,t.borderSkipped=s}function YS(t,e,n,i){return i?(t=b5(t,e,n),t=GS(t,n,e)):t=GS(t,e,n),t}function b5(t,e,n){return t===e?n:t===n?e:t}function GS(t,e,n){return t==="start"?e:t==="end"?n:t}function w5(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class cd extends Mi{parsePrimitiveData(e,n,i,r){return ZS(e,n,i,r)}parseArrayData(e,n,i,r){return ZS(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,h=s.axis==="x"?l:u,d=o.axis==="x"?l:u,p=[];let m,_,v,y;for(m=i,_=i+r;m<_;++m)y=n[m],v={},v[s.axis]=s.parse(ws(y,h),m),p.push(WM(ws(y,d),v,o,m));return p}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),o=s._custom,l=cg(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),h=l.isHorizontal(),d=this._getRuler(),{sharedOptions:p,includeOptions:m}=this._getSharedOptions(n,r);for(let _=n;_<n+i;_++){const v=this.getParsed(_),y=s||We(v[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(_),S=this._calculateBarIndexPixels(_,d),x=(v._stacks||{})[l.axis],w={horizontal:h,base:y.base,enableBorderRadius:!x||cg(v._custom)||o===x._top||o===x._bottom,x:h?y.head:S.center,y:h?S.center:y.head,height:h?S.size:Math.abs(y.size),width:h?Math.abs(y.size):S.size};m&&(w.options=p||this.resolveDataElementOptions(_,e[_].active?"active":r));const C=w.options||e[_].options;x5(w,C,x,o),w5(w,C,d.ratio),this.updateElement(e[_],_,w,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=i.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(n),u=l&&l[i.axis],h=d=>{const p=d._parsed.find(_=>_[i.axis]===u),m=p&&p[d.vScale.axis];if(We(m)||isNaN(m))return!0};for(const d of r)if(!(n!==void 0&&h(d))&&((s===!1||o.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const l=e.barThickness;return{min:l||p5(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,l=s||0,u=this.getParsed(e),h=u._custom,d=cg(h);let p=u[n.axis],m=0,_=i?this.applyStack(n,u,i):p,v,y;_!==p&&(m=_-p,_=p),d&&(p=h.barStart,_=h.barEnd-h.barStart,p!==0&&Yi(p)!==Yi(h.barEnd)&&(m=0),m+=p);const S=!We(s)&&!d?s:m;let x=n.getPixelForValue(S);if(this.chart.getDataVisibility(e)?v=n.getPixelForValue(m+_):v=x,y=v-x,Math.abs(y)<o){y=v5(y,n,l)*o,p===l&&(x-=y/2);const w=n.getPixelForDecimal(0),C=n.getPixelForDecimal(1),k=Math.min(w,C),M=Math.max(w,C);x=Math.max(Math.min(x,M),k),v=x+y,i&&!d&&(u._stacks[n.axis]._visualValues[r]=n.getValueForPixel(v)-n.getValueForPixel(x))}if(x===n.getPixelForValue(l)){const w=Yi(y)*n.getLineWidthForValue(l)/2;x+=w,y-=w}return{size:y,base:x,head:v,center:v+y/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,o=Ce(r.maxBarThickness,1/0);let l,u;if(n.grouped){const h=s?this._getStackCount(e):n.stackCount,d=r.barThickness==="flex"?g5(e,n,r,h):m5(e,n,r,h),p=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);l=d.start+d.chunk*p+d.chunk/2,u=Math.min(o,d.chunk*d.ratio)}else l=i.getPixelForValue(this.getParsed(e)[i.axis],e),u=Math.min(o,n.min*n.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}ie(cd,"id","bar"),ie(cd,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ie(cd,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class hd extends Mi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,i,r){const s=super.parsePrimitiveData(e,n,i,r);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(e,n,i,r){const s=super.parseArrayData(e,n,i,r);for(let o=0;o<s.length;o++){const l=n[i+o];s[o]._custom=Ce(l[2],this.resolveDataElementOptions(o+i).radius)}return s}parseObjectData(e,n,i,r){const s=super.parseObjectData(e,n,i,r);for(let o=0;o<s.length;o++){const l=n[i+o];s[o]._custom=Ce(l&&l.r&&+l.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let i=e.length-1;i>=0;--i)n=Math.max(n,e[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),l=r.getLabelForValue(o.x),u=s.getLabelForValue(o.y),h=o._custom;return{label:i[e]||"",value:"("+l+", "+u+(h?", "+h:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:l}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,r),d=o.axis,p=l.axis;for(let m=n;m<n+i;m++){const _=e[m],v=!s&&this.getParsed(m),y={},S=y[d]=s?o.getPixelForDecimal(.5):o.getPixelForValue(v[d]),x=y[p]=s?l.getBasePixel():l.getPixelForValue(v[p]);y.skip=isNaN(S)||isNaN(x),h&&(y.options=u||this.resolveDataElementOptions(m,_.active?"active":r),s&&(y.options.radius=0)),this.updateElement(_,m,y,r)}}resolveDataElementOptions(e,n){const i=this.getParsed(e);let r=super.resolveDataElementOptions(e,n);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return n!=="active"&&(r.radius=0),r.radius+=Ce(i&&i._custom,s),r}}ie(hd,"id","bubble"),ie(hd,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ie(hd,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function S5(t,e,n){let i=1,r=1,s=0,o=0;if(e<mt){const l=t,u=l+e,h=Math.cos(l),d=Math.sin(l),p=Math.cos(u),m=Math.sin(u),_=(C,k,M)=>ac(C,l,u,!0)?1:Math.max(k,k*n,M,M*n),v=(C,k,M)=>ac(C,l,u,!0)?-1:Math.min(k,k*n,M,M*n),y=_(0,h,p),S=_(Rt,d,m),x=v(gt,h,p),w=v(gt+Rt,d,m);i=(y-x)/2,r=(S-w)/2,s=-(y+x)/2,o=-(S+w)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class ro extends Mi{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=u=>+i[u];if(je(i[e])){const{key:u="value"}=this._parsing;s=h=>+ws(i[h],u)}let o,l;for(o=e,l=e+n;o<l;++o)r._parsed[o]=s(o)}}_getRotation(){return Ei(this.options.rotation-90)}_getCircumference(){return Ei(this.options.circumference)}_getRotationExtents(){let e=mt,n=-mt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-o)/2,0),u=Math.min(F4(this.options.cutout,l),1),h=this._getRingWeight(this.index),{circumference:d,rotation:p}=this._getRotationExtents(),{ratioX:m,ratioY:_,offsetX:v,offsetY:y}=S5(p,d,u),S=(i.width-o)/m,x=(i.height-o)/_,w=Math.max(Math.min(S,x)/2,0),C=vM(this.options.radius,w),k=Math.max(C*u,0),M=(C-k)/this._getVisibleDatasetWeightTotal();this.offsetX=v*C,this.offsetY=y*C,r.total=this.calculateTotal(),this.outerRadius=C-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*h,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/mt)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,l=o.chartArea,h=o.options.animation,d=(l.left+l.right)/2,p=(l.top+l.bottom)/2,m=s&&h.animateScale,_=m?0:this.innerRadius,v=m?0:this.outerRadius,{sharedOptions:y,includeOptions:S}=this._getSharedOptions(n,r);let x=this._getRotation(),w;for(w=0;w<n;++w)x+=this._circumference(w,s);for(w=n;w<n+i;++w){const C=this._circumference(w,s),k=e[w],M={x:d+this.offsetX,y:p+this.offsetY,startAngle:x,endAngle:x+C,circumference:C,outerRadius:v,innerRadius:_};S&&(M.options=y||this.resolveDataElementOptions(w,k.active?"active":r)),x+=C,this.updateElement(k,w,M,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?mt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Rc(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,l,u;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,l=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)u=l.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(Ce(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ie(ro,"id","doughnut"),ie(ro,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ie(ro,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ie(ro,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const u=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class dd extends Mi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:i,data:r=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:l,count:u}=TM(n,r,o);this._drawStart=l,this._drawCount=u,PM(n)&&(l=0,u=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=r;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:h},e),this.updateElements(r,l,u,e)}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:l,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:d,includeOptions:p}=this._getSharedOptions(n,r),m=o.axis,_=l.axis,{spanGaps:v,segment:y}=this.options,S=Wa(v)?v:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||r==="none",w=n+i,C=e.length;let k=n>0&&this.getParsed(n-1);for(let M=0;M<C;++M){const T=e[M],O=x?T:{};if(M<n||M>=w){O.skip=!0;continue}const I=this.getParsed(M),A=We(I[_]),j=O[m]=o.getPixelForValue(I[m],M),W=O[_]=s||A?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,I,u):I[_],M);O.skip=isNaN(j)||isNaN(W)||A,O.stop=M>0&&Math.abs(I[m]-k[m])>S,y&&(O.parsed=I,O.raw=h.data[M]),p&&(O.options=d||this.resolveDataElementOptions(M,T.active?"active":r)),x||this.updateElement(T,M,O,r),k=I}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,i=n.options&&n.options.borderWidth||0,r=e.data||[];if(!r.length)return i;const s=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ie(dd,"id","line"),ie(dd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ie(dd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Cu extends Mi{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=Rc(n._parsed[e].r,i.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,n,i,r){return NM.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((i,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<n.min&&(n.min=s),s>n.max&&(n.max=s))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,i=e.options,r=Math.min(n.right-n.left,n.bottom-n.top),s=Math.max(r/2,0),o=Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0),l=(s-o)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,u=o.options.animation,h=this._cachedMeta.rScale,d=h.xCenter,p=h.yCenter,m=h.getIndexAngle(0)-.5*gt;let _=m,v;const y=360/this.countVisibleElements();for(v=0;v<n;++v)_+=this._computeAngle(v,r,y);for(v=n;v<n+i;v++){const S=e[v];let x=_,w=_+this._computeAngle(v,r,y),C=o.getDataVisibility(v)?h.getDistanceFromCenterForValue(this.getParsed(v).r):0;_=w,s&&(u.animateScale&&(C=0),u.animateRotate&&(x=w=m));const k={x:d,y:p,innerRadius:0,outerRadius:C,startAngle:x,endAngle:w,options:this.resolveDataElementOptions(v,S.active?"active":r)};this.updateElement(S,v,k,r)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&n++}),n}_computeAngle(e,n,i){return this.chart.getDataVisibility(e)?Ei(this.resolveDataElementOptions(e,n).angle||i):0}}ie(Cu,"id","polarArea"),ie(Cu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ie(Cu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const u=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class J_ extends ro{}ie(J_,"id","pie"),ie(J_,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class fd extends Mi{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,r){return NM.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,l,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let l=n;l<n+i;l++){const u=e[l],h=this.resolveDataElementOptions(l,u.active?"active":r),d=s.getPointPositionForValue(l,this.getParsed(l).r),p=o?s.xCenter:d.x,m=o?s.yCenter:d.y,_={x:p,y:m,angle:d.angle,skip:isNaN(p)||isNaN(m),options:h};this.updateElement(u,l,_,r)}}}ie(fd,"id","radar"),ie(fd,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ie(fd,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class pd extends Mi{getLabelAndValue(e){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:s}=n,o=this.getParsed(e),l=r.getLabelForValue(o.x),u=s.getLabelForValue(o.y);return{label:i[e]||"",value:"("+l+", "+u+")"}}update(e){const n=this._cachedMeta,{data:i=[]}=n,r=this.chart._animationsDisabled;let{start:s,count:o}=TM(n,i,r);if(this._drawStart=s,this._drawCount=o,PM(n)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:u}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=i;const h=this.resolveDatasetElementOptions(e);h.segment=this.options.segment,this.updateElement(l,void 0,{animated:!r,options:h},e)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,i,r){const s=r==="reset",{iScale:o,vScale:l,_stacked:u,_dataset:h}=this._cachedMeta,d=this.resolveDataElementOptions(n,r),p=this.getSharedOptions(d),m=this.includeOptions(r,p),_=o.axis,v=l.axis,{spanGaps:y,segment:S}=this.options,x=Wa(y)?y:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||s||r==="none";let C=n>0&&this.getParsed(n-1);for(let k=n;k<n+i;++k){const M=e[k],T=this.getParsed(k),O=w?M:{},I=We(T[v]),A=O[_]=o.getPixelForValue(T[_],k),j=O[v]=s||I?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,T,u):T[v],k);O.skip=isNaN(A)||isNaN(j)||I,O.stop=k>0&&Math.abs(T[_]-C[_])>x,S&&(O.parsed=T,O.raw=h.data[k]),m&&(O.options=p||this.resolveDataElementOptions(k,M.active?"active":r)),w||this.updateElement(M,k,O,r),C=T}this.updateSharedOptions(p,r,d)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let l=0;for(let u=n.length-1;u>=0;--u)l=Math.max(l,n[u].size(this.resolveDataElementOptions(u))/2);return l>0&&l}const i=e.dataset,r=i.options&&i.options.borderWidth||0;if(!n.length)return r;const s=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(r,s,o)/2}}ie(pd,"id","scatter"),ie(pd,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ie(pd,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var C5=Object.freeze({__proto__:null,BarController:cd,BubbleController:hd,DoughnutController:ro,LineController:dd,PieController:J_,PolarAreaController:Cu,RadarController:fd,ScatterController:pd});function Vs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class M0{constructor(e){ie(this,"options");this.options=e||{}}static override(e){Object.assign(M0.prototype,e)}init(){}formats(){return Vs()}parse(){return Vs()}format(){return Vs()}add(){return Vs()}diff(){return Vs()}startOf(){return Vs()}endOf(){return Vs()}}var E5={_date:M0};function T5(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,l=r._cachedMeta.iScale;if(l&&e===l.axis&&e!=="r"&&o&&s.length){const u=l._reversePixels?K4:mr;if(i){if(r._sharedOptions){const h=s[0],d=typeof h.getRange=="function"&&h.getRange(e);if(d){const p=u(s,e,n-d),m=u(s,e,n+d);return{lo:p.lo,hi:m.hi}}}}else return u(s,e,n)}return{lo:0,hi:s.length-1}}function Dc(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let l=0,u=s.length;l<u;++l){const{index:h,data:d}=s[l],{lo:p,hi:m}=T5(s[l],e,o,r);for(let _=p;_<=m;++_){const v=d[_];v.skip||i(v,h,_)}}}function P5(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function hg(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||Dc(t,n,e,function(l,u,h){!r&&!gr(l,t.chartArea,0)||l.inRange(e.x,e.y,i)&&s.push({element:l,datasetIndex:u,index:h})},!0),s}function k5(t,e,n,i){let r=[];function s(o,l,u){const{startAngle:h,endAngle:d}=o.getProps(["startAngle","endAngle"],i),{angle:p}=bM(o,{x:e.x,y:e.y});ac(p,h,d)&&r.push({element:o,datasetIndex:l,index:u})}return Dc(t,n,e,s),r}function M5(t,e,n,i,r,s){let o=[];const l=P5(n);let u=Number.POSITIVE_INFINITY;function h(d,p,m){const _=d.inRange(e.x,e.y,r);if(i&&!_)return;const v=d.getCenterPoint(r);if(!(!!s||t.isPointInArea(v))&&!_)return;const S=l(e,v);S<u?(o=[{element:d,datasetIndex:p,index:m}],u=S):S===u&&o.push({element:d,datasetIndex:p,index:m})}return Dc(t,n,e,h),o}function dg(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?k5(t,e,n,r):M5(t,e,n,i,r,s)}function KS(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let l=!1;return Dc(t,n,e,(u,h,d)=>{u[o]&&u[o](e[n],r)&&(s.push({element:u,datasetIndex:h,index:d}),l=l||u.inRange(e.x,e.y,r))}),i&&!l?[]:s}var L5={evaluateInteractionItems:Dc,modes:{index(t,e,n,i){const r=Gs(e,t),s=n.axis||"x",o=n.includeInvisible||!1,l=n.intersect?hg(t,r,s,i,o):dg(t,r,s,!1,i,o),u=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const d=l[0].index,p=h.data[d];p&&!p.skip&&u.push({element:p,datasetIndex:h.index,index:d})}),u):[]},dataset(t,e,n,i){const r=Gs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let l=n.intersect?hg(t,r,s,i,o):dg(t,r,s,!1,i,o);if(l.length>0){const u=l[0].datasetIndex,h=t.getDatasetMeta(u).data;l=[];for(let d=0;d<h.length;++d)l.push({element:h[d],datasetIndex:u,index:d})}return l},point(t,e,n,i){const r=Gs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return hg(t,r,s,i,o)},nearest(t,e,n,i){const r=Gs(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return dg(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=Gs(e,t);return KS(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=Gs(e,t);return KS(t,r,"y",n.intersect,i)}}};const UM=["left","top","right","bottom"];function Bl(t,e){return t.filter(n=>n.pos===e)}function XS(t,e){return t.filter(n=>UM.indexOf(n.pos)===-1&&n.box.axis===e)}function jl(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function I5(t){const e=[];let n,i,r,s,o,l;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:l=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:l});return e}function O5(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!UM.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function R5(t,e){const n=O5(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,l;for(s=0,o=t.length;s<o;++s){l=t[s];const{fullSize:u}=l.box,h=n[l.stack],d=h&&l.stackWeight/h.weight;l.horizontal?(l.width=d?d*i:u&&e.availableWidth,l.height=r):(l.width=i,l.height=d?d*r:u&&e.availableHeight)}return n}function D5(t){const e=I5(t),n=jl(e.filter(h=>h.box.fullSize),!0),i=jl(Bl(e,"left"),!0),r=jl(Bl(e,"right")),s=jl(Bl(e,"top"),!0),o=jl(Bl(e,"bottom")),l=XS(e,"x"),u=XS(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(u).concat(o).concat(l),chartArea:Bl(e,"chartArea"),vertical:i.concat(r).concat(u),horizontal:s.concat(o).concat(l)}}function qS(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function ZM(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function N5(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!je(r)){n.size&&(t[r]-=n.size);const p=i[n.stack]||{size:0,count:1};p.size=Math.max(p.size,n.horizontal?s.height:s.width),n.size=p.size/p.count,t[r]+=n.size}s.getPadding&&ZM(o,s.getPadding());const l=Math.max(0,e.outerWidth-qS(o,t,"left","right")),u=Math.max(0,e.outerHeight-qS(o,t,"top","bottom")),h=l!==t.w,d=u!==t.h;return t.w=l,t.h=u,n.horizontal?{same:h,other:d}:{same:d,other:h}}function A5(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function F5(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function eu(t,e,n,i){const r=[];let s,o,l,u,h,d;for(s=0,o=t.length,h=0;s<o;++s){l=t[s],u=l.box,u.update(l.width||e.w,l.height||e.h,F5(l.horizontal,e));const{same:p,other:m}=N5(e,n,l,i);h|=p&&r.length,d=d||m,u.fullSize||r.push(l)}return h&&eu(r,e,n,i)||d}function Nh(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function QS(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const l of t){const u=l.box,h=i[l.stack]||{count:1,placed:0,weight:1},d=l.stackWeight/h.weight||1;if(l.horizontal){const p=e.w*d,m=h.size||u.height;oc(h.start)&&(o=h.start),u.fullSize?Nh(u,r.left,o,n.outerWidth-r.right-r.left,m):Nh(u,e.left+h.placed,o,p,m),h.start=o,h.placed+=p,o=u.bottom}else{const p=e.h*d,m=h.size||u.width;oc(h.start)&&(s=h.start),u.fullSize?Nh(u,s,r.top,m,n.outerHeight-r.bottom-r.top):Nh(u,s,e.top+h.placed,m,p),h.start=s,h.placed+=p,s=u.right}}e.x=s,e.y=o}var fn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=mn(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),l=D5(t.boxes),u=l.vertical,h=l.horizontal;Ke(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const d=u.reduce((y,S)=>S.box.options&&S.box.options.display===!1?y:y+1,0)||1,p=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),m=Object.assign({},r);ZM(m,mn(i));const _=Object.assign({maxPadding:m,w:s,h:o,x:r.left,y:r.top},r),v=R5(u.concat(h),p);eu(l.fullSize,_,p,v),eu(u,_,p,v),eu(h,_,p,v)&&eu(u,_,p,v),A5(_),QS(l.leftAndTop,_,p,v),_.x+=_.w,_.y+=_.h,QS(l.rightAndBottom,_,p,v),t.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Ke(l.chartArea,y=>{const S=y.box;Object.assign(S,t.chartArea),S.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class YM{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class z5 extends YM{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const md="$chartjs",B5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},JS=t=>t===null||t==="";function j5(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[md]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",JS(r)){const s=AS(t,"width");s!==void 0&&(t.width=s)}if(JS(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=AS(t,"height");s!==void 0&&(t.height=s)}return t}const GM=HV?{passive:!0}:!1;function V5(t,e,n){t&&t.addEventListener(e,n,GM)}function H5(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,GM)}function $5(t,e){const n=B5[t.type]||t.type,{x:i,y:r}=Gs(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Ef(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function W5(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||Ef(l.addedNodes,i),o=o&&!Ef(l.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function U5(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const l of s)o=o||Ef(l.removedNodes,i),o=o&&!Ef(l.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const uc=new Map;let e1=0;function KM(){const t=window.devicePixelRatio;t!==e1&&(e1=t,uc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Z5(t,e){uc.size||window.addEventListener("resize",KM),uc.set(t,e)}function Y5(t){uc.delete(t),uc.size||window.removeEventListener("resize",KM)}function G5(t,e,n){const i=t.canvas,r=i&&k0(i);if(!r)return;const s=EM((l,u)=>{const h=r.clientWidth;n(l,u),h<r.clientWidth&&n()},window),o=new ResizeObserver(l=>{const u=l[0],h=u.contentRect.width,d=u.contentRect.height;h===0&&d===0||s(h,d)});return o.observe(r),Z5(t,s),o}function fg(t,e,n){n&&n.disconnect(),e==="resize"&&Y5(t)}function K5(t,e,n){const i=t.canvas,r=EM(s=>{t.ctx!==null&&n($5(s,t))},t);return V5(i,e,r),r}class X5 extends YM{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(j5(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[md])return!1;const i=n[md].initial;["height","width"].forEach(s=>{const o=i[s];We(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[md],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:W5,detach:U5,resize:G5}[n]||K5;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:fg,detach:fg,resize:fg}[n]||H5)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return VV(e,n,i,r)}isAttached(e){const n=e&&k0(e);return!!(n&&n.isConnected)}}function q5(t){return!P0()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?z5:X5}var Gh;let Rr=(Gh=class{constructor(){ie(this,"x");ie(this,"y");ie(this,"active",!1);ie(this,"options");ie(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Wa(this.x)&&Wa(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}},ie(Gh,"defaults",{}),ie(Gh,"defaultRoutes"),Gh);function Q5(t,e){const n=t.options.ticks,i=J5(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?tH(e):[],o=s.length,l=s[0],u=s[o-1],h=[];if(o>r)return nH(e,h,s,o/r),h;const d=eH(s,e,r);if(o>0){let p,m;const _=o>1?Math.round((u-l)/(o-1)):null;for(Ah(e,h,d,We(_)?0:l-_,l),p=0,m=o-1;p<m;p++)Ah(e,h,d,s[p],s[p+1]);return Ah(e,h,d,u,We(_)?e.length:u+_),h}return Ah(e,h,d),h}function J5(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function eH(t,e,n){const i=iH(t),r=e.length/n;if(!i)return Math.max(r,1);const s=U4(i);for(let o=0,l=s.length-1;o<l;o++){const u=s[o];if(u>r)return u}return Math.max(r,1)}function tH(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function nH(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function Ah(t,e,n,i,r){const s=Ce(i,0),o=Math.min(Ce(r,t.length),t.length);let l=0,u,h,d;for(n=Math.ceil(n),r&&(u=r-i,n=u/Math.floor(u/n)),d=s;d<0;)l++,d=Math.round(s+l*n);for(h=Math.max(s,0);h<o;h++)h===d&&(e.push(t[h]),l++,d=Math.round(s+l*n))}function iH(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const rH=t=>t==="left"?"right":t==="right"?"left":t,t1=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,n1=(t,e)=>Math.min(e||t,t);function i1(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function sH(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,l=1e-6;let u=t.getPixelForTick(r),h;if(!(n&&(i===1?h=Math.max(u-s,o-u):e===0?h=(t.getPixelForTick(1)-u)/2:h=(u-t.getPixelForTick(r-1))/2,u+=r<e?h:-h,u<s-l||u>o+l)))return u}function oH(t,e){Ke(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function Vl(t){return t.drawTicks?t.tickLength:0}function r1(t,e){if(!t.display)return 0;const n=Ut(t.font,e),i=mn(t.padding);return(xt(t.text)?t.text.length:1)*n.lineHeight+i.height}function aH(t,e){return Ls(t,{scale:e,type:"scale"})}function lH(t,e,n){return Ls(t,{tick:n,index:e,type:"tick"})}function uH(t,e,n){let i=b0(t);return(n&&e!=="right"||!n&&e==="right")&&(i=rH(i)),i}function cH(t,e,n,i){const{top:r,left:s,bottom:o,right:l,chart:u}=t,{chartArea:h,scales:d}=u;let p=0,m,_,v;const y=o-r,S=l-s;if(t.isHorizontal()){if(_=hn(i,s,l),je(n)){const x=Object.keys(n)[0],w=n[x];v=d[x].getPixelForValue(w)+y-e}else n==="center"?v=(h.bottom+h.top)/2+y-e:v=t1(t,n,e);m=l-s}else{if(je(n)){const x=Object.keys(n)[0],w=n[x];_=d[x].getPixelForValue(w)-S+e}else n==="center"?_=(h.left+h.right)/2-S+e:_=t1(t,n,e);v=hn(i,o,r),p=n==="left"?-Rt:Rt}return{titleX:_,titleY:v,maxWidth:m,rotation:p}}class ko extends Rr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Hn(e,Number.POSITIVE_INFINITY),n=Hn(n,Number.NEGATIVE_INFINITY),i=Hn(i,Number.POSITIVE_INFINITY),r=Hn(r,Number.NEGATIVE_INFINITY),{min:Hn(e,i),max:Hn(n,r),minDefined:Mt(e),maxDefined:Mt(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const l=this.getMatchingVisibleMetas();for(let u=0,h=l.length;u<h;++u)o=l[u].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:Hn(n,Hn(i,n)),max:Hn(i,Hn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){lt(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=yV(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=l<this.ticks.length;this._convertTicksToLabels(u?i1(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Q5(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){lt(this.options.afterUpdate,[this])}beforeSetDimensions(){lt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){lt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),lt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){lt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=lt(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){lt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){lt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=n1(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,l,u,h;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const d=this._getLabelSizes(),p=d.widest.width,m=d.highest.height,_=qt(this.chart.width-p,0,this.maxWidth);l=e.offset?this.maxWidth/i:_/(i-1),p+6>l&&(l=_/(i-(e.offset?.5:1)),u=this.maxHeight-Vl(e.grid)-n.padding-r1(e.title,this.chart.options.font),h=Math.sqrt(p*p+m*m),o=y0(Math.min(Math.asin(qt((d.highest.height+6)/l,-1,1)),Math.asin(qt(u/h,-1,1))-Math.asin(qt(m/h,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){lt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){lt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const u=r1(r,n.options.font);if(l?(e.width=this.maxWidth,e.height=Vl(s)+u):(e.height=this.maxHeight,e.width=Vl(s)+u),i.display&&this.ticks.length){const{first:h,last:d,widest:p,highest:m}=this._getLabelSizes(),_=i.padding*2,v=Ei(this.labelRotation),y=Math.cos(v),S=Math.sin(v);if(l){const x=i.mirror?0:S*p.width+y*m.height;e.height=Math.min(this.maxHeight,e.height+x+_)}else{const x=i.mirror?0:y*p.width+S*m.height;e.width=Math.min(this.maxWidth,e.width+x+_)}this._calculatePadding(h,d,S,y)}}this._handleMargins(),l?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:l}=this.options,u=this.labelRotation!==0,h=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,_=0;u?h?(m=r*e.width,_=i*n.height):(m=i*e.height,_=r*n.width):s==="start"?_=n.width:s==="end"?m=e.width:s!=="inner"&&(m=e.width/2,_=n.width/2),this.paddingLeft=Math.max((m-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((_-p+o)*this.width/(this.width-p),0)}else{let d=n.height/2,p=e.height/2;s==="start"?(d=0,p=e.height):s==="end"&&(d=n.height,p=0),this.paddingTop=d+o,this.paddingBottom=p+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){lt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)We(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=i1(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],l=[],u=Math.floor(n/n1(n,i));let h=0,d=0,p,m,_,v,y,S,x,w,C,k,M;for(p=0;p<n;p+=u){if(v=e[p].label,y=this._resolveTickFontOptions(p),r.font=S=y.string,x=s[S]=s[S]||{data:{},gc:[]},w=y.lineHeight,C=k=0,!We(v)&&!xt(v))C=Sf(r,x.data,x.gc,C,v),k=w;else if(xt(v))for(m=0,_=v.length;m<_;++m)M=v[m],!We(M)&&!xt(M)&&(C=Sf(r,x.data,x.gc,C,M),k+=w);o.push(C),l.push(k),h=Math.max(C,h),d=Math.max(k,d)}oH(s,n);const T=o.indexOf(h),O=l.indexOf(d),I=A=>({width:o[A]||0,height:l[A]||0});return{first:I(0),last:I(n-1),widest:I(T),highest:I(O),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return G4(this._alignToPixels?js(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=lH(this.getContext(),e,i))}return this.$context||(this.$context=aH(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ei(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,l=s?s.widest.width+o:0,u=s?s.highest.height+o:0;return this.isHorizontal()?u*i>l*r?l/i:u/r:u*r<l*i?u/i:l/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:l}=r,u=s.offset,h=this.isHorizontal(),p=this.ticks.length+(u?1:0),m=Vl(s),_=[],v=l.setContext(this.getContext()),y=v.display?v.width:0,S=y/2,x=function(ee){return js(i,ee,y)};let w,C,k,M,T,O,I,A,j,W,Z,de;if(o==="top")w=x(this.bottom),O=this.bottom-m,A=w-S,W=x(e.top)+S,de=e.bottom;else if(o==="bottom")w=x(this.top),W=e.top,de=x(e.bottom)-S,O=w+S,A=this.top+m;else if(o==="left")w=x(this.right),T=this.right-m,I=w-S,j=x(e.left)+S,Z=e.right;else if(o==="right")w=x(this.left),j=e.left,Z=x(e.right)-S,T=w+S,I=this.left+m;else if(n==="x"){if(o==="center")w=x((e.top+e.bottom)/2+.5);else if(je(o)){const ee=Object.keys(o)[0],re=o[ee];w=x(this.chart.scales[ee].getPixelForValue(re))}W=e.top,de=e.bottom,O=w+S,A=O+m}else if(n==="y"){if(o==="center")w=x((e.left+e.right)/2);else if(je(o)){const ee=Object.keys(o)[0],re=o[ee];w=x(this.chart.scales[ee].getPixelForValue(re))}T=w-S,I=T-m,j=e.left,Z=e.right}const le=Ce(r.ticks.maxTicksLimit,p),ue=Math.max(1,Math.ceil(p/le));for(C=0;C<p;C+=ue){const ee=this.getContext(C),re=s.setContext(ee),z=l.setContext(ee),X=re.lineWidth,$=re.color,te=z.dash||[],Q=z.dashOffset,ae=re.tickWidth,q=re.tickColor,se=re.tickBorderDash||[],ne=re.tickBorderDashOffset;k=sH(this,C,u),k!==void 0&&(M=js(i,k,X),h?T=I=j=Z=M:O=A=W=de=M,_.push({tx1:T,ty1:O,tx2:I,ty2:A,x1:j,y1:W,x2:Z,y2:de,width:X,color:$,borderDash:te,borderDashOffset:Q,tickWidth:ae,tickColor:q,tickBorderDash:se,tickBorderDashOffset:ne}))}return this._ticksLength=p,this._borderValue=w,_}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),l=this.ticks,{align:u,crossAlign:h,padding:d,mirror:p}=s,m=Vl(i.grid),_=m+d,v=p?-d:_,y=-Ei(this.labelRotation),S=[];let x,w,C,k,M,T,O,I,A,j,W,Z,de="middle";if(r==="top")T=this.bottom-v,O=this._getXAxisLabelAlignment();else if(r==="bottom")T=this.top+v,O=this._getXAxisLabelAlignment();else if(r==="left"){const ue=this._getYAxisLabelAlignment(m);O=ue.textAlign,M=ue.x}else if(r==="right"){const ue=this._getYAxisLabelAlignment(m);O=ue.textAlign,M=ue.x}else if(n==="x"){if(r==="center")T=(e.top+e.bottom)/2+_;else if(je(r)){const ue=Object.keys(r)[0],ee=r[ue];T=this.chart.scales[ue].getPixelForValue(ee)+_}O=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")M=(e.left+e.right)/2-_;else if(je(r)){const ue=Object.keys(r)[0],ee=r[ue];M=this.chart.scales[ue].getPixelForValue(ee)}O=this._getYAxisLabelAlignment(m).textAlign}n==="y"&&(u==="start"?de="top":u==="end"&&(de="bottom"));const le=this._getLabelSizes();for(x=0,w=l.length;x<w;++x){C=l[x],k=C.label;const ue=s.setContext(this.getContext(x));I=this.getPixelForTick(x)+s.labelOffset,A=this._resolveTickFontOptions(x),j=A.lineHeight,W=xt(k)?k.length:1;const ee=W/2,re=ue.color,z=ue.textStrokeColor,X=ue.textStrokeWidth;let $=O;o?(M=I,O==="inner"&&(x===w-1?$=this.options.reverse?"left":"right":x===0?$=this.options.reverse?"right":"left":$="center"),r==="top"?h==="near"||y!==0?Z=-W*j+j/2:h==="center"?Z=-le.highest.height/2-ee*j+j:Z=-le.highest.height+j/2:h==="near"||y!==0?Z=j/2:h==="center"?Z=le.highest.height/2-ee*j:Z=le.highest.height-W*j,p&&(Z*=-1),y!==0&&!ue.showLabelBackdrop&&(M+=j/2*Math.sin(y))):(T=I,Z=(1-W)*j/2);let te;if(ue.showLabelBackdrop){const Q=mn(ue.backdropPadding),ae=le.heights[x],q=le.widths[x];let se=Z-Q.top,ne=0-Q.left;switch(de){case"middle":se-=ae/2;break;case"bottom":se-=ae;break}switch(O){case"center":ne-=q/2;break;case"right":ne-=q;break;case"inner":x===w-1?ne-=q:x>0&&(ne-=q/2);break}te={left:ne,top:se,width:q+Q.width,height:ae+Q.height,color:ue.backdropColor}}S.push({label:k,font:A,textOffset:Z,options:{rotation:y,color:re,strokeColor:z,strokeWidth:X,textAlign:$,textBaseline:de,translation:[M,T],backdrop:te}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ei(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),l=e+s,u=o.widest.width;let h,d;return n==="left"?r?(d=this.right+s,i==="near"?h="left":i==="center"?(h="center",d+=u/2):(h="right",d+=u)):(d=this.right-l,i==="near"?h="right":i==="center"?(h="center",d-=u/2):(h="left",d=this.left)):n==="right"?r?(d=this.left+s,i==="near"?h="right":i==="center"?(h="center",d-=u/2):(h="left",d-=u)):(d=this.left+l,i==="near"?h="left":i==="center"?(h="center",d+=u/2):(h="right",d=this.right)):h="right",{textAlign:h,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const l=(u,h,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(h.x,h.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const u=r[s];n.drawOnChartArea&&l({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),n.drawTicks&&l({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const l=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,d,p,m;this.isHorizontal()?(h=js(e,this.left,o)-o/2,d=js(e,this.right,l)+l/2,p=m=u):(p=js(e,this.top,o)-o/2,m=js(e,this.bottom,l)+l/2,h=d=u),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(h,p),n.lineTo(d,m),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&yp(i,r);const s=this.getLabelItems(e);for(const o of s){const l=o.options,u=o.font,h=o.label,d=o.textOffset;bo(i,h,0,d,u,l)}r&&xp(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=Ut(i.font),o=mn(i.padding),l=i.align;let u=s.lineHeight/2;n==="bottom"||n==="center"||je(n)?(u+=o.bottom,xt(i.text)&&(u+=s.lineHeight*(i.text.length-1))):u+=o.top;const{titleX:h,titleY:d,maxWidth:p,rotation:m}=cH(this,u,n,l);bo(e,i.text,0,0,s,{color:i.color,maxWidth:p,rotation:m,textAlign:uH(l,n,r),textBaseline:"middle",translation:[h,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=Ce(e.grid&&e.grid.z,-1),r=Ce(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ko.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const l=n[s];l[i]===this.id&&(!e||l.type===e)&&r.push(l)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ut(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Fh{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;fH(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,hH(e,o,i),this.override&&bt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in bt[r]&&(delete bt[r][i],this.override&&delete xo[i])}}function hH(t,e,n){const i=sc(Object.create(null),[n?bt.get(n):{},bt.get(e),t.defaults]);bt.set(e,i),t.defaultRoutes&&dH(e,t.defaultRoutes),t.descriptors&&bt.describe(e,t.descriptors)}function dH(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),l=o.pop(),u=o.join(".");bt.route(s,r,u,l)})}function fH(t){return"id"in t&&"defaults"in t}class pH{constructor(){this.controllers=new Fh(Mi,"datasets",!0),this.elements=new Fh(Rr,"elements"),this.plugins=new Fh(Object,"plugins"),this.scales=new Fh(ko,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Ke(r,o=>{const l=i||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,n,i){const r=v0(e);lt(i["before"+r],[],i),n[e](i),lt(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var ji=new pH;class mH{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,l=o[i],u=[n,r,s.options];if(lt(l,u,o)===!1&&r.cancelable)return!1}return!0}invalidate(){We(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=Ce(i.options&&i.options.plugins,{}),s=gH(i);return r===!1&&!n?[]:vH(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(l=>!o.some(u=>l.plugin.id===u.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function gH(t){const e={},n=[],i=Object.keys(ji.plugins.items);for(let s=0;s<i.length;s++)n.push(ji.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function _H(t,e){return!e&&t===!1?null:t===!0?{}:t}function vH(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const l of e){const u=l.id,h=_H(i[u],r);h!==null&&s.push({plugin:l,options:yH(t.config,{plugin:l,local:n[u]},h,o)})}return s}function yH(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ev(t,e){const n=bt.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function xH(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function bH(t,e){return t===e?"_index_":"_value_"}function s1(t){if(t==="x"||t==="y"||t==="r")return t}function wH(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function tv(t,...e){if(s1(t))return t;for(const n of e){const i=n.axis||wH(n.position)||t.length>1&&s1(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function o1(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function SH(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return o1(t,"x",n[0])||o1(t,"y",n[0])}return{}}function CH(t,e){const n=xo[t.type]||{scales:{}},i=e.scales||{},r=ev(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const l=i[o];if(!je(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=tv(o,l,SH(o,t),bt.scales[l.type]),h=bH(u,r),d=n.scales||{};s[o]=xu(Object.create(null),[{axis:u},l,d[u],d[h]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,u=o.indexAxis||ev(l,e),d=(xo[l]||{}).scales||{};Object.keys(d).forEach(p=>{const m=xH(p,u),_=o[m+"AxisID"]||m;s[_]=s[_]||Object.create(null),xu(s[_],[{axis:m},i[_],d[p]])})}),Object.keys(s).forEach(o=>{const l=s[o];xu(l,[bt.scales[l.type],bt.scale])}),s}function XM(t){const e=t.options||(t.options={});e.plugins=Ce(e.plugins,{}),e.scales=CH(t,e)}function qM(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function EH(t){return t=t||{},t.data=qM(t.data),XM(t),t}const a1=new Map,QM=new Set;function zh(t,e){let n=a1.get(t);return n||(n=e(),a1.set(t,n),QM.add(n)),n}const Hl=(t,e,n)=>{const i=ws(e,n);i!==void 0&&t.add(i)};class TH{constructor(e){this._config=EH(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=qM(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),XM(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return zh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return zh(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return zh(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return zh(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),l=o.get(n);if(l)return l;const u=new Set;n.forEach(d=>{e&&(u.add(e),d.forEach(p=>Hl(u,e,p))),d.forEach(p=>Hl(u,r,p)),d.forEach(p=>Hl(u,xo[s]||{},p)),d.forEach(p=>Hl(u,bt,p)),d.forEach(p=>Hl(u,q_,p))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),QM.has(n)&&o.set(n,h),h}chartOptionScopes(){const{options:e,type:n}=this;return[e,xo[n]||{},bt.datasets[n]||{},{type:n},bt,q_]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:l}=l1(this._resolverCache,e,r);let u=o;if(kH(o,n)){s.$shared=!1,i=Ss(i)?i():i;const h=this.createResolver(e,i,l);u=Ua(o,i,h)}for(const h of n)s[h]=u[h];return s}createResolver(e,n,i=[""],r){const{resolver:s}=l1(this._resolverCache,e,i);return je(n)?Ua(s,n,void 0,r):s}}function l1(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:C0(e,n),subPrefixes:n.filter(l=>!l.toLowerCase().includes("hover"))},i.set(r,s)),s}const PH=t=>je(t)&&Object.getOwnPropertyNames(t).some(e=>Ss(t[e]));function kH(t,e){const{isScriptable:n,isIndexable:i}=IM(t);for(const r of e){const s=n(r),o=i(r),l=(o||s)&&t[r];if(s&&(Ss(l)||PH(l))||o&&xt(l))return!0}return!1}var MH="4.4.5";const LH=["top","bottom","left","right","chartArea"];function u1(t,e){return t==="top"||t==="bottom"||LH.indexOf(t)===-1&&e==="x"}function c1(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function h1(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),lt(n&&n.onComplete,[t],e)}function IH(t){const e=t.chart,n=e.options.animation;lt(n&&n.onProgress,[t],e)}function JM(t){return P0()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const gd={},d1=t=>{const e=JM(t);return Object.values(gd).filter(n=>n.canvas===e).pop()};function OH(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function RH(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function Bh(t,e,n){return t.options.clip?t[n]:e[n]}function DH(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Bh(n,e,"left"),right:Bh(n,e,"right"),top:Bh(i,e,"top"),bottom:Bh(i,e,"bottom")}:e}class Vi{static register(...e){ji.add(...e),f1()}static unregister(...e){ji.remove(...e),f1()}constructor(e,n){const i=this.config=new TH(n),r=JM(e),s=d1(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||q5(r)),this.platform.updateConfig(i);const l=this.platform.acquireContext(r,o.aspectRatio),u=l&&l.canvas,h=u&&u.height,d=u&&u.width;if(this.id=A4(),this.ctx=l,this.canvas=u,this.width=d,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new mH,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Q4(p=>this.update(p),o.resizeDelay||0),this._dataChanges=[],gd[this.id]=this,!l||!u){console.error("Failed to create chart: can't acquire context from the given item");return}sr.listen(this,"complete",h1),sr.listen(this,"progress",IH),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return We(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ji}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():NS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return OS(this.canvas,this.ctx),this}stop(){return sr.stop(this),this}resize(e,n){sr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,NS(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),lt(i.onResize,[this,o],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ke(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,l)=>(o[l]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const l=n[o],u=tv(o,l),h=u==="r",d=u==="x";return{options:l,dposition:h?"chartArea":d?"bottom":"left",dtype:h?"radialLinear":d?"category":"linear"}}))),Ke(s,o=>{const l=o.options,u=l.id,h=tv(u,l),d=Ce(l.type,o.dtype);(l.position===void 0||u1(l.position,h)!==u1(o.dposition))&&(l.position=o.dposition),r[u]=!0;let p=null;if(u in i&&i[u].type===d)p=i[u];else{const m=ji.getScale(d);p=new m({id:u,type:d,ctx:this.ctx,chart:this}),i[p.id]=p}p.init(l,e)}),Ke(r,(o,l)=>{o||delete i[l]}),Ke(i,o=>{fn.configure(this,o,o.options),fn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(c1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const l=s.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=l,o.indexAxis=s.indexAxis||ev(l,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const u=ji.getController(l),{datasetElementType:h,dataElementType:d}=bt.datasets[l];Object.assign(u,{dataElementType:ji.getElement(d),datasetElementType:h&&ji.getElement(h)}),o.controller=new u(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ke(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,d=this.data.datasets.length;h<d;h++){const{controller:p}=this.getDatasetMeta(h),m=!r&&s.indexOf(p)===-1;p.buildOrUpdateElements(m),o=Math.max(+p.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||Ke(s,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(c1("z","_idx"));const{_active:l,_lastEvent:u}=this;u?this._eventHandler(u,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Ke(this.scales,e=>{fn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!SS(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;OH(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,l)=>l+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!SS(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fn.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ke(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ss(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(sr.has(this)?this.attached&&!sr.running(this)&&sr.start(this):(this.draw(),h1({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,s=DH(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&yp(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&xp(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return gr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=L5.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ls(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);oc(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(l=>l.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),sr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),OS(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete gd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,l)=>{s.offsetX=o,s.offsetY=l,this._eventHandler(s)};Ke(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(u,h)=>{n.addEventListener(this,u,h),e[u]=h},r=(u,h)=>{e[u]&&(n.removeEventListener(this,u,h),delete e[u])},s=(u,h)=>{this.canvas&&this.resize(u,h)};let o;const l=()=>{r("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",l)},n.isAttached(this.canvas)?l():o()}unbindEvents(){Ke(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ke(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,l,u;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),l=0,u=e.length;l<u;++l){o=e[l];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[o],index:o}});!xf(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(u,h)=>u.filter(d=>!h.some(p=>d.datasetIndex===p.datasetIndex&&d.index===p.index)),o=s(n,e),l=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),l.length&&r.mode&&this.updateHoverStyle(l,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,l=this._getActiveElements(e,r,i,o),u=H4(e),h=RH(e,this._lastEvent,i,u);i&&(this._lastEvent=null,lt(s.onHover,[e,l,this],this),u&&lt(s.onClick,[e,l,this],this));const d=!xf(l,r);return(d||n)&&(this._active=l,this._updateHoverStyles(l,r,n)),this._lastEvent=h,d}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}ie(Vi,"defaults",bt),ie(Vi,"instances",gd),ie(Vi,"overrides",xo),ie(Vi,"registry",ji),ie(Vi,"version",MH),ie(Vi,"getChart",d1);function f1(){return Ke(Vi.instances,t=>t._plugins.invalidate())}function NH(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:l,innerRadius:u}=e;let h=r/l;t.beginPath(),t.arc(s,o,l,i-h,n+h),u>r?(h=r/u,t.arc(s,o,u,n+h,i-h,!0)):t.arc(s,o,r,n+Rt,i-Rt),t.closePath(),t.clip()}function AH(t){return S0(t,["outerStart","outerEnd","innerStart","innerEnd"])}function FH(t,e,n,i){const r=AH(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),l=u=>{const h=(n-Math.min(s,u))*i/2;return qt(u,0,Math.min(s,h))};return{outerStart:l(r.outerStart),outerEnd:l(r.outerEnd),innerStart:qt(r.innerStart,0,o),innerEnd:qt(r.innerEnd,0,o)}}function ta(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Tf(t,e,n,i,r,s){const{x:o,y:l,startAngle:u,pixelMargin:h,innerRadius:d}=e,p=Math.max(e.outerRadius+i+n-h,0),m=d>0?d+i+n+h:0;let _=0;const v=r-u;if(i){const ue=d>0?d-i:0,ee=p>0?p-i:0,re=(ue+ee)/2,z=re!==0?v*re/(re+i):v;_=(v-z)/2}const y=Math.max(.001,v*p-n/gt)/p,S=(v-y)/2,x=u+S+_,w=r-S-_,{outerStart:C,outerEnd:k,innerStart:M,innerEnd:T}=FH(e,m,p,w-x),O=p-C,I=p-k,A=x+C/O,j=w-k/I,W=m+M,Z=m+T,de=x+M/W,le=w-T/Z;if(t.beginPath(),s){const ue=(A+j)/2;if(t.arc(o,l,p,A,ue),t.arc(o,l,p,ue,j),k>0){const X=ta(I,j,o,l);t.arc(X.x,X.y,k,j,w+Rt)}const ee=ta(Z,w,o,l);if(t.lineTo(ee.x,ee.y),T>0){const X=ta(Z,le,o,l);t.arc(X.x,X.y,T,w+Rt,le+Math.PI)}const re=(w-T/m+(x+M/m))/2;if(t.arc(o,l,m,w-T/m,re,!0),t.arc(o,l,m,re,x+M/m,!0),M>0){const X=ta(W,de,o,l);t.arc(X.x,X.y,M,de+Math.PI,x-Rt)}const z=ta(O,x,o,l);if(t.lineTo(z.x,z.y),C>0){const X=ta(O,A,o,l);t.arc(X.x,X.y,C,x-Rt,A)}}else{t.moveTo(o,l);const ue=Math.cos(A)*p+o,ee=Math.sin(A)*p+l;t.lineTo(ue,ee);const re=Math.cos(j)*p+o,z=Math.sin(j)*p+l;t.lineTo(re,z)}t.closePath()}function zH(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:l}=e;let u=e.endAngle;if(s){Tf(t,e,n,i,u,r);for(let h=0;h<s;++h)t.fill();isNaN(l)||(u=o+(l%mt||mt))}return Tf(t,e,n,i,u,r),t.fill(),u}function BH(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:l,options:u}=e,{borderWidth:h,borderJoinStyle:d,borderDash:p,borderDashOffset:m}=u,_=u.borderAlign==="inner";if(!h)return;t.setLineDash(p||[]),t.lineDashOffset=m,_?(t.lineWidth=h*2,t.lineJoin=d||"round"):(t.lineWidth=h,t.lineJoin=d||"bevel");let v=e.endAngle;if(s){Tf(t,e,n,i,v,r);for(let y=0;y<s;++y)t.stroke();isNaN(l)||(v=o+(l%mt||mt))}_&&NH(t,e,v),s||(Tf(t,e,n,i,v,r),t.stroke())}class tu extends Rr{constructor(n){super();ie(this,"circumference");ie(this,"endAngle");ie(this,"fullCircles");ie(this,"innerRadius");ie(this,"outerRadius");ie(this,"pixelMargin");ie(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:l}=bM(s,{x:n,y:i}),{startAngle:u,endAngle:h,innerRadius:d,outerRadius:p,circumference:m}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),_=(this.options.spacing+this.options.borderWidth)/2,v=Ce(m,h-u),y=ac(o,u,h)&&u!==h,S=v>=mt||y,x=pr(l,d+_,p+_);return S&&x}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:h,spacing:d}=this.options,p=(s+o)/2,m=(l+u+d+h)/2;return{x:i+Math.cos(p)*m,y:r+Math.sin(p)*m}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,l=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>mt?Math.floor(r/mt):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const u=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(u)*s,Math.sin(u)*s);const h=1-Math.sin(Math.min(gt,r||0)),d=s*h;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,zH(n,this,d,o,l),BH(n,this,d,o,l),n.restore()}}ie(tu,"id","arc"),ie(tu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ie(tu,"defaultRoutes",{backgroundColor:"backgroundColor"}),ie(tu,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function eL(t,e,n=e){t.lineCap=Ce(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Ce(n.borderDash,e.borderDash)),t.lineDashOffset=Ce(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Ce(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Ce(n.borderWidth,e.borderWidth),t.strokeStyle=Ce(n.borderColor,e.borderColor)}function jH(t,e,n){t.lineTo(n.x,n.y)}function VH(t){return t.stepped?cV:t.tension||t.cubicInterpolationMode==="monotone"?hV:jH}function tL(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:l}=e,u=Math.max(r,o),h=Math.min(s,l),d=r<o&&s<o||r>l&&s>l;return{count:i,start:u,loop:e.loop,ilen:h<u&&!d?i+h-u:h-u}}function HH(t,e,n,i){const{points:r,options:s}=e,{count:o,start:l,loop:u,ilen:h}=tL(r,n,i),d=VH(s);let{move:p=!0,reverse:m}=i||{},_,v,y;for(_=0;_<=h;++_)v=r[(l+(m?h-_:_))%o],!v.skip&&(p?(t.moveTo(v.x,v.y),p=!1):d(t,y,v,m,s.stepped),y=v);return u&&(v=r[(l+(m?h:0))%o],d(t,y,v,m,s.stepped)),!!u}function $H(t,e,n,i){const r=e.points,{count:s,start:o,ilen:l}=tL(r,n,i),{move:u=!0,reverse:h}=i||{};let d=0,p=0,m,_,v,y,S,x;const w=k=>(o+(h?l-k:k))%s,C=()=>{y!==S&&(t.lineTo(d,S),t.lineTo(d,y),t.lineTo(d,x))};for(u&&(_=r[w(0)],t.moveTo(_.x,_.y)),m=0;m<=l;++m){if(_=r[w(m)],_.skip)continue;const k=_.x,M=_.y,T=k|0;T===v?(M<y?y=M:M>S&&(S=M),d=(p*d+k)/++p):(C(),t.lineTo(k,M),v=T,p=0,y=S=M),x=M}C()}function nv(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?$H:HH}function WH(t){return t.stepped?$V:t.tension||t.cubicInterpolationMode==="monotone"?WV:Ks}function UH(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),eL(t,e.options),t.stroke(r)}function ZH(t,e,n,i){const{segments:r,options:s}=e,o=nv(e);for(const l of r)eL(t,s,l.style),t.beginPath(),o(t,e,l,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const YH=typeof Path2D=="function";function GH(t,e,n,i){YH&&!e.options.segment?UH(t,e,n,i):ZH(t,e,n,i)}class ns extends Rr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;NV(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=XV(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=VM(this,{property:n,start:r,end:r});if(!o.length)return;const l=[],u=WH(i);let h,d;for(h=0,d=o.length;h<d;++h){const{start:p,end:m}=o[h],_=s[p],v=s[m];if(_===v){l.push(_);continue}const y=Math.abs((r-_[n])/(v[n]-_[n])),S=u(_,v,y,i.stepped);S[n]=e[n],l.push(S)}return l.length===1?l[0]:l}pathSegment(e,n,i){return nv(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=nv(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const l of r)o&=s(e,this,l,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),GH(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ie(ns,"id","line"),ie(ns,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ie(ns,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ie(ns,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function p1(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class _d extends Rr{constructor(n){super();ie(this,"parsed");ie(this,"skip");ie(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:l}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return p1(this,n,"x",i)}inYRange(n,i){return p1(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!gr(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Q_(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ie(_d,"id","point"),ie(_d,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ie(_d,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function nL(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let l,u,h,d,p;return t.horizontal?(p=o/2,l=Math.min(n,r),u=Math.max(n,r),h=i-p,d=i+p):(p=s/2,l=n-p,u=n+p,h=Math.min(i,r),d=Math.max(i,r)),{left:l,top:h,right:u,bottom:d}}function is(t,e,n,i){return t?0:qt(e,n,i)}function KH(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=LM(i);return{t:is(r.top,s.top,0,n),r:is(r.right,s.right,0,e),b:is(r.bottom,s.bottom,0,n),l:is(r.left,s.left,0,e)}}function XH(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=lo(r),o=Math.min(e,n),l=t.borderSkipped,u=i||je(r);return{topLeft:is(!u||l.top||l.left,s.topLeft,0,o),topRight:is(!u||l.top||l.right,s.topRight,0,o),bottomLeft:is(!u||l.bottom||l.left,s.bottomLeft,0,o),bottomRight:is(!u||l.bottom||l.right,s.bottomRight,0,o)}}function qH(t){const e=nL(t),n=e.right-e.left,i=e.bottom-e.top,r=KH(t,n/2,i/2),s=XH(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function pg(t,e,n,i){const r=e===null,s=n===null,l=t&&!(r&&s)&&nL(t,i);return l&&(r||pr(e,l.left,l.right))&&(s||pr(n,l.top,l.bottom))}function QH(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function JH(t,e){t.rect(e.x,e.y,e.w,e.h)}function mg(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class vd extends Rr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=qH(this),l=QH(o.radius)?lc:JH;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),l(e,mg(o,n,s)),e.clip(),l(e,mg(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),l(e,mg(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return pg(this,e,n,i)}inXRange(e,n){return pg(this,e,null,n)}inYRange(e,n){return pg(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ie(vd,"id","bar"),ie(vd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ie(vd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var e$=Object.freeze({__proto__:null,ArcElement:tu,BarElement:vd,LineElement:ns,PointElement:_d});const iv=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],m1=iv.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function iL(t){return iv[t%iv.length]}function rL(t){return m1[t%m1.length]}function t$(t,e){return t.borderColor=iL(e),t.backgroundColor=rL(e),++e}function n$(t,e){return t.backgroundColor=t.data.map(()=>iL(e++)),e}function i$(t,e){return t.backgroundColor=t.data.map(()=>rL(e++)),e}function r$(t){let e=0;return(n,i)=>{const r=t.getDatasetMeta(i).controller;r instanceof ro?e=n$(n,e):r instanceof Cu?e=i$(n,e):r&&(e=t$(n,e))}}function g1(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function s$(t){return t&&(t.borderColor||t.backgroundColor)}function o$(){return bt.borderColor!=="rgba(0,0,0,0.1)"||bt.backgroundColor!=="rgba(0,0,0,0.1)"}var a$={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:i},options:r}=t.config,{elements:s}=r,o=g1(i)||s$(r)||s&&g1(s)||o$();if(!n.forceOverride&&o)return;const l=r$(t);i.forEach(l)}};function l$(t,e,n,i,r){const s=r.samples||i;if(s>=n)return t.slice(e,e+n);const o=[],l=(n-2)/(s-2);let u=0;const h=e+n-1;let d=e,p,m,_,v,y;for(o[u++]=t[d],p=0;p<s-2;p++){let S=0,x=0,w;const C=Math.floor((p+1)*l)+1+e,k=Math.min(Math.floor((p+2)*l)+1,n)+e,M=k-C;for(w=C;w<k;w++)S+=t[w].x,x+=t[w].y;S/=M,x/=M;const T=Math.floor(p*l)+1+e,O=Math.min(Math.floor((p+1)*l)+1,n)+e,{x:I,y:A}=t[d];for(_=v=-1,w=T;w<O;w++)v=.5*Math.abs((I-S)*(t[w].y-A)-(I-t[w].x)*(x-A)),v>_&&(_=v,m=t[w],y=w);o[u++]=m,d=y}return o[u++]=t[h],o}function u$(t,e,n,i){let r=0,s=0,o,l,u,h,d,p,m,_,v,y;const S=[],x=e+n-1,w=t[e].x,k=t[x].x-w;for(o=e;o<e+n;++o){l=t[o],u=(l.x-w)/k*i,h=l.y;const M=u|0;if(M===d)h<v?(v=h,p=o):h>y&&(y=h,m=o),r=(s*r+l.x)/++s;else{const T=o-1;if(!We(p)&&!We(m)){const O=Math.min(p,m),I=Math.max(p,m);O!==_&&O!==T&&S.push({...t[O],x:r}),I!==_&&I!==T&&S.push({...t[I],x:r})}o>0&&T!==_&&S.push(t[T]),S.push(l),d=M,s=0,v=y=h,p=m=_=o}}return S}function sL(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function _1(t){t.data.datasets.forEach(e=>{sL(e)})}function c$(t,e){const n=e.length;let i=0,r;const{iScale:s}=t,{min:o,max:l,minDefined:u,maxDefined:h}=s.getUserBounds();return u&&(i=qt(mr(e,s.axis,o).lo,0,n-1)),h?r=qt(mr(e,s.axis,l).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var h$={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){_1(t);return}const i=t.width;t.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:l}=r,u=t.getDatasetMeta(s),h=o||r.data;if(Jl([l,t.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const d=t.scales[u.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:p,count:m}=c$(u,h);const _=n.threshold||4*i;if(m<=_){sL(r);return}We(o)&&(r._data=h,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let v;switch(n.algorithm){case"lttb":v=l$(h,p,m,i,n);break;case"min-max":v=u$(h,p,m,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=v})},destroy(t){_1(t)}};function d$(t,e,n){const i=t.segments,r=t.points,s=e.points,o=[];for(const l of i){let{start:u,end:h}=l;h=L0(u,h,r);const d=rv(n,r[u],r[h],l.loop);if(!e.segments){o.push({source:l,target:d,start:r[u],end:r[h]});continue}const p=VM(e,d);for(const m of p){const _=rv(n,s[m.start],s[m.end],m.loop),v=jM(l,r,_);for(const y of v)o.push({source:y,target:m,start:{[n]:v1(d,_,"start",Math.max)},end:{[n]:v1(d,_,"end",Math.min)}})}}return o}function rv(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=Un(r),s=Un(s)),{property:t,start:r,end:s}}function f$(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:l})=>{l=L0(o,l,r);const u=r[o],h=r[l];i!==null?(s.push({x:u.x,y:i}),s.push({x:h.x,y:i})):n!==null&&(s.push({x:n,y:u.y}),s.push({x:n,y:h.y}))}),s}function L0(t,e,n){for(;e>t;e--){const i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function v1(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function oL(t,e){let n=[],i=!1;return xt(t)?(i=!0,n=t):n=f$(t,e),n.length?new ns({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function y1(t){return t&&t.fill!==!1}function p$(t,e,n){let r=t[e].fill;const s=[e];let o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Mt(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function m$(t,e,n){const i=y$(t);if(je(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Mt(r)&&Math.floor(r)===r?g$(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function g$(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function _$(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:je(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function v$(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:je(t)?i=t.value:i=e.getBaseValue(),i}function y$(t){const e=t.options,n=e.fill;let i=Ce(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function x$(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,l=b$(e,n);l.push(oL({x:null,y:e.bottom},i));for(let u=0;u<s.length;u++){const h=s[u];for(let d=h.start;d<=h.end;d++)w$(r,o[d],l)}return new ns({points:r,options:{}})}function b$(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function w$(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:l,point:u}=S$(s,e,"x");if(!(!u||o&&l)){if(o)i.unshift(u);else if(t.push(u),!l)break}}t.push(...i)}function S$(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,o=t.points;let l=!1,u=!1;for(let h=0;h<s.length;h++){const d=s[h],p=o[d.start][n],m=o[d.end][n];if(pr(r,p,m)){l=r===p,u=r===m;break}}return{first:l,last:u,point:i}}class aL{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){const{x:r,y:s,radius:o}=this;return n=n||{start:0,end:mt},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){const{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function C$(t){const{chart:e,fill:n,line:i}=t;if(Mt(n))return E$(e,n);if(n==="stack")return x$(t);if(n==="shape")return!0;const r=T$(t);return r instanceof aL?r:oL(r,i)}function E$(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function T$(t){return(t.scale||{}).getPointPositionForValue?k$(t):P$(t)}function P$(t){const{scale:e={},fill:n}=t,i=_$(n,e);if(Mt(i)){const r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function k$(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=v$(n,e,s),l=[];if(i.grid.circular){const u=e.getPointPositionForValue(0,s);return new aL({x:u.x,y:u.y,radius:e.getDistanceFromCenterForValue(o)})}for(let u=0;u<r;++u)l.push(e.getPointPositionForValue(u,o));return l}function gg(t,e,n){const i=C$(e),{line:r,scale:s,axis:o}=e,l=r.options,u=l.fill,h=l.backgroundColor,{above:d=h,below:p=h}=u||{};i&&r.points.length&&(yp(t,n),M$(t,{line:r,target:i,above:d,below:p,area:n,scale:s,axis:o}),xp(t))}function M$(t,e){const{line:n,target:i,above:r,below:s,area:o,scale:l}=e,u=n._loop?"angle":e.axis;t.save(),u==="x"&&s!==r&&(x1(t,i,o.top),b1(t,{line:n,target:i,color:r,scale:l,property:u}),t.restore(),t.save(),x1(t,i,o.bottom)),b1(t,{line:n,target:i,color:s,scale:l,property:u}),t.restore()}function x1(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const l of i){const{start:u,end:h}=l,d=r[u],p=r[L0(u,h,r)];s?(t.moveTo(d.x,d.y),s=!1):(t.lineTo(d.x,n),t.lineTo(d.x,d.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(p.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function b1(t,e){const{line:n,target:i,property:r,color:s,scale:o}=e,l=d$(n,i,r);for(const{source:u,target:h,start:d,end:p}of l){const{style:{backgroundColor:m=s}={}}=u,_=i!==!0;t.save(),t.fillStyle=m,L$(t,o,_&&rv(r,d,p)),t.beginPath();const v=!!n.pathSegment(t,u);let y;if(_){v?t.closePath():w1(t,i,p,r);const S=!!i.pathSegment(t,h,{move:v,reverse:!0});y=v&&S,y||w1(t,i,d,r)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function L$(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:l}=n||{};s==="x"&&(t.beginPath(),t.rect(o,i,l-o,r-i),t.clip())}function w1(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var I$={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,o,l,u;for(o=0;o<i;++o)s=t.getDatasetMeta(o),l=s.dataset,u=null,l&&l.options&&l instanceof ns&&(u={visible:t.isDatasetVisible(o),index:o,fill:m$(l,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=u,r.push(u);for(o=0;o<i;++o)u=r[o],!(!u||u.fill===!1)&&(u.fill=p$(r,o,n.propagate))},beforeDraw(t,e,n){const i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const l=r[o].$filler;l&&(l.line.updateControlPoints(s,l.axis),i&&l.fill&&gg(t.ctx,l,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;y1(s)&&gg(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;!y1(i)||n.drawTime!=="beforeDatasetDraw"||gg(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const S1=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},O$=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class C1 extends Rr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=lt(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=Ut(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:u}=S1(i,s);let h,d;n.font=r.string,this.isHorizontal()?(h=this.maxWidth,d=this._fitRows(o,s,l,u)+10):(d=this.maxHeight,h=this._fitCols(o,r,l,u)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],d=r+l;let p=e;s.textAlign="left",s.textBaseline="middle";let m=-1,_=-d;return this.legendItems.forEach((v,y)=>{const S=i+n/2+s.measureText(v.text).width;(y===0||h[h.length-1]+S+2*l>o)&&(p+=d,h[h.length-(y>0?0:1)]=0,_+=d,m++),u[y]={left:0,top:_,row:m,width:S,height:r},h[h.length-1]+=S+l}),p}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:l}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],d=o-e;let p=l,m=0,_=0,v=0,y=0;return this.legendItems.forEach((S,x)=>{const{itemWidth:w,itemHeight:C}=R$(i,n,s,S,r);x>0&&_+C+2*l>d&&(p+=m+l,h.push({width:m,height:_}),v+=m+l,y++,m=_=0),u[x]={left:v,top:_,col:y,width:w,height:C},m=Math.max(m,w),_+=C+l}),p+=m,h.push({width:m,height:_}),p}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Pa(s,this.left,this.width);if(this.isHorizontal()){let l=0,u=hn(i,this.left+r,this.right-this.lineWidths[l]);for(const h of n)l!==h.row&&(l=h.row,u=hn(i,this.left+r,this.right-this.lineWidths[l])),h.top+=this.top+e+r,h.left=o.leftForLtr(o.x(u),h.width),u+=h.width+r}else{let l=0,u=hn(i,this.top+e+r,this.bottom-this.columnSizes[l].height);for(const h of n)h.col!==l&&(l=h.col,u=hn(i,this.top+e+r,this.bottom-this.columnSizes[l].height)),h.top=u,h.left+=this.left+r,h.left=o.leftForLtr(o.x(h.left),h.width),u+=h.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;yp(e,this),this._draw(),xp(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,l=bt.color,u=Pa(e.rtl,this.left,this.width),h=Ut(o.font),{padding:d}=o,p=h.size,m=p/2;let _;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;const{boxWidth:v,boxHeight:y,itemHeight:S}=S1(o,p),x=function(T,O,I){if(isNaN(v)||v<=0||isNaN(y)||y<0)return;r.save();const A=Ce(I.lineWidth,1);if(r.fillStyle=Ce(I.fillStyle,l),r.lineCap=Ce(I.lineCap,"butt"),r.lineDashOffset=Ce(I.lineDashOffset,0),r.lineJoin=Ce(I.lineJoin,"miter"),r.lineWidth=A,r.strokeStyle=Ce(I.strokeStyle,l),r.setLineDash(Ce(I.lineDash,[])),o.usePointStyle){const j={radius:y*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:A},W=u.xPlus(T,v/2),Z=O+m;MM(r,j,W,Z,o.pointStyleWidth&&v)}else{const j=O+Math.max((p-y)/2,0),W=u.leftForLtr(T,v),Z=lo(I.borderRadius);r.beginPath(),Object.values(Z).some(de=>de!==0)?lc(r,{x:W,y:j,w:v,h:y,radius:Z}):r.rect(W,j,v,y),r.fill(),A!==0&&r.stroke()}r.restore()},w=function(T,O,I){bo(r,I.text,T,O+S/2,h,{strikethrough:I.hidden,textAlign:u.textAlign(I.textAlign)})},C=this.isHorizontal(),k=this._computeTitleHeight();C?_={x:hn(s,this.left+d,this.right-i[0]),y:this.top+d+k,line:0}:_={x:this.left+d,y:hn(s,this.top+k+d,this.bottom-n[0].height),line:0},FM(this.ctx,e.textDirection);const M=S+d;this.legendItems.forEach((T,O)=>{r.strokeStyle=T.fontColor,r.fillStyle=T.fontColor;const I=r.measureText(T.text).width,A=u.textAlign(T.textAlign||(T.textAlign=o.textAlign)),j=v+m+I;let W=_.x,Z=_.y;u.setWidth(this.width),C?O>0&&W+j+d>this.right&&(Z=_.y+=M,_.line++,W=_.x=hn(s,this.left+d,this.right-i[_.line])):O>0&&Z+M>this.bottom&&(W=_.x=W+n[_.line].width+d,_.line++,Z=_.y=hn(s,this.top+k+d,this.bottom-n[_.line].height));const de=u.x(W);if(x(de,Z,T),W=J4(A,W+v+m,C?W+j:this.right,e.rtl),w(u.x(W),Z,T),C)_.x+=j+d;else if(typeof T.text!="string"){const le=h.lineHeight;_.y+=lL(T,le)+d}else _.y+=M}),zM(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=Ut(n.font),r=mn(n.padding);if(!n.display)return;const s=Pa(e.rtl,this.left,this.width),o=this.ctx,l=n.position,u=i.size/2,h=r.top+u;let d,p=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),d=this.top+h,p=hn(e.align,p,this.right-m);else{const v=this.columnSizes.reduce((y,S)=>Math.max(y,S.height),0);d=h+hn(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const _=hn(l,p,p+m);o.textAlign=s.textAlign(b0(l)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,bo(o,n.text,_,d,i)}_computeTitleHeight(){const e=this.options.title,n=Ut(e.font),i=mn(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(pr(e,this.left,this.right)&&pr(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],pr(e,r.left,r.left+r.width)&&pr(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!A$(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=O$(r,i);r&&!s&&lt(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&lt(n.onHover,[e,i,this],this)}else i&&lt(n.onClick,[e,i,this],this)}}function R$(t,e,n,i,r){const s=D$(i,t,e,n),o=N$(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function D$(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function N$(t,e,n){let i=t;return typeof e.text!="string"&&(i=lL(e,n)),i}function lL(t,e){const n=t.text?t.text.length:0;return e*n}function A$(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var F$={id:"legend",_element:C1,start(t,e,n){const i=t.legend=new C1({ctx:t.ctx,options:n,chart:t});fn.configure(t,i,n),fn.addBox(t,i)},stop(t){fn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;fn.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(n?0:void 0),d=mn(h.borderWidth);return{text:e[u.index].label,fillStyle:h.backgroundColor,fontColor:s,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:h.borderColor,pointStyle:i||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:o&&(l||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class I0 extends Rr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=xt(i.text)?i.text.length:1;this._padding=mn(i.padding);const s=r*Ut(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,l=o.align;let u=0,h,d,p;return this.isHorizontal()?(d=hn(l,i,s),p=n+e,h=s-i):(o.position==="left"?(d=i+e,p=hn(l,r,n),u=gt*-.5):(d=s-e,p=hn(l,n,r),u=gt*.5),h=r-n),{titleX:d,titleY:p,maxWidth:h,rotation:u}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=Ut(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:u,rotation:h}=this._drawArgs(s);bo(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:b0(n.align),textBaseline:"middle",translation:[o,l]})}}function z$(t,e){const n=new I0({ctx:t.ctx,options:e,chart:t});fn.configure(t,n,e),fn.addBox(t,n),t.titleBlock=n}var B$={id:"title",_element:I0,start(t,e,n){z$(t,n)},stop(t){const e=t.titleBlock;fn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;fn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const jh=new WeakMap;var j$={id:"subtitle",start(t,e,n){const i=new I0({ctx:t.ctx,options:n,chart:t});fn.configure(t,i,n),fn.addBox(t,i),jh.set(t,i)},stop(t){fn.removeBox(t,jh.get(t)),jh.delete(t)},beforeUpdate(t,e,n){const i=jh.get(t);fn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const nu={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const u=l.tooltipPosition();i.add(u.x),r+=u.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((l,u)=>l+u)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,l;for(s=0,o=t.length;s<o;++s){const u=t[s].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),d=X_(e,h);d<r&&(r=d,l=u)}}if(l){const u=l.tooltipPosition();n=u.x,i=u.y}return{x:n,y:i}}};function zi(t,e){return e&&(xt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function or(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function V$(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:l}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:l,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function E1(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:l}=e,u=Ut(e.bodyFont),h=Ut(e.titleFont),d=Ut(e.footerFont),p=s.length,m=r.length,_=i.length,v=mn(e.padding);let y=v.height,S=0,x=i.reduce((k,M)=>k+M.before.length+M.lines.length+M.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,p&&(y+=p*h.lineHeight+(p-1)*e.titleSpacing+e.titleMarginBottom),x){const k=e.displayColors?Math.max(l,u.lineHeight):u.lineHeight;y+=_*k+(x-_)*u.lineHeight+(x-1)*e.bodySpacing}m&&(y+=e.footerMarginTop+m*d.lineHeight+(m-1)*e.footerSpacing);let w=0;const C=function(k){S=Math.max(S,n.measureText(k).width+w)};return n.save(),n.font=h.string,Ke(t.title,C),n.font=u.string,Ke(t.beforeBody.concat(t.afterBody),C),w=e.displayColors?o+2+e.boxPadding:0,Ke(i,k=>{Ke(k.before,C),Ke(k.lines,C),Ke(k.after,C)}),w=0,n.font=d.string,Ke(t.footer,C),n.restore(),S+=v.width,{width:S,height:y}}function H$(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function $$(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function W$(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:l,right:u}}=t;let h="center";return i==="center"?h=r<=(l+u)/2?"left":"right":r<=s/2?h="left":r>=o-s/2&&(h="right"),$$(h,t,e,n)&&(h="center"),h}function T1(t,e,n){const i=n.yAlign||e.yAlign||H$(t,n);return{xAlign:n.xAlign||e.xAlign||W$(t,e,n,i),yAlign:i}}function U$(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function Z$(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function P1(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:l,yAlign:u}=n,h=r+s,{topLeft:d,topRight:p,bottomLeft:m,bottomRight:_}=lo(o);let v=U$(e,l);const y=Z$(e,u,h);return u==="center"?l==="left"?v+=h:l==="right"&&(v-=h):l==="left"?v-=Math.max(d,m)+r:l==="right"&&(v+=Math.max(p,_)+r),{x:qt(v,0,i.width-e.width),y:qt(y,0,i.height-e.height)}}function Vh(t,e,n){const i=mn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function k1(t){return zi([],or(t))}function Y$(t,e,n){return Ls(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function M1(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const uL={beforeTitle:rr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:rr,beforeBody:rr,beforeLabel:rr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return We(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:rr,afterBody:rr,beforeFooter:rr,footer:rr,afterFooter:rr};function In(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?uL[e].call(n,i):r}class sv extends Rr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new HM(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Y$(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=In(i,"beforeTitle",this,e),s=In(i,"title",this,e),o=In(i,"afterTitle",this,e);let l=[];return l=zi(l,or(r)),l=zi(l,or(s)),l=zi(l,or(o)),l}getBeforeBody(e,n){return k1(In(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return Ke(e,s=>{const o={before:[],lines:[],after:[]},l=M1(i,s);zi(o.before,or(In(l,"beforeLabel",this,s))),zi(o.lines,In(l,"label",this,s)),zi(o.after,or(In(l,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return k1(In(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=In(i,"beforeFooter",this,e),s=In(i,"footer",this,e),o=In(i,"afterFooter",this,e);let l=[];return l=zi(l,or(r)),l=zi(l,or(s)),l=zi(l,or(o)),l}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let l=[],u,h;for(u=0,h=n.length;u<h;++u)l.push(V$(this.chart,n[u]));return e.filter&&(l=l.filter((d,p,m)=>e.filter(d,p,m,i))),e.itemSort&&(l=l.sort((d,p)=>e.itemSort(d,p,i))),Ke(l,d=>{const p=M1(e.callbacks,d);r.push(In(p,"labelColor",this,d)),s.push(In(p,"labelPointStyle",this,d)),o.push(In(p,"labelTextColor",this,d))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=l,l}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const l=nu[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const u=this._size=E1(this,i),h=Object.assign({},l,u),d=T1(this.chart,i,h),p=P1(i,h,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:p.x,y:p.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:l}=i,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:p}=lo(l),{x:m,y:_}=e,{width:v,height:y}=n;let S,x,w,C,k,M;return s==="center"?(k=_+y/2,r==="left"?(S=m,x=S-o,C=k+o,M=k-o):(S=m+v,x=S+o,C=k-o,M=k+o),w=S):(r==="left"?x=m+Math.max(u,d)+o:r==="right"?x=m+v-Math.max(h,p)-o:x=this.caretX,s==="top"?(C=_,k=C-o,S=x-o,w=x+o):(C=_+y,k=C+o,S=x+o,w=x-o),M=C),{x1:S,x2:x,x3:w,y1:C,y2:k,y3:M}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,l,u;if(s){const h=Pa(i.rtl,this.x,this.width);for(e.x=Vh(this,i.titleAlign,i),n.textAlign=h.textAlign(i.titleAlign),n.textBaseline="middle",o=Ut(i.titleFont),l=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,u=0;u<s;++u)n.fillText(r[u],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,u+1===s&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:u,boxWidth:h}=s,d=Ut(s.bodyFont),p=Vh(this,"left",s),m=r.x(p),_=u<d.lineHeight?(d.lineHeight-u)/2:0,v=n.y+_;if(s.usePointStyle){const y={radius:Math.min(h,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},S=r.leftForLtr(m,h)+h/2,x=v+u/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Q_(e,y,S,x),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Q_(e,y,S,x)}else{e.lineWidth=je(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=r.leftForLtr(m,h),S=r.leftForLtr(r.xPlus(m,1),h-2),x=lo(o.borderRadius);Object.values(x).some(w=>w!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,lc(e,{x:y,y:v,w:h,h:u,radius:x}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),lc(e,{x:S,y:v+1,w:h-2,h:u-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(y,v,h,u),e.strokeRect(y,v,h,u),e.fillStyle=o.backgroundColor,e.fillRect(S,v+1,h-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:l,boxHeight:u,boxWidth:h,boxPadding:d}=i,p=Ut(i.bodyFont);let m=p.lineHeight,_=0;const v=Pa(i.rtl,this.x,this.width),y=function(I){n.fillText(I,v.x(e.x+_),e.y+m/2),e.y+=m+s},S=v.textAlign(o);let x,w,C,k,M,T,O;for(n.textAlign=o,n.textBaseline="middle",n.font=p.string,e.x=Vh(this,S,i),n.fillStyle=i.bodyColor,Ke(this.beforeBody,y),_=l&&S!=="right"?o==="center"?h/2+d:h+2+d:0,k=0,T=r.length;k<T;++k){for(x=r[k],w=this.labelTextColors[k],n.fillStyle=w,Ke(x.before,y),C=x.lines,l&&C.length&&(this._drawColorBox(n,e,k,v,i),m=Math.max(p.lineHeight,u)),M=0,O=C.length;M<O;++M)y(C[M]),m=p.lineHeight;Ke(x.after,y)}_=0,m=p.lineHeight,Ke(this.afterBody,y),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,l;if(s){const u=Pa(i.rtl,this.x,this.width);for(e.x=Vh(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=u.textAlign(i.footerAlign),n.textBaseline="middle",o=Ut(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:l,y:u}=e,{width:h,height:d}=i,{topLeft:p,topRight:m,bottomLeft:_,bottomRight:v}=lo(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(l+p,u),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(l+h-m,u),n.quadraticCurveTo(l+h,u,l+h,u+m),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(l+h,u+d-v),n.quadraticCurveTo(l+h,u+d,l+h-v,u+d),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(l+_,u+d),n.quadraticCurveTo(l,u+d,l,u+d-_),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(l,u+p),n.quadraticCurveTo(l,u,l+p,u),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=nu[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=E1(this,e),u=Object.assign({},o,this._size),h=T1(n,e,u),d=P1(e,u,h,n);(r._to!==d.x||s._to!==d.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=mn(n.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&l&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),FM(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),zM(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:l,index:u})=>{const h=this.chart.getDatasetMeta(l);if(!h)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:h.data[u],index:u}}),s=!xf(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),l=this._positionChanged(o,e),u=n||!xf(o,s)||l;return u&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=nu[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}ie(sv,"positioners",nu);var G$={id:"tooltip",_element:sv,positioners:nu,afterInit(t,e,n){n&&(t.tooltip=new sv({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:uL},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},K$=Object.freeze({__proto__:null,Colors:a$,Decimation:h$,Filler:I$,Legend:F$,SubTitle:j$,Title:B$,Tooltip:G$});const X$=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function q$(t,e,n,i){const r=t.indexOf(e);if(r===-1)return X$(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const Q$=(t,e)=>t===null?null:qt(Math.round(t),0,e);function L1(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class ov extends ko{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(We(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:q$(i,e,Ce(n,e),this._addedLabels),Q$(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return L1.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ie(ov,"id","category"),ie(ov,"defaults",{ticks:{callback:L1}});function J$(t,e){const n=[],{bounds:r,step:s,min:o,max:l,precision:u,count:h,maxTicks:d,maxDigits:p,includeBounds:m}=t,_=s||1,v=d-1,{min:y,max:S}=e,x=!We(o),w=!We(l),C=!We(h),k=(S-y)/(p+1);let M=ES((S-y)/v/_)*_,T,O,I,A;if(M<1e-14&&!x&&!w)return[{value:y},{value:S}];A=Math.ceil(S/M)-Math.floor(y/M),A>v&&(M=ES(A*M/v/_)*_),We(u)||(T=Math.pow(10,u),M=Math.ceil(M*T)/T),r==="ticks"?(O=Math.floor(y/M)*M,I=Math.ceil(S/M)*M):(O=y,I=S),x&&w&&s&&Z4((l-o)/s,M/1e3)?(A=Math.round(Math.min((l-o)/M,d)),M=(l-o)/A,O=o,I=l):C?(O=x?o:O,I=w?l:I,A=h-1,M=(I-O)/A):(A=(I-O)/M,bu(A,Math.round(A),M/1e3)?A=Math.round(A):A=Math.ceil(A));const j=Math.max(TS(M),TS(O));T=Math.pow(10,We(u)?j:u),O=Math.round(O*T)/T,I=Math.round(I*T)/T;let W=0;for(x&&(m&&O!==o?(n.push({value:o}),O<o&&W++,bu(Math.round((O+W*M)*T)/T,o,I1(o,k,t))&&W++):O<o&&W++);W<A;++W){const Z=Math.round((O+W*M)*T)/T;if(w&&Z>l)break;n.push({value:Z})}return w&&m&&I!==l?n.length&&bu(n[n.length-1].value,l,I1(l,k,t))?n[n.length-1].value=l:n.push({value:l}):(!w||I===l)&&n.push({value:I}),n}function I1(t,e,{horizontal:n,minRotation:i}){const r=Ei(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Pf extends ko{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return We(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=u=>r=n?r:u,l=u=>s=i?s:u;if(e){const u=Yi(r),h=Yi(s);u<0&&h<0?l(0):u>0&&h>0&&o(0)}if(r===s){let u=s===0?1:Math.abs(s*.05);l(s+u),e||o(r-u)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=J$(r,s);return e.bounds==="ticks"&&xM(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return Rc(e,this.chart.options.locale,this.options.ticks.format)}}class av extends Pf{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Mt(e)?e:0,this.max=Mt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Ei(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ie(av,"id","linear"),ie(av,"defaults",{ticks:{callback:vp.formatters.numeric}});const cc=t=>Math.floor(ts(t)),Hs=(t,e)=>Math.pow(10,cc(t)+e);function O1(t){return t/Math.pow(10,cc(t))===1}function R1(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function eW(t,e){const n=e-t;let i=cc(n);for(;R1(t,e,i)>10;)i++;for(;R1(t,e,i)<10;)i--;return Math.min(i,cc(t))}function tW(t,{min:e,max:n}){e=Hn(t.min,e);const i=[],r=cc(e);let s=eW(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),u=r>s?Math.pow(10,r):0,h=Math.round((e-u)*o)/o,d=Math.floor((e-u)/l/10)*l*10;let p=Math.floor((h-d)/Math.pow(10,s)),m=Hn(t.min,Math.round((u+d+p*Math.pow(10,s))*o)/o);for(;m<n;)i.push({value:m,major:O1(m),significand:p}),p>=10?p=p<15?15:20:p++,p>=20&&(s++,p=2,o=s>=0?1:o),m=Math.round((u+d+p*Math.pow(10,s))*o)/o;const _=Hn(t.max,m);return i.push({value:_,major:O1(_),significand:p}),i}class lv extends ko{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const i=Pf.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Mt(i)&&i>0?i:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Mt(e)?Math.max(0,e):null,this.max=Mt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Mt(this._userMin)&&(this.min=e===Hs(this.min,0)?Hs(this.min,-1):Hs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let i=this.min,r=this.max;const s=l=>i=e?i:l,o=l=>r=n?r:l;i===r&&(i<=0?(s(1),o(10)):(s(Hs(i,-1)),o(Hs(r,1)))),i<=0&&s(Hs(r,-1)),r<=0&&o(Hs(i,1)),this.min=i,this.max=r}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},i=tW(n,this);return e.bounds==="ticks"&&xM(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":Rc(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=ts(e),this._valueRange=ts(this.max)-ts(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ts(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}ie(lv,"id","logarithmic"),ie(lv,"defaults",{ticks:{callback:vp.formatters.logarithmic,major:{enabled:!0}}});function uv(t){const e=t.ticks;if(e.display&&t.display){const n=mn(e.backdropPadding);return Ce(e.font&&e.font.size,bt.font.size)+n.height}return 0}function nW(t,e,n){return n=xt(n)?n:[n],{w:uV(t,e.string,n),h:n.length*e.lineHeight}}function D1(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function iW(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,l=o.centerPointLabels?gt/s:0;for(let u=0;u<s;u++){const h=o.setContext(t.getPointLabelContext(u));r[u]=h.padding;const d=t.getPointPosition(u,t.drawingArea+r[u],l),p=Ut(h.font),m=nW(t.ctx,p,t._pointLabels[u]);i[u]=m;const _=Un(t.getIndexAngle(u)+l),v=Math.round(y0(_)),y=D1(v,d.x,m.w,0,180),S=D1(v,d.y,m.h,90,270);rW(n,e,_,y,S)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=aW(t,i,r)}function rW(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let l=0,u=0;i.start<e.l?(l=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-l)):i.end>e.r&&(l=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+l)),r.start<e.t?(u=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-u)):r.end>e.b&&(u=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+u))}function sW(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:l}=n,u=t.getPointPosition(e,i+r+o,s),h=Math.round(y0(Un(u.angle+Rt))),d=cW(u.y,l.h,h),p=lW(h),m=uW(u.x,l.w,p);return{visible:!0,x:u.x,y:d,textAlign:p,left:m,top:d,right:m+l.w,bottom:d+l.h}}function oW(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(gr({x:n,y:i},e)||gr({x:n,y:s},e)||gr({x:r,y:i},e)||gr({x:r,y:s},e))}function aW(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:l}=s.pointLabels,u={extra:uv(s)/2,additionalAngle:o?gt/r:0};let h;for(let d=0;d<r;d++){u.padding=n[d],u.size=e[d];const p=sW(t,d,u);i.push(p),l==="auto"&&(p.visible=oW(p,h),p.visible&&(h=p))}return i}function lW(t){return t===0||t===180?"center":t<180?"left":"right"}function uW(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function cW(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function hW(t,e,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:l}=e;if(!We(l)){const u=lo(e.borderRadius),h=mn(e.backdropPadding);t.fillStyle=l;const d=i-h.left,p=r-h.top,m=s-i+h.width,_=o-r+h.height;Object.values(u).some(v=>v!==0)?(t.beginPath(),lc(t,{x:d,y:p,w:m,h:_,radius:u}),t.fill()):t.fillRect(d,p,m,_)}}function dW(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const s=t._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(t.getPointLabelContext(r));hW(n,o,s);const l=Ut(o.font),{x:u,y:h,textAlign:d}=s;bo(n,t._pointLabels[r],u,h+l.lineHeight/2,l,{color:o.color,textAlign:d,textBaseline:"middle"})}}function cL(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,mt);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function fW(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:l,lineWidth:u}=e;!o&&!i||!l||!u||n<0||(s.save(),s.strokeStyle=l,s.lineWidth=u,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),cL(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function pW(t,e,n){return Ls(t,{label:n,index:e,type:"pointLabel"})}class iu extends Pf{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=mn(uv(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=Mt(e)&&!isNaN(e)?e:0,this.max=Mt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/uv(this.options))}generateTickLabels(e){Pf.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const r=lt(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?iW(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){const n=mt/(this._pointLabels.length||1),i=this.options.startAngle||0;return Un(e*n+Ei(i))}getDistanceFromCenterForValue(e){if(We(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(We(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return pW(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const r=this.getIndexAngle(e)-Rt+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),cL(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let l,u,h;if(n.pointLabels.display&&dW(this,o),r.display&&this.ticks.forEach((d,p)=>{if(p!==0||p===0&&this.min<0){u=this.getDistanceFromCenterForValue(d.value);const m=this.getContext(p),_=r.setContext(m),v=s.setContext(m);fW(this,_,u,o,v)}}),i.display){for(e.save(),l=o-1;l>=0;l--){const d=i.setContext(this.getPointLabelContext(l)),{color:p,lineWidth:m}=d;!m||!p||(e.lineWidth=m,e.strokeStyle=p,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,u=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),h=this.getPointPosition(l,u),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(h.x,h.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,u)=>{if(u===0&&this.min>=0&&!n.reverse)return;const h=i.setContext(this.getContext(u)),d=Ut(h.font);if(s=this.getDistanceFromCenterForValue(this.ticks[u].value),h.showLabelBackdrop){e.font=d.string,o=e.measureText(l.label).width,e.fillStyle=h.backdropColor;const p=mn(h.backdropPadding);e.fillRect(-o/2-p.left,-s-d.size/2-p.top,o+p.width,d.size+p.height)}bo(e,l.label,0,-s,d,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),e.restore()}drawTitle(){}}ie(iu,"id","radialLinear"),ie(iu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:vp.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ie(iu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ie(iu,"descriptors",{angleLines:{_fallback:"grid"}});const wp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Dn=Object.keys(wp);function N1(t,e){return t-e}function A1(t,e){if(We(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),Mt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Wa(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function F1(t,e,n,i){const r=Dn.length;for(let s=Dn.indexOf(t);s<r-1;++s){const o=wp[Dn[s]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(l*o.size))<=i)return Dn[s]}return Dn[r-1]}function mW(t,e,n,i,r){for(let s=Dn.length-1;s>=Dn.indexOf(n);s--){const o=Dn[s];if(wp[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Dn[n?Dn.indexOf(n):0]}function gW(t){for(let e=Dn.indexOf(t)+1,n=Dn.length;e<n;++e)if(wp[Dn[e]].common)return Dn[e]}function z1(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=x0(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function _W(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let l,u;for(l=s;l<=o;l=+r.add(l,1,i))u=n[l],u>=0&&(e[u].major=!0);return e}function B1(t,e,n){const i=[],r={},s=e.length;let o,l;for(o=0;o<s;++o)l=e[o],r[l]=o,i.push({value:l,major:!1});return s===0||!n?i:_W(t,i,r,n)}class hc extends ko{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new E5._date(e.adapters.date);r.init(n),xu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:A1(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:l}=this.getUserBounds();function u(h){!o&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!l&&!isNaN(h.max)&&(s=Math.max(s,h.max))}(!o||!l)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=Mt(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=Mt(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,l=X4(r,s,o);return this._unit=n.unit||(i.autoSkip?F1(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):mW(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:gW(this._unit),this.initOffsets(r),e.reverse&&l.reverse(),B1(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=qt(n,0,o),i=qt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||F1(s.minUnit,n,i,this._getLabelCapacity(n)),l=Ce(r.ticks.stepSize,1),u=o==="week"?s.isoWeekday:!1,h=Wa(u)||u===!0,d={};let p=n,m,_;if(h&&(p=+e.startOf(p,"isoWeek",u)),p=+e.startOf(p,h?"day":o),e.diff(i,n,o)>1e5*l)throw new Error(n+" and "+i+" are too far apart with stepSize of "+l+" "+o);const v=r.ticks.source==="data"&&this.getDataTimestamps();for(m=p,_=0;m<i;m=+e.add(m,l,o),_++)z1(d,m,v);return(m===i||r.bounds==="ticks"||_===1)&&z1(d,m,v),Object.keys(d).sort(N1).map(y=>+y)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return lt(o,[e,n,i],this);const l=s.time.displayFormats,u=this._unit,h=this._majorUnit,d=u&&l[u],p=h&&l[h],m=i[n],_=h&&p&&m&&m.major;return this._adapter.format(e,r||(_?p:d))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Ei(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*o,h:i*o+l*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,B1(this,[e],this._majorUnit),r),o=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(A1(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return SM(e.sort(N1))}}ie(hc,"id","time"),ie(hc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Hh(t,e,n){let i=0,r=t.length-1,s,o,l,u;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=mr(t,"pos",e)),{pos:s,time:l}=t[i],{pos:o,time:u}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=mr(t,"time",e)),{time:s,pos:l}=t[i],{time:o,pos:u}=t[r]);const h=o-s;return h?l+(u-l)*(e-s)/h:l}class cv extends hc{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Hh(n,this.min),this._tableRange=Hh(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,l,u,h,d;for(o=0,l=e.length;o<l;++o)h=e[o],h>=n&&h<=i&&r.push(h);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,l=r.length;o<l;++o)d=r[o+1],u=r[o-1],h=r[o],Math.round((d+u)/2)!==h&&s.push({time:h,pos:o/(l-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Hh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Hh(this._table,i*this._tableRange+this._minPos,!0)}}ie(cv,"id","timeseries"),ie(cv,"defaults",hc.defaults);var vW=Object.freeze({__proto__:null,CategoryScale:ov,LinearScale:av,LogarithmicScale:lv,RadialLinearScale:iu,TimeScale:hc,TimeSeriesScale:cv});const yW=[C5,e$,K$,vW];Vi.register(...yW);function hL(t,e){const n=E.useRef(e);E.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const xW=1;function bW(t){return Object.freeze({__version:xW,map:t})}function wW(t,e){return Object.freeze({...t,...e})}const dL=E.createContext(null),fL=dL.Provider;function O0(){const t=E.useContext(dL);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function SW(t){function e(n,i){const{instance:r,context:s}=t(n).current;return E.useImperativeHandle(i,()=>r),n.children==null?null:Pe.createElement(fL,{value:s},n.children)}return E.forwardRef(e)}function CW(t){function e(n,i){const[r,s]=E.useState(!1),{instance:o}=t(n,s).current;E.useImperativeHandle(i,()=>o),E.useEffect(function(){r&&o.update()},[o,r,n.children]);const l=o._contentNode;return l?bc.createPortal(n.children,l):null}return E.forwardRef(e)}function EW(t){function e(n,i){const{instance:r}=t(n).current;return E.useImperativeHandle(i,()=>r),null}return E.forwardRef(e)}function pL(t,e){const n=E.useRef();E.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function R0(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function TW(t,e){return function(i,r){const s=O0(),o=t(R0(i,s),s);return hL(s.map,i.attribution),pL(o.current,i.eventHandlers),e(o.current,s,i,r),o}}var hv={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(lO,function(n){var i="1.9.4";function r(a){var c,f,g,b;for(f=1,g=arguments.length;f<g;f++){b=arguments[f];for(c in b)a[c]=b[c]}return a}var s=Object.create||function(){function a(){}return function(c){return a.prototype=c,new a}}();function o(a,c){var f=Array.prototype.slice;if(a.bind)return a.bind.apply(a,f.call(arguments,1));var g=f.call(arguments,2);return function(){return a.apply(c,g.length?g.concat(f.call(arguments)):arguments)}}var l=0;function u(a){return"_leaflet_id"in a||(a._leaflet_id=++l),a._leaflet_id}function h(a,c,f){var g,b,P,D;return D=function(){g=!1,b&&(P.apply(f,b),b=!1)},P=function(){g?b=arguments:(a.apply(f,arguments),setTimeout(D,c),g=!0)},P}function d(a,c,f){var g=c[1],b=c[0],P=g-b;return a===g&&f?a:((a-b)%P+P)%P+b}function p(){return!1}function m(a,c){if(c===!1)return a;var f=Math.pow(10,c===void 0?6:c);return Math.round(a*f)/f}function _(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function v(a){return _(a).split(/\s+/)}function y(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?s(a.options):{});for(var f in c)a.options[f]=c[f];return a.options}function S(a,c,f){var g=[];for(var b in a)g.push(encodeURIComponent(f?b.toUpperCase():b)+"="+encodeURIComponent(a[b]));return(!c||c.indexOf("?")===-1?"?":"&")+g.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function w(a,c){return a.replace(x,function(f,g){var b=c[g];if(b===void 0)throw new Error("No value provided for variable "+f);return typeof b=="function"&&(b=b(c)),b})}var C=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function k(a,c){for(var f=0;f<a.length;f++)if(a[f]===c)return f;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function T(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var O=0;function I(a){var c=+new Date,f=Math.max(0,16-(c-O));return O=c+f,window.setTimeout(a,f)}var A=window.requestAnimationFrame||T("RequestAnimationFrame")||I,j=window.cancelAnimationFrame||T("CancelAnimationFrame")||T("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function W(a,c,f){if(f&&A===I)a.call(c);else return A.call(window,o(a,c))}function Z(a){a&&j.call(window,a)}var de={__proto__:null,extend:r,create:s,bind:o,get lastId(){return l},stamp:u,throttle:h,wrapNum:d,falseFn:p,formatNum:m,trim:_,splitWords:v,setOptions:y,getParamString:S,template:w,isArray:C,indexOf:k,emptyImageUrl:M,requestFn:A,cancelFn:j,requestAnimFrame:W,cancelAnimFrame:Z};function le(){}le.extend=function(a){var c=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=c.__super__=this.prototype,g=s(f);g.constructor=c,c.prototype=g;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(c[b]=this[b]);return a.statics&&r(c,a.statics),a.includes&&(ue(a.includes),r.apply(null,[g].concat(a.includes))),r(g,a),delete g.statics,delete g.includes,g.options&&(g.options=f.options?s(f.options):{},r(g.options,a.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,D=g._initHooks.length;P<D;P++)g._initHooks[P].call(this)}},c},le.include=function(a){var c=this.prototype.options;return r(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},le.mergeOptions=function(a){return r(this.prototype.options,a),this},le.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),f=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function ue(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=C(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ee={on:function(a,c,f){if(typeof a=="object")for(var g in a)this._on(g,a[g],c);else{a=v(a);for(var b=0,P=a.length;b<P;b++)this._on(a[b],c,f)}return this},off:function(a,c,f){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var g in a)this._off(g,a[g],c);else{a=v(a);for(var b=arguments.length===1,P=0,D=a.length;P<D;P++)b?this._off(a[P]):this._off(a[P],c,f)}return this},_on:function(a,c,f,g){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,f)===!1){f===this&&(f=void 0);var b={fn:c,ctx:f};g&&(b.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)}},_off:function(a,c,f){var g,b,P;if(this._events&&(g=this._events[a],!!g)){if(arguments.length===1){if(this._firingCount)for(b=0,P=g.length;b<P;b++)g[b].fn=p;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var D=this._listens(a,c,f);if(D!==!1){var B=g[D];this._firingCount&&(B.fn=p,this._events[a]=g=g.slice()),g.splice(D,1)}}},fire:function(a,c,f){if(!this.listens(a,f))return this;var g=r({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var b=this._events[a];if(b){this._firingCount=this._firingCount+1||1;for(var P=0,D=b.length;P<D;P++){var B=b[P],V=B.fn;B.once&&this.off(a,V,B.ctx),V.call(B.ctx||this,g)}this._firingCount--}}return f&&this._propagateEvent(g),this},listens:function(a,c,f,g){typeof a!="string"&&console.warn('"string" type argument expected');var b=c;typeof c!="function"&&(g=!!c,b=void 0,f=void 0);var P=this._events&&this._events[a];if(P&&P.length&&this._listens(a,b,f)!==!1)return!0;if(g){for(var D in this._eventParents)if(this._eventParents[D].listens(a,c,f,g))return!0}return!1},_listens:function(a,c,f){if(!this._events)return!1;var g=this._events[a]||[];if(!c)return!!g.length;f===this&&(f=void 0);for(var b=0,P=g.length;b<P;b++)if(g[b].fn===c&&g[b].ctx===f)return b;return!1},once:function(a,c,f){if(typeof a=="object")for(var g in a)this._on(g,a[g],c,!0);else{a=v(a);for(var b=0,P=a.length;b<P;b++)this._on(a[b],c,f,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[u(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[u(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,r({layer:a.target,propagatedFrom:a.target},a),!0)}};ee.addEventListener=ee.on,ee.removeEventListener=ee.clearAllEventListeners=ee.off,ee.addOneTimeEventListener=ee.once,ee.fireEvent=ee.fire,ee.hasEventListeners=ee.listens;var re=le.extend(ee);function z(a,c,f){this.x=f?Math.round(a):a,this.y=f?Math.round(c):c}var X=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(a){return this.clone()._add($(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract($(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new z(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new z(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=X(this.x),this.y=X(this.y),this},distanceTo:function(a){a=$(a);var c=a.x-this.x,f=a.y-this.y;return Math.sqrt(c*c+f*f)},equals:function(a){return a=$(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=$(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function $(a,c,f){return a instanceof z?a:C(a)?new z(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new z(a.x,a.y):new z(a,c,f)}function te(a,c){if(a)for(var f=c?[a,c]:a,g=0,b=f.length;g<b;g++)this.extend(f[g])}te.prototype={extend:function(a){var c,f;if(!a)return this;if(a instanceof z||typeof a[0]=="number"||"x"in a)c=f=$(a);else if(a=Q(a),c=a.min,f=a.max,!c||!f)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=f.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(a){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,f;return typeof a[0]=="number"||a instanceof z?a=$(a):a=Q(a),a instanceof te?(c=a.min,f=a.max):c=f=a,c.x>=this.min.x&&f.x<=this.max.x&&c.y>=this.min.y&&f.y<=this.max.y},intersects:function(a){a=Q(a);var c=this.min,f=this.max,g=a.min,b=a.max,P=b.x>=c.x&&g.x<=f.x,D=b.y>=c.y&&g.y<=f.y;return P&&D},overlaps:function(a){a=Q(a);var c=this.min,f=this.max,g=a.min,b=a.max,P=b.x>c.x&&g.x<f.x,D=b.y>c.y&&g.y<f.y;return P&&D},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,f=this.max,g=Math.abs(c.x-f.x)*a,b=Math.abs(c.y-f.y)*a;return Q($(c.x-g,c.y-b),$(f.x+g,f.y+b))},equals:function(a){return a?(a=Q(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Q(a,c){return!a||a instanceof te?a:new te(a,c)}function ae(a,c){if(a)for(var f=c?[a,c]:a,g=0,b=f.length;g<b;g++)this.extend(f[g])}ae.prototype={extend:function(a){var c=this._southWest,f=this._northEast,g,b;if(a instanceof se)g=a,b=a;else if(a instanceof ae){if(g=a._southWest,b=a._northEast,!g||!b)return this}else return a?this.extend(ne(a)||q(a)):this;return!c&&!f?(this._southWest=new se(g.lat,g.lng),this._northEast=new se(b.lat,b.lng)):(c.lat=Math.min(g.lat,c.lat),c.lng=Math.min(g.lng,c.lng),f.lat=Math.max(b.lat,f.lat),f.lng=Math.max(b.lng,f.lng)),this},pad:function(a){var c=this._southWest,f=this._northEast,g=Math.abs(c.lat-f.lat)*a,b=Math.abs(c.lng-f.lng)*a;return new ae(new se(c.lat-g,c.lng-b),new se(f.lat+g,f.lng+b))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof se||"lat"in a?a=ne(a):a=q(a);var c=this._southWest,f=this._northEast,g,b;return a instanceof ae?(g=a.getSouthWest(),b=a.getNorthEast()):g=b=a,g.lat>=c.lat&&b.lat<=f.lat&&g.lng>=c.lng&&b.lng<=f.lng},intersects:function(a){a=q(a);var c=this._southWest,f=this._northEast,g=a.getSouthWest(),b=a.getNorthEast(),P=b.lat>=c.lat&&g.lat<=f.lat,D=b.lng>=c.lng&&g.lng<=f.lng;return P&&D},overlaps:function(a){a=q(a);var c=this._southWest,f=this._northEast,g=a.getSouthWest(),b=a.getNorthEast(),P=b.lat>c.lat&&g.lat<f.lat,D=b.lng>c.lng&&g.lng<f.lng;return P&&D},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=q(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function q(a,c){return a instanceof ae?a:new ae(a,c)}function se(a,c,f){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,f!==void 0&&(this.alt=+f)}se.prototype={equals:function(a,c){if(!a)return!1;a=ne(a);var f=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return f<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+m(this.lat,a)+", "+m(this.lng,a)+")"},distanceTo:function(a){return it.distance(this,ne(a))},wrap:function(){return it.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,f=c/Math.cos(Math.PI/180*this.lat);return q([this.lat-c,this.lng-f],[this.lat+c,this.lng+f])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function ne(a,c,f){return a instanceof se?a:C(a)&&typeof a[0]!="object"?a.length===3?new se(a[0],a[1],a[2]):a.length===2?new se(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new se(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new se(a,c,f)}var ke={latLngToPoint:function(a,c){var f=this.projection.project(a),g=this.scale(c);return this.transformation._transform(f,g)},pointToLatLng:function(a,c){var f=this.scale(c),g=this.transformation.untransform(a,f);return this.projection.unproject(g)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,f=this.scale(a),g=this.transformation.transform(c.min,f),b=this.transformation.transform(c.max,f);return new te(g,b)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?d(a.lng,this.wrapLng,!0):a.lng,f=this.wrapLat?d(a.lat,this.wrapLat,!0):a.lat,g=a.alt;return new se(f,c,g)},wrapLatLngBounds:function(a){var c=a.getCenter(),f=this.wrapLatLng(c),g=c.lat-f.lat,b=c.lng-f.lng;if(g===0&&b===0)return a;var P=a.getSouthWest(),D=a.getNorthEast(),B=new se(P.lat-g,P.lng-b),V=new se(D.lat-g,D.lng-b);return new ae(B,V)}},it=r({},ke,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var f=Math.PI/180,g=a.lat*f,b=c.lat*f,P=Math.sin((c.lat-a.lat)*f/2),D=Math.sin((c.lng-a.lng)*f/2),B=P*P+Math.cos(g)*Math.cos(b)*D*D,V=2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B));return this.R*V}}),gn=6378137,kn={R:gn,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,f=this.MAX_LATITUDE,g=Math.max(Math.min(f,a.lat),-f),b=Math.sin(g*c);return new z(this.R*a.lng*c,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(a){var c=180/Math.PI;return new se((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:function(){var a=gn*Math.PI;return new te([-a,-a],[a,a])}()};function nt(a,c,f,g){if(C(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=f,this._d=g}nt.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new z((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function Et(a,c,f,g){return new nt(a,c,f,g)}var Mn=r({},it,{code:"EPSG:3857",projection:kn,transformation:function(){var a=.5/(Math.PI*kn.R);return Et(a,.5,-a,.5)}()}),Vn=r({},Mn,{code:"EPSG:900913"});function Ae(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Xi(a,c){var f="",g,b,P,D,B,V;for(g=0,P=a.length;g<P;g++){for(B=a[g],b=0,D=B.length;b<D;b++)V=B[b],f+=(b?"L":"M")+V.x+" "+V.y;f+=c?U.svg?"z":"x":""}return f||"M0 0"}var fi=document.documentElement.style,qi="ActiveXObject"in window,ol=qi&&!document.addEventListener,Mo="msLaunchUri"in navigator&&!("documentMode"in document),Is=oe("webkit"),Lo=oe("android"),ei=oe("android 2")||oe("android 3"),Ii=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Io=Lo&&oe("Google")&&Ii<537&&!("AudioNode"in window),Ie=!!window.opera,Zt=!Mo&&oe("chrome"),_n=oe("gecko")&&!Is&&!Ie&&!qi,Fc=!Zt&&oe("safari"),Os=oe("phantom"),zc="OTransition"in fi,Oi=navigator.platform.indexOf("Win")===0,al=qi&&"transition"in fi,Oo="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ei,ll="MozPerspective"in fi,zp=!window.L_DISABLE_3D&&(al||Oo||ll)&&!zc&&!Os,Nr=typeof orientation<"u"||oe("mobile"),Ro=Nr&&Is,Bc=Nr&&Oo,Do=!window.PointerEvent&&window.MSPointerEvent,No=!!(window.PointerEvent||Do),jc="ontouchstart"in window||!!window.TouchEvent,Vc=!window.L_NO_TOUCH&&(jc||No),Bp=Nr&&Ie,Hc=Nr&&_n,Ao=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fo=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",p,c),window.removeEventListener("testPassiveEventSupport",p,c)}catch{}return a}(),jp=function(){return!!document.createElement("canvas").getContext}(),ul=!!(document.createElementNS&&Ae("svg").createSVGRect),N=!!ul&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),F=!ul&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),H=navigator.platform.indexOf("Mac")===0,G=navigator.platform.indexOf("Linux")===0;function oe(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var U={ie:qi,ielt9:ol,edge:Mo,webkit:Is,android:Lo,android23:ei,androidStock:Io,opera:Ie,chrome:Zt,gecko:_n,safari:Fc,phantom:Os,opera12:zc,win:Oi,ie3d:al,webkit3d:Oo,gecko3d:ll,any3d:zp,mobile:Nr,mobileWebkit:Ro,mobileWebkit3d:Bc,msPointer:Do,pointer:No,touch:Vc,touchNative:jc,mobileOpera:Bp,mobileGecko:Hc,retina:Ao,passiveEvents:Fo,canvas:jp,svg:ul,vml:F,inlineSvg:N,mac:H,linux:G},we=U.msPointer?"MSPointerDown":"pointerdown",fe=U.msPointer?"MSPointerMove":"pointermove",me=U.msPointer?"MSPointerUp":"pointerup",he=U.msPointer?"MSPointerCancel":"pointercancel",ge={touchstart:we,touchmove:fe,touchend:me,touchcancel:he},Me={touchstart:cl,touchmove:vn,touchend:vn,touchcancel:vn},Ee={},Dt=!1;function Qe(a,c,f){return c==="touchstart"&&pi(),Me[c]?(f=Me[c].bind(this,f),a.addEventListener(ge[c],f,!1),f):(console.warn("wrong event specified:",c),p)}function He(a,c,f){if(!ge[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(ge[c],f,!1)}function _t(a){Ee[a.pointerId]=a}function Ar(a){Ee[a.pointerId]&&(Ee[a.pointerId]=a)}function Fr(a){delete Ee[a.pointerId]}function pi(){Dt||(document.addEventListener(we,_t,!0),document.addEventListener(fe,Ar,!0),document.addEventListener(me,Fr,!0),document.addEventListener(he,Fr,!0),Dt=!0)}function vn(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var f in Ee)c.touches.push(Ee[f]);c.changedTouches=[c],a(c)}}function cl(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&en(c),vn(a,c)}function Rs(a){var c={},f,g;for(g in a)f=a[g],c[g]=f&&f.bind?f.bind(a):f;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var Qi=200;function zo(a,c){a.addEventListener("dblclick",c);var f=0,g;function b(P){if(P.detail!==1){g=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var D=Q0(P);if(!(D.some(function(V){return V instanceof HTMLLabelElement&&V.attributes.for})&&!D.some(function(V){return V instanceof HTMLInputElement||V instanceof HTMLSelectElement}))){var B=Date.now();B-f<=Qi?(g++,g===2&&c(Rs(P))):g=1,f=B}}}return a.addEventListener("click",b),{dblclick:c,simDblclick:b}}function Bo(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var Be=Wc(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Je=Wc(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ji=Je==="webkitTransition"||Je==="OTransition"?Je+"End":"transitionend";function zr(a){return typeof a=="string"?document.getElementById(a):a}function rt(a,c){var f=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!f||f==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(a,null);f=g?g[c]:null}return f==="auto"?null:f}function Le(a,c,f){var g=document.createElement(a);return g.className=c||"",f&&f.appendChild(g),g}function st(a){var c=a.parentNode;c&&c.removeChild(a)}function jo(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Vo(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function Ho(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function Vp(a,c){if(a.classList!==void 0)return a.classList.contains(c);var f=$c(a);return f.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(f)}function Te(a,c){if(a.classList!==void 0)for(var f=v(c),g=0,b=f.length;g<b;g++)a.classList.add(f[g]);else if(!Vp(a,c)){var P=$c(a);Hp(a,(P?P+" ":"")+c)}}function It(a,c){a.classList!==void 0?a.classList.remove(c):Hp(a,_((" "+$c(a)+" ").replace(" "+c+" "," ")))}function Hp(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function $c(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function ti(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&hI(a,c)}function hI(a,c){var f=!1,g="DXImageTransform.Microsoft.Alpha";try{f=a.filters.item(g)}catch{if(c===1)return}c=Math.round(c*100),f?(f.Enabled=c!==100,f.Opacity=c):a.style.filter+=" progid:"+g+"(opacity="+c+")"}function Wc(a){for(var c=document.documentElement.style,f=0;f<a.length;f++)if(a[f]in c)return a[f];return!1}function Ds(a,c,f){var g=c||new z(0,0);a.style[Be]=(U.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(f?" scale("+f+")":"")}function Nt(a,c){a._leaflet_pos=c,U.any3d?Ds(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function Ns(a){return a._leaflet_pos||new z(0,0)}var hl,dl,$p;if("onselectstart"in document)hl=function(){Se(window,"selectstart",en)},dl=function(){ot(window,"selectstart",en)};else{var fl=Wc(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);hl=function(){if(fl){var a=document.documentElement.style;$p=a[fl],a[fl]="none"}},dl=function(){fl&&(document.documentElement.style[fl]=$p,$p=void 0)}}function Wp(){Se(window,"dragstart",en)}function Up(){ot(window,"dragstart",en)}var Uc,Zp;function Yp(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Zc(),Uc=a,Zp=a.style.outlineStyle,a.style.outlineStyle="none",Se(window,"keydown",Zc))}function Zc(){Uc&&(Uc.style.outlineStyle=Zp,Uc=void 0,Zp=void 0,ot(window,"keydown",Zc))}function X0(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Gp(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var dI={__proto__:null,TRANSFORM:Be,TRANSITION:Je,TRANSITION_END:Ji,get:zr,getStyle:rt,create:Le,remove:st,empty:jo,toFront:Vo,toBack:Ho,hasClass:Vp,addClass:Te,removeClass:It,setClass:Hp,getClass:$c,setOpacity:ti,testProp:Wc,setTransform:Ds,setPosition:Nt,getPosition:Ns,get disableTextSelection(){return hl},get enableTextSelection(){return dl},disableImageDrag:Wp,enableImageDrag:Up,preventOutline:Yp,restoreOutline:Zc,getSizedParentNode:X0,getScale:Gp};function Se(a,c,f,g){if(c&&typeof c=="object")for(var b in c)Xp(a,b,c[b],f);else{c=v(c);for(var P=0,D=c.length;P<D;P++)Xp(a,c[P],f,g)}return this}var Ri="_leaflet_events";function ot(a,c,f,g){if(arguments.length===1)q0(a),delete a[Ri];else if(c&&typeof c=="object")for(var b in c)qp(a,b,c[b],f);else if(c=v(c),arguments.length===2)q0(a,function(B){return k(c,B)!==-1});else for(var P=0,D=c.length;P<D;P++)qp(a,c[P],f,g);return this}function q0(a,c){for(var f in a[Ri]){var g=f.split(/\d/)[0];(!c||c(g))&&qp(a,g,null,null,f)}}var Kp={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Xp(a,c,f,g){var b=c+u(f)+(g?"_"+u(g):"");if(a[Ri]&&a[Ri][b])return this;var P=function(B){return f.call(g||a,B||window.event)},D=P;!U.touchNative&&U.pointer&&c.indexOf("touch")===0?P=Qe(a,c,P):U.touch&&c==="dblclick"?P=zo(a,P):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(Kp[c]||c,P,U.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(P=function(B){B=B||window.event,Jp(a,B)&&D(B)},a.addEventListener(Kp[c],P,!1)):a.addEventListener(c,D,!1):a.attachEvent("on"+c,P),a[Ri]=a[Ri]||{},a[Ri][b]=P}function qp(a,c,f,g,b){b=b||c+u(f)+(g?"_"+u(g):"");var P=a[Ri]&&a[Ri][b];if(!P)return this;!U.touchNative&&U.pointer&&c.indexOf("touch")===0?He(a,c,P):U.touch&&c==="dblclick"?Bo(a,P):"removeEventListener"in a?a.removeEventListener(Kp[c]||c,P,!1):a.detachEvent("on"+c,P),a[Ri][b]=null}function As(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Qp(a){return Xp(a,"wheel",As),this}function pl(a){return Se(a,"mousedown touchstart dblclick contextmenu",As),a._leaflet_disable_click=!0,this}function en(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Fs(a){return en(a),As(a),this}function Q0(a){if(a.composedPath)return a.composedPath();for(var c=[],f=a.target;f;)c.push(f),f=f.parentNode;return c}function J0(a,c){if(!c)return new z(a.clientX,a.clientY);var f=Gp(c),g=f.boundingClientRect;return new z((a.clientX-g.left)/f.x-c.clientLeft,(a.clientY-g.top)/f.y-c.clientTop)}var fI=U.linux&&U.chrome?window.devicePixelRatio:U.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ex(a){return U.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/fI:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Jp(a,c){var f=c.relatedTarget;if(!f)return!0;try{for(;f&&f!==a;)f=f.parentNode}catch{return!1}return f!==a}var pI={__proto__:null,on:Se,off:ot,stopPropagation:As,disableScrollPropagation:Qp,disableClickPropagation:pl,preventDefault:en,stop:Fs,getPropagationPath:Q0,getMousePosition:J0,getWheelDelta:ex,isExternalTarget:Jp,addListener:Se,removeListener:ot},tx=re.extend({run:function(a,c,f,g){this.stop(),this._el=a,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=Ns(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=W(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,f=this._duration*1e3;c<f?this._runFrame(this._easeOut(c/f),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var f=this._startPos.add(this._offset.multiplyBy(a));c&&f._round(),Nt(this._el,f),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Ve=re.extend({options:{crs:Mn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=y(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(ne(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Je&&U.any3d&&!U.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Se(this._proxy,Ji,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,f){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(ne(a),c,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=r({animate:f.animate},f.zoom),f.pan=r({animate:f.animate,duration:f.duration},f.pan));var g=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,f.zoom):this._tryAnimatedPan(a,f.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,f.pan&&f.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(U.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(U.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,f){var g=this.getZoomScale(c),b=this.getSize().divideBy(2),P=a instanceof z?a:this.latLngToContainerPoint(a),D=P.subtract(b).multiplyBy(1-1/g),B=this.containerPointToLatLng(b.add(D));return this.setView(B,c,{zoom:f})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():q(a);var f=$(c.paddingTopLeft||c.padding||[0,0]),g=$(c.paddingBottomRight||c.padding||[0,0]),b=this.getBoundsZoom(a,!1,f.add(g));if(b=typeof c.maxZoom=="number"?Math.min(c.maxZoom,b):b,b===1/0)return{center:a.getCenter(),zoom:b};var P=g.subtract(f).divideBy(2),D=this.project(a.getSouthWest(),b),B=this.project(a.getNorthEast(),b),V=this.unproject(D.add(B).divideBy(2).add(P),b);return{center:V,zoom:b}},fitBounds:function(a,c){if(a=q(a),!a.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(a,c);return this.setView(f.center,f.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=$(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tx,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Te(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,f,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,f){if(f=f||{},f.animate===!1||!U.any3d)return this.setView(a,c,f);this._stop();var g=this.project(this.getCenter()),b=this.project(a),P=this.getSize(),D=this._zoom;a=ne(a),c=c===void 0?D:c;var B=Math.max(P.x,P.y),V=B*this.getZoomScale(D,c),Y=b.distanceTo(g)||1,ce=1.42,xe=ce*ce;function Oe(At){var rh=At?-1:1,nO=At?V:B,iO=V*V-B*B+rh*xe*xe*Y*Y,rO=2*nO*xe*Y,cm=iO/rO,Nx=Math.sqrt(cm*cm+1)-cm,sO=Nx<1e-9?-18:Math.log(Nx);return sO}function yn(At){return(Math.exp(At)-Math.exp(-At))/2}function Yt(At){return(Math.exp(At)+Math.exp(-At))/2}function ii(At){return yn(At)/Yt(At)}var Ln=Oe(0);function Go(At){return B*(Yt(Ln)/Yt(Ln+ce*At))}function QI(At){return B*(Yt(Ln)*ii(Ln+ce*At)-yn(Ln))/xe}function JI(At){return 1-Math.pow(1-At,1.5)}var eO=Date.now(),Rx=(Oe(1)-Ln)/ce,tO=f.duration?1e3*f.duration:1e3*Rx*.8;function Dx(){var At=(Date.now()-eO)/tO,rh=JI(At)*Rx;At<=1?(this._flyToFrame=W(Dx,this),this._move(this.unproject(g.add(b.subtract(g).multiplyBy(QI(rh)/Y)),D),this.getScaleZoom(B/Go(rh),D),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),Dx.call(this),this},flyToBounds:function(a,c){var f=this._getBoundsCenterZoom(a,c);return this.flyTo(f.center,f.zoom,c)},setMaxBounds:function(a){return a=q(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var f=this.getCenter(),g=this._limitCenter(f,this._zoom,q(a));return f.equals(g)||this.panTo(g,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var f=$(c.paddingTopLeft||c.padding||[0,0]),g=$(c.paddingBottomRight||c.padding||[0,0]),b=this.project(this.getCenter()),P=this.project(a),D=this.getPixelBounds(),B=Q([D.min.add(f),D.max.subtract(g)]),V=B.getSize();if(!B.contains(P)){this._enforcingBounds=!0;var Y=P.subtract(B.getCenter()),ce=B.extend(P).getSize().subtract(V);b.x+=Y.x<0?-ce.x:ce.x,b.y+=Y.y<0?-ce.y:ce.y,this.panTo(this.unproject(b),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=r({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),g=c.divideBy(2).round(),b=f.divideBy(2).round(),P=g.subtract(b);return!P.x&&!P.y?this:(a.animate&&a.pan?this.panBy(P):(a.pan&&this._rawPanBy(P),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=r({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=o(this._handleGeolocationResponse,this),f=o(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,f,a):navigator.geolocation.getCurrentPosition(c,f,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,f=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,f=a.coords.longitude,g=new se(c,f),b=g.toBounds(a.coords.accuracy*2),P=this._locateOptions;if(P.setView){var D=this.getBoundsZoom(b);this.setView(g,P.maxZoom?Math.min(D,P.maxZoom):D)}var B={latlng:g,bounds:b,timestamp:a.timestamp};for(var V in a.coords)typeof a.coords[V]=="number"&&(B[V]=a.coords[V]);this.fire("locationfound",B)}},addHandler:function(a,c){if(!c)return this;var f=this[a]=new c(this);return this._handlers.push(f),this.options[a]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),st(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)st(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var f="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),g=Le("div",f,c||this._mapPane);return a&&(this._panes[a]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),f=this.unproject(a.getTopRight());return new ae(c,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,f){a=q(a),f=$(f||[0,0]);var g=this.getZoom()||0,b=this.getMinZoom(),P=this.getMaxZoom(),D=a.getNorthWest(),B=a.getSouthEast(),V=this.getSize().subtract(f),Y=Q(this.project(B,g),this.project(D,g)).getSize(),ce=U.any3d?this.options.zoomSnap:1,xe=V.x/Y.x,Oe=V.y/Y.y,yn=c?Math.max(xe,Oe):Math.min(xe,Oe);return g=this.getScaleZoom(yn,g),ce&&(g=Math.round(g/(ce/100))*(ce/100),g=c?Math.ceil(g/ce)*ce:Math.floor(g/ce)*ce),Math.max(b,Math.min(P,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var f=this._getTopLeftPoint(a,c);return new te(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var f=this.options.crs;return c=c===void 0?this._zoom:c,f.scale(a)/f.scale(c)},getScaleZoom:function(a,c){var f=this.options.crs;c=c===void 0?this._zoom:c;var g=f.zoom(a*f.scale(c));return isNaN(g)?1/0:g},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(ne(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng($(a),c)},layerPointToLatLng:function(a){var c=$(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(ne(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(ne(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(q(a))},distance:function(a,c){return this.options.crs.distance(ne(a),ne(c))},containerPointToLayerPoint:function(a){return $(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return $(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint($(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ne(a)))},mouseEventToContainerPoint:function(a){return J0(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=zr(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Se(c,"scroll",this._onScroll,this),this._containerId=u(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&U.any3d,Te(a,"leaflet-container"+(U.touch?" leaflet-touch":"")+(U.retina?" leaflet-retina":"")+(U.ielt9?" leaflet-oldie":"")+(U.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=rt(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Nt(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Te(a.markerPane,"leaflet-zoom-hide"),Te(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,f){Nt(this._mapPane,new z(0,0));var g=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var b=this._zoom!==c;this._moveStart(b,f)._move(a,c)._moveEnd(b),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,f,g){c===void 0&&(c=this._zoom);var b=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),g?f&&f.pinch&&this.fire("zoom",f):((b||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Nt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[u(this._container)]=this;var c=a?ot:Se;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),U.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=W(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var f=[],g,b=c==="mouseout"||c==="mouseover",P=a.target||a.srcElement,D=!1;P;){if(g=this._targets[u(P)],g&&(c==="click"||c==="preclick")&&this._draggableMoved(g)){D=!0;break}if(g&&g.listens(c,!0)&&(b&&!Jp(P,a)||(f.push(g),b))||P===this._container)break;P=P.parentNode}return!f.length&&!D&&!b&&this.listens(c,!0)&&(f=[this]),f},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var f=a.type;f==="mousedown"&&Yp(c),this._fireDOMEvent(a,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,f){if(a.type==="click"){var g=r({},a);g.type="preclick",this._fireDOMEvent(g,g.type,f)}var b=this._findEventTargets(a,c);if(f){for(var P=[],D=0;D<f.length;D++)f[D].listens(c,!0)&&P.push(f[D]);b=P.concat(b)}if(b.length){c==="contextmenu"&&en(a);var B=b[0],V={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var Y=B.getLatLng&&(!B._radius||B._radius<=10);V.containerPoint=Y?this.latLngToContainerPoint(B.getLatLng()):this.mouseEventToContainerPoint(a),V.layerPoint=this.containerPointToLayerPoint(V.containerPoint),V.latlng=Y?B.getLatLng():this.layerPointToLatLng(V.layerPoint)}for(D=0;D<b.length;D++)if(b[D].fire(c,V,!0),V.originalEvent._stopped||b[D].options.bubblingMouseEvents===!1&&k(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return Ns(this._mapPane)||new z(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var f=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var f=this.getSize()._divideBy(2);return this.project(a,c)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,f){var g=this._getNewPixelOrigin(f,c);return this.project(a,c)._subtract(g)},_latLngBoundsToNewLayerBounds:function(a,c,f){var g=this._getNewPixelOrigin(f,c);return Q([this.project(a.getSouthWest(),c)._subtract(g),this.project(a.getNorthWest(),c)._subtract(g),this.project(a.getSouthEast(),c)._subtract(g),this.project(a.getNorthEast(),c)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,f){if(!f)return a;var g=this.project(a,c),b=this.getSize().divideBy(2),P=new te(g.subtract(b),g.add(b)),D=this._getBoundsOffset(P,f,c);return Math.abs(D.x)<=1&&Math.abs(D.y)<=1?a:this.unproject(g.add(D),c)},_limitOffset:function(a,c){if(!c)return a;var f=this.getPixelBounds(),g=new te(f.min.add(a),f.max.add(a));return a.add(this._getBoundsOffset(g,c))},_getBoundsOffset:function(a,c,f){var g=Q(this.project(c.getNorthEast(),f),this.project(c.getSouthWest(),f)),b=g.min.subtract(a.min),P=g.max.subtract(a.max),D=this._rebound(b.x,-P.x),B=this._rebound(b.y,-P.y);return new z(D,B)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),f=this.getMaxZoom(),g=U.any3d?this.options.zoomSnap:1;return g&&(a=Math.round(a/g)*g),Math.max(c,Math.min(f,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){It(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var f=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,c),!0)},_createAnimProxy:function(){var a=this._proxy=Le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var f=Be,g=this._proxy.style[f];Ds(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),g===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){st(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Ds(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(c),b=this._getCenterOffset(a)._divideBy(1-1/g);return f.animate!==!0&&!this.getSize().contains(b)?!1:(W(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,f,g){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,Te(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&It(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function mI(a,c){return new Ve(a,c)}var mi=le.extend({options:{position:"topright"},initialize:function(a){y(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),f=this.getPosition(),g=a._controlCorners[f];return Te(c,"leaflet-control"),f.indexOf("bottom")!==-1?g.insertBefore(c,g.firstChild):g.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(st(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),ml=function(a){return new mi(a)};Ve.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",f=this._controlContainer=Le("div",c+"control-container",this._container);function g(b,P){var D=c+b+" "+c+P;a[b+P]=Le("div",D,f)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)st(this._controlCorners[a]);st(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var nx=mi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,f,g){return f<g?-1:g<f?1:0}},initialize:function(a,c,f){y(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in a)this._addLayer(a[g],g);for(g in c)this._addLayer(c[g],g,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return mi.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(u(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Te(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Te(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):It(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return It(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=Le("div",a),f=this.options.collapsed;c.setAttribute("aria-haspopup",!0),pl(c),Qp(c);var g=this._section=Le("section",a+"-list");f&&(this._map.on("click",this.collapse,this),Se(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=Le("a",a+"-toggle",c);b.href="#",b.title="Layers",b.setAttribute("role","button"),Se(b,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){en(P),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=Le("div",a+"-base",g),this._separator=Le("div",a+"-separator",g),this._overlaysList=Le("div",a+"-overlays",g),c.appendChild(g)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&u(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,f){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:f}),this.options.sortLayers&&this._layers.sort(o(function(g,b){return this.options.sortFunction(g.layer,b.layer,g.name,b.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;jo(this._baseLayersList),jo(this._overlaysList),this._layerControlInputs=[];var a,c,f,g,b=0;for(f=0;f<this._layers.length;f++)g=this._layers[f],this._addItem(g),c=c||g.overlay,a=a||!g.overlay,b+=g.overlay?0:1;return this.options.hideSingleBase&&(a=a&&b>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(u(a.target)),f=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;f&&this._map.fire(f,c)},_createRadioElement:function(a,c){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=f,g.firstChild},_addItem:function(a){var c=document.createElement("label"),f=this._map.hasLayer(a.layer),g;a.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=f):g=this._createRadioElement("leaflet-base-layers_"+u(this),f),this._layerControlInputs.push(g),g.layerId=u(a.layer),Se(g,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+a.name;var P=document.createElement("span");c.appendChild(P),P.appendChild(g),P.appendChild(b);var D=a.overlay?this._overlaysList:this._baseLayersList;return D.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,f,g=[],b=[];this._handlingClick=!0;for(var P=a.length-1;P>=0;P--)c=a[P],f=this._getLayer(c.layerId).layer,c.checked?g.push(f):c.checked||b.push(f);for(P=0;P<b.length;P++)this._map.hasLayer(b[P])&&this._map.removeLayer(b[P]);for(P=0;P<g.length;P++)this._map.hasLayer(g[P])||this._map.addLayer(g[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,f,g=this._map.getZoom(),b=a.length-1;b>=0;b--)c=a[b],f=this._getLayer(c.layerId).layer,c.disabled=f.options.minZoom!==void 0&&g<f.options.minZoom||f.options.maxZoom!==void 0&&g>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Se(a,"click",en),this.expand();var c=this;setTimeout(function(){ot(a,"click",en),c._preventClick=!1})}}),gI=function(a,c,f){return new nx(a,c,f)},em=mi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",f=Le("div",c+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,c+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,c+"-out",f,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,f,g,b){var P=Le("a",f,g);return P.innerHTML=a,P.href="#",P.title=c,P.setAttribute("role","button"),P.setAttribute("aria-label",c),pl(P),Se(P,"click",Fs),Se(P,"click",b,this),Se(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";It(this._zoomInButton,c),It(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Te(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Te(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ve.mergeOptions({zoomControl:!0}),Ve.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new em,this.addControl(this.zoomControl))});var _I=function(a){return new em(a)},ix=mi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",f=Le("div",c),g=this.options;return this._addScales(g,c+"-line",f),a.on(g.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),f},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,f){a.metric&&(this._mScale=Le("div",c,f)),a.imperial&&(this._iScale=Le("div",c,f))},_update:function(){var a=this._map,c=a.getSize().y/2,f=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(f)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),f=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,f,c/a)},_updateImperial:function(a){var c=a*3.2808399,f,g,b;c>5280?(f=c/5280,g=this._getRoundNum(f),this._updateScale(this._iScale,g+" mi",g/f)):(b=this._getRoundNum(c),this._updateScale(this._iScale,b+" ft",b/c))},_updateScale:function(a,c,f){a.style.width=Math.round(this.options.maxWidth*f)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),f=a/c;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,c*f}}),vI=function(a){return new ix(a)},yI='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',tm=mi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(U.inlineSvg?yI+" ":"")+"Leaflet</a>"},initialize:function(a){y(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Le("div","leaflet-control-attribution"),pl(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var f=[];this.options.prefix&&f.push(this.options.prefix),a.length&&f.push(a.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Ve.mergeOptions({attributionControl:!0}),Ve.addInitHook(function(){this.options.attributionControl&&new tm().addTo(this)});var xI=function(a){return new tm(a)};mi.Layers=nx,mi.Zoom=em,mi.Scale=ix,mi.Attribution=tm,ml.layers=gI,ml.zoom=_I,ml.scale=vI,ml.attribution=xI;var Di=le.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Di.addTo=function(a,c){return a.addHandler(c,this),this};var bI={Events:ee},rx=U.touch?"touchstart mousedown":"mousedown",Br=re.extend({options:{clickTolerance:3},initialize:function(a,c,f,g){y(this,g),this._element=a,this._dragStartTarget=c||a,this._preventOutline=f},enable:function(){this._enabled||(Se(this._dragStartTarget,rx,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Br._dragging===this&&this.finishDrag(!0),ot(this._dragStartTarget,rx,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Vp(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Br._dragging===this&&this.finishDrag();return}if(!(Br._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Br._dragging=this,this._preventOutline&&Yp(this._element),Wp(),hl(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,f=X0(this._element);this._startPoint=new z(c.clientX,c.clientY),this._startPos=Ns(this._element),this._parentScale=Gp(f);var g=a.type==="mousedown";Se(document,g?"mousemove":"touchmove",this._onMove,this),Se(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,f=new z(c.clientX,c.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,en(a),this._moved||(this.fire("dragstart"),this._moved=!0,Te(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Te(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Nt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){It(document.body,"leaflet-dragging"),this._lastTarget&&(It(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ot(document,"mousemove touchmove",this._onMove,this),ot(document,"mouseup touchend touchcancel",this._onUp,this),Up(),dl();var c=this._moved&&this._moving;this._moving=!1,Br._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function sx(a,c,f){var g,b=[1,4,2,8],P,D,B,V,Y,ce,xe,Oe;for(P=0,ce=a.length;P<ce;P++)a[P]._code=zs(a[P],c);for(B=0;B<4;B++){for(xe=b[B],g=[],P=0,ce=a.length,D=ce-1;P<ce;D=P++)V=a[P],Y=a[D],V._code&xe?Y._code&xe||(Oe=Yc(Y,V,xe,c,f),Oe._code=zs(Oe,c),g.push(Oe)):(Y._code&xe&&(Oe=Yc(Y,V,xe,c,f),Oe._code=zs(Oe,c),g.push(Oe)),g.push(V));a=g}return a}function ox(a,c){var f,g,b,P,D,B,V,Y,ce;if(!a||a.length===0)throw new Error("latlngs not passed");ni(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var xe=ne([0,0]),Oe=q(a),yn=Oe.getNorthWest().distanceTo(Oe.getSouthWest())*Oe.getNorthEast().distanceTo(Oe.getNorthWest());yn<1700&&(xe=nm(a));var Yt=a.length,ii=[];for(f=0;f<Yt;f++){var Ln=ne(a[f]);ii.push(c.project(ne([Ln.lat-xe.lat,Ln.lng-xe.lng])))}for(B=V=Y=0,f=0,g=Yt-1;f<Yt;g=f++)b=ii[f],P=ii[g],D=b.y*P.x-P.y*b.x,V+=(b.x+P.x)*D,Y+=(b.y+P.y)*D,B+=D*3;B===0?ce=ii[0]:ce=[V/B,Y/B];var Go=c.unproject($(ce));return ne([Go.lat+xe.lat,Go.lng+xe.lng])}function nm(a){for(var c=0,f=0,g=0,b=0;b<a.length;b++){var P=ne(a[b]);c+=P.lat,f+=P.lng,g++}return ne([c/g,f/g])}var wI={__proto__:null,clipPolygon:sx,polygonCenter:ox,centroid:nm};function ax(a,c){if(!c||!a.length)return a.slice();var f=c*c;return a=EI(a,f),a=CI(a,f),a}function lx(a,c,f){return Math.sqrt(gl(a,c,f,!0))}function SI(a,c,f){return gl(a,c,f)}function CI(a,c){var f=a.length,g=typeof Uint8Array<"u"?Uint8Array:Array,b=new g(f);b[0]=b[f-1]=1,im(a,b,c,0,f-1);var P,D=[];for(P=0;P<f;P++)b[P]&&D.push(a[P]);return D}function im(a,c,f,g,b){var P=0,D,B,V;for(B=g+1;B<=b-1;B++)V=gl(a[B],a[g],a[b],!0),V>P&&(D=B,P=V);P>f&&(c[D]=1,im(a,c,f,g,D),im(a,c,f,D,b))}function EI(a,c){for(var f=[a[0]],g=1,b=0,P=a.length;g<P;g++)TI(a[g],a[b])>c&&(f.push(a[g]),b=g);return b<P-1&&f.push(a[P-1]),f}var ux;function cx(a,c,f,g,b){var P=g?ux:zs(a,f),D=zs(c,f),B,V,Y;for(ux=D;;){if(!(P|D))return[a,c];if(P&D)return!1;B=P||D,V=Yc(a,c,B,f,b),Y=zs(V,f),B===P?(a=V,P=Y):(c=V,D=Y)}}function Yc(a,c,f,g,b){var P=c.x-a.x,D=c.y-a.y,B=g.min,V=g.max,Y,ce;return f&8?(Y=a.x+P*(V.y-a.y)/D,ce=V.y):f&4?(Y=a.x+P*(B.y-a.y)/D,ce=B.y):f&2?(Y=V.x,ce=a.y+D*(V.x-a.x)/P):f&1&&(Y=B.x,ce=a.y+D*(B.x-a.x)/P),new z(Y,ce,b)}function zs(a,c){var f=0;return a.x<c.min.x?f|=1:a.x>c.max.x&&(f|=2),a.y<c.min.y?f|=4:a.y>c.max.y&&(f|=8),f}function TI(a,c){var f=c.x-a.x,g=c.y-a.y;return f*f+g*g}function gl(a,c,f,g){var b=c.x,P=c.y,D=f.x-b,B=f.y-P,V=D*D+B*B,Y;return V>0&&(Y=((a.x-b)*D+(a.y-P)*B)/V,Y>1?(b=f.x,P=f.y):Y>0&&(b+=D*Y,P+=B*Y)),D=a.x-b,B=a.y-P,g?D*D+B*B:new z(b,P)}function ni(a){return!C(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function hx(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ni(a)}function dx(a,c){var f,g,b,P,D,B,V,Y;if(!a||a.length===0)throw new Error("latlngs not passed");ni(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ce=ne([0,0]),xe=q(a),Oe=xe.getNorthWest().distanceTo(xe.getSouthWest())*xe.getNorthEast().distanceTo(xe.getNorthWest());Oe<1700&&(ce=nm(a));var yn=a.length,Yt=[];for(f=0;f<yn;f++){var ii=ne(a[f]);Yt.push(c.project(ne([ii.lat-ce.lat,ii.lng-ce.lng])))}for(f=0,g=0;f<yn-1;f++)g+=Yt[f].distanceTo(Yt[f+1])/2;if(g===0)Y=Yt[0];else for(f=0,P=0;f<yn-1;f++)if(D=Yt[f],B=Yt[f+1],b=D.distanceTo(B),P+=b,P>g){V=(P-g)/b,Y=[B.x-V*(B.x-D.x),B.y-V*(B.y-D.y)];break}var Ln=c.unproject($(Y));return ne([Ln.lat+ce.lat,Ln.lng+ce.lng])}var PI={__proto__:null,simplify:ax,pointToSegmentDistance:lx,closestPointOnSegment:SI,clipSegment:cx,_getEdgeIntersection:Yc,_getBitCode:zs,_sqClosestPointOnSegment:gl,isFlat:ni,_flat:hx,polylineCenter:dx},rm={project:function(a){return new z(a.lng,a.lat)},unproject:function(a){return new se(a.y,a.x)},bounds:new te([-180,-90],[180,90])},sm={R:6378137,R_MINOR:6356752314245179e-9,bounds:new te([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,f=this.R,g=a.lat*c,b=this.R_MINOR/f,P=Math.sqrt(1-b*b),D=P*Math.sin(g),B=Math.tan(Math.PI/4-g/2)/Math.pow((1-D)/(1+D),P/2);return g=-f*Math.log(Math.max(B,1e-10)),new z(a.lng*c*f,g)},unproject:function(a){for(var c=180/Math.PI,f=this.R,g=this.R_MINOR/f,b=Math.sqrt(1-g*g),P=Math.exp(-a.y/f),D=Math.PI/2-2*Math.atan(P),B=0,V=.1,Y;B<15&&Math.abs(V)>1e-7;B++)Y=b*Math.sin(D),Y=Math.pow((1-Y)/(1+Y),b/2),V=Math.PI/2-2*Math.atan(P*Y)-D,D+=V;return new se(D*c,a.x*c/f)}},kI={__proto__:null,LonLat:rm,Mercator:sm,SphericalMercator:kn},MI=r({},it,{code:"EPSG:3395",projection:sm,transformation:function(){var a=.5/(Math.PI*sm.R);return Et(a,.5,-a,.5)}()}),fx=r({},it,{code:"EPSG:4326",projection:rm,transformation:Et(1/180,1,-1/180,.5)}),LI=r({},ke,{projection:rm,transformation:Et(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var f=c.lng-a.lng,g=c.lat-a.lat;return Math.sqrt(f*f+g*g)},infinite:!0});ke.Earth=it,ke.EPSG3395=MI,ke.EPSG3857=Mn,ke.EPSG900913=Vn,ke.EPSG4326=fx,ke.Simple=LI;var gi=re.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[u(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[u(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var f=this.getEvents();c.on(f,this),this.once("remove",function(){c.off(f,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Ve.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=u(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=u(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return u(a)in this._layers},eachLayer:function(a,c){for(var f in this._layers)a.call(c,this._layers[f]);return this},_addLayers:function(a){a=a?C(a)?a:[a]:[];for(var c=0,f=a.length;c<f;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[u(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=u(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,f=this._getZoomSpan();for(var g in this._zoomBoundLayers){var b=this._zoomBoundLayers[g].options;a=b.minZoom===void 0?a:Math.min(a,b.minZoom),c=b.maxZoom===void 0?c:Math.max(c,b.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var $o=gi.extend({initialize:function(a,c){y(this,c),this._layers={};var f,g;if(a)for(f=0,g=a.length;f<g;f++)this.addLayer(a[f])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),f,g;for(f in this._layers)g=this._layers[f],g[a]&&g[a].apply(g,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var f in this._layers)a.call(c,this._layers[f]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return u(a)}}),II=function(a,c){return new $o(a,c)},er=$o.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),$o.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),$o.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new ae;for(var c in this._layers){var f=this._layers[c];a.extend(f.getBounds?f.getBounds():f.getLatLng())}return a}}),OI=function(a,c){return new er(a,c)},Wo=le.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){y(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var f=this._getIconUrl(a);if(!f){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(f,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(g,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(a,c){var f=this.options,g=f[c+"Size"];typeof g=="number"&&(g=[g,g]);var b=$(g),P=$(c==="shadow"&&f.shadowAnchor||f.iconAnchor||b&&b.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(f.className||""),P&&(a.style.marginLeft=-P.x+"px",a.style.marginTop=-P.y+"px"),b&&(a.style.width=b.x+"px",a.style.height=b.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return U.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function RI(a){return new Wo(a)}var _l=Wo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof _l.imagePath!="string"&&(_l.imagePath=this._detectIconPath()),(this.options.imagePath||_l.imagePath)+Wo.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(f,g,b){var P=g.exec(f);return P&&P[b]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Le("div","leaflet-default-icon-path",document.body),c=rt(a,"background-image")||rt(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),px=Di.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Br(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Te(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&It(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,f=c._map,g=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,P=Ns(c._icon),D=f.getPixelBounds(),B=f.getPixelOrigin(),V=Q(D.min._subtract(B).add(b),D.max._subtract(B).subtract(b));if(!V.contains(P)){var Y=$((Math.max(V.max.x,P.x)-V.max.x)/(D.max.x-V.max.x)-(Math.min(V.min.x,P.x)-V.min.x)/(D.min.x-V.min.x),(Math.max(V.max.y,P.y)-V.max.y)/(D.max.y-V.max.y)-(Math.min(V.min.y,P.y)-V.min.y)/(D.min.y-V.min.y)).multiplyBy(g);f.panBy(Y,{animate:!1}),this._draggable._newPos._add(Y),this._draggable._startPos._add(Y),Nt(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=W(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=W(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,f=c._shadow,g=Ns(c._icon),b=c._map.layerPointToLatLng(g);f&&Nt(f,g),c._latlng=b,a.latlng=b,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Gc=gi.extend({options:{icon:new _l,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){y(this,c),this._latlng=ne(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=ne(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=a.icon.createIcon(this._icon),g=!1;f!==this._icon&&(this._icon&&this._removeIcon(),g=!0,a.title&&(f.title=a.title),f.tagName==="IMG"&&(f.alt=a.alt||"")),Te(f,c),a.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Se(f,"focus",this._panOnFocus,this);var b=a.icon.createShadow(this._shadow),P=!1;b!==this._shadow&&(this._removeShadow(),P=!0),b&&(Te(b,c),b.alt=""),this._shadow=b,a.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&P&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ot(this._icon,"focus",this._panOnFocus,this),st(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&st(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Nt(this._icon,a),this._shadow&&Nt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Te(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),px)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new px(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&ti(this._icon,a),this._shadow&&ti(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,f=c.iconSize?$(c.iconSize):$(0,0),g=c.iconAnchor?$(c.iconAnchor):$(0,0);a.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:f.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function DI(a,c){return new Gc(a,c)}var jr=gi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return y(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Kc=jr.extend({options:{fill:!0,radius:10},initialize:function(a,c){y(this,c),this._latlng=ne(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=ne(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return jr.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,f=this._clickTolerance(),g=[a+f,c+f];this._pxBounds=new te(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function NI(a,c){return new Kc(a,c)}var om=Kc.extend({initialize:function(a,c,f){if(typeof c=="number"&&(c=r({},f,{radius:c})),y(this,c),this._latlng=ne(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new ae(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:jr.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,f=this._map,g=f.options.crs;if(g.distance===it.distance){var b=Math.PI/180,P=this._mRadius/it.R/b,D=f.project([c+P,a]),B=f.project([c-P,a]),V=D.add(B).divideBy(2),Y=f.unproject(V).lat,ce=Math.acos((Math.cos(P*b)-Math.sin(c*b)*Math.sin(Y*b))/(Math.cos(c*b)*Math.cos(Y*b)))/b;(isNaN(ce)||ce===0)&&(ce=P/Math.cos(Math.PI/180*c)),this._point=V.subtract(f.getPixelOrigin()),this._radius=isNaN(ce)?0:V.x-f.project([Y,a-ce]).x,this._radiusY=V.y-D.y}else{var xe=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(xe).x}this._updateBounds()}});function AI(a,c,f){return new om(a,c,f)}var tr=jr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){y(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,f=null,g=gl,b,P,D=0,B=this._parts.length;D<B;D++)for(var V=this._parts[D],Y=1,ce=V.length;Y<ce;Y++){b=V[Y-1],P=V[Y];var xe=g(a,b,P,!0);xe<c&&(c=xe,f=g(a,b,P))}return f&&(f.distance=Math.sqrt(c)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return dx(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=ne(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new ae,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return ni(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],f=ni(a),g=0,b=a.length;g<b;g++)f?(c[g]=ne(a[g]),this._bounds.extend(c[g])):c[g]=this._convertLatLngs(a[g]);return c},_project:function(){var a=new te;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new z(a,a);this._rawPxBounds&&(this._pxBounds=new te([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,f){var g=a[0]instanceof se,b=a.length,P,D;if(g){for(D=[],P=0;P<b;P++)D[P]=this._map.latLngToLayerPoint(a[P]),f.extend(D[P]);c.push(D)}else for(P=0;P<b;P++)this._projectLatlngs(a[P],c,f)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,f,g,b,P,D,B,V;for(f=0,b=0,P=this._rings.length;f<P;f++)for(V=this._rings[f],g=0,D=V.length;g<D-1;g++)B=cx(V[g],V[g+1],a,g,!0),B&&(c[b]=c[b]||[],c[b].push(B[0]),(B[1]!==V[g+1]||g===D-2)&&(c[b].push(B[1]),b++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,f=0,g=a.length;f<g;f++)a[f]=ax(a[f],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var f,g,b,P,D,B,V=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(f=0,P=this._parts.length;f<P;f++)for(B=this._parts[f],g=0,D=B.length,b=D-1;g<D;b=g++)if(!(!c&&g===0)&&lx(a,B[b],B[g])<=V)return!0;return!1}});function FI(a,c){return new tr(a,c)}tr._flat=hx;var Uo=tr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ox(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=tr.prototype._convertLatLngs.call(this,a),f=c.length;return f>=2&&c[0]instanceof se&&c[0].equals(c[f-1])&&c.pop(),c},_setLatLngs:function(a){tr.prototype._setLatLngs.call(this,a),ni(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ni(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,f=new z(c,c);if(a=new te(a.min.subtract(f),a.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,b=this._rings.length,P;g<b;g++)P=sx(this._rings[g],a,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,f,g,b,P,D,B,V,Y;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(P=0,V=this._parts.length;P<V;P++)for(f=this._parts[P],D=0,Y=f.length,B=Y-1;D<Y;B=D++)g=f[D],b=f[B],g.y>a.y!=b.y>a.y&&a.x<(b.x-g.x)*(a.y-g.y)/(b.y-g.y)+g.x&&(c=!c);return c||tr.prototype._containsPoint.call(this,a,!0)}});function zI(a,c){return new Uo(a,c)}var nr=er.extend({initialize:function(a,c){y(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=C(a)?a:a.features,f,g,b;if(c){for(f=0,g=c.length;f<g;f++)b=c[f],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var P=this.options;if(P.filter&&!P.filter(a))return this;var D=Xc(a,P);return D?(D.feature=Jc(a),D.defaultOptions=D.options,this.resetStyle(D),P.onEachFeature&&P.onEachFeature(a,D),this.addLayer(D)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=r({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function Xc(a,c){var f=a.type==="Feature"?a.geometry:a,g=f?f.coordinates:null,b=[],P=c&&c.pointToLayer,D=c&&c.coordsToLatLng||am,B,V,Y,ce;if(!g&&!f)return null;switch(f.type){case"Point":return B=D(g),mx(P,a,B,c);case"MultiPoint":for(Y=0,ce=g.length;Y<ce;Y++)B=D(g[Y]),b.push(mx(P,a,B,c));return new er(b);case"LineString":case"MultiLineString":return V=qc(g,f.type==="LineString"?0:1,D),new tr(V,c);case"Polygon":case"MultiPolygon":return V=qc(g,f.type==="Polygon"?1:2,D),new Uo(V,c);case"GeometryCollection":for(Y=0,ce=f.geometries.length;Y<ce;Y++){var xe=Xc({geometry:f.geometries[Y],type:"Feature",properties:a.properties},c);xe&&b.push(xe)}return new er(b);case"FeatureCollection":for(Y=0,ce=f.features.length;Y<ce;Y++){var Oe=Xc(f.features[Y],c);Oe&&b.push(Oe)}return new er(b);default:throw new Error("Invalid GeoJSON object.")}}function mx(a,c,f,g){return a?a(c,f):new Gc(f,g&&g.markersInheritOptions&&g)}function am(a){return new se(a[1],a[0],a[2])}function qc(a,c,f){for(var g=[],b=0,P=a.length,D;b<P;b++)D=c?qc(a[b],c-1,f):(f||am)(a[b]),g.push(D);return g}function lm(a,c){return a=ne(a),a.alt!==void 0?[m(a.lng,c),m(a.lat,c),m(a.alt,c)]:[m(a.lng,c),m(a.lat,c)]}function Qc(a,c,f,g){for(var b=[],P=0,D=a.length;P<D;P++)b.push(c?Qc(a[P],ni(a[P])?0:c-1,f,g):lm(a[P],g));return!c&&f&&b.length>0&&b.push(b[0].slice()),b}function Zo(a,c){return a.feature?r({},a.feature,{geometry:c}):Jc(c)}function Jc(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var um={toGeoJSON:function(a){return Zo(this,{type:"Point",coordinates:lm(this.getLatLng(),a)})}};Gc.include(um),om.include(um),Kc.include(um),tr.include({toGeoJSON:function(a){var c=!ni(this._latlngs),f=Qc(this._latlngs,c?1:0,!1,a);return Zo(this,{type:(c?"Multi":"")+"LineString",coordinates:f})}}),Uo.include({toGeoJSON:function(a){var c=!ni(this._latlngs),f=c&&!ni(this._latlngs[0]),g=Qc(this._latlngs,f?2:c?1:0,!0,a);return c||(g=[g]),Zo(this,{type:(f?"Multi":"")+"Polygon",coordinates:g})}}),$o.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(f){c.push(f.toGeoJSON(a).geometry.coordinates)}),Zo(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var f=c==="GeometryCollection",g=[];return this.eachLayer(function(b){if(b.toGeoJSON){var P=b.toGeoJSON(a);if(f)g.push(P.geometry);else{var D=Jc(P);D.type==="FeatureCollection"?g.push.apply(g,D.features):g.push(D)}}}),f?Zo(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function gx(a,c){return new nr(a,c)}var BI=gx,eh=gi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,f){this._url=a,this._bounds=q(c),y(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Te(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){st(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Vo(this._image),this},bringToBack:function(){return this._map&&Ho(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=q(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:Le("img");if(Te(c,"leaflet-image-layer"),this._zoomAnimated&&Te(c,"leaflet-zoom-animated"),this.options.className&&Te(c,this.options.className),c.onselectstart=p,c.onmousemove=p,c.onload=o(this.fire,this,"load"),c.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Ds(this._image,f,c)},_reset:function(){var a=this._image,c=new te(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=c.getSize();Nt(a,c.min),a.style.width=f.x+"px",a.style.height=f.y+"px"},_updateOpacity:function(){ti(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),jI=function(a,c,f){return new eh(a,c,f)},_x=eh.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:Le("video");if(Te(c,"leaflet-image-layer"),this._zoomAnimated&&Te(c,"leaflet-zoom-animated"),this.options.className&&Te(c,this.options.className),c.onselectstart=p,c.onmousemove=p,c.onloadeddata=o(this.fire,this,"load"),a){for(var f=c.getElementsByTagName("source"),g=[],b=0;b<f.length;b++)g.push(f[b].src);this._url=f.length>0?g:[c.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var D=Le("source");D.src=this._url[P],c.appendChild(D)}}});function VI(a,c,f){return new _x(a,c,f)}var vx=eh.extend({_initImage:function(){var a=this._image=this._url;Te(a,"leaflet-image-layer"),this._zoomAnimated&&Te(a,"leaflet-zoom-animated"),this.options.className&&Te(a,this.options.className),a.onselectstart=p,a.onmousemove=p}});function HI(a,c,f){return new vx(a,c,f)}var Ni=gi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof se||C(a))?(this._latlng=ne(a),y(this,c)):(y(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&ti(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&ti(this._container,1),this.bringToFront(),this.options.interactive&&(Te(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(ti(this._container,0),this._removeTimeout=setTimeout(o(st,void 0,this._container),200)):st(this._container),this.options.interactive&&(It(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=ne(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vo(this._container),this},bringToBack:function(){return this._map&&Ho(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof er){c=null;var f=this._source._layers;for(var g in f)if(f[g]._map){c=f[g];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=$(this.options.offset),f=this._getAnchor();this._zoomAnimated?Nt(this._container,a.add(f)):c=c.add(a).add(f);var g=this._containerBottom=-c.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=g+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Ve.include({_initOverlay:function(a,c,f,g){var b=c;return b instanceof a||(b=new a(g).setContent(c)),f&&b.setLatLng(f),b}}),gi.include({_initOverlay:function(a,c,f,g){var b=f;return b instanceof a?(y(b,g),b._source=this):(b=c&&!g?c:new a(g,this),b.setContent(f)),b}});var th=Ni.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Ni.prototype.openOn.call(this,a)},onAdd:function(a){Ni.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof jr||this._source.on("preclick",As))},onRemove:function(a){Ni.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof jr||this._source.off("preclick",As))},getEvents:function(){var a=Ni.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=Le("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=Le("div",a+"-content-wrapper",c);if(this._contentNode=Le("div",a+"-content",f),pl(c),Qp(this._contentNode),Se(c,"contextmenu",As),this._tipContainer=Le("div",a+"-tip-container",c),this._tip=Le("div",a+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=Le("a",a+"-close-button",c);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',Se(g,"click",function(b){en(b),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var f=a.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),c.width=f+1+"px",c.whiteSpace="",c.height="";var g=a.offsetHeight,b=this.options.maxHeight,P="leaflet-popup-scrolled";b&&g>b?(c.height=b+"px",Te(a,P)):It(a,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),f=this._getAnchor();Nt(this._container,c.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(rt(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+c,g=this._containerWidth,b=new z(this._containerLeft,-f-this._containerBottom);b._add(Ns(this._container));var P=a.layerPointToContainerPoint(b),D=$(this.options.autoPanPadding),B=$(this.options.autoPanPaddingTopLeft||D),V=$(this.options.autoPanPaddingBottomRight||D),Y=a.getSize(),ce=0,xe=0;P.x+g+V.x>Y.x&&(ce=P.x+g-Y.x+V.x),P.x-ce-B.x<0&&(ce=P.x-B.x),P.y+f+V.y>Y.y&&(xe=P.y+f-Y.y+V.y),P.y-xe-B.y<0&&(xe=P.y-B.y),(ce||xe)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([ce,xe]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$I=function(a,c){return new th(a,c)};Ve.mergeOptions({closePopupOnClick:!0}),Ve.include({openPopup:function(a,c,f){return this._initOverlay(th,a,c,f).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),gi.include({bindPopup:function(a,c){return this._popup=this._initOverlay(th,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof er||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Fs(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof jr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var nh=Ni.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Ni.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Ni.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Ni.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Le("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,f,g=this._map,b=this._container,P=g.latLngToContainerPoint(g.getCenter()),D=g.layerPointToContainerPoint(a),B=this.options.direction,V=b.offsetWidth,Y=b.offsetHeight,ce=$(this.options.offset),xe=this._getAnchor();B==="top"?(c=V/2,f=Y):B==="bottom"?(c=V/2,f=0):B==="center"?(c=V/2,f=Y/2):B==="right"?(c=0,f=Y/2):B==="left"?(c=V,f=Y/2):D.x<P.x?(B="right",c=0,f=Y/2):(B="left",c=V+(ce.x+xe.x)*2,f=Y/2),a=a.subtract($(c,f,!0)).add(ce).add(xe),It(b,"leaflet-tooltip-right"),It(b,"leaflet-tooltip-left"),It(b,"leaflet-tooltip-top"),It(b,"leaflet-tooltip-bottom"),Te(b,"leaflet-tooltip-"+B),Nt(b,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&ti(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),WI=function(a,c){return new nh(a,c)};Ve.include({openTooltip:function(a,c,f){return this._initOverlay(nh,a,c,f).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),gi.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(nh,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[c](f),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof er||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(Se(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Se(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,f,g;this._tooltip.options.sticky&&a.originalEvent&&(f=this._map.mouseEventToContainerPoint(a.originalEvent),g=this._map.containerPointToLayerPoint(f),c=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(c)}});var yx=Wo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),f=this.options;if(f.html instanceof Element?(jo(c),c.appendChild(f.html)):c.innerHTML=f.html!==!1?f.html:"",f.bgPos){var g=$(f.bgPos);c.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function UI(a){return new yx(a)}Wo.Default=_l;var vl=gi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:U.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){y(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),st(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ho(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof z?a:new z(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,f=-a(-1/0,1/0),g=0,b=c.length,P;g<b;g++)P=c[g].style.zIndex,c[g]!==this._container&&P&&(f=a(f,+P));isFinite(f)&&(this.options.zIndex=f+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!U.ielt9){ti(this._container,this.options.opacity);var a=+new Date,c=!1,f=!1;for(var g in this._tiles){var b=this._tiles[g];if(!(!b.current||!b.loaded)){var P=Math.min(1,(a-b.loaded)/200);ti(b.el,P),P<1?c=!0:(b.active?f=!0:this._onOpaqueTile(b),b.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),c&&(Z(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===a?(this._levels[f].el.style.zIndex=c-Math.abs(a-f),this._onUpdateLevel(f)):(st(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var g=this._levels[a],b=this._map;return g||(g=this._levels[a]={},g.el=Le("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=c,g.origin=b.project(b.unproject(b.getPixelOrigin()),a).round(),g.zoom=a,this._setZoomTransform(g,b.getCenter(),b.getZoom()),p(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var a,c,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var g=c.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)st(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,f,g){var b=Math.floor(a/2),P=Math.floor(c/2),D=f-1,B=new z(+b,+P);B.z=+D;var V=this._tileCoordsToKey(B),Y=this._tiles[V];return Y&&Y.active?(Y.retain=!0,!0):(Y&&Y.loaded&&(Y.retain=!0),D>g?this._retainParent(b,P,D,g):!1)},_retainChildren:function(a,c,f,g){for(var b=2*a;b<2*a+2;b++)for(var P=2*c;P<2*c+2;P++){var D=new z(b,P);D.z=f+1;var B=this._tileCoordsToKey(D),V=this._tiles[B];if(V&&V.active){V.retain=!0;continue}else V&&V.loaded&&(V.retain=!0);f+1<g&&this._retainChildren(b,P,f+1,g)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,f,g){var b=Math.round(c);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var P=this.options.updateWhenZooming&&b!==this._tileZoom;(!g||P)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(a),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var f in this._levels)this._setZoomTransform(this._levels[f],a,c)},_setZoomTransform:function(a,c,f){var g=this._map.getZoomScale(f,a.zoom),b=a.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(c,f)).round();U.any3d?Ds(a.el,b,g):Nt(a.el,b)},_resetGrid:function(){var a=this._map,c=a.options.crs,f=this._tileSize=this.getTileSize(),g=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],g).x/f.x),Math.ceil(a.project([0,c.wrapLng[1]],g).x/f.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],g).y/f.x),Math.ceil(a.project([c.wrapLat[1],0],g).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,f=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),g=c.getZoomScale(f,this._tileZoom),b=c.project(a,this._tileZoom).floor(),P=c.getSize().divideBy(g*2);return new te(b.subtract(P),b.add(P))},_update:function(a){var c=this._map;if(c){var f=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(a),b=this._pxBoundsToTileRange(g),P=b.getCenter(),D=[],B=this.options.keepBuffer,V=new te(b.getBottomLeft().subtract([B,-B]),b.getTopRight().add([B,-B]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Y in this._tiles){var ce=this._tiles[Y].coords;(ce.z!==this._tileZoom||!V.contains(new z(ce.x,ce.y)))&&(this._tiles[Y].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(a,f);return}for(var xe=b.min.y;xe<=b.max.y;xe++)for(var Oe=b.min.x;Oe<=b.max.x;Oe++){var yn=new z(Oe,xe);if(yn.z=this._tileZoom,!!this._isValidTile(yn)){var Yt=this._tiles[this._tileCoordsToKey(yn)];Yt?Yt.current=!0:D.push(yn)}}if(D.sort(function(Ln,Go){return Ln.distanceTo(P)-Go.distanceTo(P)}),D.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ii=document.createDocumentFragment();for(Oe=0;Oe<D.length;Oe++)this._addTile(D[Oe],ii);this._level.el.appendChild(ii)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var f=this._globalTileRange;if(!c.wrapLng&&(a.x<f.min.x||a.x>f.max.x)||!c.wrapLat&&(a.y<f.min.y||a.y>f.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(a);return q(this.options.bounds).overlaps(g)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,f=this.getTileSize(),g=a.scaleBy(f),b=g.add(f),P=c.unproject(g,a.z),D=c.unproject(b,a.z);return[P,D]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),f=new ae(c[0],c[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),f=new z(+c[0],+c[1]);return f.z=+c[2],f},_removeTile:function(a){var c=this._tiles[a];c&&(st(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Te(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=p,a.onmousemove=p,U.ielt9&&this.options.opacity<1&&ti(a,this.options.opacity)},_addTile:function(a,c){var f=this._getTilePos(a),g=this._tileCoordsToKey(a),b=this.createTile(this._wrapCoords(a),o(this._tileReady,this,a));this._initTile(b),this.createTile.length<2&&W(o(this._tileReady,this,a,null,b)),Nt(b,f),this._tiles[g]={el:b,coords:a,current:!0},c.appendChild(b),this.fire("tileloadstart",{tile:b,coords:a})},_tileReady:function(a,c,f){c&&this.fire("tileerror",{error:c,tile:f,coords:a});var g=this._tileCoordsToKey(a);f=this._tiles[g],f&&(f.loaded=+new Date,this._map._fadeAnimated?(ti(f.el,0),Z(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),c||(Te(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),U.ielt9||!this._map._fadeAnimated?W(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new z(this._wrapX?d(a.x,this._wrapX):a.x,this._wrapY?d(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new te(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function ZI(a){return new vl(a)}var Yo=vl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=y(this,c),c.detectRetina&&U.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var f=document.createElement("img");return Se(f,"load",o(this._tileOnLoad,this,c,f)),Se(f,"error",o(this._tileOnError,this,c,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(a),f},getTileUrl:function(a){var c={r:U.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=f),c["-y"]=f}return w(this._url,r(c,this.options))},_tileOnLoad:function(a,c){U.ielt9?setTimeout(o(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,f){var g=this.options.errorTileUrl;g&&c.getAttribute("src")!==g&&(c.src=g),a(f,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,f=this.options.zoomReverse,g=this.options.zoomOffset;return f&&(a=c-a),a+g},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=p,c.onerror=p,!c.complete)){c.src=M;var f=this._tiles[a].coords;st(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:f})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",M),vl.prototype._removeTile.call(this,a)},_tileReady:function(a,c,f){if(!(!this._map||f&&f.getAttribute("src")===M))return vl.prototype._tileReady.call(this,a,c,f)}});function xx(a,c){return new Yo(a,c)}var bx=Yo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var f=r({},this.defaultWmsParams);for(var g in c)g in this.options||(f[g]=c[g]);c=y(this,c);var b=c.detectRetina&&U.retina?2:1,P=this.getTileSize();f.width=P.x*b,f.height=P.y*b,this.wmsParams=f},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Yo.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),f=this._crs,g=Q(f.project(c[0]),f.project(c[1])),b=g.min,P=g.max,D=(this._wmsVersion>=1.3&&this._crs===fx?[b.y,b.x,P.y,P.x]:[b.x,b.y,P.x,P.y]).join(","),B=Yo.prototype.getTileUrl.call(this,a);return B+S(this.wmsParams,B,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+D},setParams:function(a,c){return r(this.wmsParams,a),c||this.redraw(),this}});function YI(a,c){return new bx(a,c)}Yo.WMS=bx,xx.wms=YI;var ir=gi.extend({options:{padding:.1},initialize:function(a){y(this,a),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Te(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var f=this._map.getZoomScale(c,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,c),P=g.multiplyBy(-f).add(b).subtract(this._map._getNewPixelOrigin(a,c));U.any3d?Ds(this._container,P,f):Nt(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),f=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new te(f,f.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),wx=ir.extend({options:{tolerance:0},getEvents:function(){var a=ir.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ir.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Se(a,"mousemove",this._onMouseMove,this),Se(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Se(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,st(this._container),ot(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ir.prototype._update.call(this);var a=this._bounds,c=this._container,f=a.getSize(),g=U.retina?2:1;Nt(c,a.min),c.width=g*f.x,c.height=g*f.y,c.style.width=f.x+"px",c.style.height=f.y+"px",U.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){ir.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[u(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,f=c.next,g=c.prev;f?f.prev=g:this._drawLast=g,g?g.next=f:this._drawFirst=f,delete a._order,delete this._layers[u(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),f=[],g,b;for(b=0;b<c.length;b++){if(g=Number(c[b]),isNaN(g))return;f.push(g)}a.options._dashArray=f}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||W(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new te,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var f=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)a=g.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var f,g,b,P,D=a._parts,B=D.length,V=this._ctx;if(B){for(V.beginPath(),f=0;f<B;f++){for(g=0,b=D[f].length;g<b;g++)P=D[f][g],V[g?"lineTo":"moveTo"](P.x,P.y);c&&V.closePath()}this._fillStroke(V,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,f=this._ctx,g=Math.max(Math.round(a._radius),1),b=(Math.max(Math.round(a._radiusY),1)||g)/g;b!==1&&(f.save(),f.scale(1,b)),f.beginPath(),f.arc(c.x,c.y/b,g,0,Math.PI*2,!1),b!==1&&f.restore(),this._fillStroke(f,a)}},_fillStroke:function(a,c){var f=c.options;f.fill&&(a.globalAlpha=f.fillOpacity,a.fillStyle=f.fillColor||f.color,a.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=f.opacity,a.lineWidth=f.weight,a.strokeStyle=f.color,a.lineCap=f.lineCap,a.lineJoin=f.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),f,g,b=this._drawFirst;b;b=b.next)f=b.layer,f.options.interactive&&f._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(f))&&(g=f);this._fireEvent(g?[g]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(It(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var f,g,b=this._drawFirst;b;b=b.next)f=b.layer,f.options.interactive&&f._containsPoint(c)&&(g=f);g!==this._hoveredLayer&&(this._handleMouseOut(a),g&&(Te(this._container,"leaflet-interactive"),this._fireEvent([g],a,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,f){this._map._fireDOMEvent(c,f||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var f=c.next,g=c.prev;if(f)f.prev=g;else return;g?g.next=f:f&&(this._drawFirst=f),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var f=c.next,g=c.prev;if(g)g.next=f;else return;f?f.prev=g:g&&(this._drawLast=g),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function Sx(a){return U.canvas?new wx(a):null}var yl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),GI={_initContainer:function(){this._container=Le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ir.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=yl("shape");Te(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=yl("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;st(c),a.removeInteractiveTarget(c),delete this._layers[u(a)]},_updateStyle:function(a){var c=a._stroke,f=a._fill,g=a.options,b=a._container;b.stroked=!!g.stroke,b.filled=!!g.fill,g.stroke?(c||(c=a._stroke=yl("stroke")),b.appendChild(c),c.weight=g.weight+"px",c.color=g.color,c.opacity=g.opacity,g.dashArray?c.dashStyle=C(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=g.lineCap.replace("butt","flat"),c.joinstyle=g.lineJoin):c&&(b.removeChild(c),a._stroke=null),g.fill?(f||(f=a._fill=yl("fill")),b.appendChild(f),f.color=g.fillColor||g.color,f.opacity=g.fillOpacity):f&&(b.removeChild(f),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),f=Math.round(a._radius),g=Math.round(a._radiusY||f);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+f+","+g+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){Vo(a._container)},_bringToBack:function(a){Ho(a._container)}},ih=U.vml?yl:Ae,xl=ir.extend({_initContainer:function(){this._container=ih("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ih("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){st(this._container),ot(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ir.prototype._update.call(this);var a=this._bounds,c=a.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,f.setAttribute("width",c.x),f.setAttribute("height",c.y)),Nt(f,a.min),f.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=ih("path");a.options.className&&Te(c,a.options.className),a.options.interactive&&Te(c,"leaflet-interactive"),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){st(a._path),a.removeInteractiveTarget(a._path),delete this._layers[u(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,f=a.options;c&&(f.stroke?(c.setAttribute("stroke",f.color),c.setAttribute("stroke-opacity",f.opacity),c.setAttribute("stroke-width",f.weight),c.setAttribute("stroke-linecap",f.lineCap),c.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?c.setAttribute("stroke-dasharray",f.dashArray):c.removeAttribute("stroke-dasharray"),f.dashOffset?c.setAttribute("stroke-dashoffset",f.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),f.fill?(c.setAttribute("fill",f.fillColor||f.color),c.setAttribute("fill-opacity",f.fillOpacity),c.setAttribute("fill-rule",f.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,Xi(a._parts,c))},_updateCircle:function(a){var c=a._point,f=Math.max(Math.round(a._radius),1),g=Math.max(Math.round(a._radiusY),1)||f,b="a"+f+","+g+" 0 1,0 ",P=a._empty()?"M0 0":"M"+(c.x-f)+","+c.y+b+f*2+",0 "+b+-f*2+",0 ";this._setPath(a,P)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){Vo(a._path)},_bringToBack:function(a){Ho(a._path)}});U.vml&&xl.include(GI);function Cx(a){return U.svg||U.vml?new xl(a):null}Ve.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&Sx(a)||Cx(a)}});var Ex=Uo.extend({initialize:function(a,c){Uo.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=q(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function KI(a,c){return new Ex(a,c)}xl.create=ih,xl.pointsToPath=Xi,nr.geometryToLayer=Xc,nr.coordsToLatLng=am,nr.coordsToLatLngs=qc,nr.latLngToCoords=lm,nr.latLngsToCoords=Qc,nr.getFeature=Zo,nr.asFeature=Jc,Ve.mergeOptions({boxZoom:!0});var Tx=Di.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Se(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ot(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){st(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),hl(),Wp(),this._startPoint=this._map.mouseEventToContainerPoint(a),Se(document,{contextmenu:Fs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Le("div","leaflet-zoom-box",this._container),Te(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new te(this._point,this._startPoint),f=c.getSize();Nt(this._box,c.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(st(this._box),It(this._container,"leaflet-crosshair")),dl(),Up(),ot(document,{contextmenu:Fs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var c=new ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ve.addInitHook("addHandler","boxZoom",Tx),Ve.mergeOptions({doubleClickZoom:!0});var Px=Di.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,f=c.getZoom(),g=c.options.zoomDelta,b=a.originalEvent.shiftKey?f-g:f+g;c.options.doubleClickZoom==="center"?c.setZoom(b):c.setZoomAround(a.containerPoint,b)}});Ve.addInitHook("addHandler","doubleClickZoom",Px),Ve.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var kx=Di.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Br(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Te(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){It(this._map._container,"leaflet-grab"),It(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=q(this._map.options.maxBounds);this._offsetLimit=Q(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),f=this._initialWorldOffset,g=this._draggable._newPos.x,b=(g-c+f)%a+c-f,P=(g+c+f)%a-c-f,D=Math.abs(b+f)<Math.abs(P+f)?b:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=D},_onDragEnd:function(a){var c=this._map,f=c.options,g=!f.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),g)c.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,D=f.easeLinearity,B=b.multiplyBy(D/P),V=B.distanceTo([0,0]),Y=Math.min(f.inertiaMaxSpeed,V),ce=B.multiplyBy(Y/V),xe=Y/(f.inertiaDeceleration*D),Oe=ce.multiplyBy(-xe/2).round();!Oe.x&&!Oe.y?c.fire("moveend"):(Oe=c._limitOffset(Oe,c.options.maxBounds),W(function(){c.panBy(Oe,{duration:xe,easeLinearity:D,noMoveStart:!0,animate:!0})}))}}});Ve.addInitHook("addHandler","dragging",kx),Ve.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Mx=Di.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Se(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ot(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,f=a.scrollTop||c.scrollTop,g=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(g,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},f=this.keyCodes,g,b;for(g=0,b=f.left.length;g<b;g++)c[f.left[g]]=[-1*a,0];for(g=0,b=f.right.length;g<b;g++)c[f.right[g]]=[a,0];for(g=0,b=f.down.length;g<b;g++)c[f.down[g]]=[0,a];for(g=0,b=f.up.length;g<b;g++)c[f.up[g]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},f=this.keyCodes,g,b;for(g=0,b=f.zoomIn.length;g<b;g++)c[f.zoomIn[g]]=a;for(g=0,b=f.zoomOut.length;g<b;g++)c[f.zoomOut[g]]=-a},_addHooks:function(){Se(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ot(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,f=this._map,g;if(c in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(g=this._panKeys[c],a.shiftKey&&(g=$(g).multiplyBy(3)),f.options.maxBounds&&(g=f._limitOffset($(g),f.options.maxBounds)),f.options.worldCopyJump){var b=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(g)));f.panTo(b)}else f.panBy(g)}else if(c in this._zoomKeys)f.setZoom(f.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;Fs(a)}}});Ve.addInitHook("addHandler","keyboard",Mx),Ve.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Lx=Di.extend({addHooks:function(){Se(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ot(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=ex(a),f=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var g=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),g),Fs(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),f=this._map.options.zoomSnap||0;a._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,P=f?Math.ceil(b/f)*f:b,D=a._limitZoom(c+(this._delta>0?P:-P))-c;this._delta=0,this._startTime=null,D&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+D):a.setZoomAround(this._lastMousePos,c+D))}});Ve.addInitHook("addHandler","scrollWheelZoom",Lx);var XI=600;Ve.mergeOptions({tapHold:U.touchNative&&U.safari&&U.mobile,tapTolerance:15});var Ix=Di.extend({addHooks:function(){Se(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ot(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new z(c.clientX,c.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Se(document,"touchend",en),Se(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),XI),Se(document,"touchend touchcancel contextmenu",this._cancel,this),Se(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ot(document,"touchend",en),ot(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ot(document,"touchend touchcancel contextmenu",this._cancel,this),ot(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new z(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var f=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});f._simulated=!0,c.target.dispatchEvent(f)}});Ve.addInitHook("addHandler","tapHold",Ix),Ve.mergeOptions({touchZoom:U.touch,bounceAtZoomLimits:!0});var Ox=Di.extend({addHooks:function(){Te(this._map._container,"leaflet-touch-zoom"),Se(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){It(this._map._container,"leaflet-touch-zoom"),ot(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var f=c.mouseEventToContainerPoint(a.touches[0]),g=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(f.add(g)._divideBy(2))),this._startDist=f.distanceTo(g),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Se(document,"touchmove",this._onTouchMove,this),Se(document,"touchend touchcancel",this._onTouchEnd,this),en(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,f=c.mouseEventToContainerPoint(a.touches[0]),g=c.mouseEventToContainerPoint(a.touches[1]),b=f.distanceTo(g)/this._startDist;if(this._zoom=c.getScaleZoom(b,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&b<1||this._zoom>c.getMaxZoom()&&b>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var P=f._add(g)._divideBy(2)._subtract(this._centerPoint);if(b===1&&P.x===0&&P.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var D=o(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=W(D,this,!0),en(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),ot(document,"touchmove",this._onTouchMove,this),ot(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ve.addInitHook("addHandler","touchZoom",Ox),Ve.BoxZoom=Tx,Ve.DoubleClickZoom=Px,Ve.Drag=kx,Ve.Keyboard=Mx,Ve.ScrollWheelZoom=Lx,Ve.TapHold=Ix,Ve.TouchZoom=Ox,n.Bounds=te,n.Browser=U,n.CRS=ke,n.Canvas=wx,n.Circle=om,n.CircleMarker=Kc,n.Class=le,n.Control=mi,n.DivIcon=yx,n.DivOverlay=Ni,n.DomEvent=pI,n.DomUtil=dI,n.Draggable=Br,n.Evented=re,n.FeatureGroup=er,n.GeoJSON=nr,n.GridLayer=vl,n.Handler=Di,n.Icon=Wo,n.ImageOverlay=eh,n.LatLng=se,n.LatLngBounds=ae,n.Layer=gi,n.LayerGroup=$o,n.LineUtil=PI,n.Map=Ve,n.Marker=Gc,n.Mixin=bI,n.Path=jr,n.Point=z,n.PolyUtil=wI,n.Polygon=Uo,n.Polyline=tr,n.Popup=th,n.PosAnimation=tx,n.Projection=kI,n.Rectangle=Ex,n.Renderer=ir,n.SVG=xl,n.SVGOverlay=vx,n.TileLayer=Yo,n.Tooltip=nh,n.Transformation=nt,n.Util=de,n.VideoOverlay=_x,n.bind=o,n.bounds=Q,n.canvas=Sx,n.circle=AI,n.circleMarker=NI,n.control=ml,n.divIcon=UI,n.extend=r,n.featureGroup=OI,n.geoJSON=gx,n.geoJson=BI,n.gridLayer=ZI,n.icon=RI,n.imageOverlay=jI,n.latLng=ne,n.latLngBounds=q,n.layerGroup=II,n.map=mI,n.marker=DI,n.point=$,n.polygon=zI,n.polyline=FI,n.popup=$I,n.rectangle=KI,n.setOptions=y,n.stamp=u,n.svg=Cx,n.svgOverlay=HI,n.tileLayer=xx,n.tooltip=WI,n.transformation=Et,n.version=i,n.videoOverlay=VI;var qI=window.L;n.noConflict=function(){return window.L=qI,this},window.L=n})})(hv,hv.exports);var Nc=hv.exports;const PW=mc(Nc);function D0(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function N0(t,e){return e==null?function(i,r){const s=E.useRef();return s.current||(s.current=t(i,r)),s}:function(i,r){const s=E.useRef();s.current||(s.current=t(i,r));const o=E.useRef(i),{instance:l}=s.current;return E.useEffect(function(){o.current!==i&&(e(l,i,o.current),o.current=i)},[l,i,r]),s}}function kW(t,e){E.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function mL(t){return function(n){const i=O0(),r=t(R0(n,i),i);return hL(i.map,n.attribution),pL(r.current,n.eventHandlers),kW(r.current,i),r}}function MW(t,e){const n=N0(t,e),i=mL(n);return SW(i)}function LW(t,e){const n=N0(t),i=TW(n,e);return CW(i)}function IW(t,e){const n=N0(t,e),i=mL(n);return EW(i)}function OW(t,e,n){const{opacity:i,zIndex:r}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),r!=null&&r!==n.zIndex&&t.setZIndex(r)}function RW(){return O0().map}function dv(){return dv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dv.apply(this,arguments)}function DW({bounds:t,boundsOptions:e,center:n,children:i,className:r,id:s,placeholder:o,style:l,whenReady:u,zoom:h,...d},p){const[m]=E.useState({className:r,id:s,style:l}),[_,v]=E.useState(null);E.useImperativeHandle(p,()=>(_==null?void 0:_.map)??null,[_]);const y=E.useCallback(x=>{if(x!==null&&_===null){const w=new Nc.Map(x,d);n!=null&&h!=null?w.setView(n,h):t!=null&&w.fitBounds(t,e),u!=null&&w.whenReady(u),v(bW(w))}},[]);E.useEffect(()=>()=>{_==null||_.map.remove()},[_]);const S=_?Pe.createElement(fL,{value:_},i):o??null;return Pe.createElement("div",dv({},m,{ref:y}),S)}const gL=E.forwardRef(DW),_L=MW(function({position:e,...n},i){const r=new Nc.Marker(e,n);return D0(r,wW(i,{overlayContainer:r}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),vL=LW(function(e,n){const i=new Nc.Popup(e,n.overlayContainer);return D0(i,n)},function(e,n,{position:i},r){E.useEffect(function(){const{instance:o}=e;function l(h){h.popup===o&&(o.update(),r(!0))}function u(h){h.popup===o&&r(!1)}return n.map.on({popupopen:l,popupclose:u}),n.overlayContainer==null?(i!=null&&o.setLatLng(i),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){var d;n.map.off({popupopen:l,popupclose:u}),(d=n.overlayContainer)==null||d.unbindPopup(),n.map.removeLayer(o)}},[e,n,r,i])}),yL=IW(function({url:e,...n},i){const r=new Nc.TileLayer(e,R0(n,i));return D0(r,i)},function(e,n,i){OW(e,n,i);const{url:r}=n;r!=null&&r!==i.url&&e.setUrl(r)}),NW=()=>{const[t,e]=E.useState([]),[n,i]=E.useState(null),[r,s]=E.useState({}),[o,l]=E.useState(!1);E.useEffect(()=>{(async()=>{const w=Ea(Ta,"devices"),C=await i0(w);C.exists()&&e(C.val())})()},[]);const u=async x=>{const w=x.target.value;l(!0),i(null),s({}),setTimeout(async()=>{if(w){const C=t[w];i(C),s(C.sensor_data)}l(!1)},1e3)};let h={};const d=(x,w,C)=>{h[x]&&h[x].destroy();const k=document.getElementById(x).getContext("2d");h[x]=new Vi(k,{type:"line",data:{labels:Object.keys(w),datasets:[{label:C,data:Object.values(w),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)"}]},options:{responsive:!0,maintainAspectRatio:!1}})};E.useEffect(()=>{n&&r&&(d("phChart",r.ph,"pH Levels"),d("tdsChart",r.tds,"TDS Levels"),d("turbidityChart",r.turbidity,"Turbidity Levels"))},[r]);const p=x=>!x||Object.keys(x).length===0?0:(Object.values(x).reduce((C,k)=>C+k,0)/Object.values(x).length).toFixed(2),m=p(r.ph),_=p(r.tds),v=p(r.turbidity),[y,S]=(n==null?void 0:n.location.split(",").map(x=>parseFloat(x)))||[];return R.jsxs("div",{className:"p-4",children:[R.jsx("label",{className:"block text-lg font-semibold",children:"Select Sensor:"}),R.jsxs("select",{onChange:u,className:"mt-2 mb-4 p-2 border rounded shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[R.jsx("option",{value:"",children:"-- Select a Sensor --"}),Object.keys(t).map(x=>R.jsx("option",{value:x,children:x},x))]}),o?R.jsx("div",{className:"flex justify-center items-center h-32",children:R.jsx("div",{className:"loader",children:"Loading..."})}):n&&R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[R.jsxs("div",{className:"border p-4 rounded shadow-lg",children:[R.jsx("h2",{className:"text-xl font-semibold",children:"Sensor Information"}),R.jsxs("div",{className:"flex items-center justify-between mt-2",children:[R.jsx("input",{type:"text",value:n.location,readOnly:!0,className:"border border-gray-300 p-2 rounded w-1/2 mr-2"}),R.jsx("input",{type:"text",value:n.username,readOnly:!0,className:"border border-gray-300 p-2 rounded w-1/2"})]}),R.jsx("h2",{className:"text-xl font-semibold mt-4",children:"Average Values"}),R.jsxs("div",{className:"flex flex-col space-y-2 mt-2",children:[R.jsxs("div",{className:"flex justify-between",children:[R.jsx("span",{className:"font-medium",children:"Average pH:"}),R.jsx("span",{children:m})]}),R.jsxs("div",{className:"flex justify-between",children:[R.jsx("span",{className:"font-medium",children:"Average TDS:"}),R.jsx("span",{children:_})]}),R.jsxs("div",{className:"flex justify-between",children:[R.jsx("span",{className:"font-medium",children:"Average Turbidity:"}),R.jsx("span",{children:v})]})]}),R.jsx("div",{className:"mt-4",children:y&&S&&R.jsxs(gL,{center:[y,S],zoom:13,style:{height:"330px",width:"100%"},children:[R.jsx(yL,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://osm.org/copyright">OpenStreetMap</a> contributors'}),R.jsx(_L,{position:[y,S],children:R.jsxs(vL,{children:["Device Location: ",n.location]})})]})})]}),R.jsxs("div",{className:"flex flex-col gap-4",children:[R.jsx("div",{className:"bg-red-200 p-2 rounded",style:{height:"190px"},children:R.jsx("canvas",{id:"phChart"})}),R.jsx("div",{className:"bg-green-200 p-2 rounded",style:{height:"190px"},children:R.jsx("canvas",{id:"tdsChart"})}),R.jsx("div",{className:"bg-blue-200 p-2 rounded",style:{height:"190px"},children:R.jsx("canvas",{id:"turbidityChart"})})]})]})]})};function wo(t){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(t)}function AW(t,e){if(wo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(wo(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xL(t){var e=AW(t,"string");return wo(e)=="symbol"?e:e+""}function ru(t,e,n){return(e=xL(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j1(Object(n),!0).forEach(function(i){ru(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function FW(t){if(Array.isArray(t))return t}function zW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,r,s,o,l=[],u=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=s.call(n)).done)&&(l.push(i.value),l.length!==e);u=!0);}catch(d){h=!0,r=d}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw r}}return l}}function fv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function bL(t,e){if(t){if(typeof t=="string")return fv(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fv(t,e):void 0}}function BW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function br(t,e){return FW(t)||zW(t,e)||bL(t,e)||BW()}function Dr(t,e){if(t==null)return{};var n,i,r=r0(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var jW=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function VW(t){var e=t.defaultInputValue,n=e===void 0?"":e,i=t.defaultMenuIsOpen,r=i===void 0?!1:i,s=t.defaultValue,o=s===void 0?null:s,l=t.inputValue,u=t.menuIsOpen,h=t.onChange,d=t.onInputChange,p=t.onMenuClose,m=t.onMenuOpen,_=t.value,v=Dr(t,jW),y=E.useState(l!==void 0?l:n),S=br(y,2),x=S[0],w=S[1],C=E.useState(u!==void 0?u:r),k=br(C,2),M=k[0],T=k[1],O=E.useState(_!==void 0?_:o),I=br(O,2),A=I[0],j=I[1],W=E.useCallback(function(z,X){typeof h=="function"&&h(z,X),j(z)},[h]),Z=E.useCallback(function(z,X){var $;typeof d=="function"&&($=d(z,X)),w($!==void 0?$:z)},[d]),de=E.useCallback(function(){typeof m=="function"&&m(),T(!0)},[m]),le=E.useCallback(function(){typeof p=="function"&&p(),T(!1)},[p]),ue=l!==void 0?l:x,ee=u!==void 0?u:M,re=_!==void 0?_:A;return ve(ve({},v),{},{inputValue:ue,menuIsOpen:ee,onChange:W,onInputChange:Z,onMenuClose:le,onMenuOpen:de,value:re})}function HW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V1(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,xL(i.key),i)}}function $W(t,e,n){return e&&V1(t.prototype,e),n&&V1(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_f(t,e)}function kf(t){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kf(t)}function wL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wL=function(){return!!t})()}function UW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZW(t,e){if(e&&(wo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UW(t)}function YW(t){var e=wL();return function(){var n,i=kf(t);if(e){var r=kf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ZW(this,n)}}function GW(t){if(Array.isArray(t))return fv(t)}function KW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A0(t){return GW(t)||KW(t)||bL(t)||XW()}var qW=!1;function QW(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function JW(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var eU=function(){function t(n){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=n.speedy===void 0?!qW:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(JW(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=QW(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},t}(),cn="-ms-",Mf="-moz-",Ze="-webkit-",SL="comm",F0="rule",z0="decl",tU="@import",CL="@keyframes",nU="@layer",iU=Math.abs,Sp=String.fromCharCode,rU=Object.assign;function sU(t,e){return nn(t,0)^45?(((e<<2^nn(t,0))<<2^nn(t,1))<<2^nn(t,2))<<2^nn(t,3):0}function EL(t){return t.trim()}function oU(t,e){return(t=e.exec(t))?t[0]:t}function Ge(t,e,n){return t.replace(e,n)}function pv(t,e){return t.indexOf(e)}function nn(t,e){return t.charCodeAt(e)|0}function dc(t,e,n){return t.slice(e,n)}function Hi(t){return t.length}function B0(t){return t.length}function $h(t,e){return e.push(t),t}function aU(t,e){return t.map(e).join("")}var Cp=1,Ya=1,TL=0,jn=0,zt=0,sl="";function Ep(t,e,n,i,r,s,o){return{value:t,root:e,parent:n,type:i,props:r,children:s,line:Cp,column:Ya,length:o,return:""}}function $l(t,e){return rU(Ep("",null,null,"",null,null,0),t,{length:-t.length},e)}function lU(){return zt}function uU(){return zt=jn>0?nn(sl,--jn):0,Ya--,zt===10&&(Ya=1,Cp--),zt}function Kn(){return zt=jn<TL?nn(sl,jn++):0,Ya++,zt===10&&(Ya=1,Cp++),zt}function Gi(){return nn(sl,jn)}function yd(){return jn}function Ac(t,e){return dc(sl,t,e)}function fc(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function PL(t){return Cp=Ya=1,TL=Hi(sl=t),jn=0,[]}function kL(t){return sl="",t}function xd(t){return EL(Ac(jn-1,mv(t===91?t+2:t===40?t+1:t)))}function cU(t){for(;(zt=Gi())&&zt<33;)Kn();return fc(t)>2||fc(zt)>3?"":" "}function hU(t,e){for(;--e&&Kn()&&!(zt<48||zt>102||zt>57&&zt<65||zt>70&&zt<97););return Ac(t,yd()+(e<6&&Gi()==32&&Kn()==32))}function mv(t){for(;Kn();)switch(zt){case t:return jn;case 34:case 39:t!==34&&t!==39&&mv(zt);break;case 40:t===41&&mv(t);break;case 92:Kn();break}return jn}function dU(t,e){for(;Kn()&&t+zt!==57;)if(t+zt===84&&Gi()===47)break;return"/*"+Ac(e,jn-1)+"*"+Sp(t===47?t:Kn())}function fU(t){for(;!fc(Gi());)Kn();return Ac(t,jn)}function pU(t){return kL(bd("",null,null,null,[""],t=PL(t),0,[0],t))}function bd(t,e,n,i,r,s,o,l,u){for(var h=0,d=0,p=o,m=0,_=0,v=0,y=1,S=1,x=1,w=0,C="",k=r,M=s,T=i,O=C;S;)switch(v=w,w=Kn()){case 40:if(v!=108&&nn(O,p-1)==58){pv(O+=Ge(xd(w),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:O+=xd(w);break;case 9:case 10:case 13:case 32:O+=cU(v);break;case 92:O+=hU(yd()-1,7);continue;case 47:switch(Gi()){case 42:case 47:$h(mU(dU(Kn(),yd()),e,n),u);break;default:O+="/"}break;case 123*y:l[h++]=Hi(O)*x;case 125*y:case 59:case 0:switch(w){case 0:case 125:S=0;case 59+d:x==-1&&(O=Ge(O,/\f/g,"")),_>0&&Hi(O)-p&&$h(_>32?$1(O+";",i,n,p-1):$1(Ge(O," ","")+";",i,n,p-2),u);break;case 59:O+=";";default:if($h(T=H1(O,e,n,h,d,r,l,C,k=[],M=[],p),s),w===123)if(d===0)bd(O,e,T,T,k,s,p,l,M);else switch(m===99&&nn(O,3)===110?100:m){case 100:case 108:case 109:case 115:bd(t,T,T,i&&$h(H1(t,T,T,0,0,r,l,C,r,k=[],p),M),r,M,p,l,i?k:M);break;default:bd(O,T,T,T,[""],M,0,l,M)}}h=d=_=0,y=x=1,C=O="",p=o;break;case 58:p=1+Hi(O),_=v;default:if(y<1){if(w==123)--y;else if(w==125&&y++==0&&uU()==125)continue}switch(O+=Sp(w),w*y){case 38:x=d>0?1:(O+="\f",-1);break;case 44:l[h++]=(Hi(O)-1)*x,x=1;break;case 64:Gi()===45&&(O+=xd(Kn())),m=Gi(),d=p=Hi(C=O+=fU(yd())),w++;break;case 45:v===45&&Hi(O)==2&&(y=0)}}return s}function H1(t,e,n,i,r,s,o,l,u,h,d){for(var p=r-1,m=r===0?s:[""],_=B0(m),v=0,y=0,S=0;v<i;++v)for(var x=0,w=dc(t,p+1,p=iU(y=o[v])),C=t;x<_;++x)(C=EL(y>0?m[x]+" "+w:Ge(w,/&\f/g,m[x])))&&(u[S++]=C);return Ep(t,e,n,r===0?F0:l,u,h,d)}function mU(t,e,n){return Ep(t,e,n,SL,Sp(lU()),dc(t,2,-2),0)}function $1(t,e,n,i){return Ep(t,e,n,z0,dc(t,0,i),dc(t,i+1,-1),i)}function ka(t,e){for(var n="",i=B0(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function gU(t,e,n,i){switch(t.type){case nU:if(t.children.length)break;case tU:case z0:return t.return=t.return||t.value;case SL:return"";case CL:return t.return=t.value+"{"+ka(t.children,i)+"}";case F0:t.value=t.props.join(",")}return Hi(n=ka(t.children,i))?t.return=t.value+"{"+n+"}":""}function _U(t){var e=B0(t);return function(n,i,r,s){for(var o="",l=0;l<e;l++)o+=t[l](n,i,r,s)||"";return o}}function vU(t){return function(e){e.root||(e=e.return)&&t(e)}}function yU(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var xU=function(e,n,i){for(var r=0,s=0;r=s,s=Gi(),r===38&&s===12&&(n[i]=1),!fc(s);)Kn();return Ac(e,jn)},bU=function(e,n){var i=-1,r=44;do switch(fc(r)){case 0:r===38&&Gi()===12&&(n[i]=1),e[i]+=xU(jn-1,n,i);break;case 2:e[i]+=xd(r);break;case 4:if(r===44){e[++i]=Gi()===58?"&\f":"",n[i]=e[i].length;break}default:e[i]+=Sp(r)}while(r=Kn());return e},wU=function(e,n){return kL(bU(PL(e),n))},W1=new WeakMap,SU=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!W1.get(i))&&!r){W1.set(e,!0);for(var s=[],o=wU(n,s),l=i.props,u=0,h=0;u<o.length;u++)for(var d=0;d<l.length;d++,h++)e.props[h]=s[u]?o[u].replace(/&\f/g,l[d]):l[d]+" "+o[u]}}},CU=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function ML(t,e){switch(sU(t,e)){case 5103:return Ze+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ze+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ze+t+Mf+t+cn+t+t;case 6828:case 4268:return Ze+t+cn+t+t;case 6165:return Ze+t+cn+"flex-"+t+t;case 5187:return Ze+t+Ge(t,/(\w+).+(:[^]+)/,Ze+"box-$1$2"+cn+"flex-$1$2")+t;case 5443:return Ze+t+cn+"flex-item-"+Ge(t,/flex-|-self/,"")+t;case 4675:return Ze+t+cn+"flex-line-pack"+Ge(t,/align-content|flex-|-self/,"")+t;case 5548:return Ze+t+cn+Ge(t,"shrink","negative")+t;case 5292:return Ze+t+cn+Ge(t,"basis","preferred-size")+t;case 6060:return Ze+"box-"+Ge(t,"-grow","")+Ze+t+cn+Ge(t,"grow","positive")+t;case 4554:return Ze+Ge(t,/([^-])(transform)/g,"$1"+Ze+"$2")+t;case 6187:return Ge(Ge(Ge(t,/(zoom-|grab)/,Ze+"$1"),/(image-set)/,Ze+"$1"),t,"")+t;case 5495:case 3959:return Ge(t,/(image-set\([^]*)/,Ze+"$1$`$1");case 4968:return Ge(Ge(t,/(.+:)(flex-)?(.*)/,Ze+"box-pack:$3"+cn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ze+t+t;case 4095:case 3583:case 4068:case 2532:return Ge(t,/(.+)-inline(.+)/,Ze+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Hi(t)-1-e>6)switch(nn(t,e+1)){case 109:if(nn(t,e+4)!==45)break;case 102:return Ge(t,/(.+:)(.+)-([^]+)/,"$1"+Ze+"$2-$3$1"+Mf+(nn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~pv(t,"stretch")?ML(Ge(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(nn(t,e+1)!==115)break;case 6444:switch(nn(t,Hi(t)-3-(~pv(t,"!important")&&10))){case 107:return Ge(t,":",":"+Ze)+t;case 101:return Ge(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ze+(nn(t,14)===45?"inline-":"")+"box$3$1"+Ze+"$2$3$1"+cn+"$2box$3")+t}break;case 5936:switch(nn(t,e+11)){case 114:return Ze+t+cn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ze+t+cn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ze+t+cn+Ge(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ze+t+cn+t+t}return t}var EU=function(e,n,i,r){if(e.length>-1&&!e.return)switch(e.type){case z0:e.return=ML(e.value,e.length);break;case CL:return ka([$l(e,{value:Ge(e.value,"@","@"+Ze)})],r);case F0:if(e.length)return aU(e.props,function(s){switch(oU(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ka([$l(e,{props:[Ge(s,/:(read-\w+)/,":"+Mf+"$1")]})],r);case"::placeholder":return ka([$l(e,{props:[Ge(s,/:(plac\w+)/,":"+Ze+"input-$1")]}),$l(e,{props:[Ge(s,/:(plac\w+)/,":"+Mf+"$1")]}),$l(e,{props:[Ge(s,/:(plac\w+)/,cn+"input-$1")]})],r)}return""})}},TU=[EU],PU=function(e){var n=e.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(y){var S=y.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var r=e.stylisPlugins||TU,s={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(y){for(var S=y.getAttribute("data-emotion").split(" "),x=1;x<S.length;x++)s[S[x]]=!0;l.push(y)});var u,h=[SU,CU];{var d,p=[gU,vU(function(y){d.insert(y)})],m=_U(h.concat(r,p)),_=function(S){return ka(pU(S),m)};u=function(S,x,w,C){d=w,_(S?S+"{"+x.styles+"}":x.styles),C&&(v.inserted[x.name]=!0)}}var v={key:n,sheet:new eU({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:u};return v.sheet.hydrate(l),v},LL={exports:{}},qe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jt=typeof Symbol=="function"&&Symbol.for,j0=Jt?Symbol.for("react.element"):60103,V0=Jt?Symbol.for("react.portal"):60106,Tp=Jt?Symbol.for("react.fragment"):60107,Pp=Jt?Symbol.for("react.strict_mode"):60108,kp=Jt?Symbol.for("react.profiler"):60114,Mp=Jt?Symbol.for("react.provider"):60109,Lp=Jt?Symbol.for("react.context"):60110,H0=Jt?Symbol.for("react.async_mode"):60111,Ip=Jt?Symbol.for("react.concurrent_mode"):60111,Op=Jt?Symbol.for("react.forward_ref"):60112,Rp=Jt?Symbol.for("react.suspense"):60113,kU=Jt?Symbol.for("react.suspense_list"):60120,Dp=Jt?Symbol.for("react.memo"):60115,Np=Jt?Symbol.for("react.lazy"):60116,MU=Jt?Symbol.for("react.block"):60121,LU=Jt?Symbol.for("react.fundamental"):60117,IU=Jt?Symbol.for("react.responder"):60118,OU=Jt?Symbol.for("react.scope"):60119;function Jn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case j0:switch(t=t.type,t){case H0:case Ip:case Tp:case kp:case Pp:case Rp:return t;default:switch(t=t&&t.$$typeof,t){case Lp:case Op:case Np:case Dp:case Mp:return t;default:return e}}case V0:return e}}}function IL(t){return Jn(t)===Ip}qe.AsyncMode=H0;qe.ConcurrentMode=Ip;qe.ContextConsumer=Lp;qe.ContextProvider=Mp;qe.Element=j0;qe.ForwardRef=Op;qe.Fragment=Tp;qe.Lazy=Np;qe.Memo=Dp;qe.Portal=V0;qe.Profiler=kp;qe.StrictMode=Pp;qe.Suspense=Rp;qe.isAsyncMode=function(t){return IL(t)||Jn(t)===H0};qe.isConcurrentMode=IL;qe.isContextConsumer=function(t){return Jn(t)===Lp};qe.isContextProvider=function(t){return Jn(t)===Mp};qe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===j0};qe.isForwardRef=function(t){return Jn(t)===Op};qe.isFragment=function(t){return Jn(t)===Tp};qe.isLazy=function(t){return Jn(t)===Np};qe.isMemo=function(t){return Jn(t)===Dp};qe.isPortal=function(t){return Jn(t)===V0};qe.isProfiler=function(t){return Jn(t)===kp};qe.isStrictMode=function(t){return Jn(t)===Pp};qe.isSuspense=function(t){return Jn(t)===Rp};qe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Tp||t===Ip||t===kp||t===Pp||t===Rp||t===kU||typeof t=="object"&&t!==null&&(t.$$typeof===Np||t.$$typeof===Dp||t.$$typeof===Mp||t.$$typeof===Lp||t.$$typeof===Op||t.$$typeof===LU||t.$$typeof===IU||t.$$typeof===OU||t.$$typeof===MU)};qe.typeOf=Jn;LL.exports=qe;var RU=LL.exports,OL=RU,DU={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},NU={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},RL={};RL[OL.ForwardRef]=DU;RL[OL.Memo]=NU;var AU=!0;function FU(t,e,n){var i="";return n.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):r&&(i+=r+" ")}),i}var DL=function(e,n,i){var r=e.key+"-"+n.name;(i===!1||AU===!1)&&e.registered[r]===void 0&&(e.registered[r]=n.styles)},zU=function(e,n,i){DL(e,n,i);var r=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function BU(t){for(var e=0,n,i=0,r=t.length;r>=4;++i,r-=4)n=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var jU={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},VU=!1,HU=/[A-Z]|^ms/g,$U=/_EMO_([^_]+?)_([^]*?)_EMO_/g,NL=function(e){return e.charCodeAt(1)===45},U1=function(e){return e!=null&&typeof e!="boolean"},_g=yU(function(t){return NL(t)?t:t.replace(HU,"-$&").toLowerCase()}),Z1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace($U,function(i,r,s){return $i={name:r,styles:s,next:$i},r})}return jU[e]!==1&&!NL(e)&&typeof n=="number"&&n!==0?n+"px":n},WU="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function pc(t,e,n){if(n==null)return"";var i=n;if(i.__emotion_styles!==void 0)return i;switch(typeof n){case"boolean":return"";case"object":{var r=n;if(r.anim===1)return $i={name:r.name,styles:r.styles,next:$i},r.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)$i={name:o.name,styles:o.styles,next:$i},o=o.next;var l=s.styles+";";return l}return UU(t,e,n)}case"function":{if(t!==void 0){var u=$i,h=n(t);return $i=u,pc(t,e,h)}break}}var d=n;return d}function UU(t,e,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=pc(t,e,n[r])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var l=o;U1(l)&&(i+=_g(s)+":"+Z1(s,l)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&VU)throw new Error(WU);if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var u=0;u<o.length;u++)U1(o[u])&&(i+=_g(s)+":"+Z1(s,o[u])+";");else{var h=pc(t,e,o);switch(s){case"animation":case"animationName":{i+=_g(s)+":"+h+";";break}default:i+=s+"{"+h+"}"}}}}return i}var Y1=/label:\s*([^\s;{]+)\s*(;|$)/g,$i;function AL(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,r="";$i=void 0;var s=t[0];if(s==null||s.raw===void 0)i=!1,r+=pc(n,e,s);else{var o=s;r+=o[0]}for(var l=1;l<t.length;l++)if(r+=pc(n,e,t[l]),i){var u=s;r+=u[l]}Y1.lastIndex=0;for(var h="",d;(d=Y1.exec(r))!==null;)h+="-"+d[1];var p=BU(r)+h;return{name:p,styles:r,next:$i}}var ZU=function(e){return e()},YU=Cg.useInsertionEffect?Cg.useInsertionEffect:!1,GU=YU||ZU,KU=!1,FL=E.createContext(typeof HTMLElement<"u"?PU({key:"css"}):null);FL.Provider;var XU=function(e){return E.forwardRef(function(n,i){var r=E.useContext(FL);return e(n,r,i)})},qU=E.createContext({}),$0={}.hasOwnProperty,gv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",QU=function(e,n){var i={};for(var r in n)$0.call(n,r)&&(i[r]=n[r]);return i[gv]=e,i},JU=function(e){var n=e.cache,i=e.serialized,r=e.isStringTag;return DL(n,i,r),GU(function(){return zU(n,i,r)}),null},e6=XU(function(t,e,n){var i=t.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var r=t[gv],s=[i],o="";typeof t.className=="string"?o=FU(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var l=AL(s,void 0,E.useContext(qU));o+=e.key+"-"+l.name;var u={};for(var h in t)$0.call(t,h)&&h!=="css"&&h!==gv&&!KU&&(u[h]=t[h]);return u.className=o,n&&(u.ref=n),E.createElement(E.Fragment,null,E.createElement(JU,{cache:e,serialized:l,isStringTag:typeof r=="string"}),E.createElement(r,u))}),t6=e6,_e=function(e,n){var i=arguments;if(n==null||!$0.call(n,"css"))return E.createElement.apply(void 0,i);var r=i.length,s=new Array(r);s[0]=t6,s[1]=QU(e,n);for(var o=2;o<r;o++)s[o]=i[o];return E.createElement.apply(null,s)};function W0(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return AL(e)}var n6=function(){var e=W0.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function i6(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const r6=Math.min,s6=Math.max,Lf=Math.round,Wh=Math.floor,If=t=>({x:t,y:t});function o6(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function Ap(){return typeof window<"u"}function zL(t){return jL(t)?(t.nodeName||"").toLowerCase():"#document"}function Mr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function BL(t){var e;return(e=(jL(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function jL(t){return Ap()?t instanceof Node||t instanceof Mr(t).Node:!1}function a6(t){return Ap()?t instanceof Element||t instanceof Mr(t).Element:!1}function U0(t){return Ap()?t instanceof HTMLElement||t instanceof Mr(t).HTMLElement:!1}function G1(t){return!Ap()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mr(t).ShadowRoot}function VL(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=Z0(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function l6(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function u6(t){return["html","body","#document"].includes(zL(t))}function Z0(t){return Mr(t).getComputedStyle(t)}function c6(t){if(zL(t)==="html")return t;const e=t.assignedSlot||t.parentNode||G1(t)&&t.host||BL(t);return G1(e)?e.host:e}function HL(t){const e=c6(t);return u6(e)?t.ownerDocument?t.ownerDocument.body:t.body:U0(e)&&VL(e)?e:HL(e)}function Of(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=HL(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),o=Mr(r);if(s){const l=_v(o);return e.concat(o,o.visualViewport||[],VL(r)?r:[],l&&n?Of(l):[])}return e.concat(r,Of(r,[],n))}function _v(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function h6(t){const e=Z0(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=U0(t),s=r?t.offsetWidth:n,o=r?t.offsetHeight:i,l=Lf(n)!==s||Lf(i)!==o;return l&&(n=s,i=o),{width:n,height:i,$:l}}function Y0(t){return a6(t)?t:t.contextElement}function K1(t){const e=Y0(t);if(!U0(e))return If(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=h6(e);let o=(s?Lf(n.width):n.width)/i,l=(s?Lf(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const d6=If(0);function f6(t){const e=Mr(t);return!l6()||!e.visualViewport?d6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function p6(t,e,n){return!1}function X1(t,e,n,i){e===void 0&&(e=!1);const r=t.getBoundingClientRect(),s=Y0(t);let o=If(1);e&&(o=K1(t));const l=p6()?f6(s):If(0);let u=(r.left+l.x)/o.x,h=(r.top+l.y)/o.y,d=r.width/o.x,p=r.height/o.y;if(s){const m=Mr(s),_=i;let v=m,y=_v(v);for(;y&&i&&_!==v;){const S=K1(y),x=y.getBoundingClientRect(),w=Z0(y),C=x.left+(y.clientLeft+parseFloat(w.paddingLeft))*S.x,k=x.top+(y.clientTop+parseFloat(w.paddingTop))*S.y;u*=S.x,h*=S.y,d*=S.x,p*=S.y,u+=C,h+=k,v=Mr(y),y=_v(v)}}return o6({width:d,height:p,x:u,y:h})}function m6(t,e){let n=null,i;const r=BL(t);function s(){var l;clearTimeout(i),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const{left:h,top:d,width:p,height:m}=t.getBoundingClientRect();if(l||e(),!p||!m)return;const _=Wh(d),v=Wh(r.clientWidth-(h+p)),y=Wh(r.clientHeight-(d+m)),S=Wh(h),w={rootMargin:-_+"px "+-v+"px "+-y+"px "+-S+"px",threshold:s6(0,r6(1,u))||1};let C=!0;function k(M){const T=M[0].intersectionRatio;if(T!==u){if(!C)return o();T?o(!1,T):i=setTimeout(()=>{o(!1,1e-7)},1e3)}C=!1}try{n=new IntersectionObserver(k,{...w,root:r.ownerDocument})}catch{n=new IntersectionObserver(k,w)}n.observe(t)}return o(!0),s}function g6(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,h=Y0(t),d=r||s?[...h?Of(h):[],...Of(e)]:[];d.forEach(x=>{r&&x.addEventListener("scroll",n,{passive:!0}),s&&x.addEventListener("resize",n)});const p=h&&l?m6(h,n):null;let m=-1,_=null;o&&(_=new ResizeObserver(x=>{let[w]=x;w&&w.target===h&&_&&(_.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var C;(C=_)==null||C.observe(e)})),n()}),h&&!u&&_.observe(h),_.observe(e));let v,y=u?X1(t):null;u&&S();function S(){const x=X1(t);y&&(x.x!==y.x||x.y!==y.y||x.width!==y.width||x.height!==y.height)&&n(),y=x,v=requestAnimationFrame(S)}return n(),()=>{var x;d.forEach(w=>{r&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),p==null||p(),(x=_)==null||x.disconnect(),_=null,u&&cancelAnimationFrame(v)}}var vv=E.useLayoutEffect,_6=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Rf=function(){};function v6(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function y6(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=[].concat(i);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(v6(t,o)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var q1=function(e){return k6(e)?e.filter(Boolean):wo(e)==="object"&&e!==null?[e]:[]},$L=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Dr(e,_6);return ve({},n)},Lt=function(e,n,i){var r=e.cx,s=e.getStyles,o=e.getClassNames,l=e.className;return{css:s(n,e),className:r(i??{},o(n,e),l)}};function Fp(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function x6(t){return Fp(t)?window.innerHeight:t.clientHeight}function WL(t){return Fp(t)?window.pageYOffset:t.scrollTop}function Df(t,e){if(Fp(t)){window.scrollTo(0,e);return}t.scrollTop=e}function b6(t){var e=getComputedStyle(t),n=e.position==="absolute",i=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var r=t;r=r.parentElement;)if(e=getComputedStyle(r),!(n&&e.position==="static")&&i.test(e.overflow+e.overflowY+e.overflowX))return r;return document.documentElement}function w6(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e}function Uh(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Rf,r=WL(t),s=e-r,o=10,l=0;function u(){l+=o;var h=w6(l,r,s,n);Df(t,h),l<n?window.requestAnimationFrame(u):i(t)}u()}function Q1(t,e){var n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),r=e.offsetHeight/3;i.bottom+r>n.bottom?Df(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+r,t.scrollHeight)):i.top-r<n.top&&Df(t,Math.max(e.offsetTop-r,0))}function S6(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function J1(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function C6(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var UL=!1,E6={get passive(){return UL=!0}},Zh=typeof window<"u"?window:{};Zh.addEventListener&&Zh.removeEventListener&&(Zh.addEventListener("p",Rf,E6),Zh.removeEventListener("p",Rf,!1));var T6=UL;function P6(t){return t!=null}function k6(t){return Array.isArray(t)}function Yh(t,e,n){return t?e:n}var M6=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var s=Object.entries(e).filter(function(o){var l=br(o,1),u=l[0];return!i.includes(u)});return s.reduce(function(o,l){var u=br(l,2),h=u[0],d=u[1];return o[h]=d,o},{})},L6=["children","innerProps"],I6=["children","innerProps"];function O6(t){var e=t.maxHeight,n=t.menuEl,i=t.minHeight,r=t.placement,s=t.shouldScroll,o=t.isFixedPosition,l=t.controlHeight,u=b6(n),h={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return h;var d=u.getBoundingClientRect(),p=d.height,m=n.getBoundingClientRect(),_=m.bottom,v=m.height,y=m.top,S=n.offsetParent.getBoundingClientRect(),x=S.top,w=o?window.innerHeight:x6(u),C=WL(u),k=parseInt(getComputedStyle(n).marginBottom,10),M=parseInt(getComputedStyle(n).marginTop,10),T=x-M,O=w-y,I=T+C,A=p-C-y,j=_-w+C+k,W=C+y-M,Z=160;switch(r){case"auto":case"bottom":if(O>=v)return{placement:"bottom",maxHeight:e};if(A>=v&&!o)return s&&Uh(u,j,Z),{placement:"bottom",maxHeight:e};if(!o&&A>=i||o&&O>=i){s&&Uh(u,j,Z);var de=o?O-k:A-k;return{placement:"bottom",maxHeight:de}}if(r==="auto"||o){var le=e,ue=o?T:I;return ue>=i&&(le=Math.min(ue-k-l,e)),{placement:"top",maxHeight:le}}if(r==="bottom")return s&&Df(u,j),{placement:"bottom",maxHeight:e};break;case"top":if(T>=v)return{placement:"top",maxHeight:e};if(I>=v&&!o)return s&&Uh(u,W,Z),{placement:"top",maxHeight:e};if(!o&&I>=i||o&&T>=i){var ee=e;return(!o&&I>=i||o&&T>=i)&&(ee=o?T-M:I-M),s&&Uh(u,W,Z),{placement:"top",maxHeight:ee}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return h}function R6(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var ZL=function(e){return e==="auto"?"bottom":e},D6=function(e,n){var i,r=e.placement,s=e.theme,o=s.borderRadius,l=s.spacing,u=s.colors;return ve((i={label:"menu"},ru(i,R6(r),"100%"),ru(i,"position","absolute"),ru(i,"width","100%"),ru(i,"zIndex",1),i),n?{}:{backgroundColor:u.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},YL=E.createContext(null),N6=function(e){var n=e.children,i=e.minMenuHeight,r=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,l=e.menuShouldScrollIntoView,u=e.theme,h=E.useContext(YL)||{},d=h.setPortalPlacement,p=E.useRef(null),m=E.useState(r),_=br(m,2),v=_[0],y=_[1],S=E.useState(null),x=br(S,2),w=x[0],C=x[1],k=u.spacing.controlHeight;return vv(function(){var M=p.current;if(M){var T=o==="fixed",O=l&&!T,I=O6({maxHeight:r,menuEl:M,minHeight:i,placement:s,shouldScroll:O,isFixedPosition:T,controlHeight:k});y(I.maxHeight),C(I.placement),d==null||d(I.placement)}},[r,s,o,l,i,d,k]),n({ref:p,placerProps:ve(ve({},e),{},{placement:w||ZL(s),maxHeight:v})})},A6=function(e){var n=e.children,i=e.innerRef,r=e.innerProps;return _e("div",ye({},Lt(e,"menu",{menu:!0}),{ref:i},r),n)},F6=A6,z6=function(e,n){var i=e.maxHeight,r=e.theme.spacing.baseUnit;return ve({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:r,paddingTop:r})},B6=function(e){var n=e.children,i=e.innerProps,r=e.innerRef,s=e.isMulti;return _e("div",ye({},Lt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:r},i),n)},GL=function(e,n){var i=e.theme,r=i.spacing.baseUnit,s=i.colors;return ve({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(r*2,"px ").concat(r*3,"px")})},j6=GL,V6=GL,H6=function(e){var n=e.children,i=n===void 0?"No options":n,r=e.innerProps,s=Dr(e,L6);return _e("div",ye({},Lt(ve(ve({},s),{},{children:i,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),i)},$6=function(e){var n=e.children,i=n===void 0?"Loading...":n,r=e.innerProps,s=Dr(e,I6);return _e("div",ye({},Lt(ve(ve({},s),{},{children:i,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),i)},W6=function(e){var n=e.rect,i=e.offset,r=e.position;return{left:n.left,position:r,top:i,width:n.width,zIndex:1}},U6=function(e){var n=e.appendTo,i=e.children,r=e.controlElement,s=e.innerProps,o=e.menuPlacement,l=e.menuPosition,u=E.useRef(null),h=E.useRef(null),d=E.useState(ZL(o)),p=br(d,2),m=p[0],_=p[1],v=E.useMemo(function(){return{setPortalPlacement:_}},[]),y=E.useState(null),S=br(y,2),x=S[0],w=S[1],C=E.useCallback(function(){if(r){var O=S6(r),I=l==="fixed"?0:window.pageYOffset,A=O[m]+I;(A!==(x==null?void 0:x.offset)||O.left!==(x==null?void 0:x.rect.left)||O.width!==(x==null?void 0:x.rect.width))&&w({offset:A,rect:O})}},[r,l,m,x==null?void 0:x.offset,x==null?void 0:x.rect.left,x==null?void 0:x.rect.width]);vv(function(){C()},[C]);var k=E.useCallback(function(){typeof h.current=="function"&&(h.current(),h.current=null),r&&u.current&&(h.current=g6(r,u.current,C,{elementResize:"ResizeObserver"in window}))},[r,C]);vv(function(){k()},[k]);var M=E.useCallback(function(O){u.current=O,k()},[k]);if(!n&&l!=="fixed"||!x)return null;var T=_e("div",ye({ref:M},Lt(ve(ve({},e),{},{offset:x.offset,position:l,rect:x.rect}),"menuPortal",{"menu-portal":!0}),s),i);return _e(YL.Provider,{value:v},n?bc.createPortal(T,n):T)},Z6=function(e){var n=e.isDisabled,i=e.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},Y6=function(e){var n=e.children,i=e.innerProps,r=e.isDisabled,s=e.isRtl;return _e("div",ye({},Lt(e,"container",{"--is-disabled":r,"--is-rtl":s}),i),n)},G6=function(e,n){var i=e.theme.spacing,r=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return ve({alignItems:"center",display:r&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},K6=function(e){var n=e.children,i=e.innerProps,r=e.isMulti,s=e.hasValue;return _e("div",ye({},Lt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":s}),i),n)},X6=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},q6=function(e){var n=e.children,i=e.innerProps;return _e("div",ye({},Lt(e,"indicatorsContainer",{indicators:!0}),i),n)},eC,Q6=["size"],J6=["innerProps","isRtl","size"],e8={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},KL=function(e){var n=e.size,i=Dr(e,Q6);return _e("svg",ye({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:e8},i))},G0=function(e){return _e(KL,ye({size:20},e),_e("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},XL=function(e){return _e(KL,ye({size:20},e),_e("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},qL=function(e,n){var i=e.isFocused,r=e.theme,s=r.spacing.baseUnit,o=r.colors;return ve({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:i?o.neutral60:o.neutral20,padding:s*2,":hover":{color:i?o.neutral80:o.neutral40}})},t8=qL,n8=function(e){var n=e.children,i=e.innerProps;return _e("div",ye({},Lt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),n||_e(XL,null))},i8=qL,r8=function(e){var n=e.children,i=e.innerProps;return _e("div",ye({},Lt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),n||_e(G0,null))},s8=function(e,n){var i=e.isDisabled,r=e.theme,s=r.spacing.baseUnit,o=r.colors;return ve({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:i?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},o8=function(e){var n=e.innerProps;return _e("span",ye({},n,Lt(e,"indicatorSeparator",{"indicator-separator":!0})))},a8=n6(eC||(eC=i6([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),l8=function(e,n){var i=e.isFocused,r=e.size,s=e.theme,o=s.colors,l=s.spacing.baseUnit;return ve({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},n?{}:{color:i?o.neutral60:o.neutral20,padding:l*2})},vg=function(e){var n=e.delay,i=e.offset;return _e("span",{css:W0({animation:"".concat(a8," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},u8=function(e){var n=e.innerProps,i=e.isRtl,r=e.size,s=r===void 0?4:r,o=Dr(e,J6);return _e("div",ye({},Lt(ve(ve({},o),{},{innerProps:n,isRtl:i,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),_e(vg,{delay:0,offset:i}),_e(vg,{delay:160,offset:!0}),_e(vg,{delay:320,offset:!i}))},c8=function(e,n){var i=e.isDisabled,r=e.isFocused,s=e.theme,o=s.colors,l=s.borderRadius,u=s.spacing;return ve({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:u.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:i?o.neutral5:o.neutral0,borderColor:i?o.neutral10:r?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:r?o.primary:o.neutral30}})},h8=function(e){var n=e.children,i=e.isDisabled,r=e.isFocused,s=e.innerRef,o=e.innerProps,l=e.menuIsOpen;return _e("div",ye({ref:s},Lt(e,"control",{control:!0,"control--is-disabled":i,"control--is-focused":r,"control--menu-is-open":l}),o,{"aria-disabled":i||void 0}),n)},d8=h8,f8=["data"],p8=function(e,n){var i=e.theme.spacing;return n?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},m8=function(e){var n=e.children,i=e.cx,r=e.getStyles,s=e.getClassNames,o=e.Heading,l=e.headingProps,u=e.innerProps,h=e.label,d=e.theme,p=e.selectProps;return _e("div",ye({},Lt(e,"group",{group:!0}),u),_e(o,ye({},l,{selectProps:p,theme:d,getStyles:r,getClassNames:s,cx:i}),h),_e("div",null,n))},g8=function(e,n){var i=e.theme,r=i.colors,s=i.spacing;return ve({label:"group",cursor:"default",display:"block"},n?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},_8=function(e){var n=$L(e);n.data;var i=Dr(n,f8);return _e("div",ye({},Lt(e,"groupHeading",{"group-heading":!0}),i))},v8=m8,y8=["innerRef","isDisabled","isHidden","inputClassName"],x8=function(e,n){var i=e.isDisabled,r=e.value,s=e.theme,o=s.spacing,l=s.colors;return ve(ve({visibility:i?"hidden":"visible",transform:r?"translateZ(0)":""},b8),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},QL={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},b8={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":ve({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},QL)},w8=function(e){return ve({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},QL)},S8=function(e){var n=e.cx,i=e.value,r=$L(e),s=r.innerRef,o=r.isDisabled,l=r.isHidden,u=r.inputClassName,h=Dr(r,y8);return _e("div",ye({},Lt(e,"input",{"input-container":!0}),{"data-value":i||""}),_e("input",ye({className:n({input:!0},u),ref:s,style:w8(l),disabled:o},h)))},C8=S8,E8=function(e,n){var i=e.theme,r=i.spacing,s=i.borderRadius,o=i.colors;return ve({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:r.baseUnit/2})},T8=function(e,n){var i=e.theme,r=i.borderRadius,s=i.colors,o=e.cropWithEllipsis;return ve({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:r/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},P8=function(e,n){var i=e.theme,r=i.spacing,s=i.borderRadius,o=i.colors,l=e.isFocused;return ve({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},JL=function(e){var n=e.children,i=e.innerProps;return _e("div",i,n)},k8=JL,M8=JL;function L8(t){var e=t.children,n=t.innerProps;return _e("div",ye({role:"button"},n),e||_e(G0,{size:14}))}var I8=function(e){var n=e.children,i=e.components,r=e.data,s=e.innerProps,o=e.isDisabled,l=e.removeProps,u=e.selectProps,h=i.Container,d=i.Label,p=i.Remove;return _e(h,{data:r,innerProps:ve(ve({},Lt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:u},_e(d,{data:r,innerProps:ve({},Lt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:u},n),_e(p,{data:r,innerProps:ve(ve({},Lt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},l),selectProps:u}))},O8=I8,R8=function(e,n){var i=e.isDisabled,r=e.isFocused,s=e.isSelected,o=e.theme,l=o.spacing,u=o.colors;return ve({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?u.primary:r?u.primary25:"transparent",color:i?u.neutral20:s?u.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:s?u.primary:u.primary50}})},D8=function(e){var n=e.children,i=e.isDisabled,r=e.isFocused,s=e.isSelected,o=e.innerRef,l=e.innerProps;return _e("div",ye({},Lt(e,"option",{option:!0,"option--is-disabled":i,"option--is-focused":r,"option--is-selected":s}),{ref:o,"aria-disabled":i},l),n)},N8=D8,A8=function(e,n){var i=e.theme,r=i.spacing,s=i.colors;return ve({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},F8=function(e){var n=e.children,i=e.innerProps;return _e("div",ye({},Lt(e,"placeholder",{placeholder:!0}),i),n)},z8=F8,B8=function(e,n){var i=e.isDisabled,r=e.theme,s=r.spacing,o=r.colors;return ve({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:i?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},j8=function(e){var n=e.children,i=e.isDisabled,r=e.innerProps;return _e("div",ye({},Lt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),r),n)},V8=j8,H8={ClearIndicator:r8,Control:d8,DropdownIndicator:n8,DownChevron:XL,CrossIcon:G0,Group:v8,GroupHeading:_8,IndicatorsContainer:q6,IndicatorSeparator:o8,Input:C8,LoadingIndicator:u8,Menu:F6,MenuList:B6,MenuPortal:U6,LoadingMessage:$6,NoOptionsMessage:H6,MultiValue:O8,MultiValueContainer:k8,MultiValueLabel:M8,MultiValueRemove:L8,Option:N8,Placeholder:z8,SelectContainer:Y6,SingleValue:V8,ValueContainer:K6},$8=function(e){return ve(ve({},H8),e.components)},tC=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function W8(t,e){return!!(t===e||tC(t)&&tC(e))}function U8(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!W8(t[n],e[n]))return!1;return!0}function Z8(t,e){e===void 0&&(e=U8);var n=null;function i(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var o=t.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return i.clear=function(){n=null},i}var Y8={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},G8=function(e){return _e("span",ye({css:Y8},e))},nC=G8,K8={guidance:function(e){var n=e.isSearchable,i=e.isMulti,r=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,i=e.label,r=i===void 0?"":i,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(r," is disabled. Select another option."):"option ".concat(r,", selected.");default:return""}},onFocus:function(e){var n=e.context,i=e.focused,r=e.options,s=e.label,o=s===void 0?"":s,l=e.selectValue,u=e.isDisabled,h=e.isSelected,d=e.isAppleDevice,p=function(y,S){return y&&y.length?"".concat(y.indexOf(S)+1," of ").concat(y.length):""};if(n==="value"&&l)return"value ".concat(o," focused, ").concat(p(l,i),".");if(n==="menu"&&d){var m=u?" disabled":"",_="".concat(h?" selected":"").concat(m);return"".concat(o).concat(_,", ").concat(p(r,i),".")}return""},onFilter:function(e){var n=e.inputValue,i=e.resultsMessage;return"".concat(i).concat(n?" for search term "+n:"",".")}},X8=function(e){var n=e.ariaSelection,i=e.focusedOption,r=e.focusedValue,s=e.focusableOptions,o=e.isFocused,l=e.selectValue,u=e.selectProps,h=e.id,d=e.isAppleDevice,p=u.ariaLiveMessages,m=u.getOptionLabel,_=u.inputValue,v=u.isMulti,y=u.isOptionDisabled,S=u.isSearchable,x=u.menuIsOpen,w=u.options,C=u.screenReaderStatus,k=u.tabSelectsValue,M=u.isLoading,T=u["aria-label"],O=u["aria-live"],I=E.useMemo(function(){return ve(ve({},K8),p||{})},[p]),A=E.useMemo(function(){var ue="";if(n&&I.onChange){var ee=n.option,re=n.options,z=n.removedValue,X=n.removedValues,$=n.value,te=function(it){return Array.isArray(it)?null:it},Q=z||ee||te($),ae=Q?m(Q):"",q=re||X||void 0,se=q?q.map(m):[],ne=ve({isDisabled:Q&&y(Q,l),label:ae,labels:se},n);ue=I.onChange(ne)}return ue},[n,I,y,l,m]),j=E.useMemo(function(){var ue="",ee=i||r,re=!!(i&&l&&l.includes(i));if(ee&&I.onFocus){var z={focused:ee,label:m(ee),isDisabled:y(ee,l),isSelected:re,options:s,context:ee===i?"menu":"value",selectValue:l,isAppleDevice:d};ue=I.onFocus(z)}return ue},[i,r,m,y,I,s,l,d]),W=E.useMemo(function(){var ue="";if(x&&w.length&&!M&&I.onFilter){var ee=C({count:s.length});ue=I.onFilter({inputValue:_,resultsMessage:ee})}return ue},[s,_,x,I,w,C,M]),Z=(n==null?void 0:n.action)==="initial-input-focus",de=E.useMemo(function(){var ue="";if(I.guidance){var ee=r?"value":x?"menu":"input";ue=I.guidance({"aria-label":T,context:ee,isDisabled:i&&y(i,l),isMulti:v,isSearchable:S,tabSelectsValue:k,isInitialFocus:Z})}return ue},[T,i,r,v,y,S,x,I,l,k,Z]),le=_e(E.Fragment,null,_e("span",{id:"aria-selection"},A),_e("span",{id:"aria-focused"},j),_e("span",{id:"aria-results"},W),_e("span",{id:"aria-guidance"},de));return _e(E.Fragment,null,_e(nC,{id:h},Z&&le),_e(nC,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!Z&&le))},q8=X8,yv=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Q8=new RegExp("["+yv.map(function(t){return t.letters}).join("")+"]","g"),eI={};for(var yg=0;yg<yv.length;yg++)for(var xg=yv[yg],bg=0;bg<xg.letters.length;bg++)eI[xg.letters[bg]]=xg.base;var tI=function(e){return e.replace(Q8,function(n){return eI[n]})},J8=Z8(tI),iC=function(e){return e.replace(/^\s+|\s+$/g,"")},e9=function(e){return"".concat(e.label," ").concat(e.value)},t9=function(e){return function(n,i){if(n.data.__isNew__)return!0;var r=ve({ignoreCase:!0,ignoreAccents:!0,stringify:e9,trim:!0,matchFrom:"any"},e),s=r.ignoreCase,o=r.ignoreAccents,l=r.stringify,u=r.trim,h=r.matchFrom,d=u?iC(i):i,p=u?iC(l(n)):l(n);return s&&(d=d.toLowerCase(),p=p.toLowerCase()),o&&(d=J8(d),p=tI(p)),h==="start"?p.substr(0,d.length)===d:p.indexOf(d)>-1}},n9=["innerRef"];function i9(t){var e=t.innerRef,n=Dr(t,n9),i=M6(n,"onExited","in","enter","exit","appear");return _e("input",ye({ref:e},i,{css:W0({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var r9=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function s9(t){var e=t.isEnabled,n=t.onBottomArrive,i=t.onBottomLeave,r=t.onTopArrive,s=t.onTopLeave,o=E.useRef(!1),l=E.useRef(!1),u=E.useRef(0),h=E.useRef(null),d=E.useCallback(function(S,x){if(h.current!==null){var w=h.current,C=w.scrollTop,k=w.scrollHeight,M=w.clientHeight,T=h.current,O=x>0,I=k-M-C,A=!1;I>x&&o.current&&(i&&i(S),o.current=!1),O&&l.current&&(s&&s(S),l.current=!1),O&&x>I?(n&&!o.current&&n(S),T.scrollTop=k,A=!0,o.current=!0):!O&&-x>C&&(r&&!l.current&&r(S),T.scrollTop=0,A=!0,l.current=!0),A&&r9(S)}},[n,i,r,s]),p=E.useCallback(function(S){d(S,S.deltaY)},[d]),m=E.useCallback(function(S){u.current=S.changedTouches[0].clientY},[]),_=E.useCallback(function(S){var x=u.current-S.changedTouches[0].clientY;d(S,x)},[d]),v=E.useCallback(function(S){if(S){var x=T6?{passive:!1}:!1;S.addEventListener("wheel",p,x),S.addEventListener("touchstart",m,x),S.addEventListener("touchmove",_,x)}},[_,m,p]),y=E.useCallback(function(S){S&&(S.removeEventListener("wheel",p,!1),S.removeEventListener("touchstart",m,!1),S.removeEventListener("touchmove",_,!1))},[_,m,p]);return E.useEffect(function(){if(e){var S=h.current;return v(S),function(){y(S)}}},[e,v,y]),function(S){h.current=S}}var rC=["boxSizing","height","overflow","paddingRight","position"],sC={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function oC(t){t.cancelable&&t.preventDefault()}function aC(t){t.stopPropagation()}function lC(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function uC(){return"ontouchstart"in window||navigator.maxTouchPoints}var cC=!!(typeof window<"u"&&window.document&&window.document.createElement),Wl=0,na={capture:!1,passive:!1};function o9(t){var e=t.isEnabled,n=t.accountForScrollbars,i=n===void 0?!0:n,r=E.useRef({}),s=E.useRef(null),o=E.useCallback(function(u){if(cC){var h=document.body,d=h&&h.style;if(i&&rC.forEach(function(v){var y=d&&d[v];r.current[v]=y}),i&&Wl<1){var p=parseInt(r.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,_=window.innerWidth-m+p||0;Object.keys(sC).forEach(function(v){var y=sC[v];d&&(d[v]=y)}),d&&(d.paddingRight="".concat(_,"px"))}h&&uC()&&(h.addEventListener("touchmove",oC,na),u&&(u.addEventListener("touchstart",lC,na),u.addEventListener("touchmove",aC,na))),Wl+=1}},[i]),l=E.useCallback(function(u){if(cC){var h=document.body,d=h&&h.style;Wl=Math.max(Wl-1,0),i&&Wl<1&&rC.forEach(function(p){var m=r.current[p];d&&(d[p]=m)}),h&&uC()&&(h.removeEventListener("touchmove",oC,na),u&&(u.removeEventListener("touchstart",lC,na),u.removeEventListener("touchmove",aC,na)))}},[i]);return E.useEffect(function(){if(e){var u=s.current;return o(u),function(){l(u)}}},[e,o,l]),function(u){s.current=u}}var a9=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},l9={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function u9(t){var e=t.children,n=t.lockEnabled,i=t.captureEnabled,r=i===void 0?!0:i,s=t.onBottomArrive,o=t.onBottomLeave,l=t.onTopArrive,u=t.onTopLeave,h=s9({isEnabled:r,onBottomArrive:s,onBottomLeave:o,onTopArrive:l,onTopLeave:u}),d=o9({isEnabled:n}),p=function(_){h(_),d(_)};return _e(E.Fragment,null,n&&_e("div",{onClick:a9,css:l9}),e(p))}var c9={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},h9=function(e){var n=e.name,i=e.onFocus;return _e("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:c9,value:"",onChange:function(){}})},d9=h9;function K0(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function f9(){return K0(/^iPhone/i)}function nI(){return K0(/^Mac/i)}function p9(){return K0(/^iPad/i)||nI()&&navigator.maxTouchPoints>1}function m9(){return f9()||p9()}function g9(){return nI()||m9()}var _9=function(e){return e.label},v9=function(e){return e.label},y9=function(e){return e.value},x9=function(e){return!!e.isDisabled},b9={clearIndicator:i8,container:Z6,control:c8,dropdownIndicator:t8,group:p8,groupHeading:g8,indicatorsContainer:X6,indicatorSeparator:s8,input:x8,loadingIndicator:l8,loadingMessage:V6,menu:D6,menuList:z6,menuPortal:W6,multiValue:E8,multiValueLabel:T8,multiValueRemove:P8,noOptionsMessage:j6,option:R8,placeholder:A8,singleValue:B8,valueContainer:G6},w9={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},S9=4,iI=4,C9=38,E9=iI*2,T9={baseUnit:iI,controlHeight:C9,menuGutter:E9},wg={borderRadius:S9,colors:w9,spacing:T9},P9={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:J1(),captureMenuScroll:!J1(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:t9(),formatGroupLabel:_9,getOptionLabel:v9,getOptionValue:y9,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:x9,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!C6(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function hC(t,e,n,i){var r=oI(t,e,n),s=aI(t,e,n),o=sI(t,e),l=Nf(t,e);return{type:"option",data:e,isDisabled:r,isSelected:s,label:o,value:l,index:i}}function wd(t,e){return t.options.map(function(n,i){if("options"in n){var r=n.options.map(function(o,l){return hC(t,o,e,l)}).filter(function(o){return fC(t,o)});return r.length>0?{type:"group",data:n,options:r,index:i}:void 0}var s=hC(t,n,e,i);return fC(t,s)?s:void 0}).filter(P6)}function rI(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,A0(n.options.map(function(i){return i.data}))):e.push(n.data),e},[])}function dC(t,e){return t.reduce(function(n,i){return i.type==="group"?n.push.apply(n,A0(i.options.map(function(r){return{data:r.data,id:"".concat(e,"-").concat(i.index,"-").concat(r.index)}}))):n.push({data:i.data,id:"".concat(e,"-").concat(i.index)}),n},[])}function k9(t,e){return rI(wd(t,e))}function fC(t,e){var n=t.inputValue,i=n===void 0?"":n,r=e.data,s=e.isSelected,o=e.label,l=e.value;return(!uI(t)||!s)&&lI(t,{label:o,value:l,data:r},i)}function M9(t,e){var n=t.focusedValue,i=t.selectValue,r=i.indexOf(n);if(r>-1){var s=e.indexOf(n);if(s>-1)return n;if(r<e.length)return e[r]}return null}function L9(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var Sg=function(e,n){var i,r=(i=e.find(function(s){return s.data===n}))===null||i===void 0?void 0:i.id;return r||null},sI=function(e,n){return e.getOptionLabel(n)},Nf=function(e,n){return e.getOptionValue(n)};function oI(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function aI(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var i=Nf(t,e);return n.some(function(r){return Nf(t,r)===i})}function lI(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var uI=function(e){var n=e.hideSelectedOptions,i=e.isMulti;return n===void 0?i:n},I9=1,cI=function(t){WW(n,t);var e=YW(n);function n(i){var r;if(HW(this,n),r=e.call(this,i),r.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.isAppleDevice=g9(),r.controlRef=null,r.getControlRef=function(u){r.controlRef=u},r.focusedOptionRef=null,r.getFocusedOptionRef=function(u){r.focusedOptionRef=u},r.menuListRef=null,r.getMenuListRef=function(u){r.menuListRef=u},r.inputRef=null,r.getInputRef=function(u){r.inputRef=u},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(u,h){var d=r.props,p=d.onChange,m=d.name;h.name=m,r.ariaOnChange(u,h),p(u,h)},r.setValue=function(u,h,d){var p=r.props,m=p.closeMenuOnSelect,_=p.isMulti,v=p.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:v}),m&&(r.setState({inputIsHiddenAfterUpdate:!_}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(u,{action:h,option:d})},r.selectOption=function(u){var h=r.props,d=h.blurInputOnSelect,p=h.isMulti,m=h.name,_=r.state.selectValue,v=p&&r.isOptionSelected(u,_),y=r.isOptionDisabled(u,_);if(v){var S=r.getOptionValue(u);r.setValue(_.filter(function(x){return r.getOptionValue(x)!==S}),"deselect-option",u)}else if(!y)p?r.setValue([].concat(A0(_),[u]),"select-option",u):r.setValue(u,"select-option");else{r.ariaOnChange(u,{action:"select-option",option:u,name:m});return}d&&r.blurInput()},r.removeValue=function(u){var h=r.props.isMulti,d=r.state.selectValue,p=r.getOptionValue(u),m=d.filter(function(v){return r.getOptionValue(v)!==p}),_=Yh(h,m,m[0]||null);r.onChange(_,{action:"remove-value",removedValue:u}),r.focusInput()},r.clearValue=function(){var u=r.state.selectValue;r.onChange(Yh(r.props.isMulti,[],null),{action:"clear",removedValues:u})},r.popValue=function(){var u=r.props.isMulti,h=r.state.selectValue,d=h[h.length-1],p=h.slice(0,h.length-1),m=Yh(u,p,p[0]||null);d&&r.onChange(m,{action:"pop-value",removedValue:d})},r.getFocusedOptionId=function(u){return Sg(r.state.focusableOptionsWithIds,u)},r.getFocusableOptionsWithIds=function(){return dC(wd(r.props,r.state.selectValue),r.getElementId("option"))},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var u=arguments.length,h=new Array(u),d=0;d<u;d++)h[d]=arguments[d];return y6.apply(void 0,[r.props.classNamePrefix].concat(h))},r.getOptionLabel=function(u){return sI(r.props,u)},r.getOptionValue=function(u){return Nf(r.props,u)},r.getStyles=function(u,h){var d=r.props.unstyled,p=b9[u](h,d);p.boxSizing="border-box";var m=r.props.styles[u];return m?m(p,h):p},r.getClassNames=function(u,h){var d,p;return(d=(p=r.props.classNames)[u])===null||d===void 0?void 0:d.call(p,h)},r.getElementId=function(u){return"".concat(r.state.instancePrefix,"-").concat(u)},r.getComponents=function(){return $8(r.props)},r.buildCategorizedOptions=function(){return wd(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return rI(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(u,h){r.setState({ariaSelection:ve({value:u},h)})},r.onMenuMouseDown=function(u){u.button===0&&(u.stopPropagation(),u.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(u){r.blockOptionHover=!1},r.onControlMouseDown=function(u){if(!u.defaultPrevented){var h=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&r.onMenuClose():h&&r.openMenu("first"):(h&&(r.openAfterFocus=!0),r.focusInput()),u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&u.preventDefault()}},r.onDropdownIndicatorMouseDown=function(u){if(!(u&&u.type==="mousedown"&&u.button!==0)&&!r.props.isDisabled){var h=r.props,d=h.isMulti,p=h.menuIsOpen;r.focusInput(),p?(r.setState({inputIsHiddenAfterUpdate:!d}),r.onMenuClose()):r.openMenu("first"),u.preventDefault()}},r.onClearIndicatorMouseDown=function(u){u&&u.type==="mousedown"&&u.button!==0||(r.clearValue(),u.preventDefault(),r.openAfterFocus=!1,u.type==="touchend"?r.focusInput():setTimeout(function(){return r.focusInput()}))},r.onScroll=function(u){typeof r.props.closeMenuOnScroll=="boolean"?u.target instanceof HTMLElement&&Fp(u.target)&&r.props.onMenuClose():typeof r.props.closeMenuOnScroll=="function"&&r.props.closeMenuOnScroll(u)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(u){var h=u.touches,d=h&&h.item(0);d&&(r.initialTouchX=d.clientX,r.initialTouchY=d.clientY,r.userIsDragging=!1)},r.onTouchMove=function(u){var h=u.touches,d=h&&h.item(0);if(d){var p=Math.abs(d.clientX-r.initialTouchX),m=Math.abs(d.clientY-r.initialTouchY),_=5;r.userIsDragging=p>_||m>_}},r.onTouchEnd=function(u){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(u.target)&&r.menuListRef&&!r.menuListRef.contains(u.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(u){r.userIsDragging||r.onControlMouseDown(u)},r.onClearIndicatorTouchEnd=function(u){r.userIsDragging||r.onClearIndicatorMouseDown(u)},r.onDropdownIndicatorTouchEnd=function(u){r.userIsDragging||r.onDropdownIndicatorMouseDown(u)},r.handleInputChange=function(u){var h=r.props.inputValue,d=u.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(d,{action:"input-change",prevInputValue:h}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(u){r.props.onFocus&&r.props.onFocus(u),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(u){var h=r.props.inputValue;if(r.menuListRef&&r.menuListRef.contains(document.activeElement)){r.inputRef.focus();return}r.props.onBlur&&r.props.onBlur(u),r.onInputChange("",{action:"input-blur",prevInputValue:h}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1})},r.onOptionHover=function(u){if(!(r.blockOptionHover||r.state.focusedOption===u)){var h=r.getFocusableOptions(),d=h.indexOf(u);r.setState({focusedOption:u,focusedOptionId:d>-1?r.getFocusedOptionId(u):null})}},r.shouldHideSelectedOptions=function(){return uI(r.props)},r.onValueInputFocus=function(u){u.preventDefault(),u.stopPropagation(),r.focus()},r.onKeyDown=function(u){var h=r.props,d=h.isMulti,p=h.backspaceRemovesValue,m=h.escapeClearsValue,_=h.inputValue,v=h.isClearable,y=h.isDisabled,S=h.menuIsOpen,x=h.onKeyDown,w=h.tabSelectsValue,C=h.openMenuOnFocus,k=r.state,M=k.focusedOption,T=k.focusedValue,O=k.selectValue;if(!y&&!(typeof x=="function"&&(x(u),u.defaultPrevented))){switch(r.blockOptionHover=!0,u.key){case"ArrowLeft":if(!d||_)return;r.focusValue("previous");break;case"ArrowRight":if(!d||_)return;r.focusValue("next");break;case"Delete":case"Backspace":if(_)return;if(T)r.removeValue(T);else{if(!p)return;d?r.popValue():v&&r.clearValue()}break;case"Tab":if(r.isComposing||u.shiftKey||!S||!w||!M||C&&r.isOptionSelected(M,O))return;r.selectOption(M);break;case"Enter":if(u.keyCode===229)break;if(S){if(!M||r.isComposing)return;r.selectOption(M);break}return;case"Escape":S?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:_}),r.onMenuClose()):v&&m&&r.clearValue();break;case" ":if(_)return;if(!S){r.openMenu("first");break}if(!M)return;r.selectOption(M);break;case"ArrowUp":S?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":S?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!S)return;r.focusOption("pageup");break;case"PageDown":if(!S)return;r.focusOption("pagedown");break;case"Home":if(!S)return;r.focusOption("first");break;case"End":if(!S)return;r.focusOption("last");break;default:return}u.preventDefault()}},r.state.instancePrefix="react-select-"+(r.props.instanceId||++I9),r.state.selectValue=q1(i.value),i.menuIsOpen&&r.state.selectValue.length){var s=r.getFocusableOptionsWithIds(),o=r.buildFocusableOptions(),l=o.indexOf(r.state.selectValue[0]);r.state.focusableOptionsWithIds=s,r.state.focusedOption=o[l],r.state.focusedOptionId=Sg(s,o[l])}return r}return $W(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Q1(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(r){var s=this.props,o=s.isDisabled,l=s.menuIsOpen,u=this.state.isFocused;(u&&!o&&r.isDisabled||u&&l&&!r.menuIsOpen)&&this.focusInput(),u&&o&&!r.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!u&&!o&&r.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Q1(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(r,s){this.props.onInputChange(r,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(r){var s=this,o=this.state,l=o.selectValue,u=o.isFocused,h=this.buildFocusableOptions(),d=r==="first"?0:h.length-1;if(!this.props.isMulti){var p=h.indexOf(l[0]);p>-1&&(d=p)}this.scrollToFocusedOptionOnUpdate=!(u&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:h[d],focusedOptionId:this.getFocusedOptionId(h[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(r){var s=this.state,o=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var u=o.indexOf(l);l||(u=-1);var h=o.length-1,d=-1;if(o.length){switch(r){case"previous":u===0?d=0:u===-1?d=h:d=u-1;break;case"next":u>-1&&u<h&&(d=u+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var u=0,h=l.indexOf(o);o||(h=-1),r==="up"?u=h>0?h-1:l.length-1:r==="down"?u=(h+1)%l.length:r==="pageup"?(u=h-s,u<0&&(u=0)):r==="pagedown"?(u=h+s,u>l.length-1&&(u=l.length-1)):r==="last"&&(u=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[u],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[u])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(wg):ve(ve({},wg),this.props.theme):wg}},{key:"getCommonProps",value:function(){var r=this.clearValue,s=this.cx,o=this.getStyles,l=this.getClassNames,u=this.getValue,h=this.selectOption,d=this.setValue,p=this.props,m=p.isMulti,_=p.isRtl,v=p.options,y=this.hasValue();return{clearValue:r,cx:s,getStyles:o,getClassNames:l,getValue:u,hasValue:y,isMulti:m,isRtl:_,options:v,selectOption:h,selectProps:p,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var r=this.state.selectValue;return r.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var r=this.props,s=r.isClearable,o=r.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(r,s){return oI(this.props,r,s)}},{key:"isOptionSelected",value:function(r,s){return aI(this.props,r,s)}},{key:"filterOption",value:function(r,s){return lI(this.props,r,s)}},{key:"formatOptionLabel",value:function(r,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(r,{context:s,inputValue:o,selectValue:l})}else return this.getOptionLabel(r)}},{key:"formatGroupLabel",value:function(r){return this.props.formatGroupLabel(r)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var r=this.props,s=r.isDisabled,o=r.isSearchable,l=r.inputId,u=r.inputValue,h=r.tabIndex,d=r.form,p=r.menuIsOpen,m=r.required,_=this.getComponents(),v=_.Input,y=this.state,S=y.inputIsHidden,x=y.ariaSelection,w=this.commonProps,C=l||this.getElementId("input"),k=ve(ve(ve({"aria-autocomplete":"list","aria-expanded":p,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},p&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(x==null?void 0:x.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?E.createElement(v,ye({},w,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:C,innerRef:this.getInputRef,isDisabled:s,isHidden:S,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:h,form:d,type:"text",value:u},k)):E.createElement(i9,ye({id:C,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Rf,onFocus:this.onInputFocus,disabled:s,tabIndex:h,inputMode:"none",form:d,value:""},k))}},{key:"renderPlaceholderOrValue",value:function(){var r=this,s=this.getComponents(),o=s.MultiValue,l=s.MultiValueContainer,u=s.MultiValueLabel,h=s.MultiValueRemove,d=s.SingleValue,p=s.Placeholder,m=this.commonProps,_=this.props,v=_.controlShouldRenderValue,y=_.isDisabled,S=_.isMulti,x=_.inputValue,w=_.placeholder,C=this.state,k=C.selectValue,M=C.focusedValue,T=C.isFocused;if(!this.hasValue()||!v)return x?null:E.createElement(p,ye({},m,{key:"placeholder",isDisabled:y,isFocused:T,innerProps:{id:this.getElementId("placeholder")}}),w);if(S)return k.map(function(I,A){var j=I===M,W="".concat(r.getOptionLabel(I),"-").concat(r.getOptionValue(I));return E.createElement(o,ye({},m,{components:{Container:l,Label:u,Remove:h},isFocused:j,isDisabled:y,key:W,index:A,removeProps:{onClick:function(){return r.removeValue(I)},onTouchEnd:function(){return r.removeValue(I)},onMouseDown:function(de){de.preventDefault()}},data:I}),r.formatOptionLabel(I,"value"))});if(x)return null;var O=k[0];return E.createElement(d,ye({},m,{data:O,isDisabled:y}),this.formatOptionLabel(O,"value"))}},{key:"renderClearIndicator",value:function(){var r=this.getComponents(),s=r.ClearIndicator,o=this.commonProps,l=this.props,u=l.isDisabled,h=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||u||!this.hasValue()||h)return null;var p={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return E.createElement(s,ye({},o,{innerProps:p,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var r=this.getComponents(),s=r.LoadingIndicator,o=this.commonProps,l=this.props,u=l.isDisabled,h=l.isLoading,d=this.state.isFocused;if(!s||!h)return null;var p={"aria-hidden":"true"};return E.createElement(s,ye({},o,{innerProps:p,isDisabled:u,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator,o=r.IndicatorSeparator;if(!s||!o)return null;var l=this.commonProps,u=this.props.isDisabled,h=this.state.isFocused;return E.createElement(o,ye({},l,{isDisabled:u,isFocused:h}))}},{key:"renderDropdownIndicator",value:function(){var r=this.getComponents(),s=r.DropdownIndicator;if(!s)return null;var o=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused,h={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return E.createElement(s,ye({},o,{innerProps:h,isDisabled:l,isFocused:u}))}},{key:"renderMenu",value:function(){var r=this,s=this.getComponents(),o=s.Group,l=s.GroupHeading,u=s.Menu,h=s.MenuList,d=s.MenuPortal,p=s.LoadingMessage,m=s.NoOptionsMessage,_=s.Option,v=this.commonProps,y=this.state.focusedOption,S=this.props,x=S.captureMenuScroll,w=S.inputValue,C=S.isLoading,k=S.loadingMessage,M=S.minMenuHeight,T=S.maxMenuHeight,O=S.menuIsOpen,I=S.menuPlacement,A=S.menuPosition,j=S.menuPortalTarget,W=S.menuShouldBlockScroll,Z=S.menuShouldScrollIntoView,de=S.noOptionsMessage,le=S.onMenuScrollToTop,ue=S.onMenuScrollToBottom;if(!O)return null;var ee=function(ae,q){var se=ae.type,ne=ae.data,ke=ae.isDisabled,it=ae.isSelected,gn=ae.label,kn=ae.value,nt=y===ne,Et=ke?void 0:function(){return r.onOptionHover(ne)},Mn=ke?void 0:function(){return r.selectOption(ne)},Vn="".concat(r.getElementId("option"),"-").concat(q),Ae={id:Vn,onClick:Mn,onMouseMove:Et,onMouseOver:Et,tabIndex:-1,role:"option","aria-selected":r.isAppleDevice?void 0:it};return E.createElement(_,ye({},v,{innerProps:Ae,data:ne,isDisabled:ke,isSelected:it,key:Vn,label:gn,type:se,value:kn,isFocused:nt,innerRef:nt?r.getFocusedOptionRef:void 0}),r.formatOptionLabel(ae.data,"menu"))},re;if(this.hasOptions())re=this.getCategorizedOptions().map(function(Q){if(Q.type==="group"){var ae=Q.data,q=Q.options,se=Q.index,ne="".concat(r.getElementId("group"),"-").concat(se),ke="".concat(ne,"-heading");return E.createElement(o,ye({},v,{key:ne,data:ae,options:q,Heading:l,headingProps:{id:ke,data:Q.data},label:r.formatGroupLabel(Q.data)}),Q.options.map(function(it){return ee(it,"".concat(se,"-").concat(it.index))}))}else if(Q.type==="option")return ee(Q,"".concat(Q.index))});else if(C){var z=k({inputValue:w});if(z===null)return null;re=E.createElement(p,v,z)}else{var X=de({inputValue:w});if(X===null)return null;re=E.createElement(m,v,X)}var $={minMenuHeight:M,maxMenuHeight:T,menuPlacement:I,menuPosition:A,menuShouldScrollIntoView:Z},te=E.createElement(N6,ye({},v,$),function(Q){var ae=Q.ref,q=Q.placerProps,se=q.placement,ne=q.maxHeight;return E.createElement(u,ye({},v,$,{innerRef:ae,innerProps:{onMouseDown:r.onMenuMouseDown,onMouseMove:r.onMenuMouseMove},isLoading:C,placement:se}),E.createElement(u9,{captureEnabled:x,onTopArrive:le,onBottomArrive:ue,lockEnabled:W},function(ke){return E.createElement(h,ye({},v,{innerRef:function(gn){r.getMenuListRef(gn),ke(gn)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:r.getElementId("listbox")},isLoading:C,maxHeight:ne,focusedOption:y}),re)}))});return j||A==="fixed"?E.createElement(d,ye({},v,{appendTo:j,controlElement:this.controlRef,menuPlacement:I,menuPosition:A}),te):te}},{key:"renderFormField",value:function(){var r=this,s=this.props,o=s.delimiter,l=s.isDisabled,u=s.isMulti,h=s.name,d=s.required,p=this.state.selectValue;if(d&&!this.hasValue()&&!l)return E.createElement(d9,{name:h,onFocus:this.onValueInputFocus});if(!(!h||l))if(u)if(o){var m=p.map(function(y){return r.getOptionValue(y)}).join(o);return E.createElement("input",{name:h,type:"hidden",value:m})}else{var _=p.length>0?p.map(function(y,S){return E.createElement("input",{key:"i-".concat(S),name:h,type:"hidden",value:r.getOptionValue(y)})}):E.createElement("input",{name:h,type:"hidden",value:""});return E.createElement("div",null,_)}else{var v=p[0]?this.getOptionValue(p[0]):"";return E.createElement("input",{name:h,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var r=this.commonProps,s=this.state,o=s.ariaSelection,l=s.focusedOption,u=s.focusedValue,h=s.isFocused,d=s.selectValue,p=this.getFocusableOptions();return E.createElement(q8,ye({},r,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:u,isFocused:h,selectValue:d,focusableOptions:p,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var r=this.getComponents(),s=r.Control,o=r.IndicatorsContainer,l=r.SelectContainer,u=r.ValueContainer,h=this.props,d=h.className,p=h.id,m=h.isDisabled,_=h.menuIsOpen,v=this.state.isFocused,y=this.commonProps=this.getCommonProps();return E.createElement(l,ye({},y,{className:d,innerProps:{id:p,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:v}),this.renderLiveRegion(),E.createElement(s,ye({},y,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:v,menuIsOpen:_}),E.createElement(u,ye({},y,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),E.createElement(o,ye({},y,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(r,s){var o=s.prevProps,l=s.clearFocusValueOnUpdate,u=s.inputIsHiddenAfterUpdate,h=s.ariaSelection,d=s.isFocused,p=s.prevWasFocused,m=s.instancePrefix,_=r.options,v=r.value,y=r.menuIsOpen,S=r.inputValue,x=r.isMulti,w=q1(v),C={};if(o&&(v!==o.value||_!==o.options||y!==o.menuIsOpen||S!==o.inputValue)){var k=y?k9(r,w):[],M=y?dC(wd(r,w),"".concat(m,"-option")):[],T=l?M9(s,w):null,O=L9(s,k),I=Sg(M,O);C={selectValue:w,focusedOption:O,focusedOptionId:I,focusableOptionsWithIds:M,focusedValue:T,clearFocusValueOnUpdate:!1}}var A=u!=null&&r!==o?{inputIsHidden:u,inputIsHiddenAfterUpdate:void 0}:{},j=h,W=d&&p;return d&&!W&&(j={value:Yh(x,w,w[0]||null),options:w,action:"initial-input-focus"},W=!p),(h==null?void 0:h.action)==="initial-input-focus"&&(j=null),ve(ve(ve({},C),A),{},{prevProps:r,ariaSelection:j,prevWasFocused:W})}}]),n}(E.Component);cI.defaultProps=P9;var O9=E.forwardRef(function(t,e){var n=VW(t);return E.createElement(cI,ye({ref:e},n))}),R9=O9;const D9=()=>{const[t,e]=E.useState([]),[n,i]=E.useState([]),[r,s]=E.useState({}),[o,l]=E.useState(!1),[u,h]=E.useState(!1);E.useEffect(()=>{(async()=>{const k=Ea(Ta,"devices"),M=await i0(k);M.exists()&&e(M.val())})()},[]);const d=C=>{const k=C.map(M=>M.value);i(k)},p=async()=>{l(!0),h(!1);const C=n.map(async M=>{const T=t[M];return{...T,sensor_data:T.sensor_data||{}}}),k=await Promise.all(C);s(m(k)),l(!1),h(!0)},m=C=>{const k={ph:{},tds:{},turbidity:{}};return C.forEach(M=>{for(const T in k)for(const[O,I]of Object.entries(M.sensor_data[T]||{}))k[T][O]||(k[T][O]=0),k[T][O]+=I}),k},_=(C,k,M)=>{var O;const T=(O=document.getElementById(C))==null?void 0:O.getContext("2d");T&&new Vi(T,{type:"line",data:{labels:Object.keys(k),datasets:[{label:M,data:Object.values(k),borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)"}]},options:{responsive:!0,maintainAspectRatio:!1}})},v=C=>!C||Object.keys(C).length===0?0:(Object.values(C).reduce((M,T)=>M+T,0)/Object.keys(C).length).toFixed(2),y=v(r.ph),S=v(r.tds),x=v(r.turbidity);E.useEffect(()=>{u&&r&&(_("phChart",r.ph||{},"Average pH Levels"),_("tdsChart",r.tds||{},"Average TDS Levels"),_("turbidityChart",r.turbidity||{},"Average Turbidity Levels"))},[r,u]);const w=Object.keys(t).map(C=>({value:C,label:C}));return R.jsxs("div",{className:"p-4",children:[R.jsxs("div",{className:"flex",children:[R.jsx("label",{className:"block text-lg font-semibold",children:"Select Sensors:"}),R.jsx("div",{className:"col-6",children:R.jsx(R9,{isMulti:!0,options:w,onChange:d,className:"mt-2 mb-4 p-2",placeholder:"Select devices..."})}),R.jsx("button",{onClick:p,className:"h-9 px-4 mt-4 bg-blue-500 text-white rounded shadow-md hover:bg-blue-600",children:"Get Data"})]}),o?R.jsx("div",{className:"flex justify-center items-center h-32",children:R.jsx("div",{className:"loader",children:"Loading..."})}):u&&n.length>0&&R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[R.jsxs("div",{className:"border p-4 rounded shadow-lg",children:[R.jsx("h2",{className:"text-xl font-semibold",children:"Sensor Information"}),R.jsx("h2",{className:"text-xl font-semibold mt-4",children:"Average Values (All Selected Devices)"}),R.jsxs("div",{className:"flex flex-col space-y-2 mt-2",children:[R.jsxs("div",{className:"flex justify-between",children:[R.jsx("span",{className:"font-medium",children:"Average pH:"}),R.jsx("span",{children:y})]}),R.jsxs("div",{className:"flex justify-between",children:[R.jsx("span",{className:"font-medium",children:"Average TDS:"}),R.jsx("span",{children:S})]}),R.jsxs("div",{className:"flex justify-between",children:[R.jsx("span",{className:"font-medium",children:"Average Turbidity:"}),R.jsx("span",{children:x})]})]}),R.jsx("div",{className:"mt-4",children:R.jsxs(gL,{center:[20.5937,78.9629],zoom:5,style:{height:"330px",width:"100%"},children:[R.jsx(yL,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://osm.org/copyright">OpenStreetMap</a> contributors'}),R.jsx(A9,{selectedDevices:n,devices:t})]})})]}),R.jsxs("div",{className:"flex flex-col gap-4",children:[R.jsx("div",{className:"bg-red-200 p-2 rounded",style:{height:"190px"},children:R.jsx("canvas",{id:"phChart"})}),R.jsx("div",{className:"bg-green-200 p-2 rounded",style:{height:"190px"},children:R.jsx("canvas",{id:"tdsChart"})}),R.jsx("div",{className:"bg-blue-200 p-2 rounded",style:{height:"190px"},children:R.jsx("canvas",{id:"turbidityChart"})})]})]})]})},N9=new PW.Icon({iconUrl:"https://img.icons8.com/color/48/map-pin.png",iconSize:[48,48],iconAnchor:[24,48],popupAnchor:[0,-48]}),A9=({selectedDevices:t,devices:e})=>{const n=RW();return E.useEffect(()=>{if(t.length){const i=[];t.forEach(r=>{var o;const s=(o=e[r])==null?void 0:o.location;if(s){const[l,u]=s.split(",").map(h=>parseFloat(h));i.push([l,u])}}),i.length&&n.fitBounds(i)}},[t,e,n]),R.jsx(R.Fragment,{children:t.map(i=>{var s;const r=(s=e[i])==null?void 0:s.location;if(r){const[o,l]=r.split(",").map(u=>parseFloat(u));return R.jsx(_L,{position:[o,l],icon:N9,children:R.jsxs(vL,{children:["Device Location: ",r]})},i)}return null})})},F9=()=>{const[t,e]=E.useState(!1),[n,i]=E.useState(!1),[r,s]=E.useState(""),[o,l]=E.useState(""),[u,h]=E.useState("Client"),[d,p]=E.useState("Active"),[m,_]=E.useState([]),[v,y]=E.useState(null),S=()=>{e(!1),i(!1)},x=()=>e(!0),w=async()=>{const T={username:r,password:o,role:u,status:d};try{const O=Ea(Ta,"members");await fj(O,T),e(!1),M()}catch(O){console.error("Error saving member:",O)}},C=T=>{y(T.id),s(T.username),h(T.role),p(T.status),i(!0)},k=async()=>{const T={role:u,status:d};try{const O=Ea(Ta,`members/${v}`);await mj(O,T),i(!1),M()}catch(O){console.error("Error updating member:",O)}},M=()=>{s(""),l(""),h("Client"),p("Active")};return E.useEffect(()=>{const T=Ea(Ta,"members");_j(T,O=>{const I=O.val(),A=I?Object.keys(I).map(j=>({id:j,...I[j]})):[];_(A)})},[]),R.jsxs("div",{children:[R.jsxs("div",{className:"flex justify-between",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"text-start font-semibold text-xl",children:"Member Management"}),R.jsx("p",{children:"Be sure to manage your members correctly."})]}),R.jsx("div",{children:R.jsx("button",{className:"bg-sky-600 hover:bg-sky-900 text-white font-bold py-2 px-4 rounded",onClick:x,children:"Add Member"})})]}),R.jsx("div",{className:"mt-10",children:R.jsxs("table",{className:"table-auto border min-w-full",children:[R.jsx("thead",{className:"bg-gray-200",children:R.jsxs("tr",{children:[R.jsx("th",{className:"px-4 py-2 w-64 border",children:"User Name"}),R.jsx("th",{className:"px-4 py-2 w-48 border",children:"Role"}),R.jsx("th",{className:"px-4 py-2 w-48 border",children:"Status"}),R.jsx("th",{className:"px-4 py-2 w-48 border",children:"Action"})]})}),R.jsx("tbody",{children:m.length>0?m.map(T=>R.jsxs("tr",{children:[R.jsx("td",{className:"border px-4 py-2",children:T.username}),R.jsx("td",{className:"border px-4 py-2",children:T.role}),R.jsx("td",{className:"border px-4 py-2",children:T.status}),R.jsx("td",{className:"border px-4 py-2 text-center",children:R.jsx("button",{className:"bg-lime-600 hover:bg-lime-800 text-white font-bold py-2 px-4 rounded",onClick:()=>C(T),children:"Edit"})})]},T.id)):R.jsx("tr",{children:R.jsx("td",{colSpan:"4",className:"text-center py-4",children:"No data to display"})})})]})}),R.jsxs(Fi,{show:t,onHide:S,centered:!0,children:[R.jsx(Fi.Header,{closeButton:!0,children:R.jsx(Fi.Title,{children:"Add New Member"})}),R.jsx(Fi.Body,{children:R.jsxs("form",{children:[R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{htmlFor:"username",className:"form-label",children:"User Name"}),R.jsx("input",{type:"text",className:"form-control",id:"username",placeholder:"Enter user name",value:r,onChange:T=>s(T.target.value)})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),R.jsx("input",{type:"password",className:"form-control",id:"password",placeholder:"Enter password",value:o,onChange:T=>l(T.target.value)})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{htmlFor:"role",className:"form-label",children:"Role"}),R.jsxs("select",{className:"form-select",id:"role",value:u,onChange:T=>h(T.target.value),children:[R.jsx("option",{children:"Client"}),R.jsx("option",{children:"Admin"}),R.jsx("option",{children:"Member"})]})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),R.jsxs("select",{className:"form-select",id:"status",value:d,onChange:T=>p(T.target.value),children:[R.jsx("option",{children:"Active"}),R.jsx("option",{children:"Inactive"})]})]})]})}),R.jsxs(Fi.Footer,{children:[R.jsx(ql,{variant:"secondary",onClick:S,children:"Close"}),R.jsx(ql,{variant:"primary",onClick:w,children:"Save Changes"})]})]}),R.jsxs(Fi,{show:n,onHide:S,centered:!0,children:[R.jsx(Fi.Header,{closeButton:!0,children:R.jsx(Fi.Title,{children:"Edit Member"})}),R.jsx(Fi.Body,{children:R.jsxs("form",{children:[R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{htmlFor:"username",className:"form-label",children:"User Name"}),R.jsx("input",{type:"text",className:"form-control",id:"username",value:r,readOnly:!0})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{htmlFor:"role",className:"form-label",children:"Role"}),R.jsxs("select",{className:"form-select",id:"role",value:u,onChange:T=>h(T.target.value),children:[R.jsx("option",{children:"Client"}),R.jsx("option",{children:"Admin"}),R.jsx("option",{children:"Member"})]})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("label",{htmlFor:"status",className:"form-label",children:"Status"}),R.jsxs("select",{className:"form-select",id:"status",value:d,onChange:T=>p(T.target.value),children:[R.jsx("option",{children:"Active"}),R.jsx("option",{children:"Inactive"})]})]})]})}),R.jsxs(Fi.Footer,{children:[R.jsx(ql,{variant:"secondary",onClick:S,children:"Close"}),R.jsx(ql,{variant:"primary",onClick:k,children:"Save Changes"})]})]})]})},z9=()=>R.jsx("div",{children:R.jsx("h1",{children:"Reports"})}),B9=tA([{path:"/",element:R.jsx(Lj,{})},{path:"/",element:R.jsx(h4,{}),children:[{path:"/dashboard",element:R.jsx(f4,{})},{path:"/data-visualization",element:R.jsx(NW,{})},{path:"/company-data",element:R.jsx(D9,{})},{path:"/members",element:R.jsx(F9,{})},{path:"/reports",element:R.jsx(z9,{})}]}],{basename:"/water_quality_system"});function j9(){return R.jsx(uA,{router:B9})}PT(document.getElementById("root")).render(R.jsx(E.StrictMode,{children:R.jsx(j9,{})}));
